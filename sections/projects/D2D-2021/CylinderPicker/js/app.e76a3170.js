(function(t){function e(e){for(var n,a,o=e[0],s=e[1],u=e[2],d=0,p=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);c&&c(e);while(p.length)p.shift()();return l.push.apply(l,u||[]),i()}function i(){for(var t,e=0;e<l.length;e++){for(var i=l[e],n=!0,o=1;o<i.length;o++){var s=i[o];0!==r[s]&&(n=!1)}n&&(l.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},r={app:0},l=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=s;l.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("4c3d")},"3bef":function(t,e,i){},7356:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),t.showModal?i("div",[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[t._v("Instructions")]),i("div",{staticClass:"modal-body"},[i("span",[t._v("1. Load a geochemistry file with `Latitude_rel_cm` and `Longitude_rel_cm` columns")]),i("br"),i("br"),i("span",[t._v("2. Click and drag on the plot to zoom in on the highlighted region.")]),i("br"),i("br"),i("span",[t._v("3. The currently visible cylinders will be displayed in a list to the right of the plot.")]),i("br"),i("br"),i("span",[t._v("4. Hover on a dot in the plot to see the cylinder name.")]),i("br"),i("br"),i("span",[t._v("5. Click reset to return the plot to it's original axis limits.")])]),i("div",{staticClass:"modal-footer"},[i("button",{on:{click:function(e){t.showModal=!1}}},[t._v("OK")])])])])])])],1):t._e()])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"flex"}},[i("div",{attrs:{id:"plot-container"}}),i("div",{staticClass:"grid-container"},[i("button",{staticStyle:{"grid-column":"1 / 3"},attrs:{id:"reset-btn"}},[t._v("Reset")]),i("span",{staticStyle:{"grid-column":"1","align-self":"end","justify-self":"center"}},[t._v("X min")]),i("span",{staticStyle:{"grid-column":"2","align-self":"end","justify-self":"center"}},[t._v("X max")]),i("input",{staticStyle:{"grid-column":"1"},attrs:{type:"text",id:"x-min-input"}}),i("input",{staticStyle:{"grid-column":"2"},attrs:{type:"text",id:"x-max-input"}}),i("span",{staticStyle:{"grid-column":"1","align-self":"end","justify-self":"center"}},[t._v("Y min")]),i("span",{staticStyle:{"grid-column":"2","align-self":"end","justify-self":"center"}},[t._v("Y max")]),i("input",{staticStyle:{"grid-column":"1"},attrs:{type:"text",id:"y-min-input"}}),i("input",{staticStyle:{"grid-column":"2"},attrs:{type:"text",id:"y-max-input"}}),i("span",{staticStyle:{"grid-column":"1 / 3","align-self":"end","justify-self":"center"}},[t._v("Cylinders:")]),i("span",{staticStyle:{"grid-column":"1 / 3","justify-self":"center"},attrs:{id:"output"}},[t._v("No file loaded.")])])])}],l=i("0303"),a=i("ac57"),o=i("0a02"),s=(i("7f86"),i("bc58"),i("0eb3"),i("e9a1"),i("2eda"),i("3fa4"),i("fdb7"),i("d339"),i("436b"),i("eaec")),u=i("898b"),c={name:"app",data:function(){return{showModal:!0,width:window.innerWidth-24,height:window.innerHeight-60,svg:null,plotMargins:void 0,plotWidth:void 0,plotHeight:void 0,plotGroup:void 0,marksGroup:void 0,xScale:void 0,xAxis:void 0,xAxisGroup:void 0,yScale:void 0,yAxis:void 0,yAxisGroup:void 0,xGridlinesGroup:void 0,yGridlinesGroup:void 0,points:[],extent:{x:[0,100],y:[0,100]},filter:{x:[0,100],y:[0,100]}}},mounted:function(){var t=this,e=t.height,i=t.height;t.plotMargins={top:20,bottom:50,left:80,right:20},t.plotWidth=e-t.plotMargins.left-t.plotMargins.right,t.plotHeight=i-t.plotMargins.top-t.plotMargins.bottom,t.svg=u["g"]("#plot-container").append("svg").attr("id","svg").attr("width",e).attr("height",i),t.plotGroup=t.svg.append("g").classed("plot",!0).attr("transform","translate(".concat(t.plotMargins.left,",").concat(t.plotMargins.top,")")),t.yAxisGroup=t.plotGroup.append("g").classed("y",!0).classed("axis",!0),t.xAxisGroup=t.plotGroup.append("g").classed("x",!0).classed("axis",!0).attr("transform","translate(".concat(0,",",t.plotHeight,")")),t.xGridlinesGroup=t.plotGroup.append("g").classed("x-gridlines",!0),t.yGridlinesGroup=t.plotGroup.append("g").classed("y-gridlines",!0),t.marksGroup=t.plotGroup.append("g").classed("marks",!0);var n=t.marksGroup.append("rect").attr("width",t.plotWidth).attr("height",t.plotHeight).style("opacity",0),r={element:null,previousElement:null,currentY:0,currentX:0,originX:0,originY:0,init:function(e,i){var n=t.marksGroup.append("rect").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",4).attr("ry",4).attr("stroke","#545454").attr("stroke-width","2px").attr("stroke-opacity","1").attr("fill","white").attr("fill-opacity","0.5").classed("selection",!0);this.setElement(n),this.originX=e,this.originY=i,this.update(e,i)},update:function(t,e){this.currentX=t,this.currentY=e;var i=this.currentX<this.originX?this.currentX:this.originX,n=this.currentY<this.originY?this.currentY:this.originY,r=Math.abs(this.currentX-this.originX),l=Math.abs(this.currentY-this.originY);this.element.attr("x",i).attr("y",n).attr("width",r).attr("height",l)},setElement:function(t){this.previousElement=this.element,this.element=t},remove:function(){this.element.remove(),this.element=null},removePrevious:function(){this.previousElement&&this.previousElement.remove()},getCurrentAttributes:function(){var t=+this.element.attr("x"),e=+this.element.attr("y"),i=+this.element.attr("width"),n=+this.element.attr("height");return{x1:t,y1:e,x2:t+i,y2:e+n}}},l=function(t){r.init(t.x,t.y),r.removePrevious()},a=function(e){var i=e.x<0?0:e.x>t.plotWidth?t.plotWidth:e.x,n=e.y<0?0:e.y>t.plotHeight?t.plotHeight:e.y;r.update(i,n)},o=function(){var e=r.getCurrentAttributes();r.remove(),e.x2-e.x1>1&&e.y2-e.y1>1&&(t.filter["x"][0]=t.xScale.invert(e.x1),t.filter["x"][1]=t.xScale.invert(e.x2),t.filter["y"][0]=t.yScale.invert(e.y2),t.filter["y"][1]=t.yScale.invert(e.y1),document.getElementById("x-min-input").value=t.xScale.invert(e.x1),document.getElementById("x-max-input").value=t.xScale.invert(e.x2),document.getElementById("y-min-input").value=t.yScale.invert(e.y2),document.getElementById("y-max-input").value=t.yScale.invert(e.y1),t.draw())},s=u["e"]().on("start",l).on("drag",a).on("end",o);n.call(s),document.getElementById("reset-btn").addEventListener("click",t.resetPointsFilter,!1),document.getElementById("x-min-input").addEventListener("change",t.setPointsFilter,!1),document.getElementById("x-max-input").addEventListener("change",t.setPointsFilter,!1),document.getElementById("y-min-input").addEventListener("change",t.setPointsFilter,!1),document.getElementById("y-max-input").addEventListener("change",t.setPointsFilter,!1),document.getElementById("x-min-input").value=t.filter["x"][0],document.getElementById("x-max-input").value=t.filter["x"][1],document.getElementById("y-min-input").value=t.filter["y"][0],document.getElementById("y-max-input").value=t.filter["y"][1],t.loadFile("Pescadero_GeoChem.csv").then(t.loadData)},methods:{loadFile:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return i=e.sent,e.abrupt("return",i.text());case 4:case"end":return e.stop()}}),e)})))()},resetPointsFilter:function(){var t=this;t.filter["x"][0]=t.extent["x"][0],t.filter["x"][1]=t.extent["x"][1],t.filter["y"][0]=t.extent["y"][0],t.filter["y"][1]=t.extent["y"][1],document.getElementById("x-min-input").value=t.extent["x"][0],document.getElementById("x-max-input").value=t.extent["x"][1],document.getElementById("y-min-input").value=t.extent["y"][0],document.getElementById("y-max-input").value=t.extent["y"][1],t.draw()},setPointsFilter:function(){var t=this;t.filter["x"][0]=document.getElementById("x-min-input").value,t.filter["x"][0]<t.extent["x"][0]&&(t.filter["x"][0]=t.extent["x"][0]),t.filter["x"][0]>t.filter["x"][1]&&(t.filter["x"][0]=t.filter["x"][1]-1),document.getElementById("x-min-input").value=t.filter["x"][0],t.filter["x"][1]=document.getElementById("x-max-input").value,t.filter["x"][1]<t.filter["x"][0]&&(t.filter["x"][1]=t.filter["x"][0]+1),t.filter["x"][1]>t.extent["x"][1]&&(t.filter["x"][1]=t.extent["x"][1]),document.getElementById("x-max-input").value=t.filter["x"][1],t.filter["y"][0]=document.getElementById("y-min-input").value,t.filter["y"][0]<t.extent["y"][0]&&(t.filter["y"][0]=t.extent["y"][0]),t.filter["y"][0]>t.filter["y"][1]&&(t.filter["y"][0]=t.filter["y"][1]-1),document.getElementById("y-min-input").value=t.filter["y"][0],t.filter["y"][1]=document.getElementById("y-max-input").value,t.filter["y"][1]<t.filter["y"][0]&&(t.filter["y"][1]=t.filter["y"][0]+1),t.filter["y"][1]>t.extent["y"][1]&&(t.filter["y"][1]=t.extent["y"][1]),document.getElementById("y-max-input").value=t.filter["y"][1],t.draw()},readSingleFile:function(t){var e=this,i=t.target.files[0];if(i){var n=new FileReader;n.onload=function(t){var i=t.target.result;s["toObjects"](i,{},(function(t,i){t&&console.log(t);for(var n=0,r=i.length;n<r;n++)e.filter["x"][0]=Math.min(e.filter["x"][0],i[n]["Longitude_rel_cm"]),e.filter["x"][1]=Math.max(e.filter["x"][1],i[n]["Longitude_rel_cm"]),e.filter["y"][0]=Math.min(e.filter["y"][0],i[n]["Latitude_rel_cm"]),e.filter["y"][1]=Math.max(e.filter["y"][1],i[n]["Latitude_rel_cm"]),e.points.push(i[n])})),e.extent["x"][0]=e.filter["x"][0],e.extent["x"][1]=e.filter["x"][1],e.extent["y"][0]=e.filter["y"][0],e.extent["y"][1]=e.filter["y"][1],document.getElementById("x-min-input").value=e.filter["x"][0],document.getElementById("x-max-input").value=e.filter["x"][1],document.getElementById("y-min-input").value=e.filter["y"][0],document.getElementById("y-max-input").value=e.filter["y"][1],e.draw()},n.readAsText(i)}},loadData:function(t){var e=this;s["toObjects"](t,{},(function(t,i){t&&console.log(t);for(var n=0,r=i.length;n<r;n++)e.filter["x"][0]=Math.min(e.filter["x"][0],i[n]["Longitude_rel_cm"]),e.filter["x"][1]=Math.max(e.filter["x"][1],i[n]["Longitude_rel_cm"]),e.filter["y"][0]=Math.min(e.filter["y"][0],i[n]["Latitude_rel_cm"]),e.filter["y"][1]=Math.max(e.filter["y"][1],i[n]["Latitude_rel_cm"]),e.points.push(i[n])})),e.extent["x"][0]=e.filter["x"][0],e.extent["x"][1]=e.filter["x"][1],e.extent["y"][0]=e.filter["y"][0],e.extent["y"][1]=e.filter["y"][1],document.getElementById("x-min-input").value=e.filter["x"][0],document.getElementById("x-max-input").value=e.filter["x"][1],document.getElementById("y-min-input").value=e.filter["y"][0],document.getElementById("y-max-input").value=e.filter["y"][1],e.draw()},draw:function(){var t=this;if(t.points){var e=t.points.map((function(t){return Object(a["a"])(Object(a["a"])({},t),{},{xVar:t["Longitude_rel_cm"],yVar:t["Latitude_rel_cm"]})})),i=e.filter((function(e){return e["Longitude_rel_cm"]>=t.filter["x"][0]&&e["Longitude_rel_cm"]<=t.filter["x"][1]&&e["Latitude_rel_cm"]>=t.filter["y"][0]&&e["Latitude_rel_cm"]<=t.filter["y"][1]})),n=Object(l["a"])(new Set(i.map((function(t){return t.Cylinder}))));n.length>0?document.getElementById("output").innerHTML="[\n          ".concat(n.map((function(t){return'"'.concat(t,'"')})).join(",\n  "),"\n\n        ]"):document.getElementById("output").innerHTML="None visible. To zoom out, press the Reset button.";var r="Relative Longitude (cm)",o="Relative Latitude (cm)";t.xScale=u["f"]().domain(t.filter["x"]).range([0,t.plotWidth]),t.yScale=u["f"]().domain(t.filter["y"]).range([t.plotHeight,0]),t.xAxis=u["a"](t.xScale),t.yAxis=u["b"](t.yScale),t.xAxisGroup.call(t.xAxis),t.yAxisGroup.call(t.yAxis),t.xAxisGroup.select(".x.axis.title").remove(),t.xAxisGroup.append("g").classed("x axis title",!0).attr("opacity",1).attr("transform","translate(".concat(t.plotWidth/2,", 0)")).append("text").attr("text-anchor","middle").attr("fill","currentColor").attr("dy","3.71em").text(r),t.yAxisGroup.select(".y.axis.title").remove(),t.yAxisGroup.append("g").classed("y axis title",!0).attr("opacity",1).attr("transform","translate(-30, ".concat(t.plotHeight/2,")")).append("text").attr("fill","currentColor").text(o),t.yAxisGroup.selectAll("text").style("text-anchor","middle").attr("dx","0.8em").attr("dy","-1.21em").attr("transform","rotate(-90)"),t.xAxisGroup.selectAll(".tick").each((function(t,e){e%2!==0&&(u["g"](this).select("line").attr("y2",15),u["g"](this).select("text").attr("dy","1.91em"))})),t.yAxisGroup.selectAll(".tick").each((function(t,e){e%2!==0&&(u["g"](this).select("line").attr("x2",-15),u["g"](this).select("text").attr("dy","-2.41em"))}));var s=u["d"]().tickFormat("").tickSize(-t.plotHeight).scale(t.xScale);t.xGridlinesGroup.select("*").remove(),t.xGridlinesGroup.call(s).call((function(t){return t.select(".domain").remove()}));var c=u["c"]().tickFormat("").tickSize(t.plotWidth).scale(t.yScale);t.yGridlinesGroup.select("*").remove(),t.yGridlinesGroup.call(c).call((function(t){return t.select(".domain").remove()}));var d=u["g"]("body").append("div").attr("class","tooltip").style("opacity",0),p=t.marksGroup.selectAll(".post").data(i);p.exit().remove();var m=p.enter().append("g").classed("post",!0);m.append("circle"),m.merge(p).select("circle").attr("transform",(function(e){return"translate(".concat(t.xScale(e["xVar"]),",").concat(t.yScale(e["yVar"]),")")})).attr("r",6).style("fill","white").style("fill-opacity",.8).style("stroke-width","1px").style("stroke","black").style("cursor","pointer").on("mouseover",(function(t,e){d.transition().duration(200).style("opacity",.9),d.html(e.Cylinder).style("left",t.x+"px").style("top",t.y-28+"px")})).on("mouseout",(function(){d.transition().duration(500).style("opacity",0)}))}}}},d=c,p=(i("e885"),i("f274")),m=Object(p["a"])(d,n,r,!1,null,null,null);e["a"]=m.exports},e885:function(t,e,i){"use strict";i("3bef")}});
//# sourceMappingURL=app.e76a3170.js.map