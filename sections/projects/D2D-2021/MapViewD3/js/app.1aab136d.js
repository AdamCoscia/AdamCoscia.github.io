(function(t){function e(e){for(var a,i,l=e[0],c=e[1],s=e[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("4c3d")},"3b76":function(t,e,n){"use strict";n("ae36")},ae36:function(t,e,n){},dd45:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t.showModal?n("div",[n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[t._v("Instructions")]),n("div",{staticClass:"modal-body"},[t._v(" Click on the map to re-position the center of the map. "),n("br"),n("br"),t._v(' Scroll or type in the "Zoom" text box to zoom in and out. '),n("br"),n("br"),t._v(" Move the translation sliders to change the location of the center relative to the container. ")]),n("div",{staticClass:"modal-footer"},[n("button",{on:{click:function(e){t.showModal=!1}}},[t._v("OK")])])])])])])],1):t._e()])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-bottom":"0.25rem"}},[n("span",[t._v("Zoom")]),t._v("   "),n("input",{attrs:{type:"text",id:"scale-input"}}),t._v("   |   "),n("span",[t._v("Center X ")]),t._v("   "),n("input",{attrs:{type:"range",id:"x-input"}}),t._v("   "),n("span",{attrs:{id:"x-output"}}),t._v("   |   "),n("span",[t._v("Center Y ")]),t._v("   "),n("input",{attrs:{type:"range",id:"y-input"}}),t._v("   "),n("span",{attrs:{id:"y-output"}})])}],o=n("0a02"),i=(n("7f86"),n("e9a1"),n("ac5c"),n("bc58"),n("898b")),l={name:"app",data:function(){return{showModal:!0,svg:null,group:null,width:window.innerWidth-24,height:window.innerHeight-60,scale:120,translateX:0,translateY:0,center:[0,0],points:{},projection:null,path:null}},mounted:function(){var t=this;t.translateX=t.width/2,t.translateY=t.height/2,t.svg=i["d"]("#app").append("svg").attr("id","svg").attr("width",t.width).attr("height",t.height).style("border","4px solid lightgrey").style("border-radius","4px"),t.group=t.svg.append("g").attr("id","group"),document.getElementById("scale-input").addEventListener("change",t.setScale,!1),document.getElementById("x-input").addEventListener("change",t.setTranslate,!1),document.getElementById("y-input").addEventListener("change",t.setTranslate,!1),document.getElementById("scale-input").value=t.scale,document.getElementById("x-input").min=0,document.getElementById("x-input").max=t.width,document.getElementById("x-input").value=t.translateX,document.getElementById("x-output").innerHTML="".concat(t.translateX,"px"),document.getElementById("y-input").min=0,document.getElementById("y-input").max=t.height,document.getElementById("y-input").value=t.translateY,document.getElementById("y-output").innerHTML="".concat(t.translateY,"px"),t.loadFile("pescadero_cores_geo.json").then(t.loadData)},methods:{loadFile:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.text());case 4:case"end":return e.stop()}}),e)})))()},click:function(t){var e=this;t.preventDefault();var n=document.getElementById("svg").getBoundingClientRect();e.center=e.projection.invert([t.clientX-n.left,t.clientY-n.top]),e.draw()},zoom:function(t){var e=this;t.preventDefault();var n=e.scale;e.scale=t.deltaY>0?e.scale*=.8:e.scale/=.8,e.scale=Math.round(e.scale)<120?120:Math.round(e.scale),document.getElementById("scale-input").value=e.scale,n!==e.scale&&e.draw()},setScale:function(){var t=this,e=t.scale,n=document.getElementById("scale-input").value;t.scale=Math.round(n)<120?120:Math.round(n),document.getElementById("scale-input").value=t.scale,e!==t.scale&&t.draw()},setTranslate:function(){var t=this;t.translateX=document.getElementById("x-input").value,document.getElementById("x-output").innerHTML="".concat(t.translateX,"px"),t.translateY=document.getElementById("y-input").value,document.getElementById("y-output").innerHTML="".concat(t.translateY,"px"),t.draw()},readSingleFile:function(t){var e=this,n=t.target.files[0];if(n){var a=new FileReader;a.onload=function(t){var n=t.target.result;e.points=JSON.parse(n),e.draw()},a.readAsText(n)}},loadData:function(t){var e=this;e.points=JSON.parse(t),e.draw()},draw:function(){var t=this;t.projection=i["a"]().center(t.center).translate([t.translateX,t.translateY]).scale(t.scale),t.path=i["b"]().projection(t.projection),t.group.selectAll("*").remove(),i["c"]("http://enjalot.github.io/wwsd/data/world/world-110m.geojson").then((function(e){t.group.selectAll("path").data(e.features).enter().append("path").attr("d",t.path),Object.keys(t.points).length>0&&t.group.selectAll("circle").data(t.points.features).enter().append("circle").attr("r",5).attr("fill","orange").attr("cx",(function(e){return t.projection(e.geometry.coordinates)[0]})).attr("cy",(function(e){return t.projection(e.geometry.coordinates)[1]})),t.group.append("path").attr("transform","translate(".concat(t.projection(t.center)[0],", ").concat(t.projection(t.center)[1],")")).attr("d",i["e"](i["f"])).attr("fill","red");var n=document.getElementById("group").getBoundingClientRect();t.group.append("rect").attr("id","group-rect").attr("width",n.width).attr("height",n.height).attr("transform","translate(".concat(n.x-12,", ").concat(n.y-40,")")).style("opacity",0).on("wheel",t.zoom).on("click",t.click)}))}}},c=l,s=(n("3b76"),n("f274")),u=Object(s["a"])(c,a,r,!1,null,"6c0a3a76",null);e["a"]=u.exports}});
//# sourceMappingURL=app.1aab136d.js.map