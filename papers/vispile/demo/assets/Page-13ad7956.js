import{B as d6,a as v6,C as p6,D as g6,E as m6,b as y6,c as b6,F as pn,K as w6,R as x6,S as _6,d as S6,T as gT,e as mT,f as E6,g as Ko,h as yT,i as A6,V as C6,j as T6,k as P6,l as O6,m as hw,n as Wh,o as bT,p as I6,q as ae,r as M6,s as Mr,t as Mu,u as sa,v as Wr,w as D6,x as F6,y as B6,z as k6,A as R6,G as L6,H as Xr,I as G,J as N6,L as U6,M as $6,N as V6,O as z6,P as j6,Q as H6,U as G6,W as Y6,X as X6,Y as W6,Z as K6,_ as q6,$ as dw,a0 as Z6,a1 as Q6,a2 as J6,a3 as e4,a4 as il,a5 as t4,a6 as n4,a7 as r4,a8 as i4,a9 as a4,aa as wr,ab as o4,ac as s4,ad as u4,ae as l4,af as zu,ag as c4,ah as f4,ai as h4,aj as d4,ak as v4,al as p4,am as Rt,an as xr,ao as g4,ap as m4,aq as vw,ar as wT,as as nm,at as Oi,au as y4,av as xT,aw as b4,ax as pa,ay as w4,az as x4,aA as Ii,aB as _4,aC as S4,aD as E4,aE as mn,aF as A4,aG as Yi,aH as C4,aI as T4,aJ as P4,aK as Lo,aL as rm,aM as ot,aN as O4,aO as I4,aP as mh,aQ as M4,aR as s1,aS as is,aT as _T,aU as D4,aV as F4,aW as B4,aX as k4,aY as R4,aZ as L4,a_ as N4,a$ as dt,b0 as U4,b1 as $4,b2 as V4,b3 as Li,b4 as z4,b5 as j4,b6 as go,b7 as Pt,b8 as ST,b9 as H4,ba as G4,bb as Y4,bc as tt,bd as X4,be as W4,bf as K4,bg as q4,bh as Z4,bi as Q4,bj as J4,bk as eL,bl as tL,bm as nL,bn as rL,bo as iL,bp as js,bq as aL,br as oL,bs as Et,bt as qo,bu as sL,bv as uL,bw as ET,bx as vt,by as lL,bz as si,bA as cL,bB as fL,bC as hL,bD as dL,bE as Pp,bF as pw,bG as AT,bH as Ye,bI as _t,bJ as Xi,bK as Gi,bL as Op,bM as CT,bN as mo,bO as Ft,bP as yo,bQ as im,bR as gw,bS as u_,bT as vL,bU as pL,bV as gL,bW as as,bX as bn,bY as cr,bZ as Br,b_ as mL,b$ as yL,c0 as Hs,c1 as er,c2 as bL,c3 as mw,c4 as l_,c5 as Kh,c6 as wL,c7 as c_,c8 as Ba,c9 as xL,ca as Qa,cb as al,cc as u1,cd as TT,ce as fa,cf as Ip,cg as am,ch as io,ci as PT,cj as om,ck as l1,cl as Du,cm as _L,cn as SL,co as EL,cp as AL,cq as CL,cr as TL,cs as OT,ct as PL,cu as OL,cv as IL}from"./index-f352f84a.js";/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ML=()=>{},DL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:d6,BaseTransitionPropsValidators:v6,Comment:p6,DeprecationTypes:g6,EffectScope:m6,ErrorCodes:y6,ErrorTypeStrings:b6,Fragment:pn,KeepAlive:w6,ReactiveEffect:x6,Static:_6,Suspense:S6,Teleport:gT,Text:mT,TrackOpTypes:E6,Transition:Ko,TransitionGroup:yT,TriggerOpTypes:A6,VueElement:C6,assertNumber:T6,callWithAsyncErrorHandling:P6,callWithErrorHandling:O6,camelize:hw,capitalize:Wh,cloneVNode:bT,compatUtils:I6,compile:ML,computed:ae,createApp:M6,createBlock:Mr,createCommentVNode:Mu,createElementBlock:sa,createElementVNode:Wr,createHydrationRenderer:D6,createPropsRestProxy:F6,createRenderer:B6,createSSRApp:k6,createSlots:R6,createStaticVNode:L6,createTextVNode:Xr,createVNode:G,customRef:N6,defineAsyncComponent:U6,defineComponent:$6,defineCustomElement:V6,defineEmits:z6,defineExpose:j6,defineModel:H6,defineOptions:G6,defineProps:Y6,defineSSRCustomElement:X6,defineSlots:W6,devtools:K6,effect:q6,effectScope:dw,getCurrentInstance:Z6,getCurrentScope:Q6,getTransitionRawChildren:J6,guardReactiveProps:e4,h:il,handleError:t4,hasInjectionContext:n4,hydrate:r4,initCustomFormatter:i4,initDirectivesForSSR:a4,inject:wr,isMemoSame:o4,isProxy:s4,isReactive:u4,isReadonly:l4,isRef:zu,isRuntimeOnly:c4,isShallow:f4,isVNode:h4,markRaw:d4,mergeDefaults:v4,mergeModels:p4,mergeProps:Rt,nextTick:xr,normalizeClass:g4,normalizeProps:m4,normalizeStyle:vw,onActivated:wT,onBeforeMount:nm,onBeforeUnmount:Oi,onBeforeUpdate:y4,onDeactivated:xT,onErrorCaptured:b4,onMounted:pa,onRenderTracked:w4,onRenderTriggered:x4,onScopeDispose:Ii,onServerPrefetch:_4,onUnmounted:S4,onUpdated:E4,openBlock:mn,popScopeId:A4,provide:Yi,proxyRefs:C4,pushScopeId:T4,queuePostFlushCb:P4,reactive:Lo,readonly:rm,ref:ot,registerRuntimeCompiler:O4,render:I4,renderList:mh,renderSlot:M4,resolveComponent:s1,resolveDirective:is,resolveDynamicComponent:_T,resolveFilter:D4,resolveTransitionHooks:F4,setBlockTracking:B4,setDevtoolsHook:k4,setTransitionHooks:R4,shallowReactive:L4,shallowReadonly:N4,shallowRef:dt,ssrContextKey:U4,ssrUtils:$4,stop:V4,toDisplayString:Li,toHandlerKey:z4,toHandlers:j4,toRaw:go,toRef:Pt,toRefs:ST,toValue:H4,transformVNodeArgs:G4,triggerRef:Y4,unref:tt,useAttrs:X4,useCssModule:W4,useCssVars:K4,useModel:q4,useSSRContext:Z4,useSlots:Q4,useTransitionState:J4,vModelCheckbox:eL,vModelDynamic:tL,vModelRadio:nL,vModelSelect:rL,vModelText:iL,vShow:js,version:aL,warn:oL,watch:Et,watchEffect:qo,watchPostEffect:sL,watchSyncEffect:uL,withAsyncContext:ET,withCtx:vt,withDefaults:lL,withDirectives:si,withKeys:cL,withMemo:fL,withModifiers:hL,withScopeId:dL},Symbol.toStringTag,{value:"Module"})),IT=["top","bottom"],FL=["start","end","left","right"];function c1(e,t){let[n,r]=e.split(" ");return r||(r=Pp(IT,n)?"start":Pp(FL,n)?"top":"center"),{side:f1(n,t),align:f1(r,t)}}function f1(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function w0(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function x0(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function f_(e){return{side:e.align,align:e.side}}function h_(e){return Pp(IT,e.side)?"y":"x"}class Fu{constructor(t){let{x:n,y:r,width:i,height:a}=t;this.x=n,this.y=r,this.width=i,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function d_(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function MT(e){return Array.isArray(e)?new Fu({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function yw(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let i,a,o,s,u;if(r.startsWith("matrix3d("))i=r.slice(9,-1).split(/, /),a=+i[0],o=+i[5],s=+i[12],u=+i[13];else if(r.startsWith("matrix("))i=r.slice(7,-1).split(/, /),a=+i[0],o=+i[3],s=+i[4],u=+i[5];else return new Fu(t);const l=n.transformOrigin,c=t.x-s-(1-a)*parseFloat(l),h=t.y-u-(1-o)*parseFloat(l.slice(l.indexOf(" ")+1)),f=a?t.width/a:e.offsetWidth+1,d=o?t.height/o:e.offsetHeight+1;return new Fu({x:c,y:h,width:f,height:d})}else return new Fu(t)}function ic(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(i=>{r.onfinish=()=>{i(r)}})),r}const Yv=new WeakMap;function BL(e,t){Object.keys(t).forEach(n=>{if(pw(n)){const r=AT(n),i=Yv.get(e);if(t[n]==null)i==null||i.forEach(a=>{const[o,s]=a;o===r&&(e.removeEventListener(r,s),i.delete(a))});else if(!i||![...i].some(a=>a[0]===r&&a[1]===t[n])){e.addEventListener(r,t[n]);const a=i||new Set;a.add([r,t[n]]),Yv.has(e)||Yv.set(e,a)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function kL(e,t){Object.keys(t).forEach(n=>{if(pw(n)){const r=AT(n),i=Yv.get(e);i==null||i.forEach(a=>{const[o,s]=a;o===r&&(e.removeEventListener(r,s),i.delete(a))})}else e.removeAttribute(n)})}const qt=Ye({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function Wc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return _t()({name:n??Wh(hw(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...qt()},setup(r,i){let{slots:a}=i;return()=>{var o;return il(r.tag,{class:[e,r.class],style:r.style},(o=a.default)==null?void 0:o.call(a))}}})}function DT(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Mp="cubic-bezier(0.4, 0, 0.2, 1)",RL="cubic-bezier(0.0, 0, 0.2, 1)",LL="cubic-bezier(0.4, 0, 1, 1)";function FT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?NL(e):bw(e))return e;e=e.parentElement}return document.scrollingElement}function Dp(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(bw(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function bw(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function NL(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function UL(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function $t(e){const t=Xi("useRender");t.render=e}function xc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=ot(),r=ot();if(Gi){const i=new ResizeObserver(a=>{e==null||e(a,i),a.length&&(t==="content"?r.value=a[0].contentRect:r.value=a[0].target.getBoundingClientRect())});Oi(()=>{i.disconnect()}),Et(n,(a,o)=>{o&&(i.unobserve(Op(o)),r.value=void 0),a&&i.observe(Op(a))},{flush:"post"})}return{resizeRef:n,contentRect:rm(r)}}const Fp=Symbol.for("vuetify:layout"),BT=Symbol.for("vuetify:layout-item"),v_=1e3,$L=Ye({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),kT=Ye({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function VL(){const e=wr(Fp);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function RT(e){const t=wr(Fp);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${mo()}`,r=Xi("useLayoutItem");Yi(BT,{id:n});const i=dt(!1);xT(()=>i.value=!0),wT(()=>i.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:o}=t.register(r,{...e,active:ae(()=>i.value?!1:e.active.value),id:n});return Oi(()=>t.unregister(n)),{layoutItemStyles:a,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const zL=(e,t,n,r)=>{let i={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...i}}];for(const o of e){const s=t.get(o),u=n.get(o),l=r.get(o);if(!s||!u||!l)continue;const c={...i,[s.value]:parseInt(i[s.value],10)+(l.value?parseInt(u.value,10):0)};a.push({id:o,layer:c}),i=c}return a};function jL(e){const t=wr(Fp,null),n=ae(()=>t?t.rootZIndex.value-100:v_),r=ot([]),i=Lo(new Map),a=Lo(new Map),o=Lo(new Map),s=Lo(new Map),u=Lo(new Map),{resizeRef:l,contentRect:c}=xc(),h=ae(()=>{const _=new Map,S=e.overlaps??[];for(const P of S.filter(C=>C.includes(":"))){const[C,B]=P.split(":");if(!r.value.includes(C)||!r.value.includes(B))continue;const T=i.get(C),k=i.get(B),D=a.get(C),O=a.get(B);!T||!k||!D||!O||(_.set(B,{position:T.value,amount:parseInt(D.value,10)}),_.set(C,{position:k.value,amount:-parseInt(O.value,10)}))}return _}),f=ae(()=>{const _=[...new Set([...o.values()].map(P=>P.value))].sort((P,C)=>P-C),S=[];for(const P of _){const C=r.value.filter(B=>{var T;return((T=o.get(B))==null?void 0:T.value)===P});S.push(...C)}return zL(S,i,a,s)}),d=ae(()=>!Array.from(u.values()).some(_=>_.value)),v=ae(()=>f.value[f.value.length-1].layer),g=ae(()=>({"--v-layout-left":Ft(v.value.left),"--v-layout-right":Ft(v.value.right),"--v-layout-top":Ft(v.value.top),"--v-layout-bottom":Ft(v.value.bottom),...d.value?void 0:{transition:"none"}})),p=ae(()=>f.value.slice(1).map((_,S)=>{let{id:P}=_;const{layer:C}=f.value[S],B=a.get(P),T=i.get(P);return{id:P,...C,size:Number(B.value),position:T.value}})),y=_=>p.value.find(S=>S.id===_),m=Xi("createLayout"),w=dt(!1);pa(()=>{w.value=!0}),Yi(Fp,{register:(_,S)=>{let{id:P,order:C,position:B,layoutSize:T,elementSize:k,active:D,disableTransitions:O,absolute:N}=S;o.set(P,C),i.set(P,B),a.set(P,T),s.set(P,D),O&&u.set(P,O);const U=CT(BT,m==null?void 0:m.vnode).indexOf(_);U>-1?r.value.splice(U,0,P):r.value.push(P);const V=ae(()=>p.value.findIndex(Q=>Q.id===P)),z=ae(()=>n.value+f.value.length*2-V.value*2),j=ae(()=>{const Q=B.value==="left"||B.value==="right",te=B.value==="right",he=B.value==="bottom",fe={[B.value]:0,zIndex:z.value,transform:`translate${Q?"X":"Y"}(${(D.value?0:-110)*(te||he?-1:1)}%)`,position:N.value||n.value!==v_?"absolute":"fixed",...d.value?void 0:{transition:"none"}};if(!w.value)return fe;const ce=p.value[V.value];if(!ce)throw new Error(`[Vuetify] Could not find layout item "${P}"`);const ee=h.value.get(P);return ee&&(ce[ee.position]+=ee.amount),{...fe,height:Q?`calc(100% - ${ce.top}px - ${ce.bottom}px)`:k.value?`${k.value}px`:void 0,left:te?void 0:`${ce.left}px`,right:te?`${ce.right}px`:void 0,top:B.value!=="bottom"?`${ce.top}px`:void 0,bottom:B.value!=="top"?`${ce.bottom}px`:void 0,width:Q?k.value?`${k.value}px`:void 0:`calc(100% - ${ce.left}px - ${ce.right}px)`}}),X=ae(()=>({zIndex:z.value-1}));return{layoutItemStyles:j,layoutItemScrimStyles:X,zIndex:z}},unregister:_=>{o.delete(_),i.delete(_),a.delete(_),s.delete(_),u.delete(_),r.value=r.value.filter(S=>S!==_)},mainRect:v,mainStyles:g,getLayoutItem:y,items:p,layoutRect:c,rootZIndex:n});const b=ae(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),x=ae(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:b,layoutStyles:x,getLayoutItem:y,items:p,layoutRect:c,layoutRef:l}}function Hn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LT(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sm(e){let t,n,r;e.length!==2?(t=Hn,n=(s,u)=>Hn(e(s),u),r=(s,u)=>e(s)-u):(t=e===Hn||e===LT?e:HL,n=e,r=e);function i(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function a(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){const h=i(s,u,l,c-1);return h>l&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:o,right:a}}function HL(){return 0}function Bp(e){return e===null?NaN:+e}function*GL(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const NT=sm(Hn),UT=NT.right,YL=NT.left,XL=sm(Bp).center,ol=UT;function WL(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=ww(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const $T=VT(ww),KL=VT(qL);function VT(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return t;const s=n&&e(n),u=r&&e(r),l=i.slice();return s&&u?(Il(s,l,i,a,o),Il(s,i,l,a,o),Il(s,l,i,a,o),Ml(u,i,l,a,o),Ml(u,l,i,a,o),Ml(u,i,l,a,o)):s?(Il(s,i,l,a,o),Il(s,l,i,a,o),Il(s,i,l,a,o)):u&&(Ml(u,i,l,a,o),Ml(u,l,i,a,o),Ml(u,i,l,a,o)),t}}function Il(e,t,n,r,i){for(let a=0,o=r*i;a<o;)e(t,n,a,a+=r,1)}function Ml(e,t,n,r,i){for(let a=0,o=r*i;a<r;++a)e(t,n,a,a+o,r)}function qL(e){const t=ww(e);return(n,r,i,a,o)=>{i<<=2,a<<=2,o<<=2,t(n,r,i+0,a+0,o),t(n,r,i+1,a+1,o),t(n,r,i+2,a+2,o),t(n,r,i+3,a+3,o)}}function ww(e){const t=Math.floor(e);if(t===e)return ZL(e);const n=e-t,r=2*e+1;return(i,a,o,s,u)=>{if(!((s-=u)>=o))return;let l=t*a[o];const c=u*t,h=c+u;for(let f=o,d=o+c;f<d;f+=u)l+=a[Math.min(s,f)];for(let f=o,d=s;f<=d;f+=u)l+=a[Math.min(s,f+c)],i[f]=(l+n*(a[Math.max(o,f-h)]+a[Math.min(s,f+h)]))/r,l-=a[Math.max(o,f-c)]}}function ZL(e){const t=2*e+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let s=e*r[i];const u=o*e;for(let l=i,c=i+u;l<c;l+=o)s+=r[Math.min(a,l)];for(let l=i,c=a;l<=c;l+=o)s+=r[Math.min(a,l+u)],n[l]=s/t,s-=r[Math.max(i,l-u)]}}function um(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function QL(e){return e.length|0}function JL(e){return!(e>0)}function e8(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function t8(e){return t=>e(...t)}function n8(...e){const t=typeof e[e.length-1]=="function"&&t8(e.pop());e=e.map(e8);const n=e.map(QL),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(JL))return a;for(;;){a.push(i.map((s,u)=>e[u][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function r8(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function zT(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function jT(e,t){const n=zT(e,t);return n&&Math.sqrt(n)}function Qf(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class lr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function i8(e,t){const n=new lr;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function a8(e,t){const n=new lr;let r=-1;return Float64Array.from(e,t===void 0?i=>n.add(+i||0):i=>n.add(+t(i,++r,e)||0))}class yh extends Map{constructor(t,n=YT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(h1(this,t))}has(t){return super.has(h1(this,t))}set(t,n){return super.set(HT(this,t),n)}delete(t){return super.delete(GT(this,t))}}class ju extends Set{constructor(t,n=YT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(h1(this,t))}add(t){return super.add(HT(this,t))}delete(t){return super.delete(GT(this,t))}}function h1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function HT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function GT({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function YT(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _c(e){return e}function XT(e,...t){return Kc(e,_c,_c,t)}function WT(e,...t){return Kc(e,Array.from,_c,t)}function KT(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return e}function o8(e,...t){return KT(WT(e,...t),t)}function s8(e,t,...n){return KT(ZT(e,t,...n),n)}function qT(e,t,...n){return Kc(e,_c,t,n)}function ZT(e,t,...n){return Kc(e,Array.from,t,n)}function u8(e,...t){return Kc(e,_c,QT,t)}function l8(e,...t){return Kc(e,Array.from,QT,t)}function QT(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Kc(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new yh,u=r[o++];let l=-1;for(const c of a){const h=u(c,++l,a),f=s.get(h);f?f.push(c):s.set(h,[c])}for(const[c,h]of s)s.set(c,i(h,o));return t(s)}(e,0)}function JT(e,t){return Array.from(t,n=>e[n])}function kp(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=Sc(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>Sc(n[i],n[a]))),JT(e,r)}return e.sort(xw(n))}function xw(e=Hn){if(e===Hn)return Sc;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Sc(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function c8(e,t,n){return(t.length!==2?kp(qT(e,t,n),([r,i],[a,o])=>Hn(i,o)||Hn(r,a)):kp(XT(e,n),([r,i],[a,o])=>t(i,o)||Hn(r,a))).map(([r])=>r)}var f8=Array.prototype,h8=f8.slice;function _0(e){return()=>e}const d8=Math.sqrt(50),v8=Math.sqrt(10),p8=Math.sqrt(2);function Rp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=d8?10:a>=v8?5:a>=p8?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=n&&n<2?Rp(e,t,n*2):[s,u,l]}function Hu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Rp(t,e,n):Rp(e,t,n);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(a-l)/-o;else for(let l=0;l<s;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(i+l)/-o;else for(let l=0;l<s;++l)u[l]=(i+l)*o;return u}function Gu(e,t,n){return t=+t,e=+e,n=+n,Rp(e,t,n)[2]}function Lp(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Gu(t,e,n):Gu(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function _w(e,t,n){let r;for(;;){const i=Gu(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function Sw(e){return Math.max(1,Math.ceil(Math.log(um(e))/Math.LN2)+1)}function p_(){var e=_c,t=Qf,n=Sw;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,u,l=new Array(o);for(a=0;a<o;++a)l[a]=e(i[a],a,i);var c=t(l),h=c[0],f=c[1],d=n(l,h,f);if(!Array.isArray(d)){const w=f,b=+d;if(t===Qf&&([h,f]=_w(h,f,b)),d=Hu(h,f,b),d[0]<=h&&(u=Gu(h,f,b)),d[d.length-1]>=f)if(w>=f&&t===Qf){const x=Gu(h,f,b);isFinite(x)&&(x>0?f=(Math.floor(f/x)+1)*x:x<0&&(f=(Math.ceil(f*-x)+1)/-x))}else d.pop()}for(var v=d.length,g=0,p=v;d[g]<=h;)++g;for(;d[p-1]>f;)--p;(g||p<v)&&(d=d.slice(g,p),v=p-g);var y=new Array(v+1),m;for(a=0;a<=v;++a)m=y[a]=[],m.x0=a>0?d[a-1]:h,m.x1=a<v?d[a]:f;if(isFinite(u)){if(u>0)for(a=0;a<o;++a)(s=l[a])!=null&&h<=s&&s<=f&&y[Math.min(v,Math.floor((s-h)/u))].push(i[a]);else if(u<0){for(a=0;a<o;++a)if((s=l[a])!=null&&h<=s&&s<=f){const w=Math.floor((h-s)*u);y[Math.min(v,w+(d[w]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=l[a])!=null&&h<=s&&s<=f&&y[ol(d,s,0,v)].push(i[a]);return y}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:_0(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:_0([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:_0(Array.isArray(i)?h8.call(i):i),r):n},r}function Ec(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ew(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Np(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Aw(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function lm(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Sc:xw(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),d=Math.max(n,Math.floor(t-l*h/u+f)),v=Math.min(r,Math.floor(t+(u-l)*h/u+f));lm(e,t,d,v,i)}const a=e[t];let o=n,s=r;for(yf(e,n,t),i(e[r],a)>0&&yf(e,n,r);o<s;){for(yf(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?yf(e,n,s):(++s,yf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function yf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function eP(e,t=Hn){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Hn(o,i)>0:Hn(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function bh(e,t,n){if(e=Float64Array.from(GL(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Np(e);if(t>=1)return Ec(e);var r,i=(r-1)*t,a=Math.floor(i),o=Ec(lm(e,a).subarray(0,a+1)),s=Np(e.subarray(a+1));return o+(s-o)*(i-a)}}function tP(e,t,n=Bp){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function nP(e,t,n=Bp){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(s,u)=>Bp(n(e[u],u,e))),t<=0)return Aw(r);if(t>=1)return Ew(r);var r,i=Uint32Array.from(e,(s,u)=>u),a=r.length-1,o=Math.floor(a*t);return lm(i,o,0,a,(s,u)=>Sc(r[s],r[u])),o=eP(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function g8(e,t,n){const r=um(e),i=bh(e,.75)-bh(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function m8(e,t,n){const r=um(e),i=jT(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function y8(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function b8(e,t){return bh(e,.5,t)}function w8(e,t){return nP(e,.5,t)}function*x8(e){for(const t of e)yield*t}function Cw(e){return Array.from(x8(e))}function _8(e,t){const n=new yh;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function S8(e,t=E8){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function E8(e,t){return[e,t]}function Cs(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function A8(e,t=Hn){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Hn);const i=(s,u)=>t(n[s],n[u]);let a,o;return e=Uint32Array.from(n,(s,u)=>u),e.sort(t===Hn?(s,u)=>Sc(n[s],n[u]):xw(i)),e.forEach((s,u)=>{const l=i(s,a===void 0?s:a);l>=0?((a===void 0||l>0)&&(a=s,o=u),r[s]=o):r[s]=NaN}),r}function C8(e,t=Hn){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Hn(o,i)<0:Hn(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)<0:t(i,i)===0)&&(n=i,r=!0);return n}function rP(e,t=Hn){if(t.length===1)return Aw(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)<0)&&(n=a,r=i);return r}function T8(e,t=Hn){if(t.length===1)return Ew(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)>0)&&(n=a,r=i);return r}function P8(e,t){const n=rP(e,t);return n<0?void 0:n}const O8=iP(Math.random);function iP(e){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=e()*a--|0,s=n[a+r];n[a+r]=n[o+r],n[o+r]=s}return n}}function I8(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function aP(e){if(!(a=e.length))return[];for(var t=-1,n=Np(e,M8),r=new Array(n);++t<n;)for(var i=-1,a,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r}function M8(e){return e.length}function D8(){return aP(arguments)}function F8(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function B8(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function k8(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function R8(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function L8(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++o}for(;{done:i,value:a}=r.next(),!i;)n=t(n,a,++o,e);return n}function N8(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function U8(e,...t){e=new ju(e);for(const n of t)for(const r of n)e.delete(r);return e}function $8(e,t){const n=t[Symbol.iterator](),r=new ju;for(const i of e){if(r.has(i))return!1;let a,o;for(;({value:a,done:o}=n.next())&&!o;){if(Object.is(i,a))return!1;r.add(a)}}return!0}function V8(e,...t){e=new ju(e),t=t.map(z8);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function z8(e){return e instanceof ju?e:new ju(e)}function oP(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const a=g_(i);if(r.has(a))continue;let o,s;for(;{value:o,done:s}=n.next();){if(s)return!1;const u=g_(o);if(r.add(u),Object.is(a,u))break}}return!0}function g_(e){return e!==null&&typeof e=="object"?e.valueOf():e}function j8(e,t){return oP(t,e)}function H8(...e){const t=new ju;for(const n of e)for(const r of n)t.add(r);return t}function G8(e){return e}var Xv=1,Wv=2,d1=3,kf=4,m_=1e-6;function Y8(e){return"translate("+e+",0)"}function X8(e){return"translate(0,"+e+")"}function W8(e){return t=>+e(t)}function K8(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function q8(){return!this.__axis}function cm(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Xv||e===kf?-1:1,c=e===kf||e===Wv?"x":"y",h=e===Xv||e===d1?Y8:X8;function f(d){var v=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):G8),p=Math.max(a,0)+s,y=t.range(),m=+y[0]+u,w=+y[y.length-1]+u,b=(t.bandwidth?K8:W8)(t.copy(),u),x=d.selection?d.selection():d,_=x.selectAll(".domain").data([null]),S=x.selectAll(".tick").data(v,t).order(),P=S.exit(),C=S.enter().append("g").attr("class","tick"),B=S.select("line"),T=S.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(C),B=B.merge(C.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),T=T.merge(C.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",e===Xv?"0em":e===d1?"0.71em":"0.32em")),d!==x&&(_=_.transition(d),S=S.transition(d),B=B.transition(d),T=T.transition(d),P=P.transition(d).attr("opacity",m_).attr("transform",function(k){return isFinite(k=b(k))?h(k+u):this.getAttribute("transform")}),C.attr("opacity",m_).attr("transform",function(k){var D=this.parentNode.__axis;return h((D&&isFinite(D=D(k))?D:b(k))+u)})),P.remove(),_.attr("d",e===kf||e===Wv?o?"M"+l*o+","+m+"H"+u+"V"+w+"H"+l*o:"M"+u+","+m+"V"+w:o?"M"+m+","+l*o+"V"+u+"H"+w+"V"+l*o:"M"+m+","+u+"H"+w),S.attr("opacity",1).attr("transform",function(k){return h(b(k)+u)}),B.attr(c+"2",l*a),T.attr(c,l*p).text(g),x.filter(q8).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Wv?"start":e===kf?"end":"middle"),x.each(function(){this.__axis=b})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(a=o=+d,f):a},f.tickSizeInner=function(d){return arguments.length?(a=+d,f):a},f.tickSizeOuter=function(d){return arguments.length?(o=+d,f):o},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(u=+d,f):u},f}function Z8(e){return cm(Xv,e)}function Q8(e){return cm(Wv,e)}function J8(e){return cm(d1,e)}function eN(e){return cm(kf,e)}var tN={value:()=>{}};function sl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kv(n)}function Kv(e){this._=e}function nN(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Kv.prototype=sl.prototype={constructor:Kv,on:function(e,t){var n=this._,r=nN(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=rN(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=y_(n[i],e.name,t);else if(t==null)for(i in n)n[i]=y_(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Kv(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function rN(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function y_(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=tN,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var v1="http://www.w3.org/1999/xhtml";const p1={svg:"http://www.w3.org/2000/svg",xhtml:v1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),p1.hasOwnProperty(t)?{space:p1[t],local:e}:e}function iN(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===v1&&t.documentElement.namespaceURI===v1?t.createElement(e):t.createElementNS(n,e)}}function aN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fm(e){var t=qh(e);return(t.local?aN:iN)(t)}function oN(){}function hm(e){return e==null?oN:function(){return this.querySelector(e)}}function sN(e){typeof e!="function"&&(e=hm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=e.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new ui(r,this._parents)}function sP(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uN(){return[]}function Tw(e){return e==null?uN:function(){return this.querySelectorAll(e)}}function lN(e){return function(){return sP(e.apply(this,arguments))}}function cN(e){typeof e=="function"?e=lN(e):e=Tw(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new ui(r,i)}function Pw(e){return function(){return this.matches(e)}}function uP(e){return function(t){return t.matches(e)}}var fN=Array.prototype.find;function hN(e){return function(){return fN.call(this.children,e)}}function dN(){return this.firstElementChild}function vN(e){return this.select(e==null?dN:hN(typeof e=="function"?e:uP(e)))}var pN=Array.prototype.filter;function gN(){return Array.from(this.children)}function mN(e){return function(){return pN.call(this.children,e)}}function yN(e){return this.selectAll(e==null?gN:mN(typeof e=="function"?e:uP(e)))}function bN(e){typeof e!="function"&&(e=Pw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&e.call(u,u.__data__,l,a)&&s.push(u);return new ui(r,this._parents)}function lP(e){return new Array(e.length)}function wN(){return new ui(this._enter||this._groups.map(lP),this._parents)}function Up(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Up.prototype={constructor:Up,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xN(e){return function(){return e}}function _N(e,t,n,r,i,a){for(var o=0,s,u=t.length,l=a.length;o<l;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new Up(e,a[o]);for(;o<u;++o)(s=t[o])&&(i[o]=s)}function SN(e,t,n,r,i,a,o){var s,u,l=new Map,c=t.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(u=t[s])&&(f[s]=d=o.call(u,u.__data__,s,t)+"",l.has(d)?i[s]=u:l.set(d,u));for(s=0;s<h;++s)d=o.call(e,a[s],s,a)+"",(u=l.get(d))?(r[s]=u,u.__data__=a[s],l.delete(d)):n[s]=new Up(e,a[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(f[s])===u&&(i[s]=u)}function EN(e){return e.__data__}function AN(e,t){if(!arguments.length)return Array.from(this,EN);var n=t?SN:_N,r=this._parents,i=this._groups;typeof e!="function"&&(e=xN(e));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=CN(e.call(c,c&&c.__data__,l,r)),v=d.length,g=s[l]=new Array(v),p=o[l]=new Array(v),y=u[l]=new Array(f);n(c,h,g,p,y,d,t);for(var m=0,w=0,b,x;m<v;++m)if(b=g[m]){for(m>=w&&(w=m+1);!(x=p[w])&&++w<v;);b._next=x||null}}return o=new ui(o,r),o._enter=s,o._exit=u,o}function CN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TN(){return new ui(this._exit||this._groups.map(lP),this._parents)}function PN(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ON(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],h=l.length,f=s[u]=new Array(h),d,v=0;v<h;++v)(d=l[v]||c[v])&&(f[v]=d);for(;u<i;++u)s[u]=n[u];return new ui(s,this._parents)}function IN(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function MN(e){e||(e=DN);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new ui(i,this._parents).order()}function DN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function FN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function BN(){return Array.from(this)}function kN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function RN(){let e=0;for(const t of this)++e;return e}function LN(){return!this.node()}function NN(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function UN(e){return function(){this.removeAttribute(e)}}function $N(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VN(e,t){return function(){this.setAttribute(e,t)}}function zN(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function jN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function HN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function GN(e,t){var n=qh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?$N:UN:typeof t=="function"?n.local?HN:jN:n.local?zN:VN)(n,t))}function Ow(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function YN(e){return function(){this.style.removeProperty(e)}}function XN(e,t,n){return function(){this.style.setProperty(e,t,n)}}function WN(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function KN(e,t,n){return arguments.length>1?this.each((t==null?YN:typeof t=="function"?WN:XN)(e,t,n??"")):Yu(this.node(),e)}function Yu(e,t){return e.style.getPropertyValue(t)||Ow(e).getComputedStyle(e,null).getPropertyValue(t)}function qN(e){return function(){delete this[e]}}function ZN(e,t){return function(){this[e]=t}}function QN(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function JN(e,t){return arguments.length>1?this.each((t==null?qN:typeof t=="function"?QN:ZN)(e,t)):this.node()[e]}function cP(e){return e.trim().split(/^|\s+/)}function Iw(e){return e.classList||new fP(e)}function fP(e){this._node=e,this._names=cP(e.getAttribute("class")||"")}fP.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function hP(e,t){for(var n=Iw(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function dP(e,t){for(var n=Iw(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function e7(e){return function(){hP(this,e)}}function t7(e){return function(){dP(this,e)}}function n7(e,t){return function(){(t.apply(this,arguments)?hP:dP)(this,e)}}function r7(e,t){var n=cP(e+"");if(arguments.length<2){for(var r=Iw(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?n7:t?e7:t7)(n,t))}function i7(){this.textContent=""}function a7(e){return function(){this.textContent=e}}function o7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function s7(e){return arguments.length?this.each(e==null?i7:(typeof e=="function"?o7:a7)(e)):this.node().textContent}function u7(){this.innerHTML=""}function l7(e){return function(){this.innerHTML=e}}function c7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function f7(e){return arguments.length?this.each(e==null?u7:(typeof e=="function"?c7:l7)(e)):this.node().innerHTML}function h7(){this.nextSibling&&this.parentNode.appendChild(this)}function d7(){return this.each(h7)}function v7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function p7(){return this.each(v7)}function g7(e){var t=typeof e=="function"?e:fm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function m7(){return null}function y7(e,t){var n=typeof e=="function"?e:fm(e),r=t==null?m7:typeof t=="function"?t:hm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function b7(){var e=this.parentNode;e&&e.removeChild(this)}function w7(){return this.each(b7)}function x7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function S7(e){return this.select(e?_7:x7)}function E7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function A7(e){return function(t){e.call(this,t,this.__data__)}}function C7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function T7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function P7(e,t,n){return function(){var r=this.__on,i,a=A7(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function O7(e,t,n){var r=C7(e+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?P7:T7,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function vP(e,t,n){var r=Ow(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function I7(e,t){return function(){return vP(this,e,t)}}function M7(e,t){return function(){return vP(this,e,t.apply(this,arguments))}}function D7(e,t){return this.each((typeof t=="function"?M7:I7)(e,t))}function*F7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Mw=[null];function ui(e,t){this._groups=e,this._parents=t}function ul(){return new ui([[document.documentElement]],Mw)}function B7(){return this}ui.prototype=ul.prototype={constructor:ui,select:sN,selectAll:cN,selectChild:vN,selectChildren:yN,filter:bN,data:AN,enter:wN,exit:TN,join:PN,merge:ON,selection:B7,order:IN,sort:MN,call:FN,nodes:BN,node:kN,size:RN,empty:LN,each:NN,attr:GN,style:KN,property:JN,classed:r7,text:s7,html:f7,raise:d7,lower:p7,append:g7,insert:y7,remove:w7,clone:S7,datum:E7,on:O7,dispatch:D7,[Symbol.iterator]:F7};function gn(e){return typeof e=="string"?new ui([[document.querySelector(e)]],[document.documentElement]):new ui([[e]],Mw)}function pP(e){return gn(fm(e).call(document.documentElement))}var k7=0;function gP(){return new g1}function g1(){this._="@"+(++k7).toString(36)}g1.prototype=gP.prototype={constructor:g1,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function mP(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ui(e,t){if(e=mP(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function R7(e,t){return e.target&&(e=mP(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Ui(n,t))}function L7(e){return typeof e=="string"?new ui([document.querySelectorAll(e)],[document.documentElement]):new ui([sP(e)],Mw)}const N7={passive:!1},wh={capture:!0,passive:!1};function S0(e){e.stopImmediatePropagation()}function hc(e){e.preventDefault(),e.stopImmediatePropagation()}function dm(e){var t=e.document.documentElement,n=gn(e).on("dragstart.drag",hc,wh);"onselectstart"in t?n.on("selectstart.drag",hc,wh):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vm(e,t){var n=e.document.documentElement,r=gn(e).on("dragstart.drag",null);t&&(r.on("click.drag",hc,wh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Vd=e=>()=>e;function m1(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}m1.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function U7(e){return!e.ctrlKey&&!e.button}function $7(){return this.parentNode}function V7(e,t){return t??{x:e.x,y:e.y}}function z7(){return navigator.maxTouchPoints||"ontouchstart"in this}function yP(){var e=U7,t=$7,n=V7,r=z7,i={},a=sl("start","drag","end"),o=0,s,u,l,c,h=0;function f(b){b.on("mousedown.drag",d).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,N7).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(b,x){if(!(c||!e.call(this,b,x))){var _=w(this,t.call(this,b,x),b,x,"mouse");_&&(gn(b.view).on("mousemove.drag",v,wh).on("mouseup.drag",g,wh),dm(b.view),S0(b),l=!1,s=b.clientX,u=b.clientY,_("start",b))}}function v(b){if(hc(b),!l){var x=b.clientX-s,_=b.clientY-u;l=x*x+_*_>h}i.mouse("drag",b)}function g(b){gn(b.view).on("mousemove.drag mouseup.drag",null),vm(b.view,l),hc(b),i.mouse("end",b)}function p(b,x){if(e.call(this,b,x)){var _=b.changedTouches,S=t.call(this,b,x),P=_.length,C,B;for(C=0;C<P;++C)(B=w(this,S,b,x,_[C].identifier,_[C]))&&(S0(b),B("start",b,_[C]))}}function y(b){var x=b.changedTouches,_=x.length,S,P;for(S=0;S<_;++S)(P=i[x[S].identifier])&&(hc(b),P("drag",b,x[S]))}function m(b){var x=b.changedTouches,_=x.length,S,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<_;++S)(P=i[x[S].identifier])&&(S0(b),P("end",b,x[S]))}function w(b,x,_,S,P,C){var B=a.copy(),T=Ui(C||_,x),k,D,O;if((O=n.call(b,new m1("beforestart",{sourceEvent:_,target:f,identifier:P,active:o,x:T[0],y:T[1],dx:0,dy:0,dispatch:B}),S))!=null)return k=O.x-T[0]||0,D=O.y-T[1]||0,function N(R,U,V){var z=T,j;switch(R){case"start":i[P]=N,j=o++;break;case"end":delete i[P],--o;case"drag":T=Ui(V||U,x),j=o;break}B.call(R,b,new m1(R,{sourceEvent:U,subject:O,target:f,identifier:P,active:j,x:T[0]+k,y:T[1]+D,dx:T[0]-z[0],dy:T[1]-z[1],dispatch:B}),S)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Vd(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Vd(b),f):t},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Vd(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Vd(!!b),f):r},f.on=function(){var b=a.on.apply(a,arguments);return b===a?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function qc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Zh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gs(){}var Xu=.7,Ac=1/Xu,dc="\\s*([+-]?\\d+)\\s*",xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j7=/^#([0-9a-f]{3,8})$/,H7=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),G7=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),Y7=new RegExp(`^rgba\\(${dc},${dc},${dc},${xh}\\)$`),X7=new RegExp(`^rgba\\(${ao},${ao},${ao},${xh}\\)$`),W7=new RegExp(`^hsl\\(${xh},${ao},${ao}\\)$`),K7=new RegExp(`^hsla\\(${xh},${ao},${ao},${xh}\\)$`),b_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qc(Gs,Ls,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w_,formatHex:w_,formatHex8:q7,formatHsl:Z7,formatRgb:x_,toString:x_});function w_(){return this.rgb().formatHex()}function q7(){return this.rgb().formatHex8()}function Z7(){return bP(this).formatHsl()}function x_(){return this.rgb().formatRgb()}function Ls(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=j7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?__(t):n===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H7.exec(e))?new yr(t[1],t[2],t[3],1):(t=G7.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Y7.exec(e))?zd(t[1],t[2],t[3],t[4]):(t=X7.exec(e))?zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=W7.exec(e))?A_(t[1],t[2]/100,t[3]/100,1):(t=K7.exec(e))?A_(t[1],t[2]/100,t[3]/100,t[4]):b_.hasOwnProperty(e)?__(b_[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function __(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function zd(e,t,n,r){return r<=0&&(e=t=n=NaN),new yr(e,t,n,r)}function Dw(e){return e instanceof Gs||(e=Ls(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function Cc(e,t,n,r){return arguments.length===1?Dw(e):new yr(e,t,n,r??1)}function yr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qc(yr,Cc,Zh(Gs,{brighter(e){return e=e==null?Ac:Math.pow(Ac,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(Bu(this.r),Bu(this.g),Bu(this.b),$p(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S_,formatHex:S_,formatHex8:Q7,formatRgb:E_,toString:E_}));function S_(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}`}function Q7(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}${Tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function E_(){const e=$p(this.opacity);return`${e===1?"rgb(":"rgba("}${Bu(this.r)}, ${Bu(this.g)}, ${Bu(this.b)}${e===1?")":`, ${e})`}`}function $p(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tu(e){return e=Bu(e),(e<16?"0":"")+e.toString(16)}function A_(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oa(e,t,n,r)}function bP(e){if(e instanceof Oa)return new Oa(e.h,e.s,e.l,e.opacity);if(e instanceof Gs||(e=Ls(e)),!e)return new Oa;if(e instanceof Oa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new Oa(o,s,u,e.opacity)}function Vp(e,t,n,r){return arguments.length===1?bP(e):new Oa(e,t,n,r??1)}function Oa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qc(Oa,Vp,Zh(Gs,{brighter(e){return e=e==null?Ac:Math.pow(Ac,e),new Oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new Oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yr(E0(e>=240?e-240:e+120,i,r),E0(e,i,r),E0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Oa(C_(this.h),jd(this.s),jd(this.l),$p(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$p(this.opacity);return`${e===1?"hsl(":"hsla("}${C_(this.h)}, ${jd(this.s)*100}%, ${jd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C_(e){return e=(e||0)%360,e<0?e+360:e}function jd(e){return Math.max(0,Math.min(1,e||0))}function E0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wP=Math.PI/180,xP=180/Math.PI,zp=18,_P=.96422,SP=1,EP=.82521,AP=4/29,vc=6/29,CP=3*vc*vc,J7=vc*vc*vc;function TP(e){if(e instanceof ka)return new ka(e.l,e.a,e.b,e.opacity);if(e instanceof no)return OP(e);e instanceof yr||(e=Dw(e));var t=P0(e.r),n=P0(e.g),r=P0(e.b),i=A0((.2225045*t+.7168786*n+.0606169*r)/SP),a,o;return t===n&&n===r?a=o=i:(a=A0((.4360747*t+.3850649*n+.1430804*r)/_P),o=A0((.0139322*t+.0971045*n+.7141733*r)/EP)),new ka(116*i-16,500*(a-i),200*(i-o),e.opacity)}function e9(e,t){return new ka(e,0,0,t??1)}function jp(e,t,n,r){return arguments.length===1?TP(e):new ka(e,t,n,r??1)}function ka(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}qc(ka,jp,Zh(Gs,{brighter(e){return new ka(this.l+zp*(e??1),this.a,this.b,this.opacity)},darker(e){return new ka(this.l-zp*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=_P*C0(t),e=SP*C0(e),n=EP*C0(n),new yr(T0(3.1338561*t-1.6168667*e-.4906146*n),T0(-.9787684*t+1.9161415*e+.033454*n),T0(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function A0(e){return e>J7?Math.pow(e,1/3):e/CP+AP}function C0(e){return e>vc?e*e*e:CP*(e-AP)}function T0(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function P0(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function PP(e){if(e instanceof no)return new no(e.h,e.c,e.l,e.opacity);if(e instanceof ka||(e=TP(e)),e.a===0&&e.b===0)return new no(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*xP;return new no(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function t9(e,t,n,r){return arguments.length===1?PP(e):new no(n,t,e,r??1)}function Hp(e,t,n,r){return arguments.length===1?PP(e):new no(e,t,n,r??1)}function no(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function OP(e){if(isNaN(e.h))return new ka(e.l,0,0,e.opacity);var t=e.h*wP;return new ka(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}qc(no,Hp,Zh(Gs,{brighter(e){return new no(this.h,this.c,this.l+zp*(e??1),this.opacity)},darker(e){return new no(this.h,this.c,this.l-zp*(e??1),this.opacity)},rgb(){return OP(this).rgb()}}));var IP=-.14861,Fw=1.78277,Bw=-.29227,pm=-.90649,_h=1.97294,T_=_h*pm,P_=_h*Fw,O_=Fw*Bw-pm*IP;function n9(e){if(e instanceof ku)return new ku(e.h,e.s,e.l,e.opacity);e instanceof yr||(e=Dw(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(O_*r+T_*t-P_*n)/(O_+T_-P_),a=r-i,o=(_h*(n-i)-Bw*a)/pm,s=Math.sqrt(o*o+a*a)/(_h*i*(1-i)),u=s?Math.atan2(o,a)*xP-120:NaN;return new ku(u<0?u+360:u,s,i,e.opacity)}function Na(e,t,n,r){return arguments.length===1?n9(e):new ku(e,t,n,r??1)}function ku(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qc(ku,Na,Zh(Gs,{brighter(e){return e=e==null?Ac:Math.pow(Ac,e),new ku(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new ku(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*wP,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new yr(255*(t+n*(IP*r+Fw*i)),255*(t+n*(Bw*r+pm*i)),255*(t+n*(_h*r)),this.opacity)}}));function MP(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function DP(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return MP((n-r/t)*t,o,i,a,s)}}function FP(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return MP((n-r/t)*t,i,a,o,s)}}const gm=e=>()=>e;function BP(e,t){return function(n){return e+n*t}}function r9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mm(e,t){var n=t-e;return n?BP(e,n>180||n<-180?n-360*Math.round(n/360):n):gm(isNaN(e)?t:e)}function i9(e){return(e=+e)==1?br:function(t,n){return n-t?r9(t,n,e):gm(isNaN(t)?n:t)}}function br(e,t){var n=t-e;return n?BP(e,n):gm(isNaN(e)?t:e)}const Sh=function e(t){var n=i9(t);function r(i,a){var o=n((i=Cc(i)).r,(a=Cc(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),l=br(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function kP(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Cc(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=a(u),s+""}}}var RP=kP(DP),a9=kP(FP);function kw(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function LP(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function o9(e,t){return(LP(t)?kw:NP)(e,t)}function NP(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ys(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function UP(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function oa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $P(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ys(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var y1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O0=new RegExp(y1.source,"g");function s9(e){return function(){return e}}function u9(e){return function(t){return e(t)+""}}function Rw(e,t){var n=y1.lastIndex=O0.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(e=e+"",t=t+"";(r=y1.exec(e))&&(i=O0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:oa(r,i)})),n=O0.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?u9(u[0].x):s9(t):(t=u.length,function(l){for(var c=0,h;c<t;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Ys(e,t){var n=typeof t,r;return t==null||n==="boolean"?gm(t):(n==="number"?oa:n==="string"?(r=Ls(t))?(t=r,Sh):Rw:t instanceof Ls?Sh:t instanceof Date?UP:LP(t)?kw:Array.isArray(t)?NP:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$P:oa)(e,t)}function l9(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function c9(e,t){var n=mm(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ym(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var I_=180/Math.PI,b1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function VP(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*I_,skewX:Math.atan(u)*I_,scaleX:o,scaleY:s}}var Hd;function f9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?b1:VP(t.a,t.b,t.c,t.d,t.e,t.f)}function h9(e){return e==null||(Hd||(Hd=document.createElementNS("http://www.w3.org/2000/svg","g")),Hd.setAttribute("transform",e),!(e=Hd.transform.baseVal.consolidate()))?b1:(e=e.matrix,VP(e.a,e.b,e.c,e.d,e.e,e.f))}function zP(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,h,f,d,v){if(l!==h||c!==f){var g=d.push("translate(",null,t,null,n);v.push({i:g-4,x:oa(l,h)},{i:g-2,x:oa(c,f)})}else(h||f)&&d.push("translate("+h+t+f+n)}function o(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:oa(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:oa(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,f,d,v){if(l!==h||c!==f){var g=d.push(i(d)+"scale(",null,",",null,")");v.push({i:g-4,x:oa(l,h)},{i:g-2,x:oa(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=e(l),c=e(c),a(l.translateX,l.translateY,c.translateX,c.translateY,h,f),o(l.rotate,c.rotate,h,f),s(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(d){for(var v=-1,g=f.length,p;++v<g;)h[(p=f[v]).i]=p.x(d);return h.join("")}}}var jP=zP(f9,"px, ","px)","deg)"),HP=zP(h9,", ",")",")"),d9=1e-12;function M_(e){return((e=Math.exp(e))+1/e)/2}function v9(e){return((e=Math.exp(e))-1/e)/2}function p9(e){return((e=Math.exp(2*e))-1)/(e+1)}const GP=function e(t,n,r){function i(a,o){var s=a[0],u=a[1],l=a[2],c=o[0],h=o[1],f=o[2],d=c-s,v=h-u,g=d*d+v*v,p,y;if(g<d9)y=Math.log(f/l)/t,p=function(S){return[s+S*d,u+S*v,l*Math.exp(t*S*y)]};else{var m=Math.sqrt(g),w=(f*f-l*l+r*g)/(2*l*n*m),b=(f*f-l*l-r*g)/(2*f*n*m),x=Math.log(Math.sqrt(w*w+1)-w),_=Math.log(Math.sqrt(b*b+1)-b);y=(_-x)/t,p=function(S){var P=S*y,C=M_(x),B=l/(n*m)*(C*p9(t*P+x)-v9(x));return[s+B*d,u+B*v,l*C/M_(t*P+x)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,u=s*s;return e(o,s,u)},i}(Math.SQRT2,2,4);function YP(e){return function(t,n){var r=e((t=Vp(t)).h,(n=Vp(n)).h),i=br(t.s,n.s),a=br(t.l,n.l),o=br(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const g9=YP(mm);var m9=YP(br);function y9(e,t){var n=br((e=jp(e)).l,(t=jp(t)).l),r=br(e.a,t.a),i=br(e.b,t.b),a=br(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function XP(e){return function(t,n){var r=e((t=Hp(t)).h,(n=Hp(n)).h),i=br(t.c,n.c),a=br(t.l,n.l),o=br(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const b9=XP(mm);var w9=XP(br);function WP(e){return function t(n){n=+n;function r(i,a){var o=e((i=Na(i)).h,(a=Na(a)).h),s=br(i.s,a.s),u=br(i.l,a.l),l=br(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}const x9=WP(mm);var bm=WP(br);function KP(e,t){t===void 0&&(t=e,e=Ys);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function _9(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Tc=0,Rf=0,bf=0,qP=1e3,Gp,Lf,Yp=0,Wu=0,wm=0,Eh=typeof performance=="object"&&performance.now?performance:Date,ZP=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qh(){return Wu||(ZP(S9),Wu=Eh.now()+wm)}function S9(){Wu=0}function Ah(){this._call=this._time=this._next=null}Ah.prototype=xm.prototype={constructor:Ah,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qh():+n)+(t==null?0:+t),!this._next&&Lf!==this&&(Lf?Lf._next=this:Gp=this,Lf=this),this._call=e,this._time=n,w1()},stop:function(){this._call&&(this._call=null,this._time=1/0,w1())}};function xm(e,t,n){var r=new Ah;return r.restart(e,t,n),r}function QP(){Qh(),++Tc;for(var e=Gp,t;e;)(t=Wu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Tc}function D_(){Wu=(Yp=Eh.now())+wm,Tc=Rf=0;try{QP()}finally{Tc=0,A9(),Wu=0}}function E9(){var e=Eh.now(),t=e-Yp;t>qP&&(wm-=t,Yp=e)}function A9(){for(var e,t=Gp,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Gp=n);Lf=e,w1(r)}function w1(e){if(!Tc){Rf&&(Rf=clearTimeout(Rf));var t=e-Wu;t>24?(e<1/0&&(Rf=setTimeout(D_,e-Eh.now()-wm)),bf&&(bf=clearInterval(bf))):(bf||(Yp=Eh.now(),bf=setInterval(E9,qP)),Tc=1,ZP(D_))}}function x1(e,t,n){var r=new Ah;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function C9(e,t,n){var r=new Ah,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?Qh():+s,r._restart(function u(l){l+=i,r._restart(u,i+=o,s),a(l)},o,s)},r.restart(e,t,n),r)}var T9=sl("start","end","cancel","interrupt"),P9=[],JP=0,_1=1,S1=2,qv=3,F_=4,E1=5,Zv=6;function _m(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;O9(e,n,{name:t,index:r,group:i,on:T9,tween:P9,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:JP})}function Lw(e,t){var n=za(e,t);if(n.state>JP)throw new Error("too late; already scheduled");return n}function bo(e,t){var n=za(e,t);if(n.state>qv)throw new Error("too late; already running");return n}function za(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function O9(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=xm(a,0,n.time);function a(l){n.state=_1,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,h,f,d;if(n.state!==_1)return u();for(c in r)if(d=r[c],d.name===n.name){if(d.state===qv)return x1(o);d.state===F_?(d.state=Zv,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=Zv,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(x1(function(){n.state===qv&&(n.state=F_,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=S1,n.on.call("start",e,e.__data__,n.index,n.group),n.state===S1){for(n.state=qv,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=E1,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);n.state===E1&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Zv,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Ru(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>S1&&r.state<E1,r.state=Zv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function I9(e){return this.each(function(){Ru(this,e)})}function M9(e,t){var n,r;return function(){var i=bo(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function D9(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=bo(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function F9(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=za(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?M9:D9)(n,e,t))}function Nw(e,t,n){var r=e._id;return e.each(function(){var i=bo(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return za(i,r).value[t]}}function eO(e,t){var n;return(typeof t=="number"?oa:t instanceof Ls?Sh:(n=Ls(t))?(t=n,Sh):Rw)(e,t)}function B9(e){return function(){this.removeAttribute(e)}}function k9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function R9(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function L9(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function N9(e,t,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s)))}}function U9(e,t,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s)))}}function $9(e,t){var n=qh(e),r=n==="transform"?HP:eO;return this.attrTween(e,typeof t=="function"?(n.local?U9:N9)(n,r,Nw(this,"attr."+e,t)):t==null?(n.local?k9:B9)(n):(n.local?L9:R9)(n,r,t))}function V9(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function z9(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function j9(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&z9(e,a)),n}return i._value=t,i}function H9(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&V9(e,a)),n}return i._value=t,i}function G9(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=qh(e);return this.tween(n,(r.local?j9:H9)(r,t))}function Y9(e,t){return function(){Lw(this,e).delay=+t.apply(this,arguments)}}function X9(e,t){return t=+t,function(){Lw(this,e).delay=t}}function W9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Y9:X9)(t,e)):za(this.node(),t).delay}function K9(e,t){return function(){bo(this,e).duration=+t.apply(this,arguments)}}function q9(e,t){return t=+t,function(){bo(this,e).duration=t}}function Z9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?K9:q9)(t,e)):za(this.node(),t).duration}function Q9(e,t){if(typeof t!="function")throw new Error;return function(){bo(this,e).ease=t}}function J9(e){var t=this._id;return arguments.length?this.each(Q9(t,e)):za(this.node(),t).ease}function eU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bo(this,e).ease=n}}function tU(e){if(typeof e!="function")throw new Error;return this.each(eU(this._id,e))}function nU(e){typeof e!="function"&&(e=Pw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&e.call(u,u.__data__,l,a)&&s.push(u);return new so(r,this._parents,this._name,this._id)}function rU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=t[s],l=n[s],c=u.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=u[d]||l[d])&&(h[d]=f);for(;s<r;++s)o[s]=t[s];return new so(o,this._parents,this._name,this._id)}function iU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function aU(e,t,n){var r,i,a=iU(t)?Lw:bo;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function oU(e,t){var n=this._id;return arguments.length<2?za(this.node(),n).on.on(e):this.each(aU(n,e,t))}function sU(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function uU(){return this.on("end.remove",sU(this._id))}function lU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hm(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,_m(l[f],t,n,f,l,za(c,n)));return new so(a,this._parents,t,n)}function cU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tw(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=e.call(c,c.__data__,h,u),d,v=za(c,n),g=0,p=f.length;g<p;++g)(d=f[g])&&_m(d,t,n,g,f,v);a.push(f),o.push(c)}return new so(a,o,t,n)}var fU=ul.prototype.constructor;function hU(){return new fU(this._groups,this._parents)}function dU(e,t){var n,r,i;return function(){var a=Yu(this,e),o=(this.style.removeProperty(e),Yu(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function tO(e){return function(){this.style.removeProperty(e)}}function vU(e,t,n){var r,i=n+"",a;return function(){var o=Yu(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function pU(e,t,n){var r,i,a;return function(){var o=Yu(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),Yu(this,e))),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s))}}function gU(e,t){var n,r,i,a="style."+t,o="end."+a,s;return function(){var u=bo(this,e),l=u.on,c=u.value[a]==null?s||(s=tO(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function mU(e,t,n){var r=(e+="")=="transform"?jP:eO;return t==null?this.styleTween(e,dU(e,r)).on("end.style."+e,tO(e)):typeof t=="function"?this.styleTween(e,pU(e,r,Nw(this,"style."+e,t))).each(gU(this._id,e)):this.styleTween(e,vU(e,r,t),n).on("end.style."+e,null)}function yU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function bU(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&yU(e,o,n)),r}return a._value=t,a}function wU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,bU(e,t,n??""))}function xU(e){return function(){this.textContent=e}}function _U(e){return function(){var t=e(this);this.textContent=t??""}}function SU(e){return this.tween("text",typeof e=="function"?_U(Nw(this,"text",e)):xU(e==null?"":e+""))}function EU(e){return function(t){this.textContent=e.call(this,t)}}function AU(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&EU(i)),t}return r._value=e,r}function CU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,AU(e))}function TU(){for(var e=this._name,t=this._id,n=rO(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=za(u,t);_m(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new so(r,this._parents,e,n)}function PU(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var l=bo(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&a()})}var OU=0;function so(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function nO(e){return ul().transition(e)}function rO(){return++OU}var Io=ul.prototype;so.prototype=nO.prototype={constructor:so,select:lU,selectAll:cU,selectChild:Io.selectChild,selectChildren:Io.selectChildren,filter:nU,merge:rU,selection:hU,transition:TU,call:Io.call,nodes:Io.nodes,node:Io.node,size:Io.size,empty:Io.empty,each:Io.each,on:oU,attr:$9,attrTween:G9,style:mU,styleTween:wU,text:SU,textTween:CU,remove:uU,tween:F9,delay:W9,duration:Z9,ease:J9,easeVarying:tU,end:PU,[Symbol.iterator]:Io[Symbol.iterator]};const IU=e=>+e;function MU(e){return e*e}function DU(e){return e*(2-e)}function B_(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function FU(e){return e*e*e}function BU(e){return--e*e*e+1}function A1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Uw=3,kU=function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n}(Uw),RU=function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n}(Uw),k_=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(Uw),iO=Math.PI,aO=iO/2;function LU(e){return+e==1?1:1-Math.cos(e*aO)}function NU(e){return Math.sin(e*aO)}function R_(e){return(1-Math.cos(iO*e))/2}function Ns(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function UU(e){return Ns(1-+e)}function $U(e){return 1-Ns(e)}function L_(e){return((e*=2)<=1?Ns(1-e):2-Ns(e-1))/2}function VU(e){return 1-Math.sqrt(1-e*e)}function zU(e){return Math.sqrt(1- --e*e)}function N_(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var C1=4/11,jU=6/11,HU=8/11,GU=3/4,YU=9/11,XU=10/11,WU=15/16,KU=21/22,qU=63/64,Gd=1/C1/C1;function ZU(e){return 1-Ch(1-e)}function Ch(e){return(e=+e)<C1?Gd*e*e:e<HU?Gd*(e-=jU)*e+GU:e<XU?Gd*(e-=YU)*e+WU:Gd*(e-=KU)*e+qU}function QU(e){return((e*=2)<=1?1-Ch(1-e):Ch(e-1)+1)/2}var $w=1.70158,JU=function e(t){t=+t;function n(r){return(r=+r)*r*(t*(r-1)+r)}return n.overshoot=e,n}($w),e$=function e(t){t=+t;function n(r){return--r*r*((r+1)*t+r)+1}return n.overshoot=e,n}($w),U_=function e(t){t=+t;function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return n.overshoot=e,n}($w),Pc=2*Math.PI,Vw=1,zw=.3,t$=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Pc);function i(a){return t*Ns(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return e(a,n*Pc)},i.period=function(a){return e(t,a)},i}(Vw,zw),$_=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Pc);function i(a){return 1-t*Ns(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return e(a,n*Pc)},i.period=function(a){return e(t,a)},i}(Vw,zw),n$=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Pc);function i(a){return((a=a*2-1)<0?t*Ns(-a)*Math.sin((r-a)/n):2-t*Ns(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return e(a,n*Pc)},i.period=function(a){return e(t,a)},i}(Vw,zw),r$={time:null,delay:0,duration:250,ease:A1};function i$(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function a$(e){var t,n;e instanceof so?(t=e._id,e=e._name):(t=rO(),(n=r$).time=Qh(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&_m(u,e,t,l,o,n||i$(u,t));return new so(r,this._parents,e,t)}ul.prototype.interrupt=I9;ul.prototype.transition=a$;var o$=[null];function s$(e,t){var n=e.__transition,r,i;if(n){t=t==null?null:t+"";for(i in n)if((r=n[i]).state>_1&&r.name===t)return new so([[e]],o$,t,+i)}return null}const I0=e=>()=>e;function u$(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function l$(e){e.stopImmediatePropagation()}function M0(e){e.preventDefault(),e.stopImmediatePropagation()}var V_={name:"drag"},D0={name:"space"},Dl={name:"handle"},Fl={name:"center"};const{abs:z_,max:$r,min:Vr}=Math;function j_(e){return[+e[0],+e[1]]}function T1(e){return[j_(e[0]),j_(e[1])]}var Qv={name:"x",handles:["w","e"].map(Th),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Jv={name:"y",handles:["n","s"].map(Th),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},c$={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Th),input:function(e){return e==null?null:T1(e)},output:function(e){return e}},Mo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},H_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},G_={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},f$={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},h$={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Th(e){return{type:e}}function d$(e){return!e.ctrlKey&&!e.button}function v$(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function p$(){return navigator.maxTouchPoints||"ontouchstart"in this}function F0(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function g$(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function m$(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function y$(){return jw(Qv)}function b$(){return jw(Jv)}function w$(){return jw(c$)}function jw(e){var t=v$,n=d$,r=p$,i=!0,a=sl("start","brush","end"),o=6,s;function u(p){var y=p.property("__brush",g).selectAll(".overlay").data([Th("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mo.overlay).merge(y).each(function(){var w=F0(this).extent;gn(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),p.selectAll(".selection").data([Th("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var m=p.selectAll(".handle").data(e.handles,function(w){return w.type});m.exit().remove(),m.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return Mo[w.type]}),p.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(p,y,m){p.tween?p.on("start.brush",function(w){c(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){c(this,arguments).end(w)}).tween("brush",function(){var w=this,b=w.__brush,x=c(w,arguments),_=b.selection,S=e.input(typeof y=="function"?y.apply(this,arguments):y,b.extent),P=Ys(_,S);function C(B){b.selection=B===1&&S===null?null:P(B),l.call(w),x.brush()}return _!==null&&S!==null?C:C(1)}):p.each(function(){var w=this,b=arguments,x=w.__brush,_=e.input(typeof y=="function"?y.apply(w,b):y,x.extent),S=c(w,b).beforestart();Ru(w),x.selection=_===null?null:_,l.call(w),S.start(m).brush(m).end(m)})},u.clear=function(p,y){u.move(p,null,y)};function l(){var p=gn(this),y=F0(this).selection;y?(p.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(m){return m.type[m.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(m){return m.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(m){return m.type==="n"||m.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(m){return m.type==="e"||m.type==="w"?y[1][1]-y[0][1]+o:o})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(p,y,m){var w=p.__brush.emitter;return w&&(!m||!w.clean)?w:new h(p,y,m)}function h(p,y,m){this.that=p,this.args=y,this.state=p.__brush,this.active=0,this.clean=m}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,y){return this.starting?(this.starting=!1,this.emit("start",p,y)):this.emit("brush",p),this},brush:function(p,y){return this.emit("brush",p,y),this},end:function(p,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,y)),this},emit:function(p,y,m){var w=gn(this.that).datum();a.call(p,this.that,new u$(p,{sourceEvent:y,target:u,selection:e.output(this.state.selection),mode:m,dispatch:a}),w)}};function f(p){if(s&&!p.touches||!n.apply(this,arguments))return;var y=this,m=p.target.__data__.type,w=(i&&p.metaKey?m="overlay":m)==="selection"?V_:i&&p.altKey?Fl:Dl,b=e===Jv?null:f$[m],x=e===Qv?null:h$[m],_=F0(y),S=_.extent,P=_.selection,C=S[0][0],B,T,k=S[0][1],D,O,N=S[1][0],R,U,V=S[1][1],z,j,X=0,Q=0,te,he=b&&x&&i&&p.shiftKey,fe,ce,ee=Array.from(p.touches||[p],I=>{const F=I.identifier;return I=Ui(I,y),I.point0=I.slice(),I.identifier=F,I});Ru(y);var Ue=c(y,arguments,!0).beforestart();if(m==="overlay"){P&&(te=!0);const I=[ee[0],ee[1]||ee[0]];_.selection=P=[[B=e===Jv?C:Vr(I[0][0],I[1][0]),D=e===Qv?k:Vr(I[0][1],I[1][1])],[R=e===Jv?N:$r(I[0][0],I[1][0]),z=e===Qv?V:$r(I[0][1],I[1][1])]],ee.length>1&&Le(p)}else B=P[0][0],D=P[0][1],R=P[1][0],z=P[1][1];T=B,O=D,U=R,j=z;var be=gn(y).attr("pointer-events","none"),pe=be.selectAll(".overlay").attr("cursor",Mo[m]);if(p.touches)Ue.moved=re,Ue.ended=Oe;else{var Ae=gn(p.view).on("mousemove.brush",re,!0).on("mouseup.brush",Oe,!0);i&&Ae.on("keydown.brush",Ze,!0).on("keyup.brush",Y,!0),dm(p.view)}l.call(y),Ue.start(p,w.name);function re(I){for(const F of I.changedTouches||[I])for(const W of ee)W.identifier===F.identifier&&(W.cur=Ui(F,y));if(he&&!fe&&!ce&&ee.length===1){const F=ee[0];z_(F.cur[0]-F[0])>z_(F.cur[1]-F[1])?ce=!0:fe=!0}for(const F of ee)F.cur&&(F[0]=F.cur[0],F[1]=F.cur[1]);te=!0,M0(I),Le(I)}function Le(I){const F=ee[0],W=F.point0;var Z;switch(X=F[0]-W[0],Q=F[1]-W[1],w){case D0:case V_:{b&&(X=$r(C-B,Vr(N-R,X)),T=B+X,U=R+X),x&&(Q=$r(k-D,Vr(V-z,Q)),O=D+Q,j=z+Q);break}case Dl:{ee[1]?(b&&(T=$r(C,Vr(N,ee[0][0])),U=$r(C,Vr(N,ee[1][0])),b=1),x&&(O=$r(k,Vr(V,ee[0][1])),j=$r(k,Vr(V,ee[1][1])),x=1)):(b<0?(X=$r(C-B,Vr(N-B,X)),T=B+X,U=R):b>0&&(X=$r(C-R,Vr(N-R,X)),T=B,U=R+X),x<0?(Q=$r(k-D,Vr(V-D,Q)),O=D+Q,j=z):x>0&&(Q=$r(k-z,Vr(V-z,Q)),O=D,j=z+Q));break}case Fl:{b&&(T=$r(C,Vr(N,B-X*b)),U=$r(C,Vr(N,R+X*b))),x&&(O=$r(k,Vr(V,D-Q*x)),j=$r(k,Vr(V,z+Q*x)));break}}U<T&&(b*=-1,Z=B,B=R,R=Z,Z=T,T=U,U=Z,m in H_&&pe.attr("cursor",Mo[m=H_[m]])),j<O&&(x*=-1,Z=D,D=z,z=Z,Z=O,O=j,j=Z,m in G_&&pe.attr("cursor",Mo[m=G_[m]])),_.selection&&(P=_.selection),fe&&(T=P[0][0],U=P[1][0]),ce&&(O=P[0][1],j=P[1][1]),(P[0][0]!==T||P[0][1]!==O||P[1][0]!==U||P[1][1]!==j)&&(_.selection=[[T,O],[U,j]],l.call(y),Ue.brush(I,w.name))}function Oe(I){if(l$(I),I.touches){if(I.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else vm(I.view,te),Ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);be.attr("pointer-events","all"),pe.attr("cursor",Mo.overlay),_.selection&&(P=_.selection),g$(P)&&(_.selection=null,l.call(y)),Ue.end(I,w.name)}function Ze(I){switch(I.keyCode){case 16:{he=b&&x;break}case 18:{w===Dl&&(b&&(R=U-X*b,B=T+X*b),x&&(z=j-Q*x,D=O+Q*x),w=Fl,Le(I));break}case 32:{(w===Dl||w===Fl)&&(b<0?R=U-X:b>0&&(B=T-X),x<0?z=j-Q:x>0&&(D=O-Q),w=D0,pe.attr("cursor",Mo.selection),Le(I));break}default:return}M0(I)}function Y(I){switch(I.keyCode){case 16:{he&&(fe=ce=he=!1,Le(I));break}case 18:{w===Fl&&(b<0?R=U:b>0&&(B=T),x<0?z=j:x>0&&(D=O),w=Dl,Le(I));break}case 32:{w===D0&&(I.altKey?(b&&(R=U-X*b,B=T+X*b),x&&(z=j-Q*x,D=O+Q*x),w=Fl):(b<0?R=U:b>0&&(B=T),x<0?z=j:x>0&&(D=O),w=Dl),pe.attr("cursor",Mo[m]),Le(I));break}default:return}M0(I)}}function d(p){c(this,arguments).moved(p)}function v(p){c(this,arguments).ended(p)}function g(){var p=this.__brush||{selection:null};return p.extent=T1(t.apply(this,arguments)),p.dim=e,p}return u.extent=function(p){return arguments.length?(t=typeof p=="function"?p:I0(T1(p)),u):t},u.filter=function(p){return arguments.length?(n=typeof p=="function"?p:I0(!!p),u):n},u.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:I0(!!p),u):r},u.handleSize=function(p){return arguments.length?(o=+p,u):o},u.keyModifiers=function(p){return arguments.length?(i=!!p,u):i},u.on=function(){var p=a.on.apply(a,arguments);return p===a?u:p},u}var Y_=Math.abs,Bl=Math.cos,kl=Math.sin,oO=Math.PI,Yd=oO/2,X_=oO*2,W_=Math.max,B0=1e-12;function k0(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function x$(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function _$(){return Hw(!1,!1)}function S$(){return Hw(!1,!0)}function E$(){return Hw(!0,!1)}function Hw(e,t){var n=0,r=null,i=null,a=null;function o(s){var u=s.length,l=new Array(u),c=k0(0,u),h=new Array(u*u),f=new Array(u),d=0,v;s=Float64Array.from({length:u*u},t?(g,p)=>s[p%u][p/u|0]:(g,p)=>s[p/u|0][p%u]);for(let g=0;g<u;++g){let p=0;for(let y=0;y<u;++y)p+=s[g*u+y]+e*s[y*u+g];d+=l[g]=p}d=W_(0,X_-n*u)/d,v=d?n:X_/u;{let g=0;r&&c.sort((p,y)=>r(l[p],l[y]));for(const p of c){const y=g;if(e){const m=k0(~u+1,u).filter(w=>w<0?s[~w*u+p]:s[p*u+w]);i&&m.sort((w,b)=>i(w<0?-s[~w*u+p]:s[p*u+w],b<0?-s[~b*u+p]:s[p*u+b]));for(const w of m)if(w<0){const b=h[~w*u+p]||(h[~w*u+p]={source:null,target:null});b.target={index:p,startAngle:g,endAngle:g+=s[~w*u+p]*d,value:s[~w*u+p]}}else{const b=h[p*u+w]||(h[p*u+w]={source:null,target:null});b.source={index:p,startAngle:g,endAngle:g+=s[p*u+w]*d,value:s[p*u+w]}}f[p]={index:p,startAngle:y,endAngle:g,value:l[p]}}else{const m=k0(0,u).filter(w=>s[p*u+w]||s[w*u+p]);i&&m.sort((w,b)=>i(s[p*u+w],s[p*u+b]));for(const w of m){let b;if(p<w?(b=h[p*u+w]||(h[p*u+w]={source:null,target:null}),b.source={index:p,startAngle:g,endAngle:g+=s[p*u+w]*d,value:s[p*u+w]}):(b=h[w*u+p]||(h[w*u+p]={source:null,target:null}),b.target={index:p,startAngle:g,endAngle:g+=s[p*u+w]*d,value:s[p*u+w]},p===w&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){const x=b.source;b.source=b.target,b.target=x}}f[p]={index:p,startAngle:y,endAngle:g,value:l[p]}}g+=v}}return h=Object.values(h),h.groups=f,a?h.sort(a):h}return o.padAngle=function(s){return arguments.length?(n=W_(0,s),o):n},o.sortGroups=function(s){return arguments.length?(r=s,o):r},o.sortSubgroups=function(s){return arguments.length?(i=s,o):i},o.sortChords=function(s){return arguments.length?(s==null?a=null:(a=x$(s))._=s,o):a&&a._},o}const P1=Math.PI,O1=2*P1,gu=1e-6,A$=O1-gu;function sO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function C$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Jh=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sO:C$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=r-t,l=i-n,c=o-t,h=s-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>gu)if(!(Math.abs(h*u-l*c)>gu)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-o,v=i-s,g=u*u+l*l,p=d*d+v*v,y=Math.sqrt(g),m=Math.sqrt(f),w=a*Math.tan((P1-Math.acos((g+f-p)/(2*y*m)))/2),b=w/m,x=w/y;Math.abs(b-1)>gu&&this._append`L${t+b*c},${n+b*h}`,this._append`A${a},${a},0,0,${+(h*d>c*v)},${this._x1=t+x*u},${this._y1=n+x*l}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),l=t+s,c=n+u,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>gu||Math.abs(this._y1-c)>gu)&&this._append`L${l},${c}`,r&&(f<0&&(f=f%O1+O1),f>A$?this._append`A${r},${r},0,1,${h},${t-s},${n-u}A${r},${r},0,1,${h},${this._x1=l},${this._y1=c}`:f>gu&&this._append`A${r},${r},0,${+(f>=P1)},${h},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Gw(){return new Jh}Gw.prototype=Jh.prototype;function T$(e=3){return new Jh(+e)}var P$=Array.prototype.slice;function lu(e){return function(){return e}}function O$(e){return e.source}function I$(e){return e.target}function K_(e){return e.radius}function M$(e){return e.startAngle}function D$(e){return e.endAngle}function F$(){return 0}function B$(){return 10}function uO(e){var t=O$,n=I$,r=K_,i=K_,a=M$,o=D$,s=F$,u=null;function l(){var c,h=t.apply(this,arguments),f=n.apply(this,arguments),d=s.apply(this,arguments)/2,v=P$.call(arguments),g=+r.apply(this,(v[0]=h,v)),p=a.apply(this,v)-Yd,y=o.apply(this,v)-Yd,m=+i.apply(this,(v[0]=f,v)),w=a.apply(this,v)-Yd,b=o.apply(this,v)-Yd;if(u||(u=c=Gw()),d>B0&&(Y_(y-p)>d*2+B0?y>p?(p+=d,y-=d):(p-=d,y+=d):p=y=(p+y)/2,Y_(b-w)>d*2+B0?b>w?(w+=d,b-=d):(w-=d,b+=d):w=b=(w+b)/2),u.moveTo(g*Bl(p),g*kl(p)),u.arc(0,0,g,p,y),p!==w||y!==b)if(e){var x=+e.apply(this,arguments),_=m-x,S=(w+b)/2;u.quadraticCurveTo(0,0,_*Bl(w),_*kl(w)),u.lineTo(m*Bl(S),m*kl(S)),u.lineTo(_*Bl(b),_*kl(b))}else u.quadraticCurveTo(0,0,m*Bl(w),m*kl(w)),u.arc(0,0,m,w,b);if(u.quadraticCurveTo(0,0,g*Bl(p),g*kl(p)),u.closePath(),c)return u=null,c+""||null}return e&&(l.headRadius=function(c){return arguments.length?(e=typeof c=="function"?c:lu(+c),l):e}),l.radius=function(c){return arguments.length?(r=i=typeof c=="function"?c:lu(+c),l):r},l.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:lu(+c),l):r},l.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:lu(+c),l):i},l.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:lu(+c),l):a},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:lu(+c),l):o},l.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:lu(+c),l):s},l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(n=c,l):n},l.context=function(c){return arguments.length?(u=c??null,l):u},l}function k$(){return uO()}function R$(){return uO(B$)}var L$=Array.prototype,lO=L$.slice;function N$(e,t){return e-t}function U$(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}const bs=e=>()=>e;function $$(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=V$(e,t[n]))return i;return 0}function V$(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var u=e[a],l=u[0],c=u[1],h=e[s],f=h[0],d=h[1];if(z$(u,h,t))return 0;c>r!=d>r&&n<(f-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function z$(e,t,n){var r;return j$(e,t,n)&&H$(e[r=+(e[0]===t[0])],n[r],t[r])}function j$(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function H$(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function G$(){}var Do=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function I1(){var e=1,t=1,n=Sw,r=u;function i(l){var c=n(l);if(Array.isArray(c))c=c.slice().sort(N$);else{const h=Qf(l,Y$);for(c=Hu(..._w(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>a(l,h))}function a(l,c){const h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var f=[],d=[];return o(l,h,function(v){r(v,l,h),U$(v)>0?f.push([v]):d.push(v)}),d.forEach(function(v){for(var g=0,p=f.length,y;g<p;++g)if($$((y=f[g])[0],v)!==-1){y.push(v);return}}),{type:"MultiPolygon",value:c,coordinates:f}}function o(l,c,h){var f=new Array,d=new Array,v,g,p,y,m,w;for(v=g=-1,y=cu(l[0],c),Do[y<<1].forEach(b);++v<e-1;)p=y,y=cu(l[v+1],c),Do[p|y<<1].forEach(b);for(Do[y<<0].forEach(b);++g<t-1;){for(v=-1,y=cu(l[g*e+e],c),m=cu(l[g*e],c),Do[y<<1|m<<2].forEach(b);++v<e-1;)p=y,y=cu(l[g*e+e+v+1],c),w=m,m=cu(l[g*e+v+1],c),Do[p|y<<1|m<<2|w<<3].forEach(b);Do[y|m<<3].forEach(b)}for(v=-1,m=l[g*e]>=c,Do[m<<2].forEach(b);++v<e-1;)w=m,m=cu(l[g*e+v+1],c),Do[m<<2|w<<3].forEach(b);Do[m<<3].forEach(b);function b(x){var _=[x[0][0]+v,x[0][1]+g],S=[x[1][0]+v,x[1][1]+g],P=s(_),C=s(S),B,T;(B=d[P])?(T=f[C])?(delete d[B.end],delete f[T.start],B===T?(B.ring.push(S),h(B.ring)):f[B.start]=d[T.end]={start:B.start,end:T.end,ring:B.ring.concat(T.ring)}):(delete d[B.end],B.ring.push(S),d[B.end=C]=B):(B=f[C])?(T=d[P])?(delete f[B.start],delete d[T.end],B===T?(B.ring.push(S),h(B.ring)):f[T.start]=d[B.end]={start:T.start,end:B.end,ring:T.ring.concat(B.ring)}):(delete f[B.start],B.ring.unshift(_),f[B.start=P]=B):f[P]=d[C]={start:P,end:C,ring:[_,S]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function u(l,c,h){l.forEach(function(f){var d=f[0],v=f[1],g=d|0,p=v|0,y=R0(c[p*e+g]);d>0&&d<e&&g===d&&(f[0]=q_(d,R0(c[p*e+g-1]),y,h)),v>0&&v<t&&p===v&&(f[1]=q_(v,R0(c[(p-1)*e+g]),y,h))})}return i.contour=a,i.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),h=Math.floor(l[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return e=c,t=h,i},i.thresholds=function(l){return arguments.length?(n=typeof l=="function"?l:Array.isArray(l)?bs(lO.call(l)):bs(l),i):n},i.smooth=function(l){return arguments.length?(r=l?u:G$,i):r===u},i}function Y$(e){return isFinite(e)?e:NaN}function cu(e,t){return e==null?!1:+e>=t}function R0(e){return e==null||isNaN(e=+e)?-1/0:e}function q_(e,t,n,r){const i=r-t,a=n-t,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?e:e+o-.5}function X$(e){return e[0]}function W$(e){return e[1]}function K$(){return 1}function q$(){var e=X$,t=W$,n=K$,r=960,i=500,a=20,o=2,s=a*3,u=r+s*2>>o,l=i+s*2>>o,c=bs(20);function h(m){var w=new Float32Array(u*l),b=Math.pow(2,-o),x=-1;for(const D of m){var _=(e(D,++x,m)+s)*b,S=(t(D,x,m)+s)*b,P=+n(D,x,m);if(P&&_>=0&&_<u&&S>=0&&S<l){var C=Math.floor(_),B=Math.floor(S),T=_-C-.5,k=S-B-.5;w[C+B*u]+=(1-T)*(1-k)*P,w[C+1+B*u]+=T*(1-k)*P,w[C+1+(B+1)*u]+=T*k*P,w[C+(B+1)*u]+=(1-T)*k*P}}return $T({data:w,width:u,height:l},a*b),w}function f(m){var w=h(m),b=c(w),x=Math.pow(2,2*o);return Array.isArray(b)||(b=Hu(Number.MIN_VALUE,Ec(w)/x,b)),I1().size([u,l]).thresholds(b.map(_=>_*x))(w).map((_,S)=>(_.value=+b[S],d(_)))}f.contours=function(m){var w=h(m),b=I1().size([u,l]),x=Math.pow(2,2*o),_=S=>{S=+S;var P=d(b.contour(w,S*x));return P.value=S,P};return Object.defineProperty(_,"max",{get:()=>Ec(w)/x}),_};function d(m){return m.coordinates.forEach(v),m}function v(m){m.forEach(g)}function g(m){m.forEach(p)}function p(m){m[0]=m[0]*Math.pow(2,o)-s,m[1]=m[1]*Math.pow(2,o)-s}function y(){return s=a*3,u=r+s*2>>o,l=i+s*2>>o,f}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:bs(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:bs(+m),f):t},f.weight=function(m){return arguments.length?(n=typeof m=="function"?m:bs(+m),f):n},f.size=function(m){if(!arguments.length)return[r,i];var w=+m[0],b=+m[1];if(!(w>=0&&b>=0))throw new Error("invalid size");return r=w,i=b,y()},f.cellSize=function(m){if(!arguments.length)return 1<<o;if(!((m=+m)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(m)/Math.LN2),y()},f.thresholds=function(m){return arguments.length?(c=typeof m=="function"?m:Array.isArray(m)?bs(lO.call(m)):bs(m),f):c},f.bandwidth=function(m){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*m*m+1)-1)/2,y()},f}const jo=11102230246251565e-32,zr=134217729,Z$=(3+8*jo)*jo;function L0(e,t,n,r,i){let a,o,s,u,l=t[0],c=r[0],h=0,f=0;c>l==c>-l?(a=l,l=t[++h]):(a=c,c=r[++f]);let d=0;if(h<e&&f<n)for(c>l==c>-l?(o=l+a,s=a-(o-l),l=t[++h]):(o=c+a,s=a-(o-c),c=r[++f]),a=o,s!==0&&(i[d++]=s);h<e&&f<n;)c>l==c>-l?(o=a+l,u=o-a,s=a-(o-u)+(l-u),l=t[++h]):(o=a+c,u=o-a,s=a-(o-u)+(c-u),c=r[++f]),a=o,s!==0&&(i[d++]=s);for(;h<e;)o=a+l,u=o-a,s=a-(o-u)+(l-u),l=t[++h],a=o,s!==0&&(i[d++]=s);for(;f<n;)o=a+c,u=o-a,s=a-(o-u)+(c-u),c=r[++f],a=o,s!==0&&(i[d++]=s);return(a!==0||d===0)&&(i[d++]=a),d}function Q$(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function ed(e){return new Float64Array(e)}const J$=(3+16*jo)*jo,eV=(2+12*jo)*jo,tV=(9+64*jo)*jo*jo,Rl=ed(4),Z_=ed(8),Q_=ed(12),J_=ed(16),Zr=ed(4);function nV(e,t,n,r,i,a,o){let s,u,l,c,h,f,d,v,g,p,y,m,w,b,x,_,S,P;const C=e-i,B=n-i,T=t-a,k=r-a;b=C*k,f=zr*C,d=f-(f-C),v=C-d,f=zr*k,g=f-(f-k),p=k-g,x=v*p-(b-d*g-v*g-d*p),_=T*B,f=zr*T,d=f-(f-T),v=T-d,f=zr*B,g=f-(f-B),p=B-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Rl[0]=x-(y+h)+(h-S),m=b+y,h=m-b,w=b-(m-h)+(y-h),y=w-_,h=w-y,Rl[1]=w-(y+h)+(h-_),P=m+y,h=P-m,Rl[2]=m-(P-h)+(y-h),Rl[3]=P;let D=Q$(4,Rl),O=eV*o;if(D>=O||-D>=O||(h=e-C,s=e-(C+h)+(h-i),h=n-B,l=n-(B+h)+(h-i),h=t-T,u=t-(T+h)+(h-a),h=r-k,c=r-(k+h)+(h-a),s===0&&u===0&&l===0&&c===0)||(O=tV*o+Z$*Math.abs(D),D+=C*c+k*s-(T*l+B*u),D>=O||-D>=O))return D;b=s*k,f=zr*s,d=f-(f-s),v=s-d,f=zr*k,g=f-(f-k),p=k-g,x=v*p-(b-d*g-v*g-d*p),_=u*B,f=zr*u,d=f-(f-u),v=u-d,f=zr*B,g=f-(f-B),p=B-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Zr[0]=x-(y+h)+(h-S),m=b+y,h=m-b,w=b-(m-h)+(y-h),y=w-_,h=w-y,Zr[1]=w-(y+h)+(h-_),P=m+y,h=P-m,Zr[2]=m-(P-h)+(y-h),Zr[3]=P;const N=L0(4,Rl,4,Zr,Z_);b=C*c,f=zr*C,d=f-(f-C),v=C-d,f=zr*c,g=f-(f-c),p=c-g,x=v*p-(b-d*g-v*g-d*p),_=T*l,f=zr*T,d=f-(f-T),v=T-d,f=zr*l,g=f-(f-l),p=l-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Zr[0]=x-(y+h)+(h-S),m=b+y,h=m-b,w=b-(m-h)+(y-h),y=w-_,h=w-y,Zr[1]=w-(y+h)+(h-_),P=m+y,h=P-m,Zr[2]=m-(P-h)+(y-h),Zr[3]=P;const R=L0(N,Z_,4,Zr,Q_);b=s*c,f=zr*s,d=f-(f-s),v=s-d,f=zr*c,g=f-(f-c),p=c-g,x=v*p-(b-d*g-v*g-d*p),_=u*l,f=zr*u,d=f-(f-u),v=u-d,f=zr*l,g=f-(f-l),p=l-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Zr[0]=x-(y+h)+(h-S),m=b+y,h=m-b,w=b-(m-h)+(y-h),y=w-_,h=w-y,Zr[1]=w-(y+h)+(h-_),P=m+y,h=P-m,Zr[2]=m-(P-h)+(y-h),Zr[3]=P;const U=L0(R,Q_,4,Zr,J_);return J_[U-1]}function Xd(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),u=o-s,l=Math.abs(o+s);return Math.abs(u)>=J$*l?u:-nV(e,t,n,r,i,a,l)}const eS=Math.pow(2,-52),Wd=new Uint32Array(512);class Xp{static from(t,n=sV,r=uV){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=t[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new Xp(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let s=1/0,u=1/0,l=-1/0,c=-1/0;for(let C=0;C<o;C++){const B=t[2*C],T=t[2*C+1];B<s&&(s=B),T<u&&(u=T),B>l&&(l=B),T>c&&(c=T),this._ids[C]=C}const h=(s+l)/2,f=(u+c)/2;let d,v,g;for(let C=0,B=1/0;C<o;C++){const T=N0(h,f,t[2*C],t[2*C+1]);T<B&&(d=C,B=T)}const p=t[2*d],y=t[2*d+1];for(let C=0,B=1/0;C<o;C++){if(C===d)continue;const T=N0(p,y,t[2*C],t[2*C+1]);T<B&&T>0&&(v=C,B=T)}let m=t[2*v],w=t[2*v+1],b=1/0;for(let C=0;C<o;C++){if(C===d||C===v)continue;const B=aV(p,y,m,w,t[2*C],t[2*C+1]);B<b&&(g=C,b=B)}let x=t[2*g],_=t[2*g+1];if(b===1/0){for(let T=0;T<o;T++)this._dists[T]=t[2*T]-t[0]||t[2*T+1]-t[1];ac(this._ids,this._dists,0,o-1);const C=new Uint32Array(o);let B=0;for(let T=0,k=-1/0;T<o;T++){const D=this._ids[T],O=this._dists[D];O>k&&(C[B++]=D,k=O)}this.hull=C.subarray(0,B),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Xd(p,y,m,w,x,_)<0){const C=v,B=m,T=w;v=g,m=x,w=_,g=C,x=B,_=T}const S=oV(p,y,m,w,x,_);this._cx=S.x,this._cy=S.y;for(let C=0;C<o;C++)this._dists[C]=N0(t[2*C],t[2*C+1],S.x,S.y);ac(this._ids,this._dists,0,o-1),this._hullStart=d;let P=3;r[d]=n[g]=v,r[v]=n[d]=g,r[g]=n[v]=d,i[d]=0,i[v]=1,i[g]=2,a.fill(-1),a[this._hashKey(p,y)]=d,a[this._hashKey(m,w)]=v,a[this._hashKey(x,_)]=g,this.trianglesLen=0,this._addTriangle(d,v,g,-1,-1,-1);for(let C=0,B,T;C<this._ids.length;C++){const k=this._ids[C],D=t[2*k],O=t[2*k+1];if(C>0&&Math.abs(D-B)<=eS&&Math.abs(O-T)<=eS||(B=D,T=O,k===d||k===v||k===g))continue;let N=0;for(let j=0,X=this._hashKey(D,O);j<this._hashSize&&(N=a[(X+j)%this._hashSize],!(N!==-1&&N!==r[N]));j++);N=n[N];let R=N,U;for(;U=r[R],Xd(D,O,t[2*R],t[2*R+1],t[2*U],t[2*U+1])>=0;)if(R=U,R===N){R=-1;break}if(R===-1)continue;let V=this._addTriangle(R,k,r[R],-1,-1,i[R]);i[k]=this._legalize(V+2),i[R]=V,P++;let z=r[R];for(;U=r[z],Xd(D,O,t[2*z],t[2*z+1],t[2*U],t[2*U+1])<0;)V=this._addTriangle(z,k,U,i[k],-1,i[z]),i[k]=this._legalize(V+2),r[z]=z,P--,z=U;if(R===N)for(;U=n[R],Xd(D,O,t[2*U],t[2*U+1],t[2*R],t[2*R+1])<0;)V=this._addTriangle(U,k,R,-1,i[R],i[U]),this._legalize(V+2),i[U]=V,r[R]=R,P--,R=U;this._hullStart=n[k]=R,r[R]=n[z]=k,r[k]=z,a[this._hashKey(D,O)]=k,a[this._hashKey(t[2*R],t[2*R+1])]=R}this.hull=new Uint32Array(P);for(let C=0,B=this._hullStart;C<P;C++)this.hull[C]=B,B=r[B];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(rV(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[t],u=t-t%3;if(o=u+(t+2)%3,s===-1){if(a===0)break;t=Wd[--a];continue}const l=s-s%3,c=u+(t+1)%3,h=l+(s+2)%3,f=n[o],d=n[t],v=n[c],g=n[h];if(iV(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*v],i[2*v+1],i[2*g],i[2*g+1])){n[t]=g,n[s]=f;const y=r[h];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===h){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,y),this._link(s,r[o]),this._link(o,h);const m=l+(s+1)%3;a<Wd.length&&(Wd[a++]=m)}else{if(a===0)break;t=Wd[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function rV(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function N0(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function iV(e,t,n,r,i,a,o,s){const u=e-o,l=t-s,c=n-o,h=r-s,f=i-o,d=a-s,v=u*u+l*l,g=c*c+h*h,p=f*f+d*d;return u*(h*p-g*d)-l*(c*p-g*f)+v*(c*d-h*f)<0}function aV(e,t,n,r,i,a){const o=n-e,s=r-t,u=i-e,l=a-t,c=o*o+s*s,h=u*u+l*l,f=.5/(o*l-s*u),d=(l*c-s*h)*f,v=(o*h-u*c)*f;return d*d+v*v}function oV(e,t,n,r,i,a){const o=n-e,s=r-t,u=i-e,l=a-t,c=o*o+s*s,h=u*u+l*l,f=.5/(o*l-s*u),d=e+(l*c-s*h)*f,v=t+(o*h-u*c)*f;return{x:d,y:v}}function ac(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;wf(e,i,a),t[e[n]]>t[e[r]]&&wf(e,n,r),t[e[a]]>t[e[r]]&&wf(e,a,r),t[e[n]]>t[e[a]]&&wf(e,n,a);const s=e[a],u=t[s];for(;;){do a++;while(t[e[a]]<u);do o--;while(t[e[o]]>u);if(o<a)break;wf(e,a,o)}e[n+1]=e[o],e[o]=s,r-a+1>=o-n?(ac(e,t,a,r),ac(e,t,n,o-1)):(ac(e,t,n,o-1),ac(e,t,a,r))}}function wf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function sV(e){return e[0]}function uV(e){return e[1]}const tS=1e-6;class Pu{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>tS||Math.abs(this._y1-a)>tS)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}let M1=class{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}};class cO{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let a,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,p=0,y=r.length,m,w;g<y;g+=3,p+=2){const b=r[g]*2,x=r[g+1]*2,_=r[g+2]*2,S=t[b],P=t[b+1],C=t[x],B=t[x+1],T=t[_],k=t[_+1],D=C-S,O=B-P,N=T-S,R=k-P,U=(D*R-O*N)*2;if(Math.abs(U)<1e-9){if(a===void 0){a=o=0;for(const z of n)a+=t[z*2],o+=t[z*2+1];a/=n.length,o/=n.length}const V=1e9*Math.sign((a-S)*R-(o-P)*N);m=(S+T)/2-V*R,w=(P+k)/2+V*N}else{const V=1/U,z=D*D+O*O,j=N*N+R*R;m=S+(R*z-O*j)*V,w=P+(D*j-N*z)*V}s[p]=m,s[p+1]=w}let u=n[n.length-1],l,c=u*4,h,f=t[2*u],d,v=t[2*u+1];i.fill(0);for(let g=0;g<n.length;++g)u=n[g],l=c,h=f,d=v,c=u*4,f=t[2*u],v=t[2*u+1],i[l+2]=i[c]=d-v,i[l+3]=i[c+1]=f-h}render(t){const n=t==null?t=new Pu:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let c=0,h=r.length;c<h;++c){const f=r[c];if(f<c)continue;const d=Math.floor(c/3)*2,v=Math.floor(f/3)*2,g=o[d],p=o[d+1],y=o[v],m=o[v+1];this._renderSegment(g,p,y,m,t)}let u,l=a[a.length-1];for(let c=0;c<a.length;++c){u=l,l=a[c];const h=Math.floor(i[l]/3)*2,f=o[h],d=o[h+1],v=u*4,g=this._project(f,d,s[v+2],s[v+3]);g&&this._renderSegment(f,d,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Pu:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Pu:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new M1;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const s=this._regioncode(t,n),u=this._regioncode(r,i);s===0&&u===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,s,u))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,u=i.length;s<u;s+=2)if(n[a]===i[s]&&n[a+1]===i[s+1]&&n[(a+2)%o]===i[(s+u-2)%u]&&n[(a+3)%o]===i[(s+u-1)%u]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const s=[];let u=o;do{const l=Math.floor(u/3);if(s.push(n[l*2],n[l*2+1]),u=u%3===2?u-2:u+1,a[u]!==t)break;u=i[u]}while(u!==o&&u!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,a,o,s=n[r-2],u=n[r-1],l,c=this._regioncode(s,u),h,f=0;for(let d=0;d<r;d+=2)if(a=s,o=u,s=n[d],u=n[d+1],l=c,c=this._regioncode(s,u),l===0&&c===0)h=f,f=0,i?i.push(s,u):i=[s,u];else{let v,g,p,y,m;if(l===0){if((v=this._clipSegment(a,o,s,u,l,c))===null)continue;[g,p,y,m]=v}else{if((v=this._clipSegment(s,u,a,o,c,l))===null)continue;[y,m,g,p]=v,h=f,f=this._edgecode(g,p),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(g,p):i=[g,p]}h=f,f=this._edgecode(y,m),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(y,m):i=[y,m]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(t,h,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){const s=a<o;for(s&&([t,n,r,i,a,o]=[r,i,t,n,o,a]);;){if(a===0&&o===0)return s?[r,i,t,n]:[t,n,r,i];if(a&o)return null;let u,l,c=a||o;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),a?(t=u,n=l,a=this._regioncode(t,n)):(r=u,i=l,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let s=Array.from(n),u;if((u=this._project(s[0],s[1],r,i))&&s.unshift(u[0],u[1]),(u=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(u[0],u[1]),s=this._clipFinite(t,s))for(let l=0,c=s.length,h,f=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)h=f,f=this._edgecode(s[l],s[l+1]),h&&f&&(l=this._edge(t,h,f,s,l),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(t,o,s)&&(i.splice(a,0,o,s),a+=2)}return a}_project(t,n,r,i){let a=1/0,o,s,u;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(u=this.ymin,s=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(u=this.ymax,s=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(s=this.xmax,u=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(s=this.xmin,u=n+(a=o)*i)}return[s,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}}const lV=2*Math.PI,Ll=Math.pow;function cV(e){return e[0]}function fV(e){return e[1]}function hV(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function dV(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Yw{static from(t,n=cV,r=fV,i){return new Yw("length"in t?vV(t,n,r,i):Float64Array.from(pV(t,n,r,i)))}constructor(t){this._delaunator=new Xp(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&hV(t)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const u=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[n[2*u],n[2*u+1],n[2*l],n[2*l+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,d=n.length/2;f<d;++f){const v=dV(n[2*f],n[2*f+1],h);n[2*f]=v[0],n[2*f+1]=v[1]}this._delaunator=new Xp(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let u=0,l=r.length;u<l;++u){const c=a[u%3===2?u-2:u+1];(r[u]===-1||o[c]===-1)&&(o[c]=u)}for(let u=0,l=i.length;u<l;++u)s[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new cO(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const h=s.indexOf(t);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const u=n[t];if(u===-1)return;let l=u,c=-1;do{if(yield c=o[l],l=l%3===2?l-2:l+1,o[l]!==t)return;if(l=a[l],l===-1){const h=r[(i[t]+1)%r.length];h!==c&&(yield h);return}}while(l!==u)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:u,points:l}=this;if(i[t]===-1||!l.length)return(t+1)%(l.length>>1);let c=t,h=Ll(n-l[t*2],2)+Ll(r-l[t*2+1],2);const f=i[t];let d=f;do{let v=u[d];const g=Ll(n-l[v*2],2)+Ll(r-l[v*2+1],2);if(g<h&&(h=g,c=v),d=d%3===2?d-2:d+1,u[d]!==t)break;if(d=s[d],d===-1){if(d=a[(o[t]+1)%a.length],d!==v&&Ll(n-l[d*2],2)+Ll(r-l[d*2+1],2)<h)return d;break}}while(d!==f);return c}render(t){const n=t==null?t=new Pu:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const u=i[o];if(u<o)continue;const l=a[o]*2,c=a[u]*2;t.moveTo(r[l],r[l+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Pu:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],u=i[a+1];t.moveTo(s+n,u),t.arc(s,u,n,0,lV)}return r&&r.value()}renderHull(t){const n=t==null?t=new Pu:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const u=2*r[s];t.lineTo(i[u],i[u+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new M1;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Pu:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,s=a[t+1]*2,u=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[u],i[u+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new M1;return this.renderTriangle(t,n),n.value()}}function vV(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=e[o];a[o*2]=t.call(r,s,o,e),a[o*2+1]=n.call(r,s,o,e)}return a}function*pV(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}var nS={},U0={},$0=34,xf=10,V0=13;function fO(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function gV(e,t){var n=fO(e);return function(r,i){return t(n(r),i,e)}}function rS(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ei(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function mV(e){return e<0?"-"+Ei(-e,6):e>9999?"+"+Ei(e,6):Ei(e,4)}function yV(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":mV(e.getUTCFullYear())+"-"+Ei(e.getUTCMonth()+1,2)+"-"+Ei(e.getUTCDate(),2)+(i?"T"+Ei(t,2)+":"+Ei(n,2)+":"+Ei(r,2)+"."+Ei(i,3)+"Z":r?"T"+Ei(t,2)+":"+Ei(n,2)+":"+Ei(r,2)+"Z":n||t?"T"+Ei(t,2)+":"+Ei(n,2)+"Z":"")}function Sm(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(h,f){var d,v,g=i(h,function(p,y){if(d)return d(p,y-1);v=p,d=f?gV(p,f):fO(p)});return g.columns=v||[],g}function i(h,f){var d=[],v=h.length,g=0,p=0,y,m=v<=0,w=!1;h.charCodeAt(v-1)===xf&&--v,h.charCodeAt(v-1)===V0&&--v;function b(){if(m)return U0;if(w)return w=!1,nS;var _,S=g,P;if(h.charCodeAt(S)===$0){for(;g++<v&&h.charCodeAt(g)!==$0||h.charCodeAt(++g)===$0;);return(_=g)>=v?m=!0:(P=h.charCodeAt(g++))===xf?w=!0:P===V0&&(w=!0,h.charCodeAt(g)===xf&&++g),h.slice(S+1,_-1).replace(/""/g,'"')}for(;g<v;){if((P=h.charCodeAt(_=g++))===xf)w=!0;else if(P===V0)w=!0,h.charCodeAt(g)===xf&&++g;else if(P!==n)continue;return h.slice(S,_)}return m=!0,h.slice(S,v)}for(;(y=b())!==U0;){for(var x=[];y!==nS&&y!==U0;)x.push(y),y=b();f&&(x=f(x,p++))==null||d.push(x)}return d}function a(h,f){return h.map(function(d){return f.map(function(v){return c(d[v])}).join(e)})}function o(h,f){return f==null&&(f=rS(h)),[f.map(c).join(e)].concat(a(h,f)).join(`
`)}function s(h,f){return f==null&&(f=rS(h)),a(h,f).join(`
`)}function u(h){return h.map(l).join(`
`)}function l(h){return h.map(c).join(e)}function c(h){return h==null?"":h instanceof Date?yV(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:u,formatRow:l,formatValue:c}}var ll=Sm(","),hO=ll.parse,bV=ll.parseRows,wV=ll.format,xV=ll.formatBody,_V=ll.formatRows,SV=ll.formatRow,EV=ll.formatValue,cl=Sm("	"),dO=cl.parse,AV=cl.parseRows,CV=cl.format,TV=cl.formatBody,PV=cl.formatRows,OV=cl.formatRow,IV=cl.formatValue;function MV(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))DV&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const DV=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function FV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function BV(e,t){return fetch(e,t).then(FV)}function kV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function RV(e,t){return fetch(e,t).then(kV)}function LV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Em(e,t){return fetch(e,t).then(LV)}function vO(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Em(t,n).then(function(i){return e(i,r)})}}function NV(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Sm(e);return Em(t,n).then(function(a){return i.parse(a,r)})}var UV=vO(hO),$V=vO(dO);function VV(e,t){return new Promise(function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e})}function zV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function jV(e,t){return fetch(e,t).then(zV)}function Xw(e){return(t,n)=>Em(t,n).then(r=>new DOMParser().parseFromString(r,e))}const HV=Xw("application/xml");var GV=Xw("text/html"),YV=Xw("image/svg+xml");function XV(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,o=n.length,s,u=0,l=0;for(a=0;a<o;++a)s=n[a],u+=s.x,l+=s.y;for(u=(u/o-e)*r,l=(l/o-t)*r,a=0;a<o;++a)s=n[a],s.x-=u,s.y-=l}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function WV(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return pO(this.cover(t,n),t,n,e)}function pO(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,u=e._y0,l=e._x1,c=e._y1,h,f,d,v,g,p,y,m;if(!a)return e._root=o,e;for(;a.length;)if((g=t>=(h=(s+l)/2))?s=h:l=h,(p=n>=(f=(u+c)/2))?u=f:c=f,i=a,!(a=a[y=p<<1|g]))return i[y]=o,e;if(d=+e._x.call(null,a.data),v=+e._y.call(null,a.data),t===d&&n===v)return o.next=a,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(h=(s+l)/2))?s=h:l=h,(p=n>=(f=(u+c)/2))?u=f:c=f;while((y=p<<1|g)===(m=(v>=f)<<1|d>=h));return i[m]=a,i[y]=o,e}function KV(e){var t,n,r=e.length,i,a,o=new Array(r),s=new Array(r),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,s[n]=a,i<u&&(u=i),i>c&&(c=i),a<l&&(l=a),a>h&&(h=a));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<r;++n)pO(this,o[n],s[n],e[n]);return this}function qV(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n||1,s=this._root,u,l;n>e||e>=i||r>t||t>=a;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=s,s=u,o*=2,l){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function ZV(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function QV(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ii(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function JV(e,t,n){var r,i=this._x0,a=this._y0,o,s,u,l,c=this._x1,h=this._y1,f=[],d=this._root,v,g;for(d&&f.push(new ii(d,i,a,c,h)),n==null?n=1/0:(i=e-n,a=t-n,c=e+n,h=t+n,n*=n);v=f.pop();)if(!(!(d=v.node)||(o=v.x0)>c||(s=v.y0)>h||(u=v.x1)<i||(l=v.y1)<a))if(d.length){var p=(o+u)/2,y=(s+l)/2;f.push(new ii(d[3],p,y,u,l),new ii(d[2],o,y,p,l),new ii(d[1],p,s,u,y),new ii(d[0],o,s,p,y)),(g=(t>=y)<<1|e>=p)&&(v=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=v)}else{var m=e-+this._x.call(null,d.data),w=t-+this._y.call(null,d.data),b=m*m+w*w;if(b<n){var x=Math.sqrt(n=b);i=e-x,a=t-x,c=e+x,h=t+x,r=d.data}}return r}function ez(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,u=this._x1,l=this._y1,c,h,f,d,v,g,p,y;if(!n)return this;if(n.length)for(;;){if((v=c>=(f=(o+u)/2))?o=f:u=f,(g=h>=(d=(s+l)/2))?s=d:l=d,t=n,!(n=n[p=g<<1|v]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(r=t,y=p)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[p]=a:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function tz(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function nz(){return this._root}function rz(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function iz(e){var t=[],n,r=this._root,i,a,o,s,u;for(r&&t.push(new ii(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,u=n.y1)&&r.length){var l=(a+s)/2,c=(o+u)/2;(i=r[3])&&t.push(new ii(i,l,c,s,u)),(i=r[2])&&t.push(new ii(i,a,c,l,u)),(i=r[1])&&t.push(new ii(i,l,o,s,c)),(i=r[0])&&t.push(new ii(i,a,o,l,c))}return this}function az(e){var t=[],n=[],r;for(this._root&&t.push(new ii(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,u=r.x1,l=r.y1,c=(o+u)/2,h=(s+l)/2;(a=i[0])&&t.push(new ii(a,o,s,c,h)),(a=i[1])&&t.push(new ii(a,c,s,u,h)),(a=i[2])&&t.push(new ii(a,o,h,c,l)),(a=i[3])&&t.push(new ii(a,c,h,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function oz(e){return e[0]}function sz(e){return arguments.length?(this._x=e,this):this._x}function uz(e){return e[1]}function lz(e){return arguments.length?(this._y=e,this):this._y}function Am(e,t,n){var r=new Ww(t??oz,n??uz,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Ww(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function iS(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var hi=Am.prototype=Ww.prototype;hi.copy=function(){var e=new Ww(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=iS(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=iS(r));return e};hi.add=WV;hi.addAll=KV;hi.cover=qV;hi.data=ZV;hi.extent=QV;hi.find=JV;hi.remove=ez;hi.removeAll=tz;hi.root=nz;hi.size=rz;hi.visit=iz;hi.visitAfter=az;hi.x=sz;hi.y=lz;function ur(e){return function(){return e}}function Ts(e){return(e()-.5)*1e-6}function cz(e){return e.x+e.vx}function fz(e){return e.y+e.vy}function hz(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=ur(e==null?1:+e));function o(){for(var l,c=t.length,h,f,d,v,g,p,y=0;y<a;++y)for(h=Am(t,cz,fz).visitAfter(s),l=0;l<c;++l)f=t[l],g=n[f.index],p=g*g,d=f.x+f.vx,v=f.y+f.vy,h.visit(m);function m(w,b,x,_,S){var P=w.data,C=w.r,B=g+C;if(P){if(P.index>f.index){var T=d-P.x-P.vx,k=v-P.y-P.vy,D=T*T+k*k;D<B*B&&(T===0&&(T=Ts(r),D+=T*T),k===0&&(k=Ts(r),D+=k*k),D=(B-(D=Math.sqrt(D)))/D*i,f.vx+=(T*=D)*(B=(C*=C)/(p+C)),f.vy+=(k*=D)*B,P.vx-=T*(B=1-B),P.vy-=k*B)}return}return b>d+B||_<d-B||x>v+B||S<v-B}}function s(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,h;for(n=new Array(c),l=0;l<c;++l)h=t[l],n[h.index]=+e(h,l,t)}}return o.initialize=function(l,c){t=l,r=c,u()},o.iterations=function(l){return arguments.length?(a=+l,o):a},o.strength=function(l){return arguments.length?(i=+l,o):i},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:ur(+l),u(),o):e},o}function dz(e){return e.index}function aS(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function vz(e){var t=dz,n=h,r,i=ur(30),a,o,s,u,l,c=1;e==null&&(e=[]);function h(p){return 1/Math.min(s[p.source.index],s[p.target.index])}function f(p){for(var y=0,m=e.length;y<c;++y)for(var w=0,b,x,_,S,P,C,B;w<m;++w)b=e[w],x=b.source,_=b.target,S=_.x+_.vx-x.x-x.vx||Ts(l),P=_.y+_.vy-x.y-x.vy||Ts(l),C=Math.sqrt(S*S+P*P),C=(C-a[w])/C*p*r[w],S*=C,P*=C,_.vx-=S*(B=u[w]),_.vy-=P*B,x.vx+=S*(B=1-B),x.vy+=P*B}function d(){if(o){var p,y=o.length,m=e.length,w=new Map(o.map((x,_)=>[t(x,_,o),x])),b;for(p=0,s=new Array(y);p<m;++p)b=e[p],b.index=p,typeof b.source!="object"&&(b.source=aS(w,b.source)),typeof b.target!="object"&&(b.target=aS(w,b.target)),s[b.source.index]=(s[b.source.index]||0)+1,s[b.target.index]=(s[b.target.index]||0)+1;for(p=0,u=new Array(m);p<m;++p)b=e[p],u[p]=s[b.source.index]/(s[b.source.index]+s[b.target.index]);r=new Array(m),v(),a=new Array(m),g()}}function v(){if(o)for(var p=0,y=e.length;p<y;++p)r[p]=+n(e[p],p,e)}function g(){if(o)for(var p=0,y=e.length;p<y;++p)a[p]=+i(e[p],p,e)}return f.initialize=function(p,y){o=p,l=y,d()},f.links=function(p){return arguments.length?(e=p,d(),f):e},f.id=function(p){return arguments.length?(t=p,f):t},f.iterations=function(p){return arguments.length?(c=+p,f):c},f.strength=function(p){return arguments.length?(n=typeof p=="function"?p:ur(+p),v(),f):n},f.distance=function(p){return arguments.length?(i=typeof p=="function"?p:ur(+p),g(),f):i},f}const pz=1664525,gz=1013904223,oS=4294967296;function mz(){let e=1;return()=>(e=(pz*e+gz)%oS)/oS}function yz(e){return e.x}function bz(e){return e.y}var wz=10,xz=Math.PI*(3-Math.sqrt(5));function _z(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,u=xm(h),l=sl("tick","end"),c=mz();e==null&&(e=[]);function h(){f(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function f(g){var p,y=e.length,m;g===void 0&&(g=1);for(var w=0;w<g;++w)for(n+=(a-n)*i,s.forEach(function(b){b(n)}),p=0;p<y;++p)m=e[p],m.fx==null?m.x+=m.vx*=o:(m.x=m.fx,m.vx=0),m.fy==null?m.y+=m.vy*=o:(m.y=m.fy,m.vy=0);return t}function d(){for(var g=0,p=e.length,y;g<p;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var m=wz*Math.sqrt(.5+g),w=g*xz;y.x=m*Math.cos(w),y.y=m*Math.sin(w)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function v(g){return g.initialize&&g.initialize(e,c),g}return d(),t={tick:f,restart:function(){return u.restart(h),t},stop:function(){return u.stop(),t},nodes:function(g){return arguments.length?(e=g,d(),s.forEach(v),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(a=+g,t):a},velocityDecay:function(g){return arguments.length?(o=1-g,t):1-o},randomSource:function(g){return arguments.length?(c=g,s.forEach(v),t):c},force:function(g,p){return arguments.length>1?(p==null?s.delete(g):s.set(g,v(p)),t):s.get(g)},find:function(g,p,y){var m=0,w=e.length,b,x,_,S,P;for(y==null?y=1/0:y*=y,m=0;m<w;++m)S=e[m],b=g-S.x,x=p-S.y,_=b*b+x*x,_<y&&(P=S,y=_);return P},on:function(g,p){return arguments.length>1?(l.on(g,p),t):l.on(g)}}}function Sz(){var e,t,n,r,i=ur(-30),a,o=1,s=1/0,u=.81;function l(d){var v,g=e.length,p=Am(e,yz,bz).visitAfter(h);for(r=d,v=0;v<g;++v)t=e[v],p.visit(f)}function c(){if(e){var d,v=e.length,g;for(a=new Array(v),d=0;d<v;++d)g=e[d],a[g.index]=+i(g,d,e)}}function h(d){var v=0,g,p,y=0,m,w,b;if(d.length){for(m=w=b=0;b<4;++b)(g=d[b])&&(p=Math.abs(g.value))&&(v+=g.value,y+=p,m+=p*g.x,w+=p*g.y);d.x=m/y,d.y=w/y}else{g=d,g.x=g.data.x,g.y=g.data.y;do v+=a[g.data.index];while(g=g.next)}d.value=v}function f(d,v,g,p){if(!d.value)return!0;var y=d.x-t.x,m=d.y-t.y,w=p-v,b=y*y+m*m;if(w*w/u<b)return b<s&&(y===0&&(y=Ts(n),b+=y*y),m===0&&(m=Ts(n),b+=m*m),b<o&&(b=Math.sqrt(o*b)),t.vx+=y*d.value*r/b,t.vy+=m*d.value*r/b),!0;if(d.length||b>=s)return;(d.data!==t||d.next)&&(y===0&&(y=Ts(n),b+=y*y),m===0&&(m=Ts(n),b+=m*m),b<o&&(b=Math.sqrt(o*b)));do d.data!==t&&(w=a[d.data.index]*r/b,t.vx+=y*w,t.vy+=m*w);while(d=d.next)}return l.initialize=function(d,v){e=d,n=v,c()},l.strength=function(d){return arguments.length?(i=typeof d=="function"?d:ur(+d),c(),l):i},l.distanceMin=function(d){return arguments.length?(o=d*d,l):Math.sqrt(o)},l.distanceMax=function(d){return arguments.length?(s=d*d,l):Math.sqrt(s)},l.theta=function(d){return arguments.length?(u=d*d,l):Math.sqrt(u)},l}function Ez(e,t,n){var r,i=ur(.1),a,o;typeof e!="function"&&(e=ur(+e)),t==null&&(t=0),n==null&&(n=0);function s(l){for(var c=0,h=r.length;c<h;++c){var f=r[c],d=f.x-t||1e-6,v=f.y-n||1e-6,g=Math.sqrt(d*d+v*v),p=(o[c]-g)*a[c]*l/g;f.vx+=d*p,f.vy+=v*p}}function u(){if(r){var l,c=r.length;for(a=new Array(c),o=new Array(c),l=0;l<c;++l)o[l]=+e(r[l],l,r),a[l]=isNaN(o[l])?0:+i(r[l],l,r)}}return s.initialize=function(l){r=l,u()},s.strength=function(l){return arguments.length?(i=typeof l=="function"?l:ur(+l),u(),s):i},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:ur(+l),u(),s):e},s.x=function(l){return arguments.length?(t=+l,s):t},s.y=function(l){return arguments.length?(n=+l,s):n},s}function Az(e){var t=ur(.1),n,r,i;typeof e!="function"&&(e=ur(e==null?0:+e));function a(s){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*s}function o(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:ur(+s),o(),a):t},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:ur(+s),o(),a):e},a}function Cz(e){var t=ur(.1),n,r,i;typeof e!="function"&&(e=ur(e==null?0:+e));function a(s){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*s}function o(){if(n){var s,u=n.length;for(r=new Array(u),i=new Array(u),s=0;s<u;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:ur(+s),o(),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:ur(+s),o(),a):e},a}function Tz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Oc(e){return e=Wp(Math.abs(e)),e?e[1]:NaN}function Pz(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Oz(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Iz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ic(e){if(!(t=Iz.exec(e)))throw new Error("invalid format: "+e);var t;return new Cm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ic.prototype=Cm.prototype;function Cm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mz(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var gO;function Dz(e,t){var n=Wp(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(gO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Wp(e,Math.max(0,t+a-1))[0]}function sS(e,t){var n=Wp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Tz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sS(e*100,t),r:sS,s:Dz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lS(e){return e}var cS=Array.prototype.map,fS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mO(e){var t=e.grouping===void 0||e.thousands===void 0?lS:Pz(cS.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lS:Oz(cS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(h){h=Ic(h);var f=h.fill,d=h.align,v=h.sign,g=h.symbol,p=h.zero,y=h.width,m=h.comma,w=h.precision,b=h.trim,x=h.type;x==="n"?(m=!0,x="g"):uS[x]||(w===void 0&&(w=12),b=!0,x="g"),(p||f==="0"&&d==="=")&&(p=!0,f="0",d="=");var _=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=g==="$"?r:/[%p]/.test(x)?o:"",P=uS[x],C=/[defgprs%]/.test(x);w=w===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function B(T){var k=_,D=S,O,N,R;if(x==="c")D=P(T)+D,T="";else{T=+T;var U=T<0||1/T<0;if(T=isNaN(T)?u:P(Math.abs(T),w),b&&(T=Mz(T)),U&&+T==0&&v!=="+"&&(U=!1),k=(U?v==="("?v:s:v==="-"||v==="("?"":v)+k,D=(x==="s"?fS[8+gO/3]:"")+D+(U&&v==="("?")":""),C){for(O=-1,N=T.length;++O<N;)if(R=T.charCodeAt(O),48>R||R>57){D=(R===46?i+T.slice(O+1):T.slice(O))+D,T=T.slice(0,O);break}}}m&&!p&&(T=t(T,1/0));var V=k.length+T.length+D.length,z=V<y?new Array(y-V+1).join(f):"";switch(m&&p&&(T=t(z+T,z.length?y-D.length:1/0),z=""),d){case"<":T=k+T+D+z;break;case"=":T=k+z+T+D;break;case"^":T=z.slice(0,V=z.length>>1)+k+T+D+z.slice(V);break;default:T=z+k+T+D;break}return a(T)}return B.toString=function(){return h+""},B}function c(h,f){var d=l((h=Ic(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Oc(f)/3)))*3,g=Math.pow(10,-v),p=fS[8+v/3];return function(y){return d(g*y)+p}}return{format:l,formatPrefix:c}}var Kd,Tm,Kw;yO({thousands:",",grouping:[3],currency:["$",""]});function yO(e){return Kd=mO(e),Tm=Kd.format,Kw=Kd.formatPrefix,Kd}function bO(e){return Math.max(0,-Oc(Math.abs(e)))}function wO(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Oc(t)/3)))*3-Oc(Math.abs(e)))}function xO(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Oc(t)-Oc(e))+1}var wt=1e-6,Ph=1e-12,en=Math.PI,Qn=en/2,Kp=en/4,li=en*2,xn=180/en,xt=en/180,sn=Math.abs,Zc=Math.atan,ci=Math.atan2,ct=Math.cos,qd=Math.ceil,_O=Math.exp,D1=Math.hypot,qp=Math.log,z0=Math.pow,nt=Math.sin,ua=Math.sign||function(e){return e>0?1:e<0?-1:0},_r=Math.sqrt,qw=Math.tan;function SO(e){return e>1?0:e<-1?en:Math.acos(e)}function fi(e){return e>1?Qn:e<-1?-Qn:Math.asin(e)}function hS(e){return(e=nt(e/2))*e}function zn(){}function Zp(e,t){e&&vS.hasOwnProperty(e.type)&&vS[e.type](e,t)}var dS={Feature:function(e,t){Zp(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Zp(n[r].geometry,t)}},vS={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){F1(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)F1(n[r],t,0)},Polygon:function(e,t){pS(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pS(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Zp(n[r],t)}};function F1(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function pS(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)F1(e[n],t,1);t.polygonEnd()}function Ia(e,t){e&&dS.hasOwnProperty(e.type)?dS[e.type](e,t):Zp(e,t)}var Qp=new lr,Jp=new lr,EO,AO,B1,k1,R1,uo={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Qp=new lr,uo.lineStart=Fz,uo.lineEnd=Bz},polygonEnd:function(){var e=+Qp;Jp.add(e<0?li+e:e),this.lineStart=this.lineEnd=this.point=zn},sphere:function(){Jp.add(li)}};function Fz(){uo.point=kz}function Bz(){CO(EO,AO)}function kz(e,t){uo.point=CO,EO=e,AO=t,e*=xt,t*=xt,B1=e,k1=ct(t=t/2+Kp),R1=nt(t)}function CO(e,t){e*=xt,t*=xt,t=t/2+Kp;var n=e-B1,r=n>=0?1:-1,i=r*n,a=ct(t),o=nt(t),s=R1*o,u=k1*a+s*ct(i),l=s*r*nt(i);Qp.add(ci(l,u)),B1=e,k1=a,R1=o}function Rz(e){return Jp=new lr,Ia(e,uo),Jp*2}function eg(e){return[ci(e[1],e[0]),fi(e[2])]}function Ku(e){var t=e[0],n=e[1],r=ct(n);return[r*ct(t),r*nt(t),nt(n)]}function Zd(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Mc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function j0(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Qd(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function tg(e){var t=_r(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Un,Pi,qn,$i,mu,TO,PO,pc,Jf,ws,Zo,ko={point:L1,lineStart:gS,lineEnd:mS,polygonStart:function(){ko.point=IO,ko.lineStart=Lz,ko.lineEnd=Nz,Jf=new lr,uo.polygonStart()},polygonEnd:function(){uo.polygonEnd(),ko.point=L1,ko.lineStart=gS,ko.lineEnd=mS,Qp<0?(Un=-(qn=180),Pi=-($i=90)):Jf>wt?$i=90:Jf<-wt&&(Pi=-90),Zo[0]=Un,Zo[1]=qn},sphere:function(){Un=-(qn=180),Pi=-($i=90)}};function L1(e,t){ws.push(Zo=[Un=e,qn=e]),t<Pi&&(Pi=t),t>$i&&($i=t)}function OO(e,t){var n=Ku([e*xt,t*xt]);if(pc){var r=Mc(pc,n),i=[r[1],-r[0],0],a=Mc(i,r);tg(a),a=eg(a);var o=e-mu,s=o>0?1:-1,u=a[0]*xn*s,l,c=sn(o)>180;c^(s*mu<u&&u<s*e)?(l=a[1]*xn,l>$i&&($i=l)):(u=(u+360)%360-180,c^(s*mu<u&&u<s*e)?(l=-a[1]*xn,l<Pi&&(Pi=l)):(t<Pi&&(Pi=t),t>$i&&($i=t))),c?e<mu?Ni(Un,e)>Ni(Un,qn)&&(qn=e):Ni(e,qn)>Ni(Un,qn)&&(Un=e):qn>=Un?(e<Un&&(Un=e),e>qn&&(qn=e)):e>mu?Ni(Un,e)>Ni(Un,qn)&&(qn=e):Ni(e,qn)>Ni(Un,qn)&&(Un=e)}else ws.push(Zo=[Un=e,qn=e]);t<Pi&&(Pi=t),t>$i&&($i=t),pc=n,mu=e}function gS(){ko.point=OO}function mS(){Zo[0]=Un,Zo[1]=qn,ko.point=L1,pc=null}function IO(e,t){if(pc){var n=e-mu;Jf.add(sn(n)>180?n+(n>0?360:-360):n)}else TO=e,PO=t;uo.point(e,t),OO(e,t)}function Lz(){uo.lineStart()}function Nz(){IO(TO,PO),uo.lineEnd(),sn(Jf)>wt&&(Un=-(qn=180)),Zo[0]=Un,Zo[1]=qn,pc=null}function Ni(e,t){return(t-=e)<0?t+360:t}function Uz(e,t){return e[0]-t[0]}function yS(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function $z(e){var t,n,r,i,a,o,s;if($i=qn=-(Un=Pi=1/0),ws=[],Ia(e,ko),n=ws.length){for(ws.sort(Uz),t=1,r=ws[0],a=[r];t<n;++t)i=ws[t],yS(r,i[0])||yS(r,i[1])?(Ni(r[0],i[1])>Ni(r[0],r[1])&&(r[1]=i[1]),Ni(i[0],r[1])>Ni(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(s=Ni(r[1],i[0]))>o&&(o=s,Un=i[0],qn=r[1])}return ws=Zo=null,Un===1/0||Pi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Un,Pi],[qn,$i]]}var Nf,ng,rg,ig,ag,og,sg,ug,N1,U1,$1,MO,DO,ei,ti,ni,Da={sphere:zn,point:Zw,lineStart:bS,lineEnd:wS,polygonStart:function(){Da.lineStart=jz,Da.lineEnd=Hz},polygonEnd:function(){Da.lineStart=bS,Da.lineEnd=wS}};function Zw(e,t){e*=xt,t*=xt;var n=ct(t);td(n*ct(e),n*nt(e),nt(t))}function td(e,t,n){++Nf,rg+=(e-rg)/Nf,ig+=(t-ig)/Nf,ag+=(n-ag)/Nf}function bS(){Da.point=Vz}function Vz(e,t){e*=xt,t*=xt;var n=ct(t);ei=n*ct(e),ti=n*nt(e),ni=nt(t),Da.point=zz,td(ei,ti,ni)}function zz(e,t){e*=xt,t*=xt;var n=ct(t),r=n*ct(e),i=n*nt(e),a=nt(t),o=ci(_r((o=ti*a-ni*i)*o+(o=ni*r-ei*a)*o+(o=ei*i-ti*r)*o),ei*r+ti*i+ni*a);ng+=o,og+=o*(ei+(ei=r)),sg+=o*(ti+(ti=i)),ug+=o*(ni+(ni=a)),td(ei,ti,ni)}function wS(){Da.point=Zw}function jz(){Da.point=Gz}function Hz(){FO(MO,DO),Da.point=Zw}function Gz(e,t){MO=e,DO=t,e*=xt,t*=xt,Da.point=FO;var n=ct(t);ei=n*ct(e),ti=n*nt(e),ni=nt(t),td(ei,ti,ni)}function FO(e,t){e*=xt,t*=xt;var n=ct(t),r=n*ct(e),i=n*nt(e),a=nt(t),o=ti*a-ni*i,s=ni*r-ei*a,u=ei*i-ti*r,l=D1(o,s,u),c=fi(l),h=l&&-c/l;N1.add(h*o),U1.add(h*s),$1.add(h*u),ng+=c,og+=c*(ei+(ei=r)),sg+=c*(ti+(ti=i)),ug+=c*(ni+(ni=a)),td(ei,ti,ni)}function Yz(e){Nf=ng=rg=ig=ag=og=sg=ug=0,N1=new lr,U1=new lr,$1=new lr,Ia(e,Da);var t=+N1,n=+U1,r=+$1,i=D1(t,n,r);return i<Ph&&(t=og,n=sg,r=ug,ng<wt&&(t=rg,n=ig,r=ag),i=D1(t,n,r),i<Ph)?[NaN,NaN]:[ci(n,t)*xn,fi(r/i)*xn]}function Nl(e){return function(){return e}}function V1(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function z1(e,t){return sn(e)>en&&(e-=Math.round(e/li)*li),[e,t]}z1.invert=z1;function Qw(e,t,n){return(e%=li)?t||n?V1(_S(e),SS(t,n)):_S(e):t||n?SS(t,n):z1}function xS(e){return function(t,n){return t+=e,sn(t)>en&&(t-=Math.round(t/li)*li),[t,n]}}function _S(e){var t=xS(e);return t.invert=xS(-e),t}function SS(e,t){var n=ct(e),r=nt(e),i=ct(t),a=nt(t);function o(s,u){var l=ct(u),c=ct(s)*l,h=nt(s)*l,f=nt(u),d=f*n+c*r;return[ci(h*i-d*a,c*n-f*r),fi(d*i+h*a)]}return o.invert=function(s,u){var l=ct(u),c=ct(s)*l,h=nt(s)*l,f=nt(u),d=f*i-h*a;return[ci(h*i+f*a,c*n+d*r),fi(d*n-c*r)]},o}function BO(e){e=Qw(e[0]*xt,e[1]*xt,e.length>2?e[2]*xt:0);function t(n){return n=e(n[0]*xt,n[1]*xt),n[0]*=xn,n[1]*=xn,n}return t.invert=function(n){return n=e.invert(n[0]*xt,n[1]*xt),n[0]*=xn,n[1]*=xn,n},t}function kO(e,t,n,r,i,a){if(n){var o=ct(t),s=nt(t),u=r*n;i==null?(i=t+r*li,a=t-u/2):(i=ES(o,i),a=ES(o,a),(r>0?i<a:i>a)&&(i+=r*li));for(var l,c=i;r>0?c>a:c<a;c-=u)l=eg([o,-s*ct(c),-s*nt(c)]),e.point(l[0],l[1])}}function ES(e,t){t=Ku(t),t[0]-=e,tg(t);var n=SO(-t[1]);return((-t[2]<0?-n:n)+li-wt)%li}function Xz(){var e=Nl([0,0]),t=Nl(90),n=Nl(6),r,i,a={point:o};function o(u,l){r.push(u=i(u,l)),u[0]*=xn,u[1]*=xn}function s(){var u=e.apply(this,arguments),l=t.apply(this,arguments)*xt,c=n.apply(this,arguments)*xt;return r=[],i=Qw(-u[0]*xt,-u[1]*xt,0).invert,kO(a,l,c,1),u={type:"Polygon",coordinates:[r]},r=i=null,u}return s.center=function(u){return arguments.length?(e=typeof u=="function"?u:Nl([+u[0],+u[1]]),s):e},s.radius=function(u){return arguments.length?(t=typeof u=="function"?u:Nl(+u),s):t},s.precision=function(u){return arguments.length?(n=typeof u=="function"?u:Nl(+u),s):n},s}function RO(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ep(e,t){return sn(e[0]-t[0])<wt&&sn(e[1]-t[1])<wt}function Jd(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function LO(e,t,n,r,i){var a=[],o=[],s,u;if(e.forEach(function(v){if(!((g=v.length-1)<=0)){var g,p=v[0],y=v[g],m;if(ep(p,y)){if(!p[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((p=v[s])[0],p[1]);i.lineEnd();return}y[0]+=2*wt}a.push(m=new Jd(p,v,null,!0)),o.push(m.o=new Jd(p,null,m,!1)),a.push(m=new Jd(y,v,null,!1)),o.push(m.o=new Jd(y,null,m,!0))}}),!!a.length){for(o.sort(t),AS(a),AS(o),s=0,u=o.length;s<u;++s)o[s].e=n=!n;for(var l=a[0],c,h;;){for(var f=l,d=!0;f.v;)if((f=f.n)===l)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,u=c.length;s<u;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function AS(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function H0(e){return sn(e[0])<=en?e[0]:ua(e[0])*((sn(e[0])+en)%li-en)}function NO(e,t){var n=H0(t),r=t[1],i=nt(r),a=[nt(n),-ct(n),0],o=0,s=0,u=new lr;i===1?r=Qn+wt:i===-1&&(r=-Qn-wt);for(var l=0,c=e.length;l<c;++l)if(f=(h=e[l]).length)for(var h,f,d=h[f-1],v=H0(d),g=d[1]/2+Kp,p=nt(g),y=ct(g),m=0;m<f;++m,v=b,p=_,y=S,d=w){var w=h[m],b=H0(w),x=w[1]/2+Kp,_=nt(x),S=ct(x),P=b-v,C=P>=0?1:-1,B=C*P,T=B>en,k=p*_;if(u.add(ci(k*C*nt(B),y*S+k*ct(B))),o+=T?P+C*li:P,T^v>=n^b>=n){var D=Mc(Ku(d),Ku(w));tg(D);var O=Mc(a,D);tg(O);var N=(T^P>=0?-1:1)*fi(O[2]);(r>N||r===N&&(D[0]||D[1]))&&(s+=T^P>=0?1:-1)}}return(o<-wt||o<wt&&u<-Ph)^s&1}function UO(e,t,n,r){return function(i){var a=t(i),o=RO(),s=t(o),u=!1,l,c,h,f={point:d,lineStart:g,lineEnd:p,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=w,c=[],l=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=p,c=Cw(c);var b=NO(l,r);c.length?(u||(i.polygonStart(),u=!0),LO(c,Kz,b,n,i)):b&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(b,x){e(b,x)&&i.point(b,x)}function v(b,x){a.point(b,x)}function g(){f.point=v,a.lineStart()}function p(){f.point=d,a.lineEnd()}function y(b,x){h.push([b,x]),s.point(b,x)}function m(){s.lineStart(),h=[]}function w(){y(h[0][0],h[0][1]),s.lineEnd();var b=s.clean(),x=o.result(),_,S=x.length,P,C,B;if(h.pop(),l.push(h),h=null,!!S){if(b&1){if(C=x[0],(P=C.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),_=0;_<P;++_)i.point((B=C[_])[0],B[1]);i.lineEnd()}return}S>1&&b&2&&x.push(x.pop().concat(x.shift())),c.push(x.filter(Wz))}}return f}}function Wz(e){return e.length>1}function Kz(e,t){return((e=e.x)[0]<0?e[1]-Qn-wt:Qn-e[1])-((t=t.x)[0]<0?t[1]-Qn-wt:Qn-t[1])}const j1=UO(function(){return!0},qz,Qz,[-en,-Qn]);function qz(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?en:-en,u=sn(a-t);sn(u-en)<wt?(e.point(t,n=(n+o)/2>0?Qn:-Qn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&u>=en&&(sn(t-r)<wt&&(t-=r*wt),sn(a-s)<wt&&(a-=s*wt),n=Zz(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Zz(e,t,n,r){var i,a,o=nt(e-n);return sn(o)>wt?Zc((nt(t)*(a=ct(r))*nt(n)-nt(r)*(i=ct(t))*nt(e))/(i*a*o)):(t+r)/2}function Qz(e,t,n,r){var i;if(e==null)i=n*Qn,r.point(-en,i),r.point(0,i),r.point(en,i),r.point(en,0),r.point(en,-i),r.point(0,-i),r.point(-en,-i),r.point(-en,0),r.point(-en,i);else if(sn(e[0]-t[0])>wt){var a=e[0]<t[0]?en:-en;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function $O(e){var t=ct(e),n=6*xt,r=t>0,i=sn(t)>wt;function a(c,h,f,d){kO(d,e,n,f,c,h)}function o(c,h){return ct(c)*ct(h)>t}function s(c){var h,f,d,v,g;return{lineStart:function(){v=d=!1,g=1},point:function(p,y){var m=[p,y],w,b=o(p,y),x=r?b?0:l(p,y):b?l(p+(p<0?en:-en),y):0;if(!h&&(v=d=b)&&c.lineStart(),b!==d&&(w=u(h,m),(!w||ep(h,w)||ep(m,w))&&(m[2]=1)),b!==d)g=0,b?(c.lineStart(),w=u(m,h),c.point(w[0],w[1])):(w=u(h,m),c.point(w[0],w[1],2),c.lineEnd()),h=w;else if(i&&h&&r^b){var _;!(x&f)&&(_=u(m,h,!0))&&(g=0,r?(c.lineStart(),c.point(_[0][0],_[0][1]),c.point(_[1][0],_[1][1]),c.lineEnd()):(c.point(_[1][0],_[1][1]),c.lineEnd(),c.lineStart(),c.point(_[0][0],_[0][1],3)))}b&&(!h||!ep(h,m))&&c.point(m[0],m[1]),h=m,d=b,f=x},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return g|(v&&d)<<1}}}function u(c,h,f){var d=Ku(c),v=Ku(h),g=[1,0,0],p=Mc(d,v),y=Zd(p,p),m=p[0],w=y-m*m;if(!w)return!f&&c;var b=t*y/w,x=-t*m/w,_=Mc(g,p),S=Qd(g,b),P=Qd(p,x);j0(S,P);var C=_,B=Zd(S,C),T=Zd(C,C),k=B*B-T*(Zd(S,S)-1);if(!(k<0)){var D=_r(k),O=Qd(C,(-B-D)/T);if(j0(O,S),O=eg(O),!f)return O;var N=c[0],R=h[0],U=c[1],V=h[1],z;R<N&&(z=N,N=R,R=z);var j=R-N,X=sn(j-en)<wt,Q=X||j<wt;if(!X&&V<U&&(z=U,U=V,V=z),Q?X?U+V>0^O[1]<(sn(O[0]-N)<wt?U:V):U<=O[1]&&O[1]<=V:j>en^(N<=O[0]&&O[0]<=R)){var te=Qd(C,(-B+D)/T);return j0(te,S),[O,eg(te)]}}}function l(c,h){var f=r?e:en-e,d=0;return c<-f?d|=1:c>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return UO(o,s,a,r?[0,-e]:[-en,e-en])}function Jz(e,t,n,r,i,a){var o=e[0],s=e[1],u=t[0],l=t[1],c=0,h=1,f=u-o,d=l-s,v;if(v=n-o,!(!f&&v>0)){if(v/=f,f<0){if(v<c)return;v<h&&(h=v)}else if(f>0){if(v>h)return;v>c&&(c=v)}if(v=i-o,!(!f&&v<0)){if(v/=f,f<0){if(v>h)return;v>c&&(c=v)}else if(f>0){if(v<c)return;v<h&&(h=v)}if(v=r-s,!(!d&&v>0)){if(v/=d,d<0){if(v<c)return;v<h&&(h=v)}else if(d>0){if(v>h)return;v>c&&(c=v)}if(v=a-s,!(!d&&v<0)){if(v/=d,d<0){if(v>h)return;v>c&&(c=v)}else if(d>0){if(v<c)return;v<h&&(h=v)}return c>0&&(e[0]=o+c*f,e[1]=s+c*d),h<1&&(t[0]=o+h*f,t[1]=s+h*d),!0}}}}}var Uf=1e9,ev=-Uf;function Pm(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function a(l,c,h,f){var d=0,v=0;if(l==null||(d=o(l,h))!==(v=o(c,h))||u(l,c)<0^h>0)do f.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+h+4)%4)!==v);else f.point(c[0],c[1])}function o(l,c){return sn(l[0]-e)<wt?c>0?0:3:sn(l[0]-n)<wt?c>0?2:1:sn(l[1]-t)<wt?c>0?1:0:c>0?3:2}function s(l,c){return u(l.x,c.x)}function u(l,c){var h=o(l,1),f=o(c,1);return h!==f?h-f:h===0?c[1]-l[1]:h===1?l[0]-c[0]:h===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,h=RO(),f,d,v,g,p,y,m,w,b,x,_,S={point:P,lineStart:k,lineEnd:D,polygonStart:B,polygonEnd:T};function P(N,R){i(N,R)&&c.point(N,R)}function C(){for(var N=0,R=0,U=d.length;R<U;++R)for(var V=d[R],z=1,j=V.length,X=V[0],Q,te,he=X[0],fe=X[1];z<j;++z)Q=he,te=fe,X=V[z],he=X[0],fe=X[1],te<=r?fe>r&&(he-Q)*(r-te)>(fe-te)*(e-Q)&&++N:fe<=r&&(he-Q)*(r-te)<(fe-te)*(e-Q)&&--N;return N}function B(){c=h,f=[],d=[],_=!0}function T(){var N=C(),R=_&&N,U=(f=Cw(f)).length;(R||U)&&(l.polygonStart(),R&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),U&&LO(f,s,N,a,l),l.polygonEnd()),c=l,f=d=v=null}function k(){S.point=O,d&&d.push(v=[]),x=!0,b=!1,m=w=NaN}function D(){f&&(O(g,p),y&&b&&h.rejoin(),f.push(h.result())),S.point=P,b&&c.lineEnd()}function O(N,R){var U=i(N,R);if(d&&v.push([N,R]),x)g=N,p=R,y=U,x=!1,U&&(c.lineStart(),c.point(N,R));else if(U&&b)c.point(N,R);else{var V=[m=Math.max(ev,Math.min(Uf,m)),w=Math.max(ev,Math.min(Uf,w))],z=[N=Math.max(ev,Math.min(Uf,N)),R=Math.max(ev,Math.min(Uf,R))];Jz(V,z,e,t,n,r)?(b||(c.lineStart(),c.point(V[0],V[1])),c.point(z[0],z[1]),U||c.lineEnd(),_=!1):U&&(c.lineStart(),c.point(N,R),_=!1)}m=N,w=R,b=U}return S}}function ej(){var e=0,t=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=Pm(e,t,n,r)(a=s)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[e,t],[n,r]]}}}var H1,G1,tp,np,Dc={sphere:zn,point:zn,lineStart:tj,lineEnd:zn,polygonStart:zn,polygonEnd:zn};function tj(){Dc.point=rj,Dc.lineEnd=nj}function nj(){Dc.point=Dc.lineEnd=zn}function rj(e,t){e*=xt,t*=xt,G1=e,tp=nt(t),np=ct(t),Dc.point=ij}function ij(e,t){e*=xt,t*=xt;var n=nt(t),r=ct(t),i=sn(e-G1),a=ct(i),o=nt(i),s=r*o,u=np*n-tp*r*a,l=tp*n+np*r*a;H1.add(ci(_r(s*s+u*u),l)),G1=e,tp=n,np=r}function VO(e){return H1=new lr,Ia(e,Dc),+H1}var Y1=[null,null],aj={type:"LineString",coordinates:Y1};function lg(e,t){return Y1[0]=e,Y1[1]=t,VO(aj)}var CS={Feature:function(e,t){return cg(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(cg(n[r].geometry,t))return!0;return!1}},TS={Sphere:function(){return!0},Point:function(e,t){return PS(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(PS(n[r],t))return!0;return!1},LineString:function(e,t){return OS(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(OS(n[r],t))return!0;return!1},Polygon:function(e,t){return IS(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(IS(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(cg(n[r],t))return!0;return!1}};function cg(e,t){return e&&TS.hasOwnProperty(e.type)?TS[e.type](e,t):!1}function PS(e,t){return lg(e,t)===0}function OS(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(r=lg(e[a],t),r===0||a>0&&(i=lg(e[a],e[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Ph*i))return!0;n=r}return!1}function IS(e,t){return!!NO(e.map(oj),zO(t))}function oj(e){return e=e.map(zO),e.pop(),e}function zO(e){return[e[0]*xt,e[1]*xt]}function sj(e,t){return(e&&CS.hasOwnProperty(e.type)?CS[e.type]:cg)(e,t)}function MS(e,t,n){var r=Cs(e,t-wt,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function DS(e,t,n){var r=Cs(e,t-wt,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function jO(){var e,t,n,r,i,a,o,s,u=10,l=u,c=90,h=360,f,d,v,g,p=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return Cs(qd(r/c)*c,n,c).map(v).concat(Cs(qd(s/h)*h,o,h).map(g)).concat(Cs(qd(t/u)*u,e,u).filter(function(w){return sn(w%c)>wt}).map(f)).concat(Cs(qd(a/l)*l,i,l).filter(function(w){return sn(w%h)>wt}).map(d))}return y.lines=function(){return m().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(g(o).slice(1),v(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],s=+w[0][1],o=+w[1][1],r>n&&(w=r,r=n,n=w),s>o&&(w=s,s=o,o=w),y.precision(p)):[[r,s],[n,o]]},y.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],a=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),a>i&&(w=a,a=i,i=w),y.precision(p)):[[t,a],[e,i]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(c=+w[0],h=+w[1],y):[c,h]},y.stepMinor=function(w){return arguments.length?(u=+w[0],l=+w[1],y):[u,l]},y.precision=function(w){return arguments.length?(p=+w,f=MS(a,i,90),d=DS(t,e,p),v=MS(s,o,90),g=DS(r,n,p),y):p},y.extentMajor([[-180,-90+wt],[180,90-wt]]).extentMinor([[-180,-80-wt],[180,80+wt]])}function uj(){return jO()()}function lj(e,t){var n=e[0]*xt,r=e[1]*xt,i=t[0]*xt,a=t[1]*xt,o=ct(r),s=nt(r),u=ct(a),l=nt(a),c=o*ct(n),h=o*nt(n),f=u*ct(i),d=u*nt(i),v=2*fi(_r(hS(a-r)+o*u*hS(i-n))),g=nt(v),p=v?function(y){var m=nt(y*=v)/g,w=nt(v-y)/g,b=w*c+m*f,x=w*h+m*d,_=w*s+m*l;return[ci(x,b)*xn,ci(_,_r(b*b+x*x))*xn]}:function(){return[n*xn,r*xn]};return p.distance=v,p}const Oh=e=>e;var G0=new lr,X1=new lr,HO,GO,W1,K1,Ss={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Ss.lineStart=cj,Ss.lineEnd=hj},polygonEnd:function(){Ss.lineStart=Ss.lineEnd=Ss.point=zn,G0.add(sn(X1)),X1=new lr},result:function(){var e=G0/2;return G0=new lr,e}};function cj(){Ss.point=fj}function fj(e,t){Ss.point=YO,HO=W1=e,GO=K1=t}function YO(e,t){X1.add(K1*e-W1*t),W1=e,K1=t}function hj(){YO(HO,GO)}const FS=Ss;var Fc=1/0,fg=Fc,Ih=-Fc,hg=Ih,dj={point:vj,lineStart:zn,lineEnd:zn,polygonStart:zn,polygonEnd:zn,result:function(){var e=[[Fc,fg],[Ih,hg]];return Ih=hg=-(fg=Fc=1/0),e}};function vj(e,t){e<Fc&&(Fc=e),e>Ih&&(Ih=e),t<fg&&(fg=t),t>hg&&(hg=t)}const dg=dj;var q1=0,Z1=0,$f=0,vg=0,pg=0,oc=0,Q1=0,J1=0,Vf=0,XO,WO,Ja,eo,Ma={point:qu,lineStart:BS,lineEnd:kS,polygonStart:function(){Ma.lineStart=mj,Ma.lineEnd=yj},polygonEnd:function(){Ma.point=qu,Ma.lineStart=BS,Ma.lineEnd=kS},result:function(){var e=Vf?[Q1/Vf,J1/Vf]:oc?[vg/oc,pg/oc]:$f?[q1/$f,Z1/$f]:[NaN,NaN];return q1=Z1=$f=vg=pg=oc=Q1=J1=Vf=0,e}};function qu(e,t){q1+=e,Z1+=t,++$f}function BS(){Ma.point=pj}function pj(e,t){Ma.point=gj,qu(Ja=e,eo=t)}function gj(e,t){var n=e-Ja,r=t-eo,i=_r(n*n+r*r);vg+=i*(Ja+e)/2,pg+=i*(eo+t)/2,oc+=i,qu(Ja=e,eo=t)}function kS(){Ma.point=qu}function mj(){Ma.point=bj}function yj(){KO(XO,WO)}function bj(e,t){Ma.point=KO,qu(XO=Ja=e,WO=eo=t)}function KO(e,t){var n=e-Ja,r=t-eo,i=_r(n*n+r*r);vg+=i*(Ja+e)/2,pg+=i*(eo+t)/2,oc+=i,i=eo*e-Ja*t,Q1+=i*(Ja+e),J1+=i*(eo+t),Vf+=i*3,qu(Ja=e,eo=t)}const RS=Ma;function qO(e){this._context=e}qO.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,li);break}}},result:zn};var eb=new lr,Y0,ZO,QO,zf,jf,gg={point:zn,lineStart:function(){gg.point=wj},lineEnd:function(){Y0&&JO(ZO,QO),gg.point=zn},polygonStart:function(){Y0=!0},polygonEnd:function(){Y0=null},result:function(){var e=+eb;return eb=new lr,e}};function wj(e,t){gg.point=JO,ZO=zf=e,QO=jf=t}function JO(e,t){zf-=e,jf-=t,eb.add(_r(zf*zf+jf*jf)),zf=e,jf=t}const LS=gg;let NS,mg,US,$S;class VS{constructor(t){this._append=t==null?eI:xj(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==US||this._append!==mg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,US=r,mg=this._append,$S=this._,this._=i}this._+=$S;break}}}result(){const t=this._;return this._="",t.length?t:null}}function eI(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function xj(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return eI;if(t!==NS){const n=10**t;NS=t,mg=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return mg}function _j(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Ia(s,i(a))),a.result()}return o.area=function(s){return Ia(s,i(FS)),FS.result()},o.measure=function(s){return Ia(s,i(LS)),LS.result()},o.bounds=function(s){return Ia(s,i(dg)),dg.result()},o.centroid=function(s){return Ia(s,i(RS)),RS.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,Oh):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new VS(n)):new qO(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);n=u}return t===null&&(a=new VS(n)),o},o.projection(e).digits(n).context(t)}function Sj(e){return{stream:nd(e)}}function nd(e){return function(t){var n=new tb;for(var r in e)n[r]=e[r];return n.stream=t,n}}function tb(){}tb.prototype={constructor:tb,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jw(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Ia(n,e.stream(dg)),t(dg.result()),r!=null&&e.clipExtent(r),e}function Om(e,t,n){return Jw(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,u])},n)}function ex(e,t,n){return Om(e,[[0,0],t],n)}function tx(e,t,n){return Jw(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function nx(e,t,n){return Jw(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var zS=16,Ej=ct(30*xt);function jS(e,t){return+t?Cj(e,t):Aj(e)}function Aj(e){return nd({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Cj(e,t){function n(r,i,a,o,s,u,l,c,h,f,d,v,g,p){var y=l-r,m=c-i,w=y*y+m*m;if(w>4*t&&g--){var b=o+f,x=s+d,_=u+v,S=_r(b*b+x*x+_*_),P=fi(_/=S),C=sn(sn(_)-1)<wt||sn(a-h)<wt?(a+h)/2:ci(x,b),B=e(C,P),T=B[0],k=B[1],D=T-r,O=k-i,N=m*D-y*O;(N*N/w>t||sn((y*D+m*O)/w-.5)>.3||o*f+s*d+u*v<Ej)&&(n(r,i,a,o,s,u,T,k,C,b/=S,x/=S,_,g,p),p.point(T,k),n(T,k,C,b,x,_,l,c,h,f,d,v,g,p))}}return function(r){var i,a,o,s,u,l,c,h,f,d,v,g,p={point:y,lineStart:m,lineEnd:b,polygonStart:function(){r.polygonStart(),p.lineStart=x},polygonEnd:function(){r.polygonEnd(),p.lineStart=m}};function y(P,C){P=e(P,C),r.point(P[0],P[1])}function m(){h=NaN,p.point=w,r.lineStart()}function w(P,C){var B=Ku([P,C]),T=e(P,C);n(h,f,c,d,v,g,h=T[0],f=T[1],c=P,d=B[0],v=B[1],g=B[2],zS,r),r.point(h,f)}function b(){p.point=y,r.lineEnd()}function x(){m(),p.point=_,p.lineEnd=S}function _(P,C){w(i=P,C),a=h,o=f,s=d,u=v,l=g,p.point=w}function S(){n(h,f,c,d,v,g,a,o,i,s,u,l,zS,r),p.lineEnd=b,b()}return p}}var Tj=nd({point:function(e,t){this.stream.point(e*xt,t*xt)}});function Pj(e){return nd({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Oj(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function HS(e,t,n,r,i,a){if(!a)return Oj(e,t,n,r,i);var o=ct(a),s=nt(a),u=o*e,l=s*e,c=o/e,h=s/e,f=(s*n-o*t)/e,d=(s*t+o*n)/e;function v(g,p){return g*=r,p*=i,[u*g-l*p+t,n-l*g-u*p]}return v.invert=function(g,p){return[r*(c*g-h*p+f),i*(d-h*g-c*p)]},v}function wo(e){return rx(function(){return e})()}function rx(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,u=0,l=0,c,h=0,f=1,d=1,v=null,g=j1,p=null,y,m,w,b=Oh,x=.5,_,S,P,C,B;function T(N){return P(N[0]*xt,N[1]*xt)}function k(N){return N=P.invert(N[0],N[1]),N&&[N[0]*xn,N[1]*xn]}T.stream=function(N){return C&&B===N?C:C=Tj(Pj(c)(g(_(b(B=N)))))},T.preclip=function(N){return arguments.length?(g=N,v=void 0,O()):g},T.postclip=function(N){return arguments.length?(b=N,p=y=m=w=null,O()):b},T.clipAngle=function(N){return arguments.length?(g=+N?$O(v=N*xt):(v=null,j1),O()):v*xn},T.clipExtent=function(N){return arguments.length?(b=N==null?(p=y=m=w=null,Oh):Pm(p=+N[0][0],y=+N[0][1],m=+N[1][0],w=+N[1][1]),O()):p==null?null:[[p,y],[m,w]]},T.scale=function(N){return arguments.length?(n=+N,D()):n},T.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],D()):[r,i]},T.center=function(N){return arguments.length?(a=N[0]%360*xt,o=N[1]%360*xt,D()):[a*xn,o*xn]},T.rotate=function(N){return arguments.length?(s=N[0]%360*xt,u=N[1]%360*xt,l=N.length>2?N[2]%360*xt:0,D()):[s*xn,u*xn,l*xn]},T.angle=function(N){return arguments.length?(h=N%360*xt,D()):h*xn},T.reflectX=function(N){return arguments.length?(f=N?-1:1,D()):f<0},T.reflectY=function(N){return arguments.length?(d=N?-1:1,D()):d<0},T.precision=function(N){return arguments.length?(_=jS(S,x=N*N),O()):_r(x)},T.fitExtent=function(N,R){return Om(T,N,R)},T.fitSize=function(N,R){return ex(T,N,R)},T.fitWidth=function(N,R){return tx(T,N,R)},T.fitHeight=function(N,R){return nx(T,N,R)};function D(){var N=HS(n,0,0,f,d,h).apply(null,t(a,o)),R=HS(n,r-N[0],i-N[1],f,d,h);return c=Qw(s,u,l),S=V1(t,R),P=V1(c,S),_=jS(S,x),O()}function O(){return C=B=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&k,D()}}function ix(e){var t=0,n=en/3,r=rx(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*xt,n=a[1]*xt):[t*xn,n*xn]},i}function Ij(e){var t=ct(e);function n(r,i){return[r*t,nt(i)/t]}return n.invert=function(r,i){return[r/t,fi(i*t)]},n}function tI(e,t){var n=nt(e),r=(n+nt(t))/2;if(sn(r)<wt)return Ij(e);var i=1+n*(2*r-n),a=_r(i)/r;function o(s,u){var l=_r(i-2*r*nt(u))/r;return[l*nt(s*=r),a-l*ct(s)]}return o.invert=function(s,u){var l=a-u,c=ci(s,sn(l))*ua(l);return l*r<0&&(c-=en*ua(s)*ua(l)),[c/r,fi((i-(s*s+l*l)*r*r)/(2*r))]},o}function yg(){return ix(tI).scale(155.424).center([0,33.6442])}function nI(){return yg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Mj(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Dj(){var e,t,n=nI(),r,i=yg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=yg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(f,d){u=[f,d]}};function c(f){var d=f[0],v=f[1];return u=null,r.point(d,v),u||(a.point(d,v),u)||(s.point(d,v),u)}c.invert=function(f){var d=n.scale(),v=n.translate(),g=(f[0]-v[0])/d,p=(f[1]-v[1])/d;return(p>=.12&&p<.234&&g>=-.425&&g<-.214?i:p>=.166&&p<.234&&g>=-.214&&g<-.115?o:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=Mj([n.stream(t=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),h()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),v=+f[0],g=+f[1];return r=n.translate(f).clipExtent([[v-.455*d,g-.238*d],[v+.455*d,g+.238*d]]).stream(l),a=i.translate([v-.307*d,g+.201*d]).clipExtent([[v-.425*d+wt,g+.12*d+wt],[v-.214*d-wt,g+.234*d-wt]]).stream(l),s=o.translate([v-.205*d,g+.212*d]).clipExtent([[v-.214*d+wt,g+.166*d+wt],[v-.115*d-wt,g+.234*d-wt]]).stream(l),h()},c.fitExtent=function(f,d){return Om(c,f,d)},c.fitSize=function(f,d){return ex(c,f,d)},c.fitWidth=function(f,d){return tx(c,f,d)},c.fitHeight=function(f,d){return nx(c,f,d)};function h(){return e=t=null,c}return c.scale(1070)}function rI(e){return function(t,n){var r=ct(t),i=ct(n),a=e(r*i);return a===1/0?[2,0]:[a*i*nt(t),a*nt(n)]}}function rd(e){return function(t,n){var r=_r(t*t+n*n),i=e(r),a=nt(i),o=ct(i);return[ci(t*a,r*o),fi(r&&n*a/r)]}}var ax=rI(function(e){return _r(2/(1+e))});ax.invert=rd(function(e){return 2*fi(e/2)});function Fj(){return wo(ax).scale(124.75).clipAngle(180-.001)}var ox=rI(function(e){return(e=SO(e))&&e/nt(e)});ox.invert=rd(function(e){return e});function Bj(){return wo(ox).scale(79.4188).clipAngle(180-.001)}function id(e,t){return[e,qp(qw((Qn+t)/2))]}id.invert=function(e,t){return[e,2*Zc(_O(t))-Qn]};function kj(){return iI(id).scale(961/li)}function iI(e){var t=wo(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,u,l;t.scale=function(h){return arguments.length?(r(h),c()):r()},t.translate=function(h){return arguments.length?(i(h),c()):i()},t.center=function(h){return arguments.length?(n(h),c()):n()},t.clipExtent=function(h){return arguments.length?(h==null?o=s=u=l=null:(o=+h[0][0],s=+h[0][1],u=+h[1][0],l=+h[1][1]),c()):o==null?null:[[o,s],[u,l]]};function c(){var h=en*r(),f=t(BO(t.rotate()).invert([0,0]));return a(o==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:e===id?[[Math.max(f[0]-h,o),s],[Math.min(f[0]+h,u),l]]:[[o,Math.max(f[1]-h,s)],[u,Math.min(f[1]+h,l)]])}return c()}function tv(e){return qw((Qn+e)/2)}function aI(e,t){var n=ct(e),r=e===t?nt(e):qp(n/ct(t))/qp(tv(t)/tv(e)),i=n*z0(tv(e),r)/r;if(!r)return id;function a(o,s){i>0?s<-Qn+wt&&(s=-Qn+wt):s>Qn-wt&&(s=Qn-wt);var u=i/z0(tv(s),r);return[u*nt(r*o),i-u*ct(r*o)]}return a.invert=function(o,s){var u=i-s,l=ua(r)*_r(o*o+u*u),c=ci(o,sn(u))*ua(u);return u*r<0&&(c-=en*ua(o)*ua(u)),[c/r,2*Zc(z0(i/l,1/r))-Qn]},a}function Rj(){return ix(aI).scale(109.5).parallels([30,30])}function Mh(e,t){return[e,t]}Mh.invert=Mh;function Lj(){return wo(Mh).scale(152.63)}function oI(e,t){var n=ct(e),r=e===t?nt(e):(n-ct(t))/(t-e),i=n/r+e;if(sn(r)<wt)return Mh;function a(o,s){var u=i-s,l=r*o;return[u*nt(l),i-u*ct(l)]}return a.invert=function(o,s){var u=i-s,l=ci(o,sn(u))*ua(u);return u*r<0&&(l-=en*ua(o)*ua(u)),[l/r,i-ua(r)*_r(o*o+u*u)]},a}function Nj(){return ix(oI).scale(131.154).center([0,13.9389])}var eh=1.340264,th=-.081106,nh=893e-6,rh=.003796,bg=_r(3)/2,Uj=12;function sx(e,t){var n=fi(bg*nt(t)),r=n*n,i=r*r*r;return[e*ct(n)/(bg*(eh+3*th*r+i*(7*nh+9*rh*r))),n*(eh+th*r+i*(nh+rh*r))]}sx.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,u;a<Uj&&(s=n*(eh+th*r+i*(nh+rh*r))-t,u=eh+3*th*r+i*(7*nh+9*rh*r),n-=o=s/u,r=n*n,i=r*r*r,!(sn(o)<Ph));++a);return[bg*e*(eh+3*th*r+i*(7*nh+9*rh*r))/ct(n),fi(nt(n)/bg)]};function $j(){return wo(sx).scale(177.158)}function ux(e,t){var n=ct(t),r=ct(e)*n;return[n*nt(e)/r,nt(t)/r]}ux.invert=rd(Zc);function Vj(){return wo(ux).scale(144.049).clipAngle(60)}function zj(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,u=null,l,c,h,f=1,d=1,v=nd({point:function(b,x){var _=w([b,x]);this.stream.point(_[0],_[1])}}),g=Oh,p,y;function m(){return f=e*r,d=e*i,p=y=null,w}function w(b){var x=b[0]*f,_=b[1]*d;if(a){var S=_*o-x*s;x=x*o+_*s,_=S}return[x+t,_+n]}return w.invert=function(b){var x=b[0]-t,_=b[1]-n;if(a){var S=_*o+x*s;x=x*o-_*s,_=S}return[x/f,_/d]},w.stream=function(b){return p&&y===b?p:p=v(g(y=b))},w.postclip=function(b){return arguments.length?(g=b,u=l=c=h=null,m()):g},w.clipExtent=function(b){return arguments.length?(g=b==null?(u=l=c=h=null,Oh):Pm(u=+b[0][0],l=+b[0][1],c=+b[1][0],h=+b[1][1]),m()):u==null?null:[[u,l],[c,h]]},w.scale=function(b){return arguments.length?(e=+b,m()):e},w.translate=function(b){return arguments.length?(t=+b[0],n=+b[1],m()):[t,n]},w.angle=function(b){return arguments.length?(a=b%360*xt,s=nt(a),o=ct(a),m()):a*xn},w.reflectX=function(b){return arguments.length?(r=b?-1:1,m()):r<0},w.reflectY=function(b){return arguments.length?(i=b?-1:1,m()):i<0},w.fitExtent=function(b,x){return Om(w,b,x)},w.fitSize=function(b,x){return ex(w,b,x)},w.fitWidth=function(b,x){return tx(w,b,x)},w.fitHeight=function(b,x){return nx(w,b,x)},w}function lx(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}lx.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(sn(i)>wt&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function jj(){return wo(lx).scale(175.295)}function cx(e,t){return[ct(t)*nt(e),nt(t)]}cx.invert=rd(fi);function Hj(){return wo(cx).scale(249.5).clipAngle(90+wt)}function fx(e,t){var n=ct(t),r=1+ct(e)*n;return[n*nt(e)/r,nt(t)/r]}fx.invert=rd(function(e){return 2*Zc(e)});function Gj(){return wo(fx).scale(250).clipAngle(142)}function hx(e,t){return[qp(qw((Qn+t)/2)),-e]}hx.invert=function(e,t){return[-t,2*Zc(_O(e))-Qn]};function Yj(){var e=iI(hx),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Xj(e,t){return e.parent===t.parent?1:2}function Wj(e){return e.reduce(Kj,0)/e.length}function Kj(e,t){return e+t.x}function qj(e){return 1+e.reduce(Zj,0)}function Zj(e,t){return Math.max(e,t.y)}function Qj(e){for(var t;t=e.children;)e=t[0];return e}function Jj(e){for(var t;t=e.children;)e=t[t.length-1];return e}function eH(){var e=Xj,t=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=Wj(d),f.y=qj(d)):(f.x=o?s+=e(f,o):0,f.y=0,o=f)});var u=Qj(a),l=Jj(a),c=u.x-e(u,l)/2,h=l.x+e(l,u)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*t,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-c)/(h-c)*t,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function tH(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function nH(){return this.eachAfter(tH)}function rH(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function iH(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function aH(e,t){for(var n=this,r=[n],i=[],a,o,s,u=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function oH(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function sH(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function uH(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function lH(e){for(var t=this,n=cH(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function cH(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function fH(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function hH(){return Array.from(this)}function dH(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function vH(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*pH(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function dx(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=yH)):t===void 0&&(t=mH);for(var n=new Zu(e),r,i=[n],a,o,s,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,s=u-1;s>=0;--s)i.push(a=o[s]=new Zu(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(sI)}function gH(){return dx(this).eachBefore(bH)}function mH(e){return e.children}function yH(e){return Array.isArray(e)?e[1]:null}function bH(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function sI(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Zu(e){this.data=e,this.depth=this.height=0,this.parent=null}Zu.prototype=dx.prototype={constructor:Zu,count:nH,each:rH,eachAfter:aH,eachBefore:iH,find:oH,sum:sH,sort:uH,path:lH,ancestors:fH,descendants:hH,leaves:dH,links:vH,copy:gH,[Symbol.iterator]:pH};function rp(e){return e==null?null:uI(e)}function uI(e){if(typeof e!="function")throw new Error;return e}function Su(){return 0}function ec(e){return function(){return e}}const wH=1664525,xH=1013904223,GS=4294967296;function vx(){let e=1;return()=>(e=(wH*e+xH)%GS)/GS}function _H(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function SH(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function EH(e){return lI(e,vx())}function lI(e,t){for(var n=0,r=(e=SH(Array.from(e),t)).length,i=[],a,o;n<r;)a=e[n],o&&cI(o,a)?++n:(o=CH(i=AH(i,a)),n=0);return o}function AH(e,t){var n,r;if(X0(t,e))return[t];for(n=0;n<e.length;++n)if(nv(t,e[n])&&X0(Hf(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(nv(Hf(e[n],e[r]),t)&&nv(Hf(e[n],t),e[r])&&nv(Hf(e[r],t),e[n])&&X0(fI(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function nv(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function cI(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function X0(e,t){for(var n=0;n<t.length;++n)if(!cI(e,t[n]))return!1;return!0}function CH(e){switch(e.length){case 1:return TH(e[0]);case 2:return Hf(e[0],e[1]);case 3:return fI(e[0],e[1],e[2])}}function TH(e){return{x:e.x,y:e.y,r:e.r}}function Hf(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,u=a-n,l=o-r,c=s-i,h=Math.sqrt(u*u+l*l);return{x:(n+a+u/h*c)/2,y:(r+o+l/h*c)/2,r:(h+i+s)/2}}function fI(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,u=t.r,l=n.x,c=n.y,h=n.r,f=r-o,d=r-l,v=i-s,g=i-c,p=u-a,y=h-a,m=r*r+i*i-a*a,w=m-o*o-s*s+u*u,b=m-l*l-c*c+h*h,x=d*v-f*g,_=(v*b-g*w)/(x*2)-r,S=(g*p-v*y)/x,P=(d*w-f*b)/(x*2)-i,C=(f*y-d*p)/x,B=S*S+C*C-1,T=2*(a+_*S+P*C),k=_*_+P*P-a*a,D=-(Math.abs(B)>1e-6?(T+Math.sqrt(T*T-4*B*k))/(2*B):k/T);return{x:r+_+S*D,y:i+P+C*D,r:D}}function YS(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,u,l=r*r+o*o;l?(a=t.r+n.r,a*=a,u=e.r+n.r,u*=u,a>u?(i=(l+u-a)/(2*l),s=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(l+a-u)/(2*l),s=Math.sqrt(Math.max(0,a/l-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function XS(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function WS(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function rv(e){this._=e,this.next=null,this.previous=null}function hI(e,t){if(!(a=(e=_H(e)).length))return 0;var n,r,i,a,o,s,u,l,c,h,f;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;YS(r,n,i=e[2]),n=new rv(n),r=new rv(r),i=new rv(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<a;++u){YS(n._,r._,i=e[u]),i=new rv(i),l=r.next,c=n.previous,h=r._.r,f=n._.r;do if(h<=f){if(XS(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}h+=l._.r,l=l.next}else{if(XS(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}f+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=WS(n);(i=i.next)!==r;)(s=WS(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=lI(n,t),u=0;u<a;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function PH(e){return hI(e,vx()),e}function OH(e){return Math.sqrt(e.value)}function IH(){var e=null,t=1,n=1,r=Su;function i(a){const o=vx();return a.x=t/2,a.y=n/2,e?a.eachBefore(KS(e)).eachAfter(W0(r,.5,o)).eachBefore(qS(1)):a.eachBefore(KS(OH)).eachAfter(W0(Su,1,o)).eachAfter(W0(r,a.r/Math.min(t,n),o)).eachBefore(qS(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=rp(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:ec(+a),i):r},i}function KS(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function W0(e,t,n){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*t||0,u;if(s)for(a=0;a<o;++a)i[a].r+=s;if(u=hI(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=u+s}}}function qS(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function dI(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ad(e,t,n,r,i){for(var a=e.children,o,s=-1,u=a.length,l=e.value&&(r-t)/e.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l}function MH(){var e=1,t=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(a(t,s)),r&&o.eachBefore(dI),o}function a(o,s){return function(u){u.children&&ad(u,u.x0,o*(u.depth+1)/s,u.x1,o*(u.depth+2)/s);var l=u.x0,c=u.y0,h=u.x1-n,f=u.y1-n;h<l&&(l=h=(l+h)/2),f<c&&(c=f=(c+f)/2),u.x0=l,u.y0=c,u.x1=h,u.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var DH={depth:-1},ZS={},K0={};function FH(e){return e.id}function BH(e){return e.parentId}function nb(){var e=FH,t=BH,n;function r(i){var a=Array.from(i),o=e,s=t,u,l,c,h,f,d,v,g,p=new Map;if(n!=null){const y=a.map((b,x)=>kH(n(b,x,i))),m=y.map(QS),w=new Set(y).add("");for(const b of m)w.has(b)||(w.add(b),y.push(b),m.push(QS(b)),a.push(K0));o=(b,x)=>y[x],s=(b,x)=>m[x]}for(c=0,u=a.length;c<u;++c)l=a[c],d=a[c]=new Zu(l),(v=o(l,c,i))!=null&&(v+="")&&(g=d.id=v,p.set(g,p.has(g)?ZS:d)),(v=s(l,c,i))!=null&&(v+="")&&(d.parent=v);for(c=0;c<u;++c)if(d=a[c],v=d.parent){if(f=p.get(v),!f)throw new Error("missing: "+v);if(f===ZS)throw new Error("ambiguous: "+v);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===K0&&h.children.length===1;)h=h.children[0],--u;for(let y=a.length-1;y>=0&&(d=a[y],d.data===K0);--y)d.data=null}if(h.parent=DH,h.eachBefore(function(y){y.depth=y.parent.depth+1,--u}).eachBefore(sI),h.parent=null,u>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(e=rp(i),r):e},r.parentId=function(i){return arguments.length?(t=rp(i),r):t},r.path=function(i){return arguments.length?(n=rp(i),r):n},r}function kH(e){e=`${e}`;let t=e.length;return rb(e,t-1)&&!rb(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function QS(e){let t=e.length;if(t<2)return"";for(;--t>1&&!rb(e,t););return e.slice(0,t)}function rb(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function RH(e,t){return e.parent===t.parent?1:2}function q0(e){var t=e.children;return t?t[0]:e.t}function Z0(e){var t=e.children;return t?t[t.length-1]:e.t}function LH(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function NH(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function UH(e,t,n){return e.a.parent===t.parent?e.a:n}function ip(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ip.prototype=Object.create(Zu.prototype);function $H(e){for(var t=new ip(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new ip(a[o],o)),i.parent=n;return(t.parent=new ip(null,0)).children=[t],t}function VH(){var e=RH,t=1,n=1,r=null;function i(l){var c=$H(l);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)l.eachBefore(u);else{var h=l,f=l,d=l;l.eachBefore(function(m){m.x<h.x&&(h=m),m.x>f.x&&(f=m),m.depth>d.depth&&(d=m)});var v=h===f?1:e(h,f)/2,g=v-h.x,p=t/(f.x+v+g),y=n/(d.depth||1);l.eachBefore(function(m){m.x=(m.x+g)*p,m.y=m.depth*y})}return l}function a(l){var c=l.children,h=l.parent.children,f=l.i?h[l.i-1]:null;if(c){NH(l);var d=(c[0].z+c[c.length-1].z)/2;f?(l.z=f.z+e(l._,f._),l.m=l.z-d):l.z=d}else f&&(l.z=f.z+e(l._,f._));l.parent.A=s(l,f,l.parent.A||h[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,c,h){if(c){for(var f=l,d=l,v=c,g=f.parent.children[0],p=f.m,y=d.m,m=v.m,w=g.m,b;v=Z0(v),f=q0(f),v&&f;)g=q0(g),d=Z0(d),d.a=l,b=v.z+m-f.z-p+e(v._,f._),b>0&&(LH(UH(v,l,h),l,b),p+=b,y+=b),m+=v.m,p+=f.m,w+=g.m,y+=d.m;v&&!Z0(d)&&(d.t=v,d.m+=m-y),f&&!q0(g)&&(g.t=f,g.m+=p-w,h=l)}return h}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i}function Im(e,t,n,r,i){for(var a=e.children,o,s=-1,u=a.length,l=e.value&&(i-n)/e.value;++s<u;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var vI=(1+Math.sqrt(5))/2;function pI(e,t,n,r,i,a){for(var o=[],s=t.children,u,l,c=0,h=0,f=s.length,d,v,g=t.value,p,y,m,w,b,x,_;c<f;){d=i-n,v=a-r;do p=s[h++].value;while(!p&&h<f);for(y=m=p,x=Math.max(v/d,d/v)/(g*e),_=p*p*x,b=Math.max(m/_,_/y);h<f;++h){if(p+=l=s[h].value,l<y&&(y=l),l>m&&(m=l),_=p*p*x,w=Math.max(m/_,_/y),w>b){p-=l;break}b=w}o.push(u={value:p,dice:d<v,children:s.slice(c,h)}),u.dice?ad(u,n,r,i,g?r+=v*p/g:a):Im(u,n,r,g?n+=d*p/g:i,a),g-=p,c=h}return o}const gI=function e(t){function n(r,i,a,o,s){pI(t,r,i,a,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(vI);function zH(){var e=gI,t=!1,n=1,r=1,i=[0],a=Su,o=Su,s=Su,u=Su,l=Su;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],t&&f.eachBefore(dI),f}function h(f){var d=i[f.depth],v=f.x0+d,g=f.y0+d,p=f.x1-d,y=f.y1-d;p<v&&(v=p=(v+p)/2),y<g&&(g=y=(g+y)/2),f.x0=v,f.y0=g,f.x1=p,f.y1=y,f.children&&(d=i[f.depth+1]=a(f)/2,v+=l(f)-d,g+=o(f)-d,p-=s(f)-d,y-=u(f)-d,p<v&&(v=p=(v+p)/2),y<g&&(g=y=(g+y)/2),e(f,v,g,p,y))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=uI(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:ec(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:ec(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:ec(+f),c):s},c.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:ec(+f),c):u},c.paddingLeft=function(f){return arguments.length?(l=typeof f=="function"?f:ec(+f),c):l},c}function jH(e,t,n,r,i){var a=e.children,o,s=a.length,u,l=new Array(s+1);for(l[0]=u=o=0;o<s;++o)l[o+1]=u+=a[o].value;c(0,s,e.value,t,n,r,i);function c(h,f,d,v,g,p,y){if(h>=f-1){var m=a[h];m.x0=v,m.y0=g,m.x1=p,m.y1=y;return}for(var w=l[h],b=d/2+w,x=h+1,_=f-1;x<_;){var S=x+_>>>1;l[S]<b?x=S+1:_=S}b-l[x-1]<l[x]-b&&h+1<x&&--x;var P=l[x]-w,C=d-P;if(p-v>y-g){var B=d?(v*C+p*P)/d:p;c(h,x,P,v,g,B,y),c(x,f,C,B,g,p,y)}else{var T=d?(g*C+y*P)/d:y;c(h,x,P,v,g,p,T),c(x,f,C,v,T,p,y)}}}function HH(e,t,n,r,i){(e.depth&1?Im:ad)(e,t,n,r,i)}const GH=function e(t){function n(r,i,a,o,s){if((u=r._squarify)&&u.ratio===t)for(var u,l,c,h,f=-1,d,v=u.length,g=r.value;++f<v;){for(l=u[f],c=l.children,h=l.value=0,d=c.length;h<d;++h)l.value+=c[h].value;l.dice?ad(l,i,a,o,g?a+=(s-a)*l.value/g:s):Im(l,i,a,g?i+=(o-i)*l.value/g:o,s),g-=l.value}else r._squarify=u=pI(t,r,i,a,o,s),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(vI);function YH(e){for(var t=-1,n=e.length,r,i=e[n-1],a=0;++t<n;)r=i,i=e[t],a+=r[1]*i[0]-r[0]*i[1];return a/2}function XH(e){for(var t=-1,n=e.length,r=0,i=0,a,o=e[n-1],s,u=0;++t<n;)a=o,o=e[t],u+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return u*=3,[r/u,i/u]}function WH(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function KH(e,t){return e[0]-t[0]||e[1]-t[1]}function JS(e){const t=e.length,n=[0,1];let r=2,i;for(i=2;i<t;++i){for(;r>1&&WH(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function qH(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(KH),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=JS(r),o=JS(i),s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],l=[];for(t=a.length-1;t>=0;--t)l.push(e[r[a[t]][2]]);for(t=+s;t<o.length-u;++t)l.push(e[r[o[t]][2]]);return l}function ZH(e,t){for(var n=e.length,r=e[n-1],i=t[0],a=t[1],o=r[0],s=r[1],u,l,c=!1,h=0;h<n;++h)r=e[h],u=r[0],l=r[1],l>a!=s>a&&i<(o-u)*(a-l)/(s-l)+u&&(c=!c),o=u,s=l;return c}function QH(e){for(var t=-1,n=e.length,r=e[n-1],i,a,o=r[0],s=r[1],u=0;++t<n;)i=o,a=s,r=e[t],o=r[0],s=r[1],i-=o,a-=s,u+=Math.hypot(i,a);return u}const kr=Math.random,JH=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(kr),eG=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(kr),px=function e(t){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=t()*2-1,s=t()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(kr),tG=function e(t){var n=px.source(t);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=e,r}(kr),mI=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,a=r;a>1;--a)i+=t();return i+a*t()}}return n.source=e,n}(kr),nG=function e(t){var n=mI.source(t);function r(i){if((i=+i)==0)return t;var a=n(i);return function(){return a()/i}}return r.source=e,r}(kr),rG=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(kr),iG=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(kr),aG=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(kr),yI=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(kr),gx=function e(t){var n=px.source(t)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(a=a==null?1:+a,i===1)return()=>-Math.log1p(-t())*a;var o=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(o)),u=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var l=n(),c=1+s*l;while(c<=0);c*=c*c;var h=1-t()}while(h>=1-.0331*l*l*l*l&&Math.log(h)>=.5*l*l+o*(1-c+Math.log(c)));return o*c*u()*a}}return r.source=e,r}(kr),bI=function e(t){var n=gx.source(t);function r(i,a){var o=n(i),s=n(a);return function(){var u=o();return u===0?0:u/(u+s())}}return r.source=e,r}(kr),wI=function e(t){var n=yI.source(t),r=bI.source(t);function i(a,o){return a=+a,(o=+o)>=1?()=>a:o<=0?()=>0:function(){for(var s=0,u=a,l=o;u*l>16&&u*(1-l)>16;){var c=Math.floor((u+1)*l),h=r(c,u-c+1)();h<=l?(s+=c,u-=c,l=(l-h)/(1-h)):(u=c-1,l/=h)}for(var f=l<.5,d=f?l:1-l,v=n(d),g=v(),p=0;g<=u;++p)g+=v();return s+(f?p:u-p)}}return i.source=e,i}(kr),oG=function e(t){function n(r,i,a){var o;return(r=+r)==0?o=s=>-Math.log(s):(r=1/r,o=s=>Math.pow(s,r)),i=i==null?0:+i,a=a==null?1:+a,function(){return i+a*o(-Math.log1p(-t()))}}return n.source=e,n}(kr),sG=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*t())}}return n.source=e,n}(kr),uG=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var a=t();return r+i*Math.log(a/(1-a))}}return n.source=e,n}(kr),lG=function e(t){var n=gx.source(t),r=wI.source(t);function i(a){return function(){for(var o=0,s=a;s>16;){var u=Math.floor(.875*s),l=n(u)();if(l>s)return o+r(u-1,s/l)();o+=u,s-=l}for(var c=-Math.log1p(-t()),h=0;c<=s;++h)c-=Math.log1p(-t());return o+h}}return i.source=e,i}(kr),cG=1664525,fG=1013904223,eE=1/4294967296;function hG(e=Math.random()){let t=(0<=e&&e<1?e/eE:Math.abs(e))|0;return()=>(t=cG*t+fG|0,eE*(t>>>0))}function ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function os(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ib=Symbol("implicit");function mx(){var e=new yh,t=[],n=[],r=ib;function i(a){let o=e.get(a);if(o===void 0){if(r!==ib)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new yh;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mx(t,n).unknown(r)},ga.apply(i,arguments),i}function yx(){var e=mx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,u=0,l=0,c=.5;delete e.unknown;function h(){var f=t().length,d=i<r,v=d?i:r,g=d?r:i;a=(g-v)/Math.max(1,f-u+l*2),s&&(a=Math.floor(a)),v+=(g-v-a*(f-u))*c,o=a*(1-u),s&&(v=Math.round(v),o=Math.round(o));var p=Cs(f).map(function(y){return v+a*y});return n(d?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,h()):s},e.padding=function(f){return arguments.length?(u=Math.min(1,l=+f),h()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},e.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},e.copy=function(){return yx(t(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},ga.apply(h(),arguments)}function xI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xI(t())},e}function dG(){return xI(yx.apply(null,arguments).paddingInner(1))}function vG(e){return function(){return e}}function wg(e){return+e}var tE=[0,1];function ai(e){return e}function ab(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:vG(isNaN(t)?NaN:.5)}function pG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gG(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ab(i,r),a=n(o,a)):(r=ab(r,i),a=n(a,o)),function(s){return a(r(s))}}function mG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ab(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var u=ol(e,s,1,r)-1;return a[u](i[u](s))}}function od(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mm(){var e=tE,t=tE,n=Ys,r,i,a,o=ai,s,u,l;function c(){var f=Math.min(e.length,t.length);return o!==ai&&(o=pG(e[0],e[f-1])),s=f>2?mG:gG,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?a:(u||(u=s(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(i((l||(l=s(t,e.map(r),oa)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,wg),c()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=ym,c()},h.clamp=function(f){return arguments.length?(o=f?!0:ai,c()):o!==ai},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function bx(){return Mm()(ai,ai)}function _I(e,t,n,r){var i=Lp(e,t,n),a;switch(r=Ic(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=wO(i,o))&&(r.precision=a),Kw(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=xO(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bO(i))&&(r.precision=a-(r.type==="%")*2);break}}return Tm(r)}function Xs(e){var t=e.domain;return e.ticks=function(n){var r=t();return Hu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return _I(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=Gu(o,s,n),l===u)return r[i]=o,r[a]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function SI(){var e=bx();return e.copy=function(){return od(e,SI())},ga.apply(e,arguments),Xs(e)}function EI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,wg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return EI(e).unknown(t)},e=arguments.length?Array.from(e,wg):[0,1],Xs(n)}function AI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function nE(e){return Math.log(e)}function rE(e){return Math.exp(e)}function yG(e){return-Math.log(-e)}function bG(e){return-Math.exp(-e)}function wG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xG(e){return e===10?wG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _G(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iE(e){return(t,n)=>-e(-t,n)}function wx(e){const t=e(nE,rE),n=t.domain;let r=10,i,a;function o(){return i=_G(r),a=xG(r),n()[0]<0?(i=iE(i),a=iE(a),e(yG,bG)):e(nE,rE),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const u=n();let l=u[0],c=u[u.length-1];const h=c<l;h&&([l,c]=[c,l]);let f=i(l),d=i(c),v,g;const p=s==null?10:+s;let y=[];if(!(r%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),l>0){for(;f<=d;++f)for(v=1;v<r;++v)if(g=f<0?v/a(-f):v*a(f),!(g<l)){if(g>c)break;y.push(g)}}else for(;f<=d;++f)for(v=r-1;v>=1;--v)if(g=f>0?v/a(-f):v*a(f),!(g<l)){if(g>c)break;y.push(g)}y.length*2<p&&(y=Hu(l,c,p))}else y=Hu(f,d,Math.min(d-f,p)).map(a);return h?y.reverse():y},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ic(u)).precision==null&&(u.trim=!0),u=Tm(u)),s===1/0)return u;const l=Math.max(1,r*s/t.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=l?u(c):""}},t.nice=()=>n(AI(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function CI(){const e=wx(Mm()).domain([1,10]);return e.copy=()=>od(e,CI()).base(e.base()),ga.apply(e,arguments),e}function aE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xx(e){var t=1,n=e(aE(t),oE(t));return n.constant=function(r){return arguments.length?e(aE(t=+r),oE(t)):t},Xs(n)}function TI(){var e=xx(Mm());return e.copy=function(){return od(e,TI()).constant(e.constant())},ga.apply(e,arguments)}function sE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EG(e){return e<0?-e*e:e*e}function _x(e){var t=e(ai,ai),n=1;function r(){return n===1?e(ai,ai):n===.5?e(SG,EG):e(sE(n),sE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Xs(t)}function Sx(){var e=_x(Mm());return e.copy=function(){return od(e,Sx()).exponent(e.exponent())},ga.apply(e,arguments),e}function AG(){return Sx.apply(null,arguments).exponent(.5)}function uE(e){return Math.sign(e)*e*e}function CG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function PI(){var e=bx(),t=[0,1],n=!1,r;function i(a){var o=CG(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(uE(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,wg)).map(uE)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return PI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ga.apply(i,arguments),Xs(i)}function OI(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=tP(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[ol(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Hn),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return OI().domain(e).range(t).unknown(r)},ga.apply(a,arguments)}function II(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[ol(r,u,0,n)]:a}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,s()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,s()):i.slice()},o.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return II().domain([e,t]).range(i).unknown(a)},ga.apply(Xs(o),arguments)}function MI(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[ol(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MI().domain(e).range(t).unknown(n)},ga.apply(i,arguments)}const Q0=new Date,J0=new Date;function ar(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const u=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;let l;do u.push(l=new Date(+a)),t(a,s),e(a);while(l<a&&a<o);return u},i.filter=a=>ar(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Q0.setTime(+a),J0.setTime(+o),e(Q0),e(J0),Math.floor(n(Q0,J0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Bc=ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Bc);const lE=Bc.range,Uo=1e3,la=Uo*60,$o=la*60,Qo=$o*24,Ex=Qo*7,cE=Qo*30,ey=Qo*365,Vo=ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getUTCSeconds()),fE=Vo.range,Dm=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getMinutes()),TG=Dm.range,Fm=ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCMinutes()),PG=Fm.range,Bm=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo-e.getMinutes()*la)},(e,t)=>{e.setTime(+e+t*$o)},(e,t)=>(t-e)/$o,e=>e.getHours()),OG=Bm.range,km=ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$o)},(e,t)=>(t-e)/$o,e=>e.getUTCHours()),IG=km.range,Qc=ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*la)/Qo,e=>e.getDate()-1),MG=Qc.range,sd=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qo,e=>e.getUTCDate()-1),DG=sd.range,Ax=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qo,e=>Math.floor(e/Qo)),FG=Ax.range;function fl(e){return ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*la)/Ex)}const kc=fl(0),Dh=fl(1),DI=fl(2),FI=fl(3),Qu=fl(4),BI=fl(5),kI=fl(6),hE=kc.range,BG=Dh.range,kG=DI.range,RG=FI.range,LG=Qu.range,NG=BI.range,UG=kI.range;function hl(e){return ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ex)}const Rc=hl(0),Fh=hl(1),RI=hl(2),LI=hl(3),Ju=hl(4),NI=hl(5),UI=hl(6),dE=Rc.range,$G=Fh.range,VG=RI.range,zG=LI.range,jG=Ju.range,HG=NI.range,GG=UI.range,Rm=ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),YG=Rm.range,Lm=ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),XG=Lm.range,lo=ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});const WG=lo.range,co=ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});const KG=co.range;function $I(e,t,n,r,i,a){const o=[[Vo,1,Uo],[Vo,5,5*Uo],[Vo,15,15*Uo],[Vo,30,30*Uo],[a,1,la],[a,5,5*la],[a,15,15*la],[a,30,30*la],[i,1,$o],[i,3,3*$o],[i,6,6*$o],[i,12,12*$o],[r,1,Qo],[r,2,2*Qo],[n,1,Ex],[t,1,cE],[t,3,3*cE],[e,1,ey]];function s(l,c,h){const f=c<l;f&&([l,c]=[c,l]);const d=h&&typeof h.range=="function"?h:u(l,c,h),v=d?d.range(l,+c+1):[];return f?v.reverse():v}function u(l,c,h){const f=Math.abs(c-l)/h,d=sm(([,,p])=>p).right(o,f);if(d===o.length)return e.every(Lp(l/ey,c/ey,h));if(d===0)return Bc.every(Math.max(Lp(l,c,h),1));const[v,g]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return v.every(g)}return[s,u]}const[VI,zI]=$I(co,Lm,Rc,Ax,km,Fm),[jI,HI]=$I(lo,Rm,kc,Qc,Bm,Dm);function ty(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ny(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _f(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function GI(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=Sf(i),c=Ef(i),h=Sf(a),f=Ef(a),d=Sf(o),v=Ef(o),g=Sf(s),p=Ef(s),y=Sf(u),m=Ef(u),w={a:U,A:V,b:z,B:j,c:null,d:bE,e:bE,f:yY,g:PY,G:IY,H:pY,I:gY,j:mY,L:YI,m:bY,M:wY,p:X,q:Q,Q:_E,s:SE,S:xY,u:_Y,U:SY,V:EY,w:AY,W:CY,x:null,X:null,y:TY,Y:OY,Z:MY,"%":xE},b={a:te,A:he,b:fe,B:ce,c:null,d:wE,e:wE,f:kY,g:GY,G:XY,H:DY,I:FY,j:BY,L:WI,m:RY,M:LY,p:ee,q:Ue,Q:_E,s:SE,S:NY,u:UY,U:$Y,V:VY,w:zY,W:jY,x:null,X:null,y:HY,Y:YY,Z:WY,"%":xE},x={a:B,A:T,b:k,B:D,c:O,d:mE,e:mE,f:fY,g:gE,G:pE,H:yE,I:yE,j:sY,L:cY,m:oY,M:uY,p:C,q:aY,Q:dY,s:vY,S:lY,u:eY,U:tY,V:nY,w:JG,W:rY,x:N,X:R,y:gE,Y:pE,Z:iY,"%":hY};w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),b.x=_(n,b),b.X=_(r,b),b.c=_(t,b);function _(be,pe){return function(Ae){var re=[],Le=-1,Oe=0,Ze=be.length,Y,I,F;for(Ae instanceof Date||(Ae=new Date(+Ae));++Le<Ze;)be.charCodeAt(Le)===37&&(re.push(be.slice(Oe,Le)),(I=vE[Y=be.charAt(++Le)])!=null?Y=be.charAt(++Le):I=Y==="e"?" ":"0",(F=pe[Y])&&(Y=F(Ae,I)),re.push(Y),Oe=Le+1);return re.push(be.slice(Oe,Le)),re.join("")}}function S(be,pe){return function(Ae){var re=_f(1900,void 0,1),Le=P(re,be,Ae+="",0),Oe,Ze;if(Le!=Ae.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(pe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Oe=ny(_f(re.y,0,1)),Ze=Oe.getUTCDay(),Oe=Ze>4||Ze===0?Fh.ceil(Oe):Fh(Oe),Oe=sd.offset(Oe,(re.V-1)*7),re.y=Oe.getUTCFullYear(),re.m=Oe.getUTCMonth(),re.d=Oe.getUTCDate()+(re.w+6)%7):(Oe=ty(_f(re.y,0,1)),Ze=Oe.getDay(),Oe=Ze>4||Ze===0?Dh.ceil(Oe):Dh(Oe),Oe=Qc.offset(Oe,(re.V-1)*7),re.y=Oe.getFullYear(),re.m=Oe.getMonth(),re.d=Oe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Ze="Z"in re?ny(_f(re.y,0,1)).getUTCDay():ty(_f(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Ze+5)%7:re.w+re.U*7-(Ze+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,ny(re)):ty(re)}}function P(be,pe,Ae,re){for(var Le=0,Oe=pe.length,Ze=Ae.length,Y,I;Le<Oe;){if(re>=Ze)return-1;if(Y=pe.charCodeAt(Le++),Y===37){if(Y=pe.charAt(Le++),I=x[Y in vE?pe.charAt(Le++):Y],!I||(re=I(be,Ae,re))<0)return-1}else if(Y!=Ae.charCodeAt(re++))return-1}return re}function C(be,pe,Ae){var re=l.exec(pe.slice(Ae));return re?(be.p=c.get(re[0].toLowerCase()),Ae+re[0].length):-1}function B(be,pe,Ae){var re=d.exec(pe.slice(Ae));return re?(be.w=v.get(re[0].toLowerCase()),Ae+re[0].length):-1}function T(be,pe,Ae){var re=h.exec(pe.slice(Ae));return re?(be.w=f.get(re[0].toLowerCase()),Ae+re[0].length):-1}function k(be,pe,Ae){var re=y.exec(pe.slice(Ae));return re?(be.m=m.get(re[0].toLowerCase()),Ae+re[0].length):-1}function D(be,pe,Ae){var re=g.exec(pe.slice(Ae));return re?(be.m=p.get(re[0].toLowerCase()),Ae+re[0].length):-1}function O(be,pe,Ae){return P(be,t,pe,Ae)}function N(be,pe,Ae){return P(be,n,pe,Ae)}function R(be,pe,Ae){return P(be,r,pe,Ae)}function U(be){return o[be.getDay()]}function V(be){return a[be.getDay()]}function z(be){return u[be.getMonth()]}function j(be){return s[be.getMonth()]}function X(be){return i[+(be.getHours()>=12)]}function Q(be){return 1+~~(be.getMonth()/3)}function te(be){return o[be.getUTCDay()]}function he(be){return a[be.getUTCDay()]}function fe(be){return u[be.getUTCMonth()]}function ce(be){return s[be.getUTCMonth()]}function ee(be){return i[+(be.getUTCHours()>=12)]}function Ue(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var pe=_(be+="",w);return pe.toString=function(){return be},pe},parse:function(be){var pe=S(be+="",!1);return pe.toString=function(){return be},pe},utcFormat:function(be){var pe=_(be+="",b);return pe.toString=function(){return be},pe},utcParse:function(be){var pe=S(be+="",!0);return pe.toString=function(){return be},pe}}}var vE={"-":"",_:" ",0:"0"},Ar=/^\s*\d+/,qG=/^%/,ZG=/[\\^$*+?|[\]().{}]/g;function vn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function QG(e){return e.replace(ZG,"\\$&")}function Sf(e){return new RegExp("^(?:"+e.map(QG).join("|")+")","i")}function Ef(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function JG(e,t,n){var r=Ar.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=Ar.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nY(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function pE(e,t,n){var r=Ar.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function gE(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function aY(e,t,n){var r=Ar.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function oY(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mE(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=Ar.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function yE(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uY(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lY(e,t,n){var r=Ar.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cY(e,t,n){var r=Ar.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function fY(e,t,n){var r=Ar.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hY(e,t,n){var r=qG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dY(e,t,n){var r=Ar.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vY(e,t,n){var r=Ar.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bE(e,t){return vn(e.getDate(),t,2)}function pY(e,t){return vn(e.getHours(),t,2)}function gY(e,t){return vn(e.getHours()%12||12,t,2)}function mY(e,t){return vn(1+Qc.count(lo(e),e),t,3)}function YI(e,t){return vn(e.getMilliseconds(),t,3)}function yY(e,t){return YI(e,t)+"000"}function bY(e,t){return vn(e.getMonth()+1,t,2)}function wY(e,t){return vn(e.getMinutes(),t,2)}function xY(e,t){return vn(e.getSeconds(),t,2)}function _Y(e){var t=e.getDay();return t===0?7:t}function SY(e,t){return vn(kc.count(lo(e)-1,e),t,2)}function XI(e){var t=e.getDay();return t>=4||t===0?Qu(e):Qu.ceil(e)}function EY(e,t){return e=XI(e),vn(Qu.count(lo(e),e)+(lo(e).getDay()===4),t,2)}function AY(e){return e.getDay()}function CY(e,t){return vn(Dh.count(lo(e)-1,e),t,2)}function TY(e,t){return vn(e.getFullYear()%100,t,2)}function PY(e,t){return e=XI(e),vn(e.getFullYear()%100,t,2)}function OY(e,t){return vn(e.getFullYear()%1e4,t,4)}function IY(e,t){var n=e.getDay();return e=n>=4||n===0?Qu(e):Qu.ceil(e),vn(e.getFullYear()%1e4,t,4)}function MY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function wE(e,t){return vn(e.getUTCDate(),t,2)}function DY(e,t){return vn(e.getUTCHours(),t,2)}function FY(e,t){return vn(e.getUTCHours()%12||12,t,2)}function BY(e,t){return vn(1+sd.count(co(e),e),t,3)}function WI(e,t){return vn(e.getUTCMilliseconds(),t,3)}function kY(e,t){return WI(e,t)+"000"}function RY(e,t){return vn(e.getUTCMonth()+1,t,2)}function LY(e,t){return vn(e.getUTCMinutes(),t,2)}function NY(e,t){return vn(e.getUTCSeconds(),t,2)}function UY(e){var t=e.getUTCDay();return t===0?7:t}function $Y(e,t){return vn(Rc.count(co(e)-1,e),t,2)}function KI(e){var t=e.getUTCDay();return t>=4||t===0?Ju(e):Ju.ceil(e)}function VY(e,t){return e=KI(e),vn(Ju.count(co(e),e)+(co(e).getUTCDay()===4),t,2)}function zY(e){return e.getUTCDay()}function jY(e,t){return vn(Fh.count(co(e)-1,e),t,2)}function HY(e,t){return vn(e.getUTCFullYear()%100,t,2)}function GY(e,t){return e=KI(e),vn(e.getUTCFullYear()%100,t,2)}function YY(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function XY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ju(e):Ju.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function WY(){return"+0000"}function xE(){return"%"}function _E(e){return+e}function SE(e){return Math.floor(+e/1e3)}var Ul,Cx,qI,Nm,Tx;ZI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZI(e){return Ul=GI(e),Cx=Ul.format,qI=Ul.parse,Nm=Ul.utcFormat,Tx=Ul.utcParse,Ul}var QI="%Y-%m-%dT%H:%M:%S.%LZ";function KY(e){return e.toISOString()}var qY=Date.prototype.toISOString?KY:Nm(QI);const ZY=qY;function QY(e){var t=new Date(e);return isNaN(t)?null:t}var JY=+new Date("2000-01-01T00:00:00.000Z")?QY:Tx(QI);const eX=JY;function tX(e){return new Date(e)}function nX(e){return e instanceof Date?+e:+new Date(+e)}function Px(e,t,n,r,i,a,o,s,u,l){var c=bx(),h=c.invert,f=c.domain,d=l(".%L"),v=l(":%S"),g=l("%I:%M"),p=l("%I %p"),y=l("%a %d"),m=l("%b %d"),w=l("%B"),b=l("%Y");function x(_){return(u(_)<_?d:s(_)<_?v:o(_)<_?g:a(_)<_?p:r(_)<_?i(_)<_?y:m:n(_)<_?w:b)(_)}return c.invert=function(_){return new Date(h(_))},c.domain=function(_){return arguments.length?f(Array.from(_,nX)):f().map(tX)},c.ticks=function(_){var S=f();return e(S[0],S[S.length-1],_??10)},c.tickFormat=function(_,S){return S==null?x:l(S)},c.nice=function(_){var S=f();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?f(AI(S,_)):c},c.copy=function(){return od(c,Px(e,t,n,r,i,a,o,s,u,l))},c}function rX(){return ga.apply(Px(jI,HI,lo,Rm,kc,Qc,Bm,Dm,Vo,Cx).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iX(){return ga.apply(Px(VI,zI,co,Lm,Rc,sd,km,Fm,Vo,Nm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Um(){var e=0,t=1,n,r,i,a,o=ai,s=!1,u;function l(h){return h==null||isNaN(h=+h)?u:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(h){return arguments.length?(s=!!h,l):s},l.interpolator=function(h){return arguments.length?(o=h,l):o};function c(h){return function(f){var d,v;return arguments.length?([d,v]=f,o=h(d,v),l):[o(0),o(1)]}}return l.range=c(Ys),l.rangeRound=c(ym),l.unknown=function(h){return arguments.length?(u=h,l):u},function(h){return a=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),l}}function Ws(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JI(){var e=Xs(Um()(ai));return e.copy=function(){return Ws(e,JI())},os.apply(e,arguments)}function eM(){var e=wx(Um()).domain([1,10]);return e.copy=function(){return Ws(e,eM()).base(e.base())},os.apply(e,arguments)}function tM(){var e=xx(Um());return e.copy=function(){return Ws(e,tM()).constant(e.constant())},os.apply(e,arguments)}function Ox(){var e=_x(Um());return e.copy=function(){return Ws(e,Ox()).exponent(e.exponent())},os.apply(e,arguments)}function aX(){return Ox.apply(null,arguments).exponent(.5)}function nM(){var e=[],t=ai;function n(r){if(r!=null&&!isNaN(r=+r))return t((ol(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hn),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>bh(e,a/r))},n.copy=function(){return nM(t).domain(e)},os.apply(n,arguments)}function $m(){var e=0,t=.5,n=1,r=1,i,a,o,s,u,l=ai,c,h=!1,f;function d(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:u),l(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),a=c(t=+t),o=c(n=+n),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(l=g,d):l};function v(g){return function(p){var y,m,w;return arguments.length?([y,m,w]=p,l=KP(g,[y,m,w]),d):[l(0),l(.5),l(1)]}}return d.range=v(Ys),d.rangeRound=v(ym),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return c=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function rM(){var e=Xs($m()(ai));return e.copy=function(){return Ws(e,rM())},os.apply(e,arguments)}function iM(){var e=wx($m()).domain([.1,1,10]);return e.copy=function(){return Ws(e,iM()).base(e.base())},os.apply(e,arguments)}function aM(){var e=xx($m());return e.copy=function(){return Ws(e,aM()).constant(e.constant())},os.apply(e,arguments)}function Ix(){var e=_x($m());return e.copy=function(){return Ws(e,Ix()).exponent(e.exponent())},os.apply(e,arguments)}function oX(){return Ix.apply(null,arguments).exponent(.5)}function Xt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const sX=Xt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),uX=Xt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),lX=Xt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),cX=Xt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),fX=Xt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),hX=Xt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),dX=Xt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),vX=Xt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),pX=Xt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),gX=Xt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),En=e=>RP(e[e.length-1]);var oM=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Xt);const mX=En(oM);var sM=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Xt);const yX=En(sM);var uM=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Xt);const bX=En(uM);var lM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Xt);const wX=En(lM);var cM=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Xt);const xX=En(cM);var fM=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Xt);const _X=En(fM);var hM=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Xt);const SX=En(hM);var dM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Xt);const EX=En(dM);var vM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Xt);const AX=En(vM);var pM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Xt);const CX=En(pM);var gM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Xt);const TX=En(gM);var mM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Xt);const PX=En(mM);var yM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Xt);const OX=En(yM);var bM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Xt);const IX=En(bM);var wM=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Xt);const MX=En(wM);var xM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Xt);const DX=En(xM);var _M=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Xt);const FX=En(_M);var SM=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Xt);const BX=En(SM);var EM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Xt);const kX=En(EM);var AM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Xt);const RX=En(AM);var CM=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Xt);const LX=En(CM);var TM=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Xt);const NX=En(TM);var PM=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Xt);const UX=En(PM);var OM=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Xt);const $X=En(OM);var IM=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Xt);const VX=En(IM);var MM=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Xt);const zX=En(MM);var DM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Xt);const jX=En(DM);function HX(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const GX=bm(Na(300,.5,0),Na(-240,.5,1));var YX=bm(Na(-100,.75,.35),Na(80,1.5,.8)),XX=bm(Na(260,.75,.35),Na(80,1.5,.8)),iv=Na();function Vm(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return iv.h=360*e-100,iv.s=1.5-1.5*t,iv.l=.8-.9*t,iv+""}var av=Cc(),WX=Math.PI/3,KX=Math.PI*2/3;function qX(e){var t;return e=(.5-e)*Math.PI,av.r=255*(t=Math.sin(e))*t,av.g=255*(t=Math.sin(e+WX))*t,av.b=255*(t=Math.sin(e+KX))*t,av+""}function ZX(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function zm(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const QX=zm(Xt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var JX=zm(Xt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),eW=zm(Xt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),tW=zm(Xt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function zt(e){return function(){return e}}const EE=Math.abs,jr=Math.atan2,Bo=Math.cos,nW=Math.max,gc=Math.min,Ai=Math.sin,Mn=Math.sqrt,Gr=1e-12,Us=Math.PI,xg=Us/2,ks=2*Us;function rW(e){return e>1?0:e<-1?Us:Math.acos(e)}function AE(e){return e>=1?xg:e<=-1?-xg:Math.asin(e)}function ud(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Jh(t)}function iW(e){return e.innerRadius}function aW(e){return e.outerRadius}function oW(e){return e.startAngle}function sW(e){return e.endAngle}function uW(e){return e&&e.padAngle}function lW(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=o-i,h=s-a,f=h*u-c*l;if(!(f*f<Gr))return f=(c*(t-a)-h*(e-i))/f,[e+f*u,t+f*l]}function ov(e,t,n,r,i,a,o){var s=e-n,u=t-r,l=(o?a:-a)/Mn(s*s+u*u),c=l*u,h=-l*s,f=e+c,d=t+h,v=n+c,g=r+h,p=(f+v)/2,y=(d+g)/2,m=v-f,w=g-d,b=m*m+w*w,x=i-a,_=f*g-v*d,S=(w<0?-1:1)*Mn(nW(0,x*x*b-_*_)),P=(_*w-m*S)/b,C=(-_*m-w*S)/b,B=(_*w+m*S)/b,T=(-_*m+w*S)/b,k=P-p,D=C-y,O=B-p,N=T-y;return k*k+D*D>O*O+N*N&&(P=B,C=T),{cx:P,cy:C,x01:-c,y01:-h,x11:P*(i/x-1),y11:C*(i/x-1)}}function cW(){var e=iW,t=aW,n=zt(0),r=null,i=oW,a=sW,o=uW,s=null,u=ud(l);function l(){var c,h,f=+e.apply(this,arguments),d=+t.apply(this,arguments),v=i.apply(this,arguments)-xg,g=a.apply(this,arguments)-xg,p=EE(g-v),y=g>v;if(s||(s=c=u()),d<f&&(h=d,d=f,f=h),!(d>Gr))s.moveTo(0,0);else if(p>ks-Gr)s.moveTo(d*Bo(v),d*Ai(v)),s.arc(0,0,d,v,g,!y),f>Gr&&(s.moveTo(f*Bo(g),f*Ai(g)),s.arc(0,0,f,g,v,y));else{var m=v,w=g,b=v,x=g,_=p,S=p,P=o.apply(this,arguments)/2,C=P>Gr&&(r?+r.apply(this,arguments):Mn(f*f+d*d)),B=gc(EE(d-f)/2,+n.apply(this,arguments)),T=B,k=B,D,O;if(C>Gr){var N=AE(C/f*Ai(P)),R=AE(C/d*Ai(P));(_-=N*2)>Gr?(N*=y?1:-1,b+=N,x-=N):(_=0,b=x=(v+g)/2),(S-=R*2)>Gr?(R*=y?1:-1,m+=R,w-=R):(S=0,m=w=(v+g)/2)}var U=d*Bo(m),V=d*Ai(m),z=f*Bo(x),j=f*Ai(x);if(B>Gr){var X=d*Bo(w),Q=d*Ai(w),te=f*Bo(b),he=f*Ai(b),fe;if(p<Us)if(fe=lW(U,V,te,he,X,Q,z,j)){var ce=U-fe[0],ee=V-fe[1],Ue=X-fe[0],be=Q-fe[1],pe=1/Ai(rW((ce*Ue+ee*be)/(Mn(ce*ce+ee*ee)*Mn(Ue*Ue+be*be)))/2),Ae=Mn(fe[0]*fe[0]+fe[1]*fe[1]);T=gc(B,(f-Ae)/(pe-1)),k=gc(B,(d-Ae)/(pe+1))}else T=k=0}S>Gr?k>Gr?(D=ov(te,he,U,V,d,k,y),O=ov(X,Q,z,j,d,k,y),s.moveTo(D.cx+D.x01,D.cy+D.y01),k<B?s.arc(D.cx,D.cy,k,jr(D.y01,D.x01),jr(O.y01,O.x01),!y):(s.arc(D.cx,D.cy,k,jr(D.y01,D.x01),jr(D.y11,D.x11),!y),s.arc(0,0,d,jr(D.cy+D.y11,D.cx+D.x11),jr(O.cy+O.y11,O.cx+O.x11),!y),s.arc(O.cx,O.cy,k,jr(O.y11,O.x11),jr(O.y01,O.x01),!y))):(s.moveTo(U,V),s.arc(0,0,d,m,w,!y)):s.moveTo(U,V),!(f>Gr)||!(_>Gr)?s.lineTo(z,j):T>Gr?(D=ov(z,j,X,Q,f,-T,y),O=ov(U,V,te,he,f,-T,y),s.lineTo(D.cx+D.x01,D.cy+D.y01),T<B?s.arc(D.cx,D.cy,T,jr(D.y01,D.x01),jr(O.y01,O.x01),!y):(s.arc(D.cx,D.cy,T,jr(D.y01,D.x01),jr(D.y11,D.x11),!y),s.arc(0,0,f,jr(D.cy+D.y11,D.cx+D.x11),jr(O.cy+O.y11,O.cx+O.x11),y),s.arc(O.cx,O.cy,T,jr(O.y11,O.x11),jr(O.y01,O.x01),!y))):s.arc(0,0,f,x,b,y)}if(s.closePath(),c)return s=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Us/2;return[Bo(h)*c,Ai(h)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:zt(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:zt(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:zt(+c),l):i},l.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:zt(+c),l):a},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:zt(+c),l):o},l.context=function(c){return arguments.length?(s=c??null,l):s},l}var fW=Array.prototype.slice;function jm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FM(e){this._context=e}FM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hm(e){return new FM(e)}function Mx(e){return e[0]}function Dx(e){return e[1]}function Fx(e,t){var n=zt(!0),r=null,i=Hm,a=null,o=ud(s);e=typeof e=="function"?e:e===void 0?Mx:zt(e),t=typeof t=="function"?t:t===void 0?Dx:zt(t);function s(u){var l,c=(u=jm(u)).length,h,f=!1,d;for(r==null&&(a=i(d=o())),l=0;l<=c;++l)!(l<c&&n(h=u[l],l,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(h,l,u),+t(h,l,u));if(d)return a=null,d+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:zt(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:zt(+u),s):t},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:zt(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),s):r},s}function BM(e,t,n){var r=null,i=zt(!0),a=null,o=Hm,s=null,u=ud(l);e=typeof e=="function"?e:e===void 0?Mx:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Dx:zt(+n);function l(h){var f,d,v,g=(h=jm(h)).length,p,y=!1,m,w=new Array(g),b=new Array(g);for(a==null&&(s=o(m=u())),f=0;f<=g;++f){if(!(f<g&&i(p=h[f],f,h))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=f-1;v>=d;--v)s.point(w[v],b[v]);s.lineEnd(),s.areaEnd()}y&&(w[f]=+e(p,f,h),b[f]=+t(p,f,h),s.point(r?+r(p,f,h):w[f],n?+n(p,f,h):b[f]))}if(m)return s=null,m+""||null}function c(){return Fx().defined(i).curve(o).context(a)}return l.x=function(h){return arguments.length?(e=typeof h=="function"?h:zt(+h),r=null,l):e},l.x0=function(h){return arguments.length?(e=typeof h=="function"?h:zt(+h),l):e},l.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zt(+h),l):r},l.y=function(h){return arguments.length?(t=typeof h=="function"?h:zt(+h),n=null,l):t},l.y0=function(h){return arguments.length?(t=typeof h=="function"?h:zt(+h),l):t},l.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:zt(+h),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:zt(!!h),l):i},l.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),l):o},l.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),l):a},l}function hW(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function dW(e){return e}function vW(){var e=dW,t=hW,n=null,r=zt(0),i=zt(ks),a=zt(0);function o(s){var u,l=(s=jm(s)).length,c,h,f=0,d=new Array(l),v=new Array(l),g=+r.apply(this,arguments),p=Math.min(ks,Math.max(-ks,i.apply(this,arguments)-g)),y,m=Math.min(Math.abs(p)/l,a.apply(this,arguments)),w=m*(p<0?-1:1),b;for(u=0;u<l;++u)(b=v[d[u]=u]=+e(s[u],u,s))>0&&(f+=b);for(t!=null?d.sort(function(x,_){return t(v[x],v[_])}):n!=null&&d.sort(function(x,_){return n(s[x],s[_])}),u=0,h=f?(p-l*w)/f:0;u<l;++u,g=y)c=d[u],b=v[c],y=g+(b>0?b*h:0)+w,v[c]={data:s[c],index:u,value:b,startAngle:g,endAngle:y,padAngle:m};return v}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:zt(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:zt(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:zt(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:zt(+s),o):a},o}var kM=Bx(Hm);function RM(e){this._curve=e}RM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Bx(e){function t(n){return new RM(e(n))}return t._curve=e,t}function Gf(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Bx(n)):t()._curve},e}function CE(){return Gf(Fx().curve(kM))}function TE(){var e=BM().curve(kM),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Gf(n())},delete e.lineX0,e.lineEndAngle=function(){return Gf(r())},delete e.lineX1,e.lineInnerRadius=function(){return Gf(i())},delete e.lineY0,e.lineOuterRadius=function(){return Gf(a())},delete e.lineY1,e.curve=function(o){return arguments.length?t(Bx(o)):t()._curve},e}function Yf(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class LM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class pW{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=Yf(this._x0,this._y0),i=Yf(this._x0,this._y0=(this._y0+n)/2),a=Yf(t,this._y0),o=Yf(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...a,...o)}this._x0=t,this._y0=n}}function NM(e){return new LM(e,!0)}function UM(e){return new LM(e,!1)}function gW(e){return new pW(e)}function mW(e){return e.source}function yW(e){return e.target}function Gm(e){let t=mW,n=yW,r=Mx,i=Dx,a=null,o=null,s=ud(u);function u(){let l;const c=fW.call(arguments),h=t.apply(this,c),f=n.apply(this,c);if(a==null&&(o=e(l=s())),o.lineStart(),c[0]=h,o.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,o.point(+r.apply(this,c),+i.apply(this,c)),o.lineEnd(),l)return o=null,l+""||null}return u.source=function(l){return arguments.length?(t=l,u):t},u.target=function(l){return arguments.length?(n=l,u):n},u.x=function(l){return arguments.length?(r=typeof l=="function"?l:zt(+l),u):r},u.y=function(l){return arguments.length?(i=typeof l=="function"?l:zt(+l),u):i},u.context=function(l){return arguments.length?(l==null?a=o=null:o=e(a=l),u):a},u}function bW(){return Gm(NM)}function wW(){return Gm(UM)}function xW(){const e=Gm(gW);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const _W=Mn(3),$M={draw(e,t){const n=Mn(t+gc(t/28,.75))*.59436,r=n/2,i=r*_W;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Ym={draw(e,t){const n=Mn(t/Us);e.moveTo(n,0),e.arc(0,0,n,0,ks)}},VM={draw(e,t){const n=Mn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zM=Mn(1/3),SW=zM*2,jM={draw(e,t){const n=Mn(t/SW),r=n*zM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},HM={draw(e,t){const n=Mn(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},GM={draw(e,t){const n=Mn(t-gc(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},YM={draw(e,t){const n=Mn(t),r=-n/2;e.rect(r,r,n,n)}},XM={draw(e,t){const n=Mn(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},EW=.8908130915292852,WM=Ai(Us/10)/Ai(7*Us/10),AW=Ai(ks/10)*WM,CW=-Bo(ks/10)*WM,KM={draw(e,t){const n=Mn(t*EW),r=AW*n,i=CW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=ks*a/5,s=Bo(o),u=Ai(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},ry=Mn(3),qM={draw(e,t){const n=-Mn(t/(ry*3));e.moveTo(0,n*2),e.lineTo(-ry*n,-n),e.lineTo(ry*n,-n),e.closePath()}},TW=Mn(3),ZM={draw(e,t){const n=Mn(t)*.6824,r=n/2,i=n*TW/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},ta=-.5,na=Mn(3)/2,ob=1/Mn(12),PW=(ob/2+1)*3,QM={draw(e,t){const n=Mn(t/PW),r=n/2,i=n*ob,a=r,o=n*ob+n,s=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,u),e.lineTo(ta*r-na*i,na*r+ta*i),e.lineTo(ta*a-na*o,na*a+ta*o),e.lineTo(ta*s-na*u,na*s+ta*u),e.lineTo(ta*r+na*i,ta*i-na*r),e.lineTo(ta*a+na*o,ta*o-na*a),e.lineTo(ta*s+na*u,ta*u-na*s),e.closePath()}},sb={draw(e,t){const n=Mn(t-gc(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},PE=[Ym,VM,jM,YM,KM,qM,QM],OW=[Ym,GM,sb,ZM,$M,XM,HM];function IW(e,t){let n=null,r=ud(i);e=typeof e=="function"?e:zt(e||Ym),t=typeof t=="function"?t:zt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:zt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:zt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function $s(){}function _g(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xm(e){this._context=e}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_g(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MW(e){return new Xm(e)}function JM(e){this._context=e}JM.prototype={areaStart:$s,areaEnd:$s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_g(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DW(e){return new JM(e)}function e3(e){this._context=e}e3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_g(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FW(e){return new e3(e)}function t3(e,t){this._basis=new Xm(e),this._beta=t}t3.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,u;++s<=n;)u=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+u*a),this._beta*t[s]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const BW=function e(t){function n(r){return t===1?new Xm(r):new t3(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Sg(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function kx(e,t){this._context=e,this._k=(1-t)/6}kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Sg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kW=function e(t){function n(r){return new kx(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Rx(e,t){this._context=e,this._k=(1-t)/6}Rx.prototype={areaStart:$s,areaEnd:$s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const RW=function e(t){function n(r){return new Rx(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Lx(e,t){this._context=e,this._k=(1-t)/6}Lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const LW=function e(t){function n(r){return new Lx(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Nx(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Gr){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Gr){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function n3(e,t){this._context=e,this._alpha=t}n3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Nx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const NW=function e(t){function n(r){return t?new n3(r,t):new kx(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function r3(e,t){this._context=e,this._alpha=t}r3.prototype={areaStart:$s,areaEnd:$s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Nx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const UW=function e(t){function n(r){return t?new r3(r,t):new Rx(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function i3(e,t){this._context=e,this._alpha=t}i3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $W=function e(t){function n(r){return t?new i3(r,t):new Lx(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function a3(e){this._context=e}a3.prototype={areaStart:$s,areaEnd:$s,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function VW(e){return new a3(e)}function OE(e){return e<0?-1:1}function IE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(OE(a)+OE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function ME(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function iy(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Eg(e){this._context=e}Eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iy(this,this._t0,ME(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,iy(this,ME(this,n=IE(this,e,t)),n);break;default:iy(this,this._t0,n=IE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function o3(e){this._context=new s3(e)}(o3.prototype=Object.create(Eg.prototype)).point=function(e,t){Eg.prototype.point.call(this,t,e)};function s3(e){this._context=e}s3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function zW(e){return new Eg(e)}function jW(e){return new o3(e)}function u3(e){this._context=e}u3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=DE(e),i=DE(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function DE(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function HW(e){return new u3(e)}function Wm(e,t){this._context=e,this._t=t}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function GW(e){return new Wm(e,.5)}function YW(e){return new Wm(e,0)}function XW(e){return new Wm(e,1)}function Lc(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Nc(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function WW(e,t){return e[t]}function KW(e){const t=[];return t.key=e,t}function qW(){var e=zt([]),t=Nc,n=Lc,r=WW;function i(a){var o=Array.from(e.apply(this,arguments),KW),s,u=o.length,l=-1,c;for(const h of a)for(s=0,++l;s<u;++s)(o[s][l]=[0,+r(h,o[s].key,l,a)]).data=h;for(s=0,c=jm(t(o));s<u;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:zt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:zt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Nc:typeof a=="function"?a:zt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Lc,i):n},i}function ZW(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Lc(e,t)}}function QW(e,t){if((u=e.length)>0)for(var n,r=0,i,a,o,s,u,l=e[t[0]].length;r<l;++r)for(o=s=0,n=0;n<u;++n)(a=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function JW(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Lc(e,t)}}function eK(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,u=0,l=0;s<o;++s){for(var c=e[t[s]],h=c[r][1]||0,f=c[r-1][1]||0,d=(h-f)/2,v=0;v<s;++v){var g=e[t[v]],p=g[r][1]||0,y=g[r-1][1]||0;d+=p-y}u+=h,l+=d*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,Lc(e,t)}}function l3(e){var t=e.map(tK);return Nc(e).sort(function(n,r){return t[n]-t[r]})}function tK(e){for(var t=-1,n=0,r=e.length,i,a=-1/0;++t<r;)(i=+e[t][1])>a&&(a=i,n=t);return n}function c3(e){var t=e.map(f3);return Nc(e).sort(function(n,r){return t[n]-t[r]})}function f3(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function nK(e){return c3(e).reverse()}function rK(e){var t=e.length,n,r,i=e.map(f3),a=l3(e),o=0,s=0,u=[],l=[];for(n=0;n<t;++n)r=a[n],o<s?(o+=i[r],u.push(r)):(s+=i[r],l.push(r));return l.reverse().concat(u)}function iK(e){return Nc(e).reverse()}const sv=e=>()=>e;function aK(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ro(e,t,n){this.k=e,this.x=t,this.y=n}ro.prototype={constructor:ro,scale:function(e){return e===1?this:new ro(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ro(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Km=new ro(1,0,0);h3.prototype=ro.prototype;function h3(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Km;return e.__zoom}function ay(e){e.stopImmediatePropagation()}function Af(e){e.preventDefault(),e.stopImmediatePropagation()}function oK(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function sK(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function FE(){return this.__zoom||Km}function uK(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function lK(){return navigator.maxTouchPoints||"ontouchstart"in this}function cK(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function d3(){var e=oK,t=sK,n=cK,r=uK,i=lK,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=GP,l=sl("start","zoom","end"),c,h,f,d=500,v=150,g=0,p=10;function y(O){O.property("__zoom",FE).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",T).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(O,N,R,U){var V=O.selection?O.selection():O;V.property("__zoom",FE),O!==V?x(O,N,R,U):V.interrupt().each(function(){_(this,arguments).event(U).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},y.scaleBy=function(O,N,R,U){y.scaleTo(O,function(){var V=this.__zoom.k,z=typeof N=="function"?N.apply(this,arguments):N;return V*z},R,U)},y.scaleTo=function(O,N,R,U){y.transform(O,function(){var V=t.apply(this,arguments),z=this.__zoom,j=R==null?b(V):typeof R=="function"?R.apply(this,arguments):R,X=z.invert(j),Q=typeof N=="function"?N.apply(this,arguments):N;return n(w(m(z,Q),j,X),V,o)},R,U)},y.translateBy=function(O,N,R,U){y.transform(O,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),o)},null,U)},y.translateTo=function(O,N,R,U,V){y.transform(O,function(){var z=t.apply(this,arguments),j=this.__zoom,X=U==null?b(z):typeof U=="function"?U.apply(this,arguments):U;return n(Km.translate(X[0],X[1]).scale(j.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof R=="function"?-R.apply(this,arguments):-R),z,o)},U,V)};function m(O,N){return N=Math.max(a[0],Math.min(a[1],N)),N===O.k?O:new ro(N,O.x,O.y)}function w(O,N,R){var U=N[0]-R[0]*O.k,V=N[1]-R[1]*O.k;return U===O.x&&V===O.y?O:new ro(O.k,U,V)}function b(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function x(O,N,R,U){O.on("start.zoom",function(){_(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(U).end()}).tween("zoom",function(){var V=this,z=arguments,j=_(V,z).event(U),X=t.apply(V,z),Q=R==null?b(X):typeof R=="function"?R.apply(V,z):R,te=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),he=V.__zoom,fe=typeof N=="function"?N.apply(V,z):N,ce=u(he.invert(Q).concat(te/he.k),fe.invert(Q).concat(te/fe.k));return function(ee){if(ee===1)ee=fe;else{var Ue=ce(ee),be=te/Ue[2];ee=new ro(be,Q[0]-Ue[0]*be,Q[1]-Ue[1]*be)}j.zoom(null,ee)}})}function _(O,N,R){return!R&&O.__zooming||new S(O,N)}function S(O,N){this.that=O,this.args=N,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,N),this.taps=0}S.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,N){return this.mouse&&O!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var N=gn(this.that).datum();l.call(O,this.that,new aK(O,{sourceEvent:this.sourceEvent,target:y,type:O,transform:this.that.__zoom,dispatch:l}),N)}};function P(O,...N){if(!e.apply(this,arguments))return;var R=_(this,N).event(O),U=this.__zoom,V=Math.max(a[0],Math.min(a[1],U.k*Math.pow(2,r.apply(this,arguments)))),z=Ui(O);if(R.wheel)(R.mouse[0][0]!==z[0]||R.mouse[0][1]!==z[1])&&(R.mouse[1]=U.invert(R.mouse[0]=z)),clearTimeout(R.wheel);else{if(U.k===V)return;R.mouse=[z,U.invert(z)],Ru(this),R.start()}Af(O),R.wheel=setTimeout(j,v),R.zoom("mouse",n(w(m(U,V),R.mouse[0],R.mouse[1]),R.extent,o));function j(){R.wheel=null,R.end()}}function C(O,...N){if(f||!e.apply(this,arguments))return;var R=O.currentTarget,U=_(this,N,!0).event(O),V=gn(O.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",te,!0),z=Ui(O,R),j=O.clientX,X=O.clientY;dm(O.view),ay(O),U.mouse=[z,this.__zoom.invert(z)],Ru(this),U.start();function Q(he){if(Af(he),!U.moved){var fe=he.clientX-j,ce=he.clientY-X;U.moved=fe*fe+ce*ce>g}U.event(he).zoom("mouse",n(w(U.that.__zoom,U.mouse[0]=Ui(he,R),U.mouse[1]),U.extent,o))}function te(he){V.on("mousemove.zoom mouseup.zoom",null),vm(he.view,U.moved),Af(he),U.event(he).end()}}function B(O,...N){if(e.apply(this,arguments)){var R=this.__zoom,U=Ui(O.changedTouches?O.changedTouches[0]:O,this),V=R.invert(U),z=R.k*(O.shiftKey?.5:2),j=n(w(m(R,z),U,V),t.apply(this,N),o);Af(O),s>0?gn(this).transition().duration(s).call(x,j,U,O):gn(this).call(y.transform,j,U,O)}}function T(O,...N){if(e.apply(this,arguments)){var R=O.touches,U=R.length,V=_(this,N,O.changedTouches.length===U).event(O),z,j,X,Q;for(ay(O),j=0;j<U;++j)X=R[j],Q=Ui(X,this),Q=[Q,this.__zoom.invert(Q),X.identifier],V.touch0?!V.touch1&&V.touch0[2]!==Q[2]&&(V.touch1=Q,V.taps=0):(V.touch0=Q,z=!0,V.taps=1+!!c);c&&(c=clearTimeout(c)),z&&(V.taps<2&&(h=Q[0],c=setTimeout(function(){c=null},d)),Ru(this),V.start())}}function k(O,...N){if(this.__zooming){var R=_(this,N).event(O),U=O.changedTouches,V=U.length,z,j,X,Q;for(Af(O),z=0;z<V;++z)j=U[z],X=Ui(j,this),R.touch0&&R.touch0[2]===j.identifier?R.touch0[0]=X:R.touch1&&R.touch1[2]===j.identifier&&(R.touch1[0]=X);if(j=R.that.__zoom,R.touch1){var te=R.touch0[0],he=R.touch0[1],fe=R.touch1[0],ce=R.touch1[1],ee=(ee=fe[0]-te[0])*ee+(ee=fe[1]-te[1])*ee,Ue=(Ue=ce[0]-he[0])*Ue+(Ue=ce[1]-he[1])*Ue;j=m(j,Math.sqrt(ee/Ue)),X=[(te[0]+fe[0])/2,(te[1]+fe[1])/2],Q=[(he[0]+ce[0])/2,(he[1]+ce[1])/2]}else if(R.touch0)X=R.touch0[0],Q=R.touch0[1];else return;R.zoom("touch",n(w(j,X,Q),R.extent,o))}}function D(O,...N){if(this.__zooming){var R=_(this,N).event(O),U=O.changedTouches,V=U.length,z,j;for(ay(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),z=0;z<V;++z)j=U[z],R.touch0&&R.touch0[2]===j.identifier?delete R.touch0:R.touch1&&R.touch1[2]===j.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(j=Ui(j,this),Math.hypot(h[0]-j[0],h[1]-j[1])<p)){var X=gn(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return y.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:sv(+O),y):r},y.filter=function(O){return arguments.length?(e=typeof O=="function"?O:sv(!!O),y):e},y.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:sv(!!O),y):i},y.extent=function(O){return arguments.length?(t=typeof O=="function"?O:sv([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),y):t},y.scaleExtent=function(O){return arguments.length?(a[0]=+O[0],a[1]=+O[1],y):[a[0],a[1]]},y.translateExtent=function(O){return arguments.length?(o[0][0]=+O[0][0],o[1][0]=+O[1][0],o[0][1]=+O[0][1],o[1][1]=+O[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(O){return arguments.length?(n=O,y):n},y.duration=function(O){return arguments.length?(s=+O,y):s},y.interpolate=function(O){return arguments.length?(u=O,y):u},y.on=function(){var O=l.on.apply(l,arguments);return O===l?y:O},y.clickDistance=function(O){return arguments.length?(g=(O=+O)*O,y):Math.sqrt(g)},y.tapDistance=function(O){return arguments.length?(p=+O,y):p},y}const fK=Object.freeze(Object.defineProperty({__proto__:null,Adder:lr,Delaunay:Yw,FormatSpecifier:Cm,InternMap:yh,InternSet:ju,Node:Zu,Path:Jh,Voronoi:cO,ZoomTransform:ro,active:s$,arc:cW,area:BM,areaRadial:TE,ascending:Hn,autoType:MV,axisBottom:J8,axisLeft:eN,axisRight:Q8,axisTop:Z8,bin:p_,bisect:ol,bisectCenter:XL,bisectLeft:YL,bisectRight:UT,bisector:sm,blob:BV,blur:WL,blur2:$T,blurImage:KL,brush:w$,brushSelection:m$,brushX:y$,brushY:b$,buffer:RV,chord:_$,chordDirected:E$,chordTranspose:S$,cluster:eH,color:Ls,contourDensity:q$,contours:I1,count:um,create:pP,creator:fm,cross:n8,csv:UV,csvFormat:wV,csvFormatBody:xV,csvFormatRow:SV,csvFormatRows:_V,csvFormatValue:EV,csvParse:hO,csvParseRows:bV,cubehelix:Na,cumsum:r8,curveBasis:MW,curveBasisClosed:DW,curveBasisOpen:FW,curveBumpX:NM,curveBumpY:UM,curveBundle:BW,curveCardinal:kW,curveCardinalClosed:RW,curveCardinalOpen:LW,curveCatmullRom:NW,curveCatmullRomClosed:UW,curveCatmullRomOpen:$W,curveLinear:Hm,curveLinearClosed:VW,curveMonotoneX:zW,curveMonotoneY:jW,curveNatural:HW,curveStep:GW,curveStepAfter:XW,curveStepBefore:YW,descending:LT,deviation:jT,difference:U8,disjoint:$8,dispatch:sl,drag:yP,dragDisable:dm,dragEnable:vm,dsv:NV,dsvFormat:Sm,easeBack:U_,easeBackIn:JU,easeBackInOut:U_,easeBackOut:e$,easeBounce:Ch,easeBounceIn:ZU,easeBounceInOut:QU,easeBounceOut:Ch,easeCircle:N_,easeCircleIn:VU,easeCircleInOut:N_,easeCircleOut:zU,easeCubic:A1,easeCubicIn:FU,easeCubicInOut:A1,easeCubicOut:BU,easeElastic:$_,easeElasticIn:t$,easeElasticInOut:n$,easeElasticOut:$_,easeExp:L_,easeExpIn:UU,easeExpInOut:L_,easeExpOut:$U,easeLinear:IU,easePoly:k_,easePolyIn:kU,easePolyInOut:k_,easePolyOut:RU,easeQuad:B_,easeQuadIn:MU,easeQuadInOut:B_,easeQuadOut:DU,easeSin:R_,easeSinIn:LU,easeSinInOut:R_,easeSinOut:NU,every:F8,extent:Qf,fcumsum:a8,filter:k8,flatGroup:o8,flatRollup:s8,forceCenter:XV,forceCollide:hz,forceLink:vz,forceManyBody:Sz,forceRadial:Ez,forceSimulation:_z,forceX:Az,forceY:Cz,get format(){return Tm},formatDefaultLocale:yO,formatLocale:mO,get formatPrefix(){return Kw},formatSpecifier:Ic,fsum:i8,geoAlbers:nI,geoAlbersUsa:Dj,geoArea:Rz,geoAzimuthalEqualArea:Fj,geoAzimuthalEqualAreaRaw:ax,geoAzimuthalEquidistant:Bj,geoAzimuthalEquidistantRaw:ox,geoBounds:$z,geoCentroid:Yz,geoCircle:Xz,geoClipAntimeridian:j1,geoClipCircle:$O,geoClipExtent:ej,geoClipRectangle:Pm,geoConicConformal:Rj,geoConicConformalRaw:aI,geoConicEqualArea:yg,geoConicEqualAreaRaw:tI,geoConicEquidistant:Nj,geoConicEquidistantRaw:oI,geoContains:sj,geoDistance:lg,geoEqualEarth:$j,geoEqualEarthRaw:sx,geoEquirectangular:Lj,geoEquirectangularRaw:Mh,geoGnomonic:Vj,geoGnomonicRaw:ux,geoGraticule:jO,geoGraticule10:uj,geoIdentity:zj,geoInterpolate:lj,geoLength:VO,geoMercator:kj,geoMercatorRaw:id,geoNaturalEarth1:jj,geoNaturalEarth1Raw:lx,geoOrthographic:Hj,geoOrthographicRaw:cx,geoPath:_j,geoProjection:wo,geoProjectionMutator:rx,geoRotation:BO,geoStereographic:Gj,geoStereographicRaw:fx,geoStream:Ia,geoTransform:Sj,geoTransverseMercator:Yj,geoTransverseMercatorRaw:hx,gray:e9,greatest:eP,greatestIndex:T8,group:XT,groupSort:c8,groups:WT,hcl:Hp,hierarchy:dx,histogram:p_,hsl:Vp,html:GV,image:VV,index:u8,indexes:l8,interpolate:Ys,interpolateArray:o9,interpolateBasis:DP,interpolateBasisClosed:FP,interpolateBlues:NX,interpolateBrBG:mX,interpolateBuGn:CX,interpolateBuPu:TX,interpolateCividis:HX,interpolateCool:XX,interpolateCubehelix:x9,interpolateCubehelixDefault:GX,interpolateCubehelixLong:bm,interpolateDate:UP,interpolateDiscrete:l9,interpolateGnBu:PX,interpolateGreens:UX,interpolateGreys:$X,interpolateHcl:b9,interpolateHclLong:w9,interpolateHsl:g9,interpolateHslLong:m9,interpolateHue:c9,interpolateInferno:eW,interpolateLab:y9,interpolateMagma:JX,interpolateNumber:oa,interpolateNumberArray:kw,interpolateObject:$P,interpolateOrRd:OX,interpolateOranges:jX,interpolatePRGn:yX,interpolatePiYG:bX,interpolatePlasma:tW,interpolatePuBu:MX,interpolatePuBuGn:IX,interpolatePuOr:wX,interpolatePuRd:DX,interpolatePurples:VX,interpolateRainbow:Vm,interpolateRdBu:xX,interpolateRdGy:_X,interpolateRdPu:FX,interpolateRdYlBu:SX,interpolateRdYlGn:EX,interpolateReds:zX,interpolateRgb:Sh,interpolateRgbBasis:RP,interpolateRgbBasisClosed:a9,interpolateRound:ym,interpolateSinebow:qX,interpolateSpectral:AX,interpolateString:Rw,interpolateTransformCss:jP,interpolateTransformSvg:HP,interpolateTurbo:ZX,interpolateViridis:QX,interpolateWarm:YX,interpolateYlGn:kX,interpolateYlGnBu:BX,interpolateYlOrBr:RX,interpolateYlOrRd:LX,interpolateZoom:GP,interrupt:Ru,intersection:V8,interval:C9,isoFormat:ZY,isoParse:eX,json:jV,lab:jp,lch:t9,least:C8,leastIndex:rP,line:Fx,lineRadial:CE,link:Gm,linkHorizontal:bW,linkRadial:xW,linkVertical:wW,local:gP,map:R8,matcher:Pw,max:Ec,maxIndex:Ew,mean:y8,median:b8,medianIndex:w8,merge:Cw,min:Np,minIndex:Aw,mode:_8,namespace:qh,namespaces:p1,nice:_w,now:Qh,pack:IH,packEnclose:EH,packSiblings:PH,pairs:S8,partition:MH,path:Gw,pathRound:T$,permute:JT,pie:vW,piecewise:KP,pointRadial:Yf,pointer:Ui,pointers:R7,polygonArea:YH,polygonCentroid:XH,polygonContains:ZH,polygonHull:qH,polygonLength:QH,precisionFixed:bO,precisionPrefix:wO,precisionRound:xO,quadtree:Am,quantile:bh,quantileIndex:nP,quantileSorted:tP,quantize:_9,quickselect:lm,radialArea:TE,radialLine:CE,randomBates:nG,randomBernoulli:aG,randomBeta:bI,randomBinomial:wI,randomCauchy:sG,randomExponential:rG,randomGamma:gx,randomGeometric:yI,randomInt:eG,randomIrwinHall:mI,randomLcg:hG,randomLogNormal:tG,randomLogistic:uG,randomNormal:px,randomPareto:iG,randomPoisson:lG,randomUniform:JH,randomWeibull:oG,range:Cs,rank:A8,reduce:L8,reverse:N8,rgb:Cc,ribbon:k$,ribbonArrow:R$,rollup:qT,rollups:ZT,scaleBand:yx,scaleDiverging:rM,scaleDivergingLog:iM,scaleDivergingPow:Ix,scaleDivergingSqrt:oX,scaleDivergingSymlog:aM,scaleIdentity:EI,scaleImplicit:ib,scaleLinear:SI,scaleLog:CI,scaleOrdinal:mx,scalePoint:dG,scalePow:Sx,scaleQuantile:OI,scaleQuantize:II,scaleRadial:PI,scaleSequential:JI,scaleSequentialLog:eM,scaleSequentialPow:Ox,scaleSequentialQuantile:nM,scaleSequentialSqrt:aX,scaleSequentialSymlog:tM,scaleSqrt:AG,scaleSymlog:TI,scaleThreshold:MI,scaleTime:rX,scaleUtc:iX,scan:P8,schemeAccent:uX,schemeBlues:TM,schemeBrBG:oM,schemeBuGn:pM,schemeBuPu:gM,schemeCategory10:sX,schemeDark2:lX,schemeGnBu:mM,schemeGreens:PM,schemeGreys:OM,schemeOrRd:yM,schemeOranges:DM,schemePRGn:sM,schemePaired:cX,schemePastel1:fX,schemePastel2:hX,schemePiYG:uM,schemePuBu:wM,schemePuBuGn:bM,schemePuOr:lM,schemePuRd:xM,schemePurples:IM,schemeRdBu:cM,schemeRdGy:fM,schemeRdPu:_M,schemeRdYlBu:hM,schemeRdYlGn:dM,schemeReds:MM,schemeSet1:dX,schemeSet2:vX,schemeSet3:pX,schemeSpectral:vM,schemeTableau10:gX,schemeYlGn:EM,schemeYlGnBu:SM,schemeYlOrBr:AM,schemeYlOrRd:CM,select:gn,selectAll:L7,selection:ul,selector:hm,selectorAll:Tw,shuffle:O8,shuffler:iP,some:B8,sort:kp,stack:qW,stackOffsetDiverging:QW,stackOffsetExpand:ZW,stackOffsetNone:Lc,stackOffsetSilhouette:JW,stackOffsetWiggle:eK,stackOrderAppearance:l3,stackOrderAscending:c3,stackOrderDescending:nK,stackOrderInsideOut:rK,stackOrderNone:Nc,stackOrderReverse:iK,stratify:nb,style:Yu,subset:j8,sum:I8,superset:oP,svg:YV,symbol:IW,symbolAsterisk:$M,symbolCircle:Ym,symbolCross:VM,symbolDiamond:jM,symbolDiamond2:HM,symbolPlus:GM,symbolSquare:YM,symbolSquare2:XM,symbolStar:KM,symbolTimes:sb,symbolTriangle:qM,symbolTriangle2:ZM,symbolWye:QM,symbolX:sb,symbols:PE,symbolsFill:PE,symbolsStroke:OW,text:Em,thresholdFreedmanDiaconis:g8,thresholdScott:m8,thresholdSturges:Sw,tickFormat:_I,tickIncrement:Gu,tickStep:Lp,ticks:Hu,timeDay:Qc,timeDays:MG,get timeFormat(){return Cx},timeFormatDefaultLocale:ZI,timeFormatLocale:GI,timeFriday:BI,timeFridays:NG,timeHour:Bm,timeHours:OG,timeInterval:ar,timeMillisecond:Bc,timeMilliseconds:lE,timeMinute:Dm,timeMinutes:TG,timeMonday:Dh,timeMondays:BG,timeMonth:Rm,timeMonths:YG,get timeParse(){return qI},timeSaturday:kI,timeSaturdays:UG,timeSecond:Vo,timeSeconds:fE,timeSunday:kc,timeSundays:hE,timeThursday:Qu,timeThursdays:LG,timeTickInterval:HI,timeTicks:jI,timeTuesday:DI,timeTuesdays:kG,timeWednesday:FI,timeWednesdays:RG,timeWeek:kc,timeWeeks:hE,timeYear:lo,timeYears:WG,timeout:x1,timer:xm,timerFlush:QP,transition:nO,transpose:aP,tree:VH,treemap:zH,treemapBinary:jH,treemapDice:ad,treemapResquarify:GH,treemapSlice:Im,treemapSliceDice:HH,treemapSquarify:gI,tsv:$V,tsvFormat:CV,tsvFormatBody:TV,tsvFormatRow:OV,tsvFormatRows:PV,tsvFormatValue:IV,tsvParse:dO,tsvParseRows:AV,union:H8,unixDay:Ax,unixDays:FG,utcDay:sd,utcDays:DG,get utcFormat(){return Nm},utcFriday:NI,utcFridays:HG,utcHour:km,utcHours:IG,utcMillisecond:Bc,utcMilliseconds:lE,utcMinute:Fm,utcMinutes:PG,utcMonday:Fh,utcMondays:$G,utcMonth:Lm,utcMonths:XG,get utcParse(){return Tx},utcSaturday:UI,utcSaturdays:GG,utcSecond:Vo,utcSeconds:fE,utcSunday:Rc,utcSundays:dE,utcThursday:Ju,utcThursdays:jG,utcTickInterval:zI,utcTicks:VI,utcTuesday:RI,utcTuesdays:VG,utcWednesday:LI,utcWednesdays:zG,utcWeek:Rc,utcWeeks:dE,utcYear:co,utcYears:KG,variance:zT,window:Ow,xml:HV,zip:D8,zoom:d3,zoomIdentity:Km,zoomTransform:h3},Symbol.toStringTag,{value:"Module"}));function v3(e,t){const n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");let r=null;return t=="whole-word"?r=`\\b${n}\\b`:r=n,new RegExp(r,"gi")}function uv(e,t){const n=t!==void 0?10**t:100;return Math.round(e*n)/n}function ap(e){return e.trim().replace(/\n\s*\n/g,`
`)}function hK(e,t,n="substring"){return v3(t,n).test(e)}function p3(e,t,n="substring"){let r=e.slice();return t.forEach(i=>{const a=v3(i,n);r=r.replace(a,"<span class='highlight'>$&</span>")}),r}var Ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ux(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var g3={exports:{}};const dK=Ux(DL);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(n),!0).forEach(function(r){vK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function op(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?op=function(t){return typeof t}:op=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function vK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(){return da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},da.apply(this,arguments)}function pK(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gK(e,t){if(e==null)return{};var n=pK(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mK(e){return yK(e)||bK(e)||wK(e)||xK()}function yK(e){if(Array.isArray(e))return ub(e)}function bK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wK(e,t){if(e){if(typeof e=="string")return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(e,t)}}function ub(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _K="1.14.0";function Go(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ss=Go(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ld=Go(/Edge/i),kE=Go(/firefox/i),ih=Go(/safari/i)&&!Go(/chrome/i)&&!Go(/android/i),m3=Go(/iP(ad|od|hone)/i),SK=Go(/chrome/i)&&Go(/android/i),y3={capture:!1,passive:!1};function on(e,t,n){e.addEventListener(t,n,!ss&&y3)}function Jt(e,t,n){e.removeEventListener(t,n,!ss&&y3)}function Ag(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function EK(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Pa(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Ag(e,t):Ag(e,t))||r&&e===n)return e;if(e===n)break}while(e=EK(e))}return null}var RE=/\s+/g;function $n(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(RE," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(RE," ")}}function ut(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Lu(e,t){var n="";if(typeof e=="string")n=e;else do{var r=ut(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function b3(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function oo(){var e=document.scrollingElement;return e||document.documentElement}function kn(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,o,s,u,l,c,h;if(e!==window&&e.parentNode&&e!==oo()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,u=a.bottom,l=a.right,c=a.height,h=a.width):(o=0,s=0,u=window.innerHeight,l=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!ss))do if(i&&i.getBoundingClientRect&&(ut(i,"transform")!=="none"||n&&ut(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(ut(i,"border-top-width")),s-=f.left+parseInt(ut(i,"border-left-width")),u=o+a.height,l=s+a.width;break}while(i=i.parentNode);if(r&&e!==window){var d=Lu(i||e),v=d&&d.a,g=d&&d.d;d&&(o/=g,s/=v,h/=v,c/=g,u=o+c,l=s+h)}return{top:o,left:s,bottom:u,right:l,width:h,height:c}}}function LE(e,t,n){for(var r=Ps(e,!0),i=kn(e)[t];r;){var a=kn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=a:o=i<=a,!o)return r;if(r===oo())break;r=Ps(r,!1)}return!1}function Uc(e,t,n,r){for(var i=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==Mt.ghost&&(r||o[a]!==Mt.dragged)&&Pa(o[a],n.draggable,e,!1)){if(i===t)return o[a];i++}a++}return null}function $x(e,t){for(var n=e.lastElementChild;n&&(n===Mt.ghost||ut(n,"display")==="none"||t&&!Ag(n,t));)n=n.previousElementSibling;return n||null}function Zn(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Mt.clone&&(!t||Ag(e,t))&&n++;return n}function NE(e){var t=0,n=0,r=oo();if(e)do{var i=Lu(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function AK(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Ps(e,t){if(!e||!e.getBoundingClientRect)return oo();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=ut(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return oo();if(r||t)return n;r=!0}}while(n=n.parentNode);return oo()}function CK(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function oy(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ah;function w3(e,t){return function(){if(!ah){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),ah=setTimeout(function(){ah=void 0},t)}}}function TK(){clearTimeout(ah),ah=void 0}function x3(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Vx(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function UE(e,t){ut(e,"position","absolute"),ut(e,"top",t.top),ut(e,"left",t.left),ut(e,"width",t.width),ut(e,"height",t.height)}function sy(e){ut(e,"position",""),ut(e,"top",""),ut(e,"left",""),ut(e,"width",""),ut(e,"height","")}var Kr="Sortable"+new Date().getTime();function PK(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(ut(i,"display")==="none"||i===Mt.ghost)){e.push({target:i,rect:kn(i)});var a=fo({},e[e.length-1].rect);if(i.thisAnimationDuration){var o=Lu(i,!0);o&&(a.top-=o.f,a.left-=o.e)}i.fromRect=a}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(AK(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var a=!1,o=0;e.forEach(function(s){var u=0,l=s.target,c=l.fromRect,h=kn(l),f=l.prevFromRect,d=l.prevToRect,v=s.rect,g=Lu(l,!0);g&&(h.top-=g.f,h.left-=g.e),l.toRect=h,l.thisAnimationDuration&&oy(f,h)&&!oy(c,h)&&(v.top-h.top)/(v.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(u=IK(v,f,d,i.options)),oy(h,c)||(l.prevFromRect=c,l.prevToRect=h,u||(u=i.options.animation),i.animate(l,v,h,u)),u&&(a=!0,o=Math.max(o,u),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},u),l.thisAnimationDuration=u)}),clearTimeout(t),a?t=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),e=[]},animate:function(r,i,a,o){if(o){ut(r,"transition",""),ut(r,"transform","");var s=Lu(this.el),u=s&&s.a,l=s&&s.d,c=(i.left-a.left)/(u||1),h=(i.top-a.top)/(l||1);r.animatingX=!!c,r.animatingY=!!h,ut(r,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=OK(r),ut(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ut(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ut(r,"transition",""),ut(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function OK(e){return e.offsetWidth}function IK(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var $l=[],uy={initializeByDefault:!0},cd={mount:function(t){for(var n in uy)uy.hasOwnProperty(n)&&!(n in t)&&(t[n]=uy[n]);$l.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),$l.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var a=t+"Global";$l.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][a]&&n[o.pluginName][a](fo({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](fo({sortable:n},r)))})},initializePlugins:function(t,n,r,i){$l.forEach(function(s){var u=s.pluginName;if(!(!t.options[u]&&!s.initializeByDefault)){var l=new s(t,n,t.options);l.sortable=t,l.options=t.options,t[u]=l,da(r,l.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var o=this.modifyOption(t,a,t.options[a]);typeof o<"u"&&(t.options[a]=o)}},getEventProperties:function(t,n){var r={};return $l.forEach(function(i){typeof i.eventProperties=="function"&&da(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return $l.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[n]=="function"&&(i=a.optionListeners[n].call(t[a.pluginName],r))}),i}};function Xf(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,u=e.oldIndex,l=e.newIndex,c=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,d=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[Kr],!!t){var g,p=t.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!ss&&!ld?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=o||n,g.from=s||n,g.item=i||n,g.clone=a,g.oldIndex=u,g.newIndex=l,g.oldDraggableIndex=c,g.newDraggableIndex=h,g.originalEvent=f,g.pullMode=d?d.lastPutMode:void 0;var m=fo(fo({},v),cd.getEventProperties(r,t));for(var w in m)g[w]=m[w];n&&n.dispatchEvent(g),p[y]&&p[y].call(t,g)}}var MK=["evt"],wi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,a=gK(r,MK);cd.pluginEvent.bind(Mt)(t,n,fo({dragEl:Ge,parentEl:Wn,ghostEl:Ht,rootEl:Bn,nextEl:yu,lastDownEl:sp,cloneEl:Kn,cloneHidden:Es,dragStarted:Wf,putSortable:Or,activeSortable:Mt.active,originalEvent:i,oldIndex:sc,oldDraggableIndex:oh,newIndex:Ri,newDraggableIndex:xs,hideGhostForTarget:A3,unhideGhostForTarget:C3,cloneNowHidden:function(){Es=!0},cloneNowShown:function(){Es=!1},dispatchSortableEvent:function(s){Qr({sortable:n,name:s,originalEvent:i})}},a))};function Qr(e){Xf(fo({putSortable:Or,cloneEl:Kn,targetEl:Ge,rootEl:Bn,oldIndex:sc,oldDraggableIndex:oh,newIndex:Ri,newDraggableIndex:xs},e))}var Ge,Wn,Ht,Bn,yu,sp,Kn,Es,sc,Ri,oh,xs,lv,Or,tc=!1,Cg=!1,Tg=[],fu,Aa,ly,cy,$E,VE,Wf,Vl,sh,uh=!1,cv=!1,up,Hr,fy=[],lb=!1,Pg=[],qm=typeof document<"u",fv=m3,zE=ld||ss?"cssFloat":"float",DK=qm&&!SK&&!m3&&"draggable"in document.createElement("div"),_3=function(){if(qm){if(ss)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),S3=function(t,n){var r=ut(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),a=Uc(t,0,n),o=Uc(t,1,n),s=a&&ut(a),u=o&&ut(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+kn(a).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+kn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return o&&(u.clear==="both"||u.clear===h)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=i&&r[zE]==="none"||o&&r[zE]==="none"&&l+c>i)?"vertical":"horizontal"},FK=function(t,n,r){var i=r?t.left:t.top,a=r?t.right:t.bottom,o=r?t.width:t.height,s=r?n.left:n.top,u=r?n.right:n.bottom,l=r?n.width:n.height;return i===s||a===u||i+o/2===s+l/2},BK=function(t,n){var r;return Tg.some(function(i){var a=i[Kr].options.emptyInsertThreshold;if(!(!a||$x(i))){var o=kn(i),s=t>=o.left-a&&t<=o.right+a,u=n>=o.top-a&&n<=o.bottom+a;if(s&&u)return r=i}}),r},E3=function(t){function n(a,o){return function(s,u,l,c){var h=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(a==null&&(o||h))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return n(a(s,u,l,c),o)(s,u,l,c);var f=(o?s:u).options.group.name;return a===!0||typeof a=="string"&&a===f||a.join&&a.indexOf(f)>-1}}var r={},i=t.group;(!i||op(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},A3=function(){!_3&&Ht&&ut(Ht,"display","none")},C3=function(){!_3&&Ht&&ut(Ht,"display","")};qm&&document.addEventListener("click",function(e){if(Cg)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Cg=!1,!1},!0);var hu=function(t){if(Ge){t=t.touches?t.touches[0]:t;var n=BK(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Kr]._onDragOver(r)}}},kK=function(t){Ge&&Ge.parentNode[Kr]._isOutsideThisEl(t.target)};function Mt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=da({},t),e[Kr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return S3(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Mt.supportPointer!==!1&&"PointerEvent"in window&&!ih,emptyInsertThreshold:5};cd.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);E3(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:DK,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?on(e,"pointerdown",this._onTapStart):(on(e,"mousedown",this._onTapStart),on(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(e,"dragover",this),on(e,"dragenter",this)),Tg.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),da(this,PK())}Mt.prototype={constructor:Mt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Vl=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,Ge):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,a=i.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=i.filter;if(jK(r),!Ge&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||i.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&ih&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Pa(u,i.draggable,r,!1),!(u&&u.animated)&&sp!==u)){if(sc=Zn(u),oh=Zn(u,i.draggable),typeof c=="function"){if(c.call(this,t,u,this)){Qr({sortable:n,rootEl:l,name:"filter",targetEl:u,toEl:r,fromEl:r}),wi("filter",n,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=Pa(l,h.trim(),r,!1),h)return Qr({sortable:n,rootEl:h,name:"filter",targetEl:u,fromEl:r,toEl:r}),wi("filter",n,{evt:t}),!0}),c)){a&&t.cancelable&&t.preventDefault();return}i.handle&&!Pa(l,i.handle,r,!1)||this._prepareDragStart(t,s,u)}}},_prepareDragStart:function(t,n,r){var i=this,a=i.el,o=i.options,s=a.ownerDocument,u;if(r&&!Ge&&r.parentNode===a){var l=kn(r);if(Bn=a,Ge=r,Wn=Ge.parentNode,yu=Ge.nextSibling,sp=r,lv=o.group,Mt.dragged=Ge,fu={target:Ge,clientX:(n||t).clientX,clientY:(n||t).clientY},$E=fu.clientX-l.left,VE=fu.clientY-l.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,Ge.style["will-change"]="all",u=function(){if(wi("delayEnded",i,{evt:t}),Mt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!kE&&i.nativeDraggable&&(Ge.draggable=!0),i._triggerDragStart(t,n),Qr({sortable:i,name:"choose",originalEvent:t}),$n(Ge,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){b3(Ge,c.trim(),hy)}),on(s,"dragover",hu),on(s,"mousemove",hu),on(s,"touchmove",hu),on(s,"mouseup",i._onDrop),on(s,"touchend",i._onDrop),on(s,"touchcancel",i._onDrop),kE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ge.draggable=!0),wi("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(ld||ss))){if(Mt.eventCanceled){this._onDrop();return}on(s,"mouseup",i._disableDelayedDrag),on(s,"touchend",i._disableDelayedDrag),on(s,"touchcancel",i._disableDelayedDrag),on(s,"mousemove",i._delayedDragTouchMoveHandler),on(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&on(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,o.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ge&&hy(Ge),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Jt(t,"mouseup",this._disableDelayedDrag),Jt(t,"touchend",this._disableDelayedDrag),Jt(t,"touchcancel",this._disableDelayedDrag),Jt(t,"mousemove",this._delayedDragTouchMoveHandler),Jt(t,"touchmove",this._delayedDragTouchMoveHandler),Jt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):n?on(document,"touchmove",this._onTouchMove):on(document,"mousemove",this._onTouchMove):(on(Ge,"dragend",this),on(Bn,"dragstart",this._onDragStart));try{document.selection?lp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(tc=!1,Bn&&Ge){wi("dragStarted",this,{evt:n}),this.nativeDraggable&&on(document,"dragover",kK);var r=this.options;!t&&$n(Ge,r.dragClass,!1),$n(Ge,r.ghostClass,!0),Mt.active=this,t&&this._appendGhost(),Qr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Aa){this._lastX=Aa.clientX,this._lastY=Aa.clientY,A3();for(var t=document.elementFromPoint(Aa.clientX,Aa.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Aa.clientX,Aa.clientY),t!==n);)n=t;if(Ge.parentNode[Kr]._isOutsideThisEl(t),n)do{if(n[Kr]){var r=void 0;if(r=n[Kr]._onDragOver({clientX:Aa.clientX,clientY:Aa.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);C3()}},_onTouchMove:function(t){if(fu){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,a=t.touches?t.touches[0]:t,o=Ht&&Lu(Ht,!0),s=Ht&&o&&o.a,u=Ht&&o&&o.d,l=fv&&Hr&&NE(Hr),c=(a.clientX-fu.clientX+i.x)/(s||1)+(l?l[0]-fy[0]:0)/(s||1),h=(a.clientY-fu.clientY+i.y)/(u||1)+(l?l[1]-fy[1]:0)/(u||1);if(!Mt.active&&!tc){if(r&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Ht){o?(o.e+=c-(ly||0),o.f+=h-(cy||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ut(Ht,"webkitTransform",f),ut(Ht,"mozTransform",f),ut(Ht,"msTransform",f),ut(Ht,"transform",f),ly=c,cy=h,Aa=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ht){var t=this.options.fallbackOnBody?document.body:Bn,n=kn(Ge,!0,fv,!0,t),r=this.options;if(fv){for(Hr=t;ut(Hr,"position")==="static"&&ut(Hr,"transform")==="none"&&Hr!==document;)Hr=Hr.parentNode;Hr!==document.body&&Hr!==document.documentElement?(Hr===document&&(Hr=oo()),n.top+=Hr.scrollTop,n.left+=Hr.scrollLeft):Hr=oo(),fy=NE(Hr)}Ht=Ge.cloneNode(!0),$n(Ht,r.ghostClass,!1),$n(Ht,r.fallbackClass,!0),$n(Ht,r.dragClass,!0),ut(Ht,"transition",""),ut(Ht,"transform",""),ut(Ht,"box-sizing","border-box"),ut(Ht,"margin",0),ut(Ht,"top",n.top),ut(Ht,"left",n.left),ut(Ht,"width",n.width),ut(Ht,"height",n.height),ut(Ht,"opacity","0.8"),ut(Ht,"position",fv?"absolute":"fixed"),ut(Ht,"zIndex","100000"),ut(Ht,"pointerEvents","none"),Mt.ghost=Ht,t.appendChild(Ht),ut(Ht,"transform-origin",$E/parseInt(Ht.style.width)*100+"% "+VE/parseInt(Ht.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,a=r.options;if(wi("dragStart",this,{evt:t}),Mt.eventCanceled){this._onDrop();return}wi("setupClone",this),Mt.eventCanceled||(Kn=Vx(Ge),Kn.draggable=!1,Kn.style["will-change"]="",this._hideClone(),$n(Kn,this.options.chosenClass,!1),Mt.clone=Kn),r.cloneId=lp(function(){wi("clone",r),!Mt.eventCanceled&&(r.options.removeCloneOnHide||Bn.insertBefore(Kn,Ge),r._hideClone(),Qr({sortable:r,name:"clone"}))}),!n&&$n(Ge,a.dragClass,!0),n?(Cg=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Jt(document,"mouseup",r._onDrop),Jt(document,"touchend",r._onDrop),Jt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(r,i,Ge)),on(document,"drop",r),ut(Ge,"transform","translateZ(0)")),tc=!0,r._dragStartId=lp(r._dragStarted.bind(r,n,t)),on(document,"selectstart",r),Wf=!0,ih&&ut(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,a,o,s=this.options,u=s.group,l=Mt.active,c=lv===u,h=s.sort,f=Or||l,d,v=this,g=!1;if(lb)return;function p(V,z){wi(V,v,fo({evt:t,isOwner:c,axis:d?"vertical":"horizontal",revert:o,dragRect:i,targetRect:a,canSort:h,fromSortable:f,target:r,completed:m,onMove:function(X,Q){return hv(Bn,n,Ge,i,X,kn(X),t,Q)},changed:w},z))}function y(){p("dragOverAnimationCapture"),v.captureAnimationState(),v!==f&&f.captureAnimationState()}function m(V){return p("dragOverCompleted",{insertion:V}),V&&(c?l._hideClone():l._showClone(v),v!==f&&($n(Ge,Or?Or.options.ghostClass:l.options.ghostClass,!1),$n(Ge,s.ghostClass,!0)),Or!==v&&v!==Mt.active?Or=v:v===Mt.active&&Or&&(Or=null),f===v&&(v._ignoreWhileAnimating=r),v.animateAll(function(){p("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===Ge&&!Ge.animated||r===n&&!r.animated)&&(Vl=null),!s.dragoverBubble&&!t.rootEl&&r!==document&&(Ge.parentNode[Kr]._isOutsideThisEl(t.target),!V&&hu(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function w(){Ri=Zn(Ge),xs=Zn(Ge,s.draggable),Qr({sortable:v,name:"change",toEl:n,newIndex:Ri,newDraggableIndex:xs,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Pa(r,s.draggable,n,!0),p("dragOver"),Mt.eventCanceled)return g;if(Ge.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||v._ignoreWhileAnimating===r)return m(!1);if(Cg=!1,l&&!s.disabled&&(c?h||(o=Wn!==Bn):Or===this||(this.lastPutMode=lv.checkPull(this,l,Ge,t))&&u.checkPut(this,l,Ge,t))){if(d=this._getDirection(t,r)==="vertical",i=kn(Ge),p("dragOverValid"),Mt.eventCanceled)return g;if(o)return Wn=Bn,y(),this._hideClone(),p("revert"),Mt.eventCanceled||(yu?Bn.insertBefore(Ge,yu):Bn.appendChild(Ge)),m(!0);var b=$x(n,s.draggable);if(!b||UK(t,d,this)&&!b.animated){if(b===Ge)return m(!1);if(b&&n===t.target&&(r=b),r&&(a=kn(r)),hv(Bn,n,Ge,i,r,a,t,!!r)!==!1)return y(),n.appendChild(Ge),Wn=n,w(),m(!0)}else if(b&&NK(t,d,this)){var x=Uc(n,0,s,!0);if(x===Ge)return m(!1);if(r=x,a=kn(r),hv(Bn,n,Ge,i,r,a,t,!1)!==!1)return y(),n.insertBefore(Ge,x),Wn=n,w(),m(!0)}else if(r.parentNode===n){a=kn(r);var _=0,S,P=Ge.parentNode!==n,C=!FK(Ge.animated&&Ge.toRect||i,r.animated&&r.toRect||a,d),B=d?"top":"left",T=LE(r,"top","top")||LE(Ge,"top","top"),k=T?T.scrollTop:void 0;Vl!==r&&(S=a[B],uh=!1,cv=!C&&s.invertSwap||P),_=$K(t,r,a,d,C?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,cv,Vl===r);var D;if(_!==0){var O=Zn(Ge);do O-=_,D=Wn.children[O];while(D&&(ut(D,"display")==="none"||D===Ht))}if(_===0||D===r)return m(!1);Vl=r,sh=_;var N=r.nextElementSibling,R=!1;R=_===1;var U=hv(Bn,n,Ge,i,r,a,t,R);if(U!==!1)return(U===1||U===-1)&&(R=U===1),lb=!0,setTimeout(LK,30),y(),R&&!N?n.appendChild(Ge):r.parentNode.insertBefore(Ge,R?N:r),T&&x3(T,0,k-T.scrollTop),Wn=Ge.parentNode,S!==void 0&&!cv&&(up=Math.abs(S-kn(r)[B])),w(),m(!0)}if(n.contains(Ge))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Jt(document,"mousemove",this._onTouchMove),Jt(document,"touchmove",this._onTouchMove),Jt(document,"pointermove",this._onTouchMove),Jt(document,"dragover",hu),Jt(document,"mousemove",hu),Jt(document,"touchmove",hu)},_offUpEvents:function(){var t=this.el.ownerDocument;Jt(t,"mouseup",this._onDrop),Jt(t,"touchend",this._onDrop),Jt(t,"pointerup",this._onDrop),Jt(t,"touchcancel",this._onDrop),Jt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(Ri=Zn(Ge),xs=Zn(Ge,r.draggable),wi("drop",this,{evt:t}),Wn=Ge&&Ge.parentNode,Ri=Zn(Ge),xs=Zn(Ge,r.draggable),Mt.eventCanceled){this._nulling();return}tc=!1,cv=!1,uh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),cb(this.cloneId),cb(this._dragStartId),this.nativeDraggable&&(Jt(document,"drop",this),Jt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ih&&ut(document.body,"user-select",""),ut(Ge,"transform",""),t&&(Wf&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Ht&&Ht.parentNode&&Ht.parentNode.removeChild(Ht),(Bn===Wn||Or&&Or.lastPutMode!=="clone")&&Kn&&Kn.parentNode&&Kn.parentNode.removeChild(Kn),Ge&&(this.nativeDraggable&&Jt(Ge,"dragend",this),hy(Ge),Ge.style["will-change"]="",Wf&&!tc&&$n(Ge,Or?Or.options.ghostClass:this.options.ghostClass,!1),$n(Ge,this.options.chosenClass,!1),Qr({sortable:this,name:"unchoose",toEl:Wn,newIndex:null,newDraggableIndex:null,originalEvent:t}),Bn!==Wn?(Ri>=0&&(Qr({rootEl:Wn,name:"add",toEl:Wn,fromEl:Bn,originalEvent:t}),Qr({sortable:this,name:"remove",toEl:Wn,originalEvent:t}),Qr({rootEl:Wn,name:"sort",toEl:Wn,fromEl:Bn,originalEvent:t}),Qr({sortable:this,name:"sort",toEl:Wn,originalEvent:t})),Or&&Or.save()):Ri!==sc&&Ri>=0&&(Qr({sortable:this,name:"update",toEl:Wn,originalEvent:t}),Qr({sortable:this,name:"sort",toEl:Wn,originalEvent:t})),Mt.active&&((Ri==null||Ri===-1)&&(Ri=sc,xs=oh),Qr({sortable:this,name:"end",toEl:Wn,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){wi("nulling",this),Bn=Ge=Wn=Ht=yu=Kn=sp=Es=fu=Aa=Wf=Ri=xs=sc=oh=Vl=sh=Or=lv=Mt.dragged=Mt.ghost=Mt.clone=Mt.active=null,Pg.forEach(function(t){t.checked=!0}),Pg.length=ly=cy=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Ge&&(this._onDragOver(t),RK(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,a=r.length,o=this.options;i<a;i++)n=r[i],Pa(n,o.draggable,this.el,!1)&&t.push(n.getAttribute(o.dataIdAttr)||zK(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(a,o){var s=i.children[o];Pa(s,this.options.draggable,i,!1)&&(r[a]=s)},this),n&&this.captureAnimationState(),t.forEach(function(a){r[a]&&(i.removeChild(r[a]),i.appendChild(r[a]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Pa(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=cd.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&E3(r)},destroy:function(){wi("destroy",this);var t=this.el;t[Kr]=null,Jt(t,"mousedown",this._onTapStart),Jt(t,"touchstart",this._onTapStart),Jt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Jt(t,"dragover",this),Jt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Tg.splice(Tg.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Es){if(wi("hideClone",this),Mt.eventCanceled)return;ut(Kn,"display","none"),this.options.removeCloneOnHide&&Kn.parentNode&&Kn.parentNode.removeChild(Kn),Es=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Es){if(wi("showClone",this),Mt.eventCanceled)return;Ge.parentNode==Bn&&!this.options.group.revertClone?Bn.insertBefore(Kn,Ge):yu?Bn.insertBefore(Kn,yu):Bn.appendChild(Kn),this.options.group.revertClone&&this.animate(Ge,Kn),ut(Kn,"display",""),Es=!1}}};function RK(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function hv(e,t,n,r,i,a,o,s){var u,l=e[Kr],c=l.options.onMove,h;return window.CustomEvent&&!ss&&!ld?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=i||t,u.relatedRect=a||kn(t),u.willInsertAfter=s,u.originalEvent=o,e.dispatchEvent(u),c&&(h=c.call(l,u,o)),h}function hy(e){e.draggable=!1}function LK(){lb=!1}function NK(e,t,n){var r=kn(Uc(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function UK(e,t,n){var r=kn($x(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function $K(e,t,n,r,i,a,o,s){var u=r?e.clientY:e.clientX,l=r?n.height:n.width,c=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!o){if(s&&up<l*i){if(!uh&&(sh===1?u>c+l*a/2:u<h-l*a/2)&&(uh=!0),uh)f=!0;else if(sh===1?u<c+up:u>h-up)return-sh}else if(u>c+l*(1-i)/2&&u<h-l*(1-i)/2)return VK(t)}return f=f||o,f&&(u<c+l*a/2||u>h-l*a/2)?u>c+l/2?1:-1:0}function VK(e){return Zn(Ge)<Zn(e)?1:-1}function zK(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function jK(e){Pg.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Pg.push(r)}}function lp(e){return setTimeout(e,0)}function cb(e){return clearTimeout(e)}qm&&on(document,"touchmove",function(e){(Mt.active||tc)&&e.cancelable&&e.preventDefault()});Mt.utils={on,off:Jt,css:ut,find:b3,is:function(t,n){return!!Pa(t,n,t,!1)},extend:CK,throttle:w3,closest:Pa,toggleClass:$n,clone:Vx,index:Zn,nextTick:lp,cancelNextTick:cb,detectDirection:S3,getChild:Uc};Mt.get=function(e){return e[Kr]};Mt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Mt.utils=fo(fo({},Mt.utils),r.utils)),cd.mount(r)})};Mt.create=function(e,t){return new Mt(e,t)};Mt.version=_K;var rr=[],Kf,fb,hb=!1,dy,vy,Og,qf;function HK(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):r.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Jt(document,"dragover",this._handleAutoScroll):(Jt(document,"pointermove",this._handleFallbackAutoScroll),Jt(document,"touchmove",this._handleFallbackAutoScroll),Jt(document,"mousemove",this._handleFallbackAutoScroll)),jE(),cp(),TK()},nulling:function(){Og=fb=Kf=hb=qf=dy=vy=null,rr.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,a=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(a,o);if(Og=n,r||this.options.forceAutoScrollFallback||ld||ss||ih){py(n,this.options,s,r);var u=Ps(s,!0);hb&&(!qf||a!==dy||o!==vy)&&(qf&&jE(),qf=setInterval(function(){var l=Ps(document.elementFromPoint(a,o),!0);l!==u&&(u=l,cp()),py(n,i.options,l,r)},10),dy=a,vy=o)}else{if(!this.options.bubbleScroll||Ps(s,!0)===oo()){cp();return}py(n,this.options,Ps(s,!1),!1)}}},da(e,{pluginName:"scroll",initializeByDefault:!0})}function cp(){rr.forEach(function(e){clearInterval(e.pid)}),rr=[]}function jE(){clearInterval(qf)}var py=w3(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,u=oo(),l=!1,c;fb!==n&&(fb=n,cp(),Kf=t.scroll,c=t.scrollFn,Kf===!0&&(Kf=Ps(n,!0)));var h=0,f=Kf;do{var d=f,v=kn(d),g=v.top,p=v.bottom,y=v.left,m=v.right,w=v.width,b=v.height,x=void 0,_=void 0,S=d.scrollWidth,P=d.scrollHeight,C=ut(d),B=d.scrollLeft,T=d.scrollTop;d===u?(x=w<S&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),_=b<P&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(x=w<S&&(C.overflowX==="auto"||C.overflowX==="scroll"),_=b<P&&(C.overflowY==="auto"||C.overflowY==="scroll"));var k=x&&(Math.abs(m-i)<=o&&B+w<S)-(Math.abs(y-i)<=o&&!!B),D=_&&(Math.abs(p-a)<=o&&T+b<P)-(Math.abs(g-a)<=o&&!!T);if(!rr[h])for(var O=0;O<=h;O++)rr[O]||(rr[O]={});(rr[h].vx!=k||rr[h].vy!=D||rr[h].el!==d)&&(rr[h].el=d,rr[h].vx=k,rr[h].vy=D,clearInterval(rr[h].pid),(k!=0||D!=0)&&(l=!0,rr[h].pid=setInterval((function(){r&&this.layer===0&&Mt.active._onTouchMove(Og);var N=rr[this.layer].vy?rr[this.layer].vy*s:0,R=rr[this.layer].vx?rr[this.layer].vx*s:0;typeof c=="function"&&c.call(Mt.dragged.parentNode[Kr],R,N,e,Og,rr[this.layer].el)!=="continue"||x3(rr[this.layer].el,R,N)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&f!==u&&(f=Ps(f,!1)));hb=l}},30),T3=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(n){var l=r||a;s();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(c.clientX,c.clientY);u(),l&&!l.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function zx(){}zx.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Uc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:T3};da(zx,{pluginName:"revertOnSpill"});function jx(){}jx.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:T3};da(jx,{pluginName:"removeOnSpill"});var ra;function GK(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var r=n.dragEl;ra=r},dragOverValid:function(n){var r=n.completed,i=n.target,a=n.onMove,o=n.activeSortable,s=n.changed,u=n.cancel;if(o.options.swap){var l=this.sortable.el,c=this.options;if(i&&i!==l){var h=ra;a(i)!==!1?($n(i,c.swapClass,!0),ra=i):ra=null,h&&h!==ra&&$n(h,c.swapClass,!1)}s(),r(!0),u()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,a=n.dragEl,o=i||this.sortable,s=this.options;ra&&$n(ra,s.swapClass,!1),ra&&(s.swap||i&&i.options.swap)&&a!==ra&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),YK(a,ra),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){ra=null}},da(e,{pluginName:"swap",eventProperties:function(){return{swapItem:ra}}})}function YK(e,t){var n=e.parentNode,r=t.parentNode,i,a;!n||!r||n.isEqualNode(t)||r.isEqualNode(e)||(i=Zn(e),a=Zn(t),n.isEqualNode(r)&&i<a&&a++,n.insertBefore(t,n.children[i]),r.insertBefore(e,r.children[a]))}var Ut=[],ki=[],Cf,Ca,Tf=!1,xi=!1,zl=!1,Cn,Pf,dv;function XK(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?on(document,"pointerup",this._deselectMultiDrag):(on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag)),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,a){var o="";Ut.length&&Ca===t?Ut.forEach(function(s,u){o+=(u?", ":"")+s.textContent}):o=a.textContent,i.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;Cn=r},delayEnded:function(){this.isMultiDrag=~Ut.indexOf(Cn)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var a=0;a<Ut.length;a++)ki.push(Vx(Ut[a])),ki[a].sortableIndex=Ut[a].sortableIndex,ki[a].draggable=!1,ki[a].style["will-change"]="",$n(ki[a],this.options.selectedClass,!1),Ut[a]===Cn&&$n(ki[a],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,a=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ut.length&&Ca===r&&(HE(!0,i),a("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,a=n.cancel;this.isMultiDrag&&(HE(!1,i),ki.forEach(function(o){ut(o,"display","")}),r(),dv=!1,a())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,a=n.cancel;this.isMultiDrag&&(ki.forEach(function(o){ut(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),dv=!0,a())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Ca&&Ca.multiDrag._deselectMultiDrag(),Ut.forEach(function(r){r.sortableIndex=Zn(r)}),Ut=Ut.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),zl=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){Ut.forEach(function(o){o!==Cn&&ut(o,"position","absolute")});var a=kn(Cn,!1,!0,!0);Ut.forEach(function(o){o!==Cn&&UE(o,a)}),xi=!0,Tf=!0}i.animateAll(function(){xi=!1,Tf=!1,r.options.animation&&Ut.forEach(function(o){sy(o)}),r.options.sort&&vv()})}},dragOver:function(n){var r=n.target,i=n.completed,a=n.cancel;xi&&~Ut.indexOf(r)&&(i(!1),a())},revert:function(n){var r=n.fromSortable,i=n.rootEl,a=n.sortable,o=n.dragRect;Ut.length>1&&(Ut.forEach(function(s){a.addAnimationState({target:s,rect:xi?kn(s):o}),sy(s),s.fromRect=o,r.removeAnimationState(s)}),xi=!1,WK(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,a=n.insertion,o=n.activeSortable,s=n.parentEl,u=n.putSortable,l=this.options;if(a){if(i&&o._hideClone(),Tf=!1,l.animation&&Ut.length>1&&(xi||!i&&!o.options.sort&&!u)){var c=kn(Cn,!1,!0,!0);Ut.forEach(function(f){f!==Cn&&(UE(f,c),s.appendChild(f))}),xi=!0}if(!i)if(xi||vv(),Ut.length>1){var h=dv;o._showClone(r),o.options.animation&&!dv&&h&&ki.forEach(function(f){o.addAnimationState({target:f,rect:Pf}),f.fromRect=Pf,f.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,a=n.activeSortable;if(Ut.forEach(function(s){s.thisAnimationDuration=null}),a.options.animation&&!i&&a.multiDrag.isMultiDrag){Pf=da({},r);var o=Lu(Cn,!0);Pf.top-=o.f,Pf.left-=o.e}},dragOverAnimationComplete:function(){xi&&(xi=!1,vv())},drop:function(n){var r=n.originalEvent,i=n.rootEl,a=n.parentEl,o=n.sortable,s=n.dispatchSortableEvent,u=n.oldIndex,l=n.putSortable,c=l||this.sortable;if(r){var h=this.options,f=a.children;if(!zl)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),$n(Cn,h.selectedClass,!~Ut.indexOf(Cn)),~Ut.indexOf(Cn))Ut.splice(Ut.indexOf(Cn),1),Cf=null,Xf({sortable:o,rootEl:i,name:"deselect",targetEl:Cn,originalEvt:r});else{if(Ut.push(Cn),Xf({sortable:o,rootEl:i,name:"select",targetEl:Cn,originalEvt:r}),r.shiftKey&&Cf&&o.el.contains(Cf)){var d=Zn(Cf),v=Zn(Cn);if(~d&&~v&&d!==v){var g,p;for(v>d?(p=d,g=v):(p=v,g=d+1);p<g;p++)~Ut.indexOf(f[p])||($n(f[p],h.selectedClass,!0),Ut.push(f[p]),Xf({sortable:o,rootEl:i,name:"select",targetEl:f[p],originalEvt:r}))}}else Cf=Cn;Ca=c}if(zl&&this.isMultiDrag){if(xi=!1,(a[Kr].options.sort||a!==i)&&Ut.length>1){var y=kn(Cn),m=Zn(Cn,":not(."+this.options.selectedClass+")");if(!Tf&&h.animation&&(Cn.thisAnimationDuration=null),c.captureAnimationState(),!Tf&&(h.animation&&(Cn.fromRect=y,Ut.forEach(function(b){if(b.thisAnimationDuration=null,b!==Cn){var x=xi?kn(b):y;b.fromRect=x,c.addAnimationState({target:b,rect:x})}})),vv(),Ut.forEach(function(b){f[m]?a.insertBefore(b,f[m]):a.appendChild(b),m++}),u===Zn(Cn))){var w=!1;Ut.forEach(function(b){if(b.sortableIndex!==Zn(b)){w=!0;return}}),w&&s("update")}Ut.forEach(function(b){sy(b)}),c.animateAll()}Ca=c}(i===a||l&&l.lastPutMode!=="clone")&&ki.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=zl=!1,ki.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Jt(document,"pointerup",this._deselectMultiDrag),Jt(document,"mouseup",this._deselectMultiDrag),Jt(document,"touchend",this._deselectMultiDrag),Jt(document,"keydown",this._checkKeyDown),Jt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof zl<"u"&&zl)&&Ca===this.sortable&&!(n&&Pa(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Ut.length;){var r=Ut[0];$n(r,this.options.selectedClass,!1),Ut.shift(),Xf({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},da(e,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Kr];!r||!r.options.multiDrag||~Ut.indexOf(n)||(Ca&&Ca!==r&&(Ca.multiDrag._deselectMultiDrag(),Ca=r),$n(n,r.options.selectedClass,!0),Ut.push(n))},deselect:function(n){var r=n.parentNode[Kr],i=Ut.indexOf(n);!r||!r.options.multiDrag||!~i||($n(n,r.options.selectedClass,!1),Ut.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return Ut.forEach(function(a){r.push({multiDragElement:a,index:a.sortableIndex});var o;xi&&a!==Cn?o=-1:xi?o=Zn(a,":not(."+n.options.selectedClass+")"):o=Zn(a),i.push({multiDragElement:a,index:o})}),{items:mK(Ut),clones:[].concat(ki),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function WK(e,t){Ut.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function HE(e,t){ki.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function vv(){Ut.forEach(function(e){e!==Cn&&e.parentNode&&e.parentNode.removeChild(e)})}Mt.mount(new HK);Mt.mount(jx,zx);const KK=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:XK,Sortable:Mt,Swap:GK,default:Mt},Symbol.toStringTag,{value:"Module"})),qK=Ux(KK);(function(e,t){(function(r,i){e.exports=i(dK,qK)})(typeof self<"u"?self:Ho,function(n,r){return function(i){var a={};function o(s){if(a[s])return a[s].exports;var u=a[s]={i:s,l:!1,exports:{}};return i[s].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=i,o.c=a,o.d=function(s,u,l){o.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:l})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,u){if(u&1&&(s=o(s)),u&8||u&4&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),u&2&&typeof s!="string")for(var c in s)o.d(l,c,(function(h){return s[h]}).bind(null,c));return l},o.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(u,"a",u),u},o.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},o.p="",o(o.s="fb15")}({"00ee":function(i,a,o){var s=o("b622"),u=s("toStringTag"),l={};l[u]="z",i.exports=String(l)==="[object z]"},"0366":function(i,a,o){var s=o("1c0b");i.exports=function(u,l,c){if(s(u),l===void 0)return u;switch(c){case 0:return function(){return u.call(l)};case 1:return function(h){return u.call(l,h)};case 2:return function(h,f){return u.call(l,h,f)};case 3:return function(h,f,d){return u.call(l,h,f,d)}}return function(){return u.apply(l,arguments)}}},"057f":function(i,a,o){var s=o("fc6a"),u=o("241c").f,l={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(f){try{return u(f)}catch{return c.slice()}};i.exports.f=function(d){return c&&l.call(d)=="[object Window]"?h(d):u(s(d))}},"06cf":function(i,a,o){var s=o("83ab"),u=o("d1e7"),l=o("5c6c"),c=o("fc6a"),h=o("c04e"),f=o("5135"),d=o("0cfb"),v=Object.getOwnPropertyDescriptor;a.f=s?v:function(p,y){if(p=c(p),y=h(y,!0),d)try{return v(p,y)}catch{}if(f(p,y))return l(!u.f.call(p,y),p[y])}},"0cfb":function(i,a,o){var s=o("83ab"),u=o("d039"),l=o("cc12");i.exports=!s&&!u(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,a,o){var s=o("23e7"),u=o("d58f").left,l=o("a640"),c=o("ae40"),h=l("reduce"),f=c("reduce",{1:0});s({target:"Array",proto:!0,forced:!h||!f},{reduce:function(v){return u(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,a,o){var s=o("c6b6"),u=o("9263");i.exports=function(l,c){var h=l.exec;if(typeof h=="function"){var f=h.call(l,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(s(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(l,c)}},"159b":function(i,a,o){var s=o("da84"),u=o("fdbc"),l=o("17c2"),c=o("9112");for(var h in u){var f=s[h],d=f&&f.prototype;if(d&&d.forEach!==l)try{c(d,"forEach",l)}catch{d.forEach=l}}},"17c2":function(i,a,o){var s=o("b727").forEach,u=o("a640"),l=o("ae40"),c=u("forEach"),h=l("forEach");i.exports=!c||!h?function(d){return s(this,d,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,a,o){var s=o("d066");i.exports=s("document","documentElement")},"1c0b":function(i,a){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,a,o){var s=o("b622"),u=s("iterator"),l=!1;try{var c=0,h={next:function(){return{done:!!c++}},return:function(){l=!0}};h[u]=function(){return this},Array.from(h,function(){throw 2})}catch{}i.exports=function(f,d){if(!d&&!l)return!1;var v=!1;try{var g={};g[u]=function(){return{next:function(){return{done:v=!0}}}},f(g)}catch{}return v}},"1d80":function(i,a){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,a,o){var s=o("d039"),u=o("b622"),l=o("2d00"),c=u("species");i.exports=function(h){return l>=51||!s(function(){var f=[],d=f.constructor={};return d[c]=function(){return{foo:1}},f[h](Boolean).foo!==1})}},"23cb":function(i,a,o){var s=o("a691"),u=Math.max,l=Math.min;i.exports=function(c,h){var f=s(c);return f<0?u(f+h,0):l(f,h)}},"23e7":function(i,a,o){var s=o("da84"),u=o("06cf").f,l=o("9112"),c=o("6eeb"),h=o("ce4e"),f=o("e893"),d=o("94ca");i.exports=function(v,g){var p=v.target,y=v.global,m=v.stat,w,b,x,_,S,P;if(y?b=s:m?b=s[p]||h(p,{}):b=(s[p]||{}).prototype,b)for(x in g){if(S=g[x],v.noTargetGet?(P=u(b,x),_=P&&P.value):_=b[x],w=d(y?x:p+(m?".":"#")+x,v.forced),!w&&_!==void 0){if(typeof S==typeof _)continue;f(S,_)}(v.sham||_&&_.sham)&&l(S,"sham",!0),c(b,x,S,v)}}},"241c":function(i,a,o){var s=o("ca84"),u=o("7839"),l=u.concat("length","prototype");a.f=Object.getOwnPropertyNames||function(h){return s(h,l)}},"25f0":function(i,a,o){var s=o("6eeb"),u=o("825a"),l=o("d039"),c=o("ad6d"),h="toString",f=RegExp.prototype,d=f[h],v=l(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),g=d.name!=h;(v||g)&&s(RegExp.prototype,h,function(){var y=u(this),m=String(y.source),w=y.flags,b=String(w===void 0&&y instanceof RegExp&&!("flags"in f)?c.call(y):w);return"/"+m+"/"+b},{unsafe:!0})},"2ca0":function(i,a,o){var s=o("23e7"),u=o("06cf").f,l=o("50c4"),c=o("5a34"),h=o("1d80"),f=o("ab13"),d=o("c430"),v="".startsWith,g=Math.min,p=f("startsWith"),y=!d&&!p&&!!function(){var m=u(String.prototype,"startsWith");return m&&!m.writable}();s({target:"String",proto:!0,forced:!y&&!p},{startsWith:function(w){var b=String(h(this));c(w);var x=l(g(arguments.length>1?arguments[1]:void 0,b.length)),_=String(w);return v?v.call(b,_,x):b.slice(x,x+_.length)===_}})},"2d00":function(i,a,o){var s=o("da84"),u=o("342f"),l=s.process,c=l&&l.versions,h=c&&c.v8,f,d;h?(f=h.split("."),d=f[0]+f[1]):u&&(f=u.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=u.match(/Chrome\/(\d+)/),f&&(d=f[1]))),i.exports=d&&+d},"342f":function(i,a,o){var s=o("d066");i.exports=s("navigator","userAgent")||""},"35a1":function(i,a,o){var s=o("f5df"),u=o("3f8c"),l=o("b622"),c=l("iterator");i.exports=function(h){if(h!=null)return h[c]||h["@@iterator"]||u[s(h)]}},"37e8":function(i,a,o){var s=o("83ab"),u=o("9bf2"),l=o("825a"),c=o("df75");i.exports=s?Object.defineProperties:function(f,d){l(f);for(var v=c(d),g=v.length,p=0,y;g>p;)u.f(f,y=v[p++],d[y]);return f}},"3bbe":function(i,a,o){var s=o("861d");i.exports=function(u){if(!s(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},"3ca3":function(i,a,o){var s=o("6547").charAt,u=o("69f3"),l=o("7dd0"),c="String Iterator",h=u.set,f=u.getterFor(c);l(String,"String",function(d){h(this,{type:c,string:String(d),index:0})},function(){var v=f(this),g=v.string,p=v.index,y;return p>=g.length?{value:void 0,done:!0}:(y=s(g,p),v.index+=y.length,{value:y,done:!1})})},"3f8c":function(i,a){i.exports={}},4160:function(i,a,o){var s=o("23e7"),u=o("17c2");s({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},"428f":function(i,a,o){var s=o("da84");i.exports=s},"44ad":function(i,a,o){var s=o("d039"),u=o("c6b6"),l="".split;i.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return u(c)=="String"?l.call(c,""):Object(c)}:Object},"44d2":function(i,a,o){var s=o("b622"),u=o("7c73"),l=o("9bf2"),c=s("unscopables"),h=Array.prototype;h[c]==null&&l.f(h,c,{configurable:!0,value:u(null)}),i.exports=function(f){h[c][f]=!0}},"44e7":function(i,a,o){var s=o("861d"),u=o("c6b6"),l=o("b622"),c=l("match");i.exports=function(h){var f;return s(h)&&((f=h[c])!==void 0?!!f:u(h)=="RegExp")}},4930:function(i,a,o){var s=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})},"4d64":function(i,a,o){var s=o("fc6a"),u=o("50c4"),l=o("23cb"),c=function(h){return function(f,d,v){var g=s(f),p=u(g.length),y=l(v,p),m;if(h&&d!=d){for(;p>y;)if(m=g[y++],m!=m)return!0}else for(;p>y;y++)if((h||y in g)&&g[y]===d)return h||y||0;return!h&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,a,o){var s=o("23e7"),u=o("b727").filter,l=o("1dde"),c=o("ae40"),h=l("filter"),f=c("filter");s({target:"Array",proto:!0,forced:!h||!f},{filter:function(v){return u(this,v,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,a,o){var s=o("0366"),u=o("7b0b"),l=o("9bdd"),c=o("e95a"),h=o("50c4"),f=o("8418"),d=o("35a1");i.exports=function(g){var p=u(g),y=typeof this=="function"?this:Array,m=arguments.length,w=m>1?arguments[1]:void 0,b=w!==void 0,x=d(p),_=0,S,P,C,B,T,k;if(b&&(w=s(w,m>2?arguments[2]:void 0,2)),x!=null&&!(y==Array&&c(x)))for(B=x.call(p),T=B.next,P=new y;!(C=T.call(B)).done;_++)k=b?l(B,w,[C.value,_],!0):C.value,f(P,_,k);else for(S=h(p.length),P=new y(S);S>_;_++)k=b?w(p[_],_):p[_],f(P,_,k);return P.length=_,P}},"4fad":function(i,a,o){var s=o("23e7"),u=o("6f53").entries;s({target:"Object",stat:!0},{entries:function(c){return u(c)}})},"50c4":function(i,a,o){var s=o("a691"),u=Math.min;i.exports=function(l){return l>0?u(s(l),9007199254740991):0}},5135:function(i,a){var o={}.hasOwnProperty;i.exports=function(s,u){return o.call(s,u)}},5319:function(i,a,o){var s=o("d784"),u=o("825a"),l=o("7b0b"),c=o("50c4"),h=o("a691"),f=o("1d80"),d=o("8aa5"),v=o("14c3"),g=Math.max,p=Math.min,y=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g,b=function(x){return x===void 0?x:String(x)};s("replace",2,function(x,_,S,P){var C=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=P.REPLACE_KEEPS_$0,T=C?"$":"$0";return[function(O,N){var R=f(this),U=O==null?void 0:O[x];return U!==void 0?U.call(O,R,N):_.call(String(R),O,N)},function(D,O){if(!C&&B||typeof O=="string"&&O.indexOf(T)===-1){var N=S(_,D,this,O);if(N.done)return N.value}var R=u(D),U=String(this),V=typeof O=="function";V||(O=String(O));var z=R.global;if(z){var j=R.unicode;R.lastIndex=0}for(var X=[];;){var Q=v(R,U);if(Q===null||(X.push(Q),!z))break;var te=String(Q[0]);te===""&&(R.lastIndex=d(U,c(R.lastIndex),j))}for(var he="",fe=0,ce=0;ce<X.length;ce++){Q=X[ce];for(var ee=String(Q[0]),Ue=g(p(h(Q.index),U.length),0),be=[],pe=1;pe<Q.length;pe++)be.push(b(Q[pe]));var Ae=Q.groups;if(V){var re=[ee].concat(be,Ue,U);Ae!==void 0&&re.push(Ae);var Le=String(O.apply(void 0,re))}else Le=k(ee,U,Ue,be,Ae,O);Ue>=fe&&(he+=U.slice(fe,Ue)+Le,fe=Ue+ee.length)}return he+U.slice(fe)}];function k(D,O,N,R,U,V){var z=N+D.length,j=R.length,X=w;return U!==void 0&&(U=l(U),X=m),_.call(V,X,function(Q,te){var he;switch(te.charAt(0)){case"$":return"$";case"&":return D;case"`":return O.slice(0,N);case"'":return O.slice(z);case"<":he=U[te.slice(1,-1)];break;default:var fe=+te;if(fe===0)return Q;if(fe>j){var ce=y(fe/10);return ce===0?Q:ce<=j?R[ce-1]===void 0?te.charAt(1):R[ce-1]+te.charAt(1):Q}he=R[fe-1]}return he===void 0?"":he})}})},5692:function(i,a,o){var s=o("c430"),u=o("c6cd");(i.exports=function(l,c){return u[l]||(u[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,a,o){var s=o("d066"),u=o("241c"),l=o("7418"),c=o("825a");i.exports=s("Reflect","ownKeys")||function(f){var d=u.f(c(f)),v=l.f;return v?d.concat(v(f)):d}},"5a34":function(i,a,o){var s=o("44e7");i.exports=function(u){if(s(u))throw TypeError("The method doesn't accept regular expressions");return u}},"5c6c":function(i,a){i.exports=function(o,s){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:s}}},"5db7":function(i,a,o){var s=o("23e7"),u=o("a2bf"),l=o("7b0b"),c=o("50c4"),h=o("1c0b"),f=o("65f0");s({target:"Array",proto:!0},{flatMap:function(v){var g=l(this),p=c(g.length),y;return h(v),y=f(g,0),y.length=u(y,g,g,p,0,1,v,arguments.length>1?arguments[1]:void 0),y}})},6547:function(i,a,o){var s=o("a691"),u=o("1d80"),l=function(c){return function(h,f){var d=String(u(h)),v=s(f),g=d.length,p,y;return v<0||v>=g?c?"":void 0:(p=d.charCodeAt(v),p<55296||p>56319||v+1===g||(y=d.charCodeAt(v+1))<56320||y>57343?c?d.charAt(v):p:c?d.slice(v,v+2):(p-55296<<10)+(y-56320)+65536)}};i.exports={codeAt:l(!1),charAt:l(!0)}},"65f0":function(i,a,o){var s=o("861d"),u=o("e8b5"),l=o("b622"),c=l("species");i.exports=function(h,f){var d;return u(h)&&(d=h.constructor,typeof d=="function"&&(d===Array||u(d.prototype))?d=void 0:s(d)&&(d=d[c],d===null&&(d=void 0))),new(d===void 0?Array:d)(f===0?0:f)}},"69f3":function(i,a,o){var s=o("7f9a"),u=o("da84"),l=o("861d"),c=o("9112"),h=o("5135"),f=o("f772"),d=o("d012"),v=u.WeakMap,g,p,y,m=function(C){return y(C)?p(C):g(C,{})},w=function(C){return function(B){var T;if(!l(B)||(T=p(B)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return T}};if(s){var b=new v,x=b.get,_=b.has,S=b.set;g=function(C,B){return S.call(b,C,B),B},p=function(C){return x.call(b,C)||{}},y=function(C){return _.call(b,C)}}else{var P=f("state");d[P]=!0,g=function(C,B){return c(C,P,B),B},p=function(C){return h(C,P)?C[P]:{}},y=function(C){return h(C,P)}}i.exports={set:g,get:p,has:y,enforce:m,getterFor:w}},"6eeb":function(i,a,o){var s=o("da84"),u=o("9112"),l=o("5135"),c=o("ce4e"),h=o("8925"),f=o("69f3"),d=f.get,v=f.enforce,g=String(String).split("String");(i.exports=function(p,y,m,w){var b=w?!!w.unsafe:!1,x=w?!!w.enumerable:!1,_=w?!!w.noTargetGet:!1;if(typeof m=="function"&&(typeof y=="string"&&!l(m,"name")&&u(m,"name",y),v(m).source=g.join(typeof y=="string"?y:"")),p===s){x?p[y]=m:c(y,m);return}else b?!_&&p[y]&&(x=!0):delete p[y];x?p[y]=m:u(p,y,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||h(this)})},"6f53":function(i,a,o){var s=o("83ab"),u=o("df75"),l=o("fc6a"),c=o("d1e7").f,h=function(f){return function(d){for(var v=l(d),g=u(v),p=g.length,y=0,m=[],w;p>y;)w=g[y++],(!s||c.call(v,w))&&m.push(f?[w,v[w]]:v[w]);return m}};i.exports={entries:h(!0),values:h(!1)}},"73d9":function(i,a,o){var s=o("44d2");s("flatMap")},7418:function(i,a){a.f=Object.getOwnPropertySymbols},"746f":function(i,a,o){var s=o("428f"),u=o("5135"),l=o("e538"),c=o("9bf2").f;i.exports=function(h){var f=s.Symbol||(s.Symbol={});u(f,h)||c(f,h,{value:l.f(h)})}},7839:function(i,a){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,a,o){var s=o("1d80");i.exports=function(u){return Object(s(u))}},"7c73":function(i,a,o){var s=o("825a"),u=o("37e8"),l=o("7839"),c=o("d012"),h=o("1be4"),f=o("cc12"),d=o("f772"),v=">",g="<",p="prototype",y="script",m=d("IE_PROTO"),w=function(){},b=function(C){return g+y+v+C+g+"/"+y+v},x=function(C){C.write(b("")),C.close();var B=C.parentWindow.Object;return C=null,B},_=function(){var C=f("iframe"),B="java"+y+":",T;return C.style.display="none",h.appendChild(C),C.src=String(B),T=C.contentWindow.document,T.open(),T.write(b("document.F=Object")),T.close(),T.F},S,P=function(){try{S=document.domain&&new ActiveXObject("htmlfile")}catch{}P=S?x(S):_();for(var C=l.length;C--;)delete P[p][l[C]];return P()};c[m]=!0,i.exports=Object.create||function(B,T){var k;return B!==null?(w[p]=s(B),k=new w,w[p]=null,k[m]=B):k=P(),T===void 0?k:u(k,T)}},"7dd0":function(i,a,o){var s=o("23e7"),u=o("9ed3"),l=o("e163"),c=o("d2bb"),h=o("d44e"),f=o("9112"),d=o("6eeb"),v=o("b622"),g=o("c430"),p=o("3f8c"),y=o("ae93"),m=y.IteratorPrototype,w=y.BUGGY_SAFARI_ITERATORS,b=v("iterator"),x="keys",_="values",S="entries",P=function(){return this};i.exports=function(C,B,T,k,D,O,N){u(T,B,k);var R=function(ce){if(ce===D&&X)return X;if(!w&&ce in z)return z[ce];switch(ce){case x:return function(){return new T(this,ce)};case _:return function(){return new T(this,ce)};case S:return function(){return new T(this,ce)}}return function(){return new T(this)}},U=B+" Iterator",V=!1,z=C.prototype,j=z[b]||z["@@iterator"]||D&&z[D],X=!w&&j||R(D),Q=B=="Array"&&z.entries||j,te,he,fe;if(Q&&(te=l(Q.call(new C)),m!==Object.prototype&&te.next&&(!g&&l(te)!==m&&(c?c(te,m):typeof te[b]!="function"&&f(te,b,P)),h(te,U,!0,!0),g&&(p[U]=P))),D==_&&j&&j.name!==_&&(V=!0,X=function(){return j.call(this)}),(!g||N)&&z[b]!==X&&f(z,b,X),p[B]=X,D)if(he={values:R(_),keys:O?X:R(x),entries:R(S)},N)for(fe in he)(w||V||!(fe in z))&&d(z,fe,he[fe]);else s({target:B,proto:!0,forced:w||V},he);return he}},"7f9a":function(i,a,o){var s=o("da84"),u=o("8925"),l=s.WeakMap;i.exports=typeof l=="function"&&/native code/.test(u(l))},"825a":function(i,a,o){var s=o("861d");i.exports=function(u){if(!s(u))throw TypeError(String(u)+" is not an object");return u}},"83ab":function(i,a,o){var s=o("d039");i.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,a,o){var s=o("c04e"),u=o("9bf2"),l=o("5c6c");i.exports=function(c,h,f){var d=s(h);d in c?u.f(c,d,l(0,f)):c[d]=f}},"861d":function(i,a){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,a,o){var s,u,l;(function(c,h){u=[],s=h,l=typeof s=="function"?s.apply(a,u):s,l!==void 0&&(i.exports=l)})(typeof self<"u"?self:this,function(){function c(){var h=Object.getOwnPropertyDescriptor(document,"currentScript");if(!h&&"currentScript"in document&&document.currentScript||h&&h.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(S){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,d=/@([^@]*):(\d+):(\d+)\s*$/ig,v=f.exec(S.stack)||d.exec(S.stack),g=v&&v[1]||!1,p=v&&v[2]||!1,y=document.location.href.replace(document.location.hash,""),m,w,b,x=document.getElementsByTagName("script");g===y&&(m=document.documentElement.outerHTML,w=new RegExp("(?:[^\\n]+?\\n){0,"+(p-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=m.replace(w,"$1").trim());for(var _=0;_<x.length;_++)if(x[_].readyState==="interactive"||x[_].src===g||g===y&&x[_].innerHTML&&x[_].innerHTML.trim()===b)return x[_];return null}}return c})},8925:function(i,a,o){var s=o("c6cd"),u=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(l){return u.call(l)}),i.exports=s.inspectSource},"8aa5":function(i,a,o){var s=o("6547").charAt;i.exports=function(u,l,c){return l+(c?s(u,l).length:1)}},"8bbf":function(i,a){i.exports=n},"90e3":function(i,a){var o=0,s=Math.random();i.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++o+s).toString(36)}},9112:function(i,a,o){var s=o("83ab"),u=o("9bf2"),l=o("5c6c");i.exports=s?function(c,h,f){return u.f(c,h,l(1,f))}:function(c,h,f){return c[h]=f,c}},9263:function(i,a,o){var s=o("ad6d"),u=o("9f7f"),l=RegExp.prototype.exec,c=String.prototype.replace,h=l,f=function(){var p=/a/,y=/b*/g;return l.call(p,"a"),l.call(y,"a"),p.lastIndex!==0||y.lastIndex!==0}(),d=u.UNSUPPORTED_Y||u.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0,g=f||v||d;g&&(h=function(y){var m=this,w,b,x,_,S=d&&m.sticky,P=s.call(m),C=m.source,B=0,T=y;return S&&(P=P.replace("y",""),P.indexOf("g")===-1&&(P+="g"),T=String(y).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&y[m.lastIndex-1]!==`
`)&&(C="(?: "+C+")",T=" "+T,B++),b=new RegExp("^(?:"+C+")",P)),v&&(b=new RegExp("^"+C+"$(?!\\s)",P)),f&&(w=m.lastIndex),x=l.call(S?b:m,T),S?x?(x.input=x.input.slice(B),x[0]=x[0].slice(B),x.index=m.lastIndex,m.lastIndex+=x[0].length):m.lastIndex=0:f&&x&&(m.lastIndex=m.global?x.index+x[0].length:w),v&&x&&x.length>1&&c.call(x[0],b,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(x[_]=void 0)}),x}),i.exports=h},"94ca":function(i,a,o){var s=o("d039"),u=/#|\.prototype\./,l=function(v,g){var p=h[c(v)];return p==d?!0:p==f?!1:typeof g=="function"?s(g):!!g},c=l.normalize=function(v){return String(v).replace(u,".").toLowerCase()},h=l.data={},f=l.NATIVE="N",d=l.POLYFILL="P";i.exports=l},"99af":function(i,a,o){var s=o("23e7"),u=o("d039"),l=o("e8b5"),c=o("861d"),h=o("7b0b"),f=o("50c4"),d=o("8418"),v=o("65f0"),g=o("1dde"),p=o("b622"),y=o("2d00"),m=p("isConcatSpreadable"),w=9007199254740991,b="Maximum allowed index exceeded",x=y>=51||!u(function(){var C=[];return C[m]=!1,C.concat()[0]!==C}),_=g("concat"),S=function(C){if(!c(C))return!1;var B=C[m];return B!==void 0?!!B:l(C)},P=!x||!_;s({target:"Array",proto:!0,forced:P},{concat:function(B){var T=h(this),k=v(T,0),D=0,O,N,R,U,V;for(O=-1,R=arguments.length;O<R;O++)if(V=O===-1?T:arguments[O],S(V)){if(U=f(V.length),D+U>w)throw TypeError(b);for(N=0;N<U;N++,D++)N in V&&d(k,D,V[N])}else{if(D>=w)throw TypeError(b);d(k,D++,V)}return k.length=D,k}})},"9bdd":function(i,a,o){var s=o("825a");i.exports=function(u,l,c,h){try{return h?l(s(c)[0],c[1]):l(c)}catch(d){var f=u.return;throw f!==void 0&&s(f.call(u)),d}}},"9bf2":function(i,a,o){var s=o("83ab"),u=o("0cfb"),l=o("825a"),c=o("c04e"),h=Object.defineProperty;a.f=s?h:function(d,v,g){if(l(d),v=c(v,!0),l(g),u)try{return h(d,v,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(d[v]=g.value),d}},"9ed3":function(i,a,o){var s=o("ae93").IteratorPrototype,u=o("7c73"),l=o("5c6c"),c=o("d44e"),h=o("3f8c"),f=function(){return this};i.exports=function(d,v,g){var p=v+" Iterator";return d.prototype=u(s,{next:l(1,g)}),c(d,p,!1,!0),h[p]=f,d}},"9f7f":function(i,a,o){var s=o("d039");function u(l,c){return RegExp(l,c)}a.UNSUPPORTED_Y=s(function(){var l=u("a","y");return l.lastIndex=2,l.exec("abcd")!=null}),a.BROKEN_CARET=s(function(){var l=u("^r","gy");return l.lastIndex=2,l.exec("str")!=null})},a2bf:function(i,a,o){var s=o("e8b5"),u=o("50c4"),l=o("0366"),c=function(h,f,d,v,g,p,y,m){for(var w=g,b=0,x=y?l(y,m,3):!1,_;b<v;){if(b in d){if(_=x?x(d[b],b,f):d[b],p>0&&s(_))w=c(h,f,_,u(_.length),w,p-1)-1;else{if(w>=9007199254740991)throw TypeError("Exceed the acceptable array length");h[w]=_}w++}b++}return w};i.exports=c},a352:function(i,a){i.exports=r},a434:function(i,a,o){var s=o("23e7"),u=o("23cb"),l=o("a691"),c=o("50c4"),h=o("7b0b"),f=o("65f0"),d=o("8418"),v=o("1dde"),g=o("ae40"),p=v("splice"),y=g("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,w=Math.min,b=9007199254740991,x="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p||!y},{splice:function(S,P){var C=h(this),B=c(C.length),T=u(S,B),k=arguments.length,D,O,N,R,U,V;if(k===0?D=O=0:k===1?(D=0,O=B-T):(D=k-2,O=w(m(l(P),0),B-T)),B+D-O>b)throw TypeError(x);for(N=f(C,O),R=0;R<O;R++)U=T+R,U in C&&d(N,R,C[U]);if(N.length=O,D<O){for(R=T;R<B-O;R++)U=R+O,V=R+D,U in C?C[V]=C[U]:delete C[V];for(R=B;R>B-O+D;R--)delete C[R-1]}else if(D>O)for(R=B-O;R>T;R--)U=R+O-1,V=R+D-1,U in C?C[V]=C[U]:delete C[V];for(R=0;R<D;R++)C[R+T]=arguments[R+2];return C.length=B-O+D,N}})},a4d3:function(i,a,o){var s=o("23e7"),u=o("da84"),l=o("d066"),c=o("c430"),h=o("83ab"),f=o("4930"),d=o("fdbf"),v=o("d039"),g=o("5135"),p=o("e8b5"),y=o("861d"),m=o("825a"),w=o("7b0b"),b=o("fc6a"),x=o("c04e"),_=o("5c6c"),S=o("7c73"),P=o("df75"),C=o("241c"),B=o("057f"),T=o("7418"),k=o("06cf"),D=o("9bf2"),O=o("d1e7"),N=o("9112"),R=o("6eeb"),U=o("5692"),V=o("f772"),z=o("d012"),j=o("90e3"),X=o("b622"),Q=o("e538"),te=o("746f"),he=o("d44e"),fe=o("69f3"),ce=o("b727").forEach,ee=V("hidden"),Ue="Symbol",be="prototype",pe=X("toPrimitive"),Ae=fe.set,re=fe.getterFor(Ue),Le=Object[be],Oe=u.Symbol,Ze=l("JSON","stringify"),Y=k.f,I=D.f,F=B.f,W=O.f,Z=U("symbols"),ye=U("op-symbols"),we=U("string-to-symbol-registry"),et=U("symbol-to-string-registry"),yt=U("wks"),De=u.QObject,Me=!De||!De[be]||!De[be].findChild,rt=h&&v(function(){return S(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a!=7})?function(gt,Je,ft){var Bt=Y(Le,Je);Bt&&delete Le[Je],I(gt,Je,ft),Bt&&gt!==Le&&I(Le,Je,Bt)}:I,je=function(gt,Je){var ft=Z[gt]=S(Oe[be]);return Ae(ft,{type:Ue,tag:gt,description:Je}),h||(ft.description=Je),ft},le=d?function(gt){return typeof gt=="symbol"}:function(gt){return Object(gt)instanceof Oe},ne=function(Je,ft,Bt){Je===Le&&ne(ye,ft,Bt),m(Je);var jt=x(ft,!0);return m(Bt),g(Z,jt)?(Bt.enumerable?(g(Je,ee)&&Je[ee][jt]&&(Je[ee][jt]=!1),Bt=S(Bt,{enumerable:_(0,!1)})):(g(Je,ee)||I(Je,ee,_(1,{})),Je[ee][jt]=!0),rt(Je,jt,Bt)):I(Je,jt,Bt)},ge=function(Je,ft){m(Je);var Bt=b(ft),jt=P(Bt).concat(Ot(Bt));return ce(jt,function(Dn){(!h||ze.call(Bt,Dn))&&ne(Je,Dn,Bt[Dn])}),Je},Be=function(Je,ft){return ft===void 0?S(Je):ge(S(Je),ft)},ze=function(Je){var ft=x(Je,!0),Bt=W.call(this,ft);return this===Le&&g(Z,ft)&&!g(ye,ft)?!1:Bt||!g(this,ft)||!g(Z,ft)||g(this,ee)&&this[ee][ft]?Bt:!0},st=function(Je,ft){var Bt=b(Je),jt=x(ft,!0);if(!(Bt===Le&&g(Z,jt)&&!g(ye,jt))){var Dn=Y(Bt,jt);return Dn&&g(Z,jt)&&!(g(Bt,ee)&&Bt[ee][jt])&&(Dn.enumerable=!0),Dn}},Pe=function(Je){var ft=F(b(Je)),Bt=[];return ce(ft,function(jt){!g(Z,jt)&&!g(z,jt)&&Bt.push(jt)}),Bt},Ot=function(Je){var ft=Je===Le,Bt=F(ft?ye:b(Je)),jt=[];return ce(Bt,function(Dn){g(Z,Dn)&&(!ft||g(Le,Dn))&&jt.push(Z[Dn])}),jt};if(f||(Oe=function(){if(this instanceof Oe)throw TypeError("Symbol is not a constructor");var Je=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ft=j(Je),Bt=function(jt){this===Le&&Bt.call(ye,jt),g(this,ee)&&g(this[ee],ft)&&(this[ee][ft]=!1),rt(this,ft,_(1,jt))};return h&&Me&&rt(Le,ft,{configurable:!0,set:Bt}),je(ft,Je)},R(Oe[be],"toString",function(){return re(this).tag}),R(Oe,"withoutSetter",function(gt){return je(j(gt),gt)}),O.f=ze,D.f=ne,k.f=st,C.f=B.f=Pe,T.f=Ot,Q.f=function(gt){return je(X(gt),gt)},h&&(I(Oe[be],"description",{configurable:!0,get:function(){return re(this).description}}),c||R(Le,"propertyIsEnumerable",ze,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Oe}),ce(P(yt),function(gt){te(gt)}),s({target:Ue,stat:!0,forced:!f},{for:function(gt){var Je=String(gt);if(g(we,Je))return we[Je];var ft=Oe(Je);return we[Je]=ft,et[ft]=Je,ft},keyFor:function(Je){if(!le(Je))throw TypeError(Je+" is not a symbol");if(g(et,Je))return et[Je]},useSetter:function(){Me=!0},useSimple:function(){Me=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!h},{create:Be,defineProperty:ne,defineProperties:ge,getOwnPropertyDescriptor:st}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Pe,getOwnPropertySymbols:Ot}),s({target:"Object",stat:!0,forced:v(function(){T.f(1)})},{getOwnPropertySymbols:function(Je){return T.f(w(Je))}}),Ze){var Zt=!f||v(function(){var gt=Oe();return Ze([gt])!="[null]"||Ze({a:gt})!="{}"||Ze(Object(gt))!="{}"});s({target:"JSON",stat:!0,forced:Zt},{stringify:function(Je,ft,Bt){for(var jt=[Je],Dn=1,mi;arguments.length>Dn;)jt.push(arguments[Dn++]);if(mi=ft,!(!y(ft)&&Je===void 0||le(Je)))return p(ft)||(ft=function(ba,Rr){if(typeof mi=="function"&&(Rr=mi.call(this,ba,Rr)),!le(Rr))return Rr}),jt[1]=ft,Ze.apply(null,jt)}})}Oe[be][pe]||N(Oe[be],pe,Oe[be].valueOf),he(Oe,Ue),z[ee]=!0},a630:function(i,a,o){var s=o("23e7"),u=o("4df4"),l=o("1c7e"),c=!l(function(h){Array.from(h)});s({target:"Array",stat:!0,forced:c},{from:u})},a640:function(i,a,o){var s=o("d039");i.exports=function(u,l){var c=[][u];return!!c&&s(function(){c.call(null,l||function(){throw 1},1)})}},a691:function(i,a){var o=Math.ceil,s=Math.floor;i.exports=function(u){return isNaN(u=+u)?0:(u>0?s:o)(u)}},ab13:function(i,a,o){var s=o("b622"),u=s("match");i.exports=function(l){var c=/./;try{"/./"[l](c)}catch{try{return c[u]=!1,"/./"[l](c)}catch{}}return!1}},ac1f:function(i,a,o){var s=o("23e7"),u=o("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},ad6d:function(i,a,o){var s=o("825a");i.exports=function(){var u=s(this),l="";return u.global&&(l+="g"),u.ignoreCase&&(l+="i"),u.multiline&&(l+="m"),u.dotAll&&(l+="s"),u.unicode&&(l+="u"),u.sticky&&(l+="y"),l}},ae40:function(i,a,o){var s=o("83ab"),u=o("d039"),l=o("5135"),c=Object.defineProperty,h={},f=function(d){throw d};i.exports=function(d,v){if(l(h,d))return h[d];v||(v={});var g=[][d],p=l(v,"ACCESSORS")?v.ACCESSORS:!1,y=l(v,0)?v[0]:f,m=l(v,1)?v[1]:void 0;return h[d]=!!g&&!u(function(){if(p&&!s)return!0;var w={length:-1};p?c(w,1,{enumerable:!0,get:f}):w[1]=1,g.call(w,y,m)})}},ae93:function(i,a,o){var s=o("e163"),u=o("9112"),l=o("5135"),c=o("b622"),h=o("c430"),f=c("iterator"),d=!1,v=function(){return this},g,p,y;[].keys&&(y=[].keys(),"next"in y?(p=s(s(y)),p!==Object.prototype&&(g=p)):d=!0),g==null&&(g={}),!h&&!l(g,f)&&u(g,f,v),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:d}},b041:function(i,a,o){var s=o("00ee"),u=o("f5df");i.exports=s?{}.toString:function(){return"[object "+u(this)+"]"}},b0c0:function(i,a,o){var s=o("83ab"),u=o("9bf2").f,l=Function.prototype,c=l.toString,h=/^\s*function ([^ (]*)/,f="name";s&&!(f in l)&&u(l,f,{configurable:!0,get:function(){try{return c.call(this).match(h)[1]}catch{return""}}})},b622:function(i,a,o){var s=o("da84"),u=o("5692"),l=o("5135"),c=o("90e3"),h=o("4930"),f=o("fdbf"),d=u("wks"),v=s.Symbol,g=f?v:v&&v.withoutSetter||c;i.exports=function(p){return l(d,p)||(h&&l(v,p)?d[p]=v[p]:d[p]=g("Symbol."+p)),d[p]}},b64b:function(i,a,o){var s=o("23e7"),u=o("7b0b"),l=o("df75"),c=o("d039"),h=c(function(){l(1)});s({target:"Object",stat:!0,forced:h},{keys:function(d){return l(u(d))}})},b727:function(i,a,o){var s=o("0366"),u=o("44ad"),l=o("7b0b"),c=o("50c4"),h=o("65f0"),f=[].push,d=function(v){var g=v==1,p=v==2,y=v==3,m=v==4,w=v==6,b=v==5||w;return function(x,_,S,P){for(var C=l(x),B=u(C),T=s(_,S,3),k=c(B.length),D=0,O=P||h,N=g?O(x,k):p?O(x,0):void 0,R,U;k>D;D++)if((b||D in B)&&(R=B[D],U=T(R,D,C),v)){if(g)N[D]=U;else if(U)switch(v){case 3:return!0;case 5:return R;case 6:return D;case 2:f.call(N,R)}else if(m)return!1}return w?-1:y||m?m:N}};i.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},c04e:function(i,a,o){var s=o("861d");i.exports=function(u,l){if(!s(u))return u;var c,h;if(l&&typeof(c=u.toString)=="function"&&!s(h=c.call(u))||typeof(c=u.valueOf)=="function"&&!s(h=c.call(u))||!l&&typeof(c=u.toString)=="function"&&!s(h=c.call(u)))return h;throw TypeError("Can't convert object to primitive value")}},c430:function(i,a){i.exports=!1},c6b6:function(i,a){var o={}.toString;i.exports=function(s){return o.call(s).slice(8,-1)}},c6cd:function(i,a,o){var s=o("da84"),u=o("ce4e"),l="__core-js_shared__",c=s[l]||u(l,{});i.exports=c},c740:function(i,a,o){var s=o("23e7"),u=o("b727").findIndex,l=o("44d2"),c=o("ae40"),h="findIndex",f=!0,d=c(h);h in[]&&Array(1)[h](function(){f=!1}),s({target:"Array",proto:!0,forced:f||!d},{findIndex:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}}),l(h)},c8ba:function(i,a){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,a,o){var s=o("23e7"),u=o("4d64").indexOf,l=o("a640"),c=o("ae40"),h=[].indexOf,f=!!h&&1/[1].indexOf(1,-0)<0,d=l("indexOf"),v=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:f||!d||!v},{indexOf:function(p){return f?h.apply(this,arguments)||0:u(this,p,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,a,o){var s=o("5135"),u=o("fc6a"),l=o("4d64").indexOf,c=o("d012");i.exports=function(h,f){var d=u(h),v=0,g=[],p;for(p in d)!s(c,p)&&s(d,p)&&g.push(p);for(;f.length>v;)s(d,p=f[v++])&&(~l(g,p)||g.push(p));return g}},caad:function(i,a,o){var s=o("23e7"),u=o("4d64").includes,l=o("44d2"),c=o("ae40"),h=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!h},{includes:function(d){return u(this,d,arguments.length>1?arguments[1]:void 0)}}),l("includes")},cc12:function(i,a,o){var s=o("da84"),u=o("861d"),l=s.document,c=u(l)&&u(l.createElement);i.exports=function(h){return c?l.createElement(h):{}}},ce4e:function(i,a,o){var s=o("da84"),u=o("9112");i.exports=function(l,c){try{u(s,l,c)}catch{s[l]=c}return c}},d012:function(i,a){i.exports={}},d039:function(i,a){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,a,o){var s=o("428f"),u=o("da84"),l=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,h){return arguments.length<2?l(s[c])||l(u[c]):s[c]&&s[c][h]||u[c]&&u[c][h]}},d1e7:function(i,a,o){var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,l=u&&!s.call({1:2},1);a.f=l?function(h){var f=u(this,h);return!!f&&f.enumerable}:s},d28b:function(i,a,o){var s=o("746f");s("iterator")},d2bb:function(i,a,o){var s=o("825a"),u=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l=!1,c={},h;try{h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,h.call(c,[]),l=c instanceof Array}catch{}return function(d,v){return s(d),u(v),l?h.call(d,v):d.__proto__=v,d}}():void 0)},d3b7:function(i,a,o){var s=o("00ee"),u=o("6eeb"),l=o("b041");s||u(Object.prototype,"toString",l,{unsafe:!0})},d44e:function(i,a,o){var s=o("9bf2").f,u=o("5135"),l=o("b622"),c=l("toStringTag");i.exports=function(h,f,d){h&&!u(h=d?h:h.prototype,c)&&s(h,c,{configurable:!0,value:f})}},d58f:function(i,a,o){var s=o("1c0b"),u=o("7b0b"),l=o("44ad"),c=o("50c4"),h=function(f){return function(d,v,g,p){s(v);var y=u(d),m=l(y),w=c(y.length),b=f?w-1:0,x=f?-1:1;if(g<2)for(;;){if(b in m){p=m[b],b+=x;break}if(b+=x,f?b<0:w<=b)throw TypeError("Reduce of empty array with no initial value")}for(;f?b>=0:w>b;b+=x)b in m&&(p=v(p,m[b],b,y));return p}};i.exports={left:h(!1),right:h(!0)}},d784:function(i,a,o){o("ac1f");var s=o("6eeb"),u=o("d039"),l=o("b622"),c=o("9263"),h=o("9112"),f=l("species"),d=!u(function(){var m=/./;return m.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(m,"$<a>")!=="7"}),v=function(){return"a".replace(/./,"$0")==="$0"}(),g=l("replace"),p=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),y=!u(function(){var m=/(?:)/,w=m.exec;m.exec=function(){return w.apply(this,arguments)};var b="ab".split(m);return b.length!==2||b[0]!=="a"||b[1]!=="b"});i.exports=function(m,w,b,x){var _=l(m),S=!u(function(){var D={};return D[_]=function(){return 7},""[m](D)!=7}),P=S&&!u(function(){var D=!1,O=/a/;return m==="split"&&(O={},O.constructor={},O.constructor[f]=function(){return O},O.flags="",O[_]=/./[_]),O.exec=function(){return D=!0,null},O[_](""),!D});if(!S||!P||m==="replace"&&!(d&&v&&!p)||m==="split"&&!y){var C=/./[_],B=b(_,""[m],function(D,O,N,R,U){return O.exec===c?S&&!U?{done:!0,value:C.call(O,N,R)}:{done:!0,value:D.call(N,O,R)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),T=B[0],k=B[1];s(String.prototype,m,T),s(RegExp.prototype,_,w==2?function(D,O){return k.call(D,this,O)}:function(D){return k.call(D,this)})}x&&h(RegExp.prototype[_],"sham",!0)}},d81d:function(i,a,o){var s=o("23e7"),u=o("b727").map,l=o("1dde"),c=o("ae40"),h=l("map"),f=c("map");s({target:"Array",proto:!0,forced:!h||!f},{map:function(v){return u(this,v,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,a,o){(function(s){var u=function(l){return l&&l.Math==Math&&l};i.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s=="object"&&s)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,a,o){var s=o("23e7"),u=o("83ab"),l=o("56ef"),c=o("fc6a"),h=o("06cf"),f=o("8418");s({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(v){for(var g=c(v),p=h.f,y=l(g),m={},w=0,b,x;y.length>w;)x=p(g,b=y[w++]),x!==void 0&&f(m,b,x);return m}})},dbf1:function(i,a,o){(function(s){o.d(a,"a",function(){return l});function u(){return typeof window<"u"?window.console:s.console}var l=u()}).call(this,o("c8ba"))},ddb0:function(i,a,o){var s=o("da84"),u=o("fdbc"),l=o("e260"),c=o("9112"),h=o("b622"),f=h("iterator"),d=h("toStringTag"),v=l.values;for(var g in u){var p=s[g],y=p&&p.prototype;if(y){if(y[f]!==v)try{c(y,f,v)}catch{y[f]=v}if(y[d]||c(y,d,g),u[g]){for(var m in l)if(y[m]!==l[m])try{c(y,m,l[m])}catch{y[m]=l[m]}}}}},df75:function(i,a,o){var s=o("ca84"),u=o("7839");i.exports=Object.keys||function(c){return s(c,u)}},e01a:function(i,a,o){var s=o("23e7"),u=o("83ab"),l=o("da84"),c=o("5135"),h=o("861d"),f=o("9bf2").f,d=o("e893"),v=l.Symbol;if(u&&typeof v=="function"&&(!("description"in v.prototype)||v().description!==void 0)){var g={},p=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),S=this instanceof p?new v(_):_===void 0?v():v(_);return _===""&&(g[S]=!0),S};d(p,v);var y=p.prototype=v.prototype;y.constructor=p;var m=y.toString,w=String(v("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var _=h(this)?this.valueOf():this,S=m.call(_);if(c(g,_))return"";var P=w?S.slice(7,-1):S.replace(b,"$1");return P===""?void 0:P}}),s({global:!0,forced:!0},{Symbol:p})}},e163:function(i,a,o){var s=o("5135"),u=o("7b0b"),l=o("f772"),c=o("e177"),h=l("IE_PROTO"),f=Object.prototype;i.exports=c?Object.getPrototypeOf:function(d){return d=u(d),s(d,h)?d[h]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?f:null}},e177:function(i,a,o){var s=o("d039");i.exports=!s(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},e260:function(i,a,o){var s=o("fc6a"),u=o("44d2"),l=o("3f8c"),c=o("69f3"),h=o("7dd0"),f="Array Iterator",d=c.set,v=c.getterFor(f);i.exports=h(Array,"Array",function(g,p){d(this,{type:f,target:s(g),index:0,kind:p})},function(){var g=v(this),p=g.target,y=g.kind,m=g.index++;return!p||m>=p.length?(g.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:m,done:!1}:y=="values"?{value:p[m],done:!1}:{value:[m,p[m]],done:!1}},"values"),l.Arguments=l.Array,u("keys"),u("values"),u("entries")},e439:function(i,a,o){var s=o("23e7"),u=o("d039"),l=o("fc6a"),c=o("06cf").f,h=o("83ab"),f=u(function(){c(1)}),d=!h||f;s({target:"Object",stat:!0,forced:d,sham:!h},{getOwnPropertyDescriptor:function(g,p){return c(l(g),p)}})},e538:function(i,a,o){var s=o("b622");a.f=s},e893:function(i,a,o){var s=o("5135"),u=o("56ef"),l=o("06cf"),c=o("9bf2");i.exports=function(h,f){for(var d=u(f),v=c.f,g=l.f,p=0;p<d.length;p++){var y=d[p];s(h,y)||v(h,y,g(f,y))}}},e8b5:function(i,a,o){var s=o("c6b6");i.exports=Array.isArray||function(l){return s(l)=="Array"}},e95a:function(i,a,o){var s=o("b622"),u=o("3f8c"),l=s("iterator"),c=Array.prototype;i.exports=function(h){return h!==void 0&&(u.Array===h||c[l]===h)}},f5df:function(i,a,o){var s=o("00ee"),u=o("c6b6"),l=o("b622"),c=l("toStringTag"),h=u(function(){return arguments}())=="Arguments",f=function(d,v){try{return d[v]}catch{}};i.exports=s?u:function(d){var v,g,p;return d===void 0?"Undefined":d===null?"Null":typeof(g=f(v=Object(d),c))=="string"?g:h?u(v):(p=u(v))=="Object"&&typeof v.callee=="function"?"Arguments":p}},f772:function(i,a,o){var s=o("5692"),u=o("90e3"),l=s("keys");i.exports=function(c){return l[c]||(l[c]=u(c))}},fb15:function(i,a,o){if(o.r(a),typeof window<"u"){var s=window.document.currentScript;{var u=o("8875");s=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var l=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);l&&(o.p=l[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(le,ne,ge){return ne in le?Object.defineProperty(le,ne,{value:ge,enumerable:!0,configurable:!0,writable:!0}):le[ne]=ge,le}function h(le,ne){var ge=Object.keys(le);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(le);ne&&(Be=Be.filter(function(ze){return Object.getOwnPropertyDescriptor(le,ze).enumerable})),ge.push.apply(ge,Be)}return ge}function f(le){for(var ne=1;ne<arguments.length;ne++){var ge=arguments[ne]!=null?arguments[ne]:{};ne%2?h(Object(ge),!0).forEach(function(Be){c(le,Be,ge[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(ge)):h(Object(ge)).forEach(function(Be){Object.defineProperty(le,Be,Object.getOwnPropertyDescriptor(ge,Be))})}return le}function d(le){if(Array.isArray(le))return le}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function v(le,ne){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(le)))){var ge=[],Be=!0,ze=!1,st=void 0;try{for(var Pe=le[Symbol.iterator](),Ot;!(Be=(Ot=Pe.next()).done)&&(ge.push(Ot.value),!(ne&&ge.length===ne));Be=!0);}catch(Zt){ze=!0,st=Zt}finally{try{!Be&&Pe.return!=null&&Pe.return()}finally{if(ze)throw st}}return ge}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g(le,ne){(ne==null||ne>le.length)&&(ne=le.length);for(var ge=0,Be=new Array(ne);ge<ne;ge++)Be[ge]=le[ge];return Be}function p(le,ne){if(le){if(typeof le=="string")return g(le,ne);var ge=Object.prototype.toString.call(le).slice(8,-1);if(ge==="Object"&&le.constructor&&(ge=le.constructor.name),ge==="Map"||ge==="Set")return Array.from(le);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return g(le,ne)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(le,ne){return d(le)||v(le,ne)||p(le,ne)||y()}function w(le){if(Array.isArray(le))return g(le)}function b(le){if(typeof Symbol<"u"&&Symbol.iterator in Object(le))return Array.from(le)}function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(le){return w(le)||b(le)||p(le)||x()}var S=o("a352"),P=o.n(S);function C(le){le.parentElement!==null&&le.parentElement.removeChild(le)}function B(le,ne,ge){var Be=ge===0?le.children[0]:le.children[ge-1].nextSibling;le.insertBefore(ne,Be)}var T=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function k(le){var ne=Object.create(null);return function(Be){var ze=ne[Be];return ze||(ne[Be]=le(Be))}}var D=/-(\w)/g,O=k(function(le){return le.replace(D,function(ne,ge){return ge.toUpperCase()})});o("5db7"),o("73d9");var N=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],U=["Move"],V=[U,N,R].flatMap(function(le){return le}).map(function(le){return"on".concat(le)}),z={manage:U,manageAndEmit:N,emit:R};function j(le){return V.indexOf(le)!==-1}o("caad"),o("2ca0");var X=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Q(le){return X.includes(le)}function te(le){return["transition-group","TransitionGroup"].includes(le)}function he(le){return["id","class","role","style"].includes(le)||le.startsWith("data-")||le.startsWith("aria-")||le.startsWith("on")}function fe(le){return le.reduce(function(ne,ge){var Be=m(ge,2),ze=Be[0],st=Be[1];return ne[ze]=st,ne},{})}function ce(le){var ne=le.$attrs,ge=le.componentData,Be=ge===void 0?{}:ge,ze=fe(Object.entries(ne).filter(function(st){var Pe=m(st,2),Ot=Pe[0];return Pe[1],he(Ot)}));return f(f({},ze),Be)}function ee(le){var ne=le.$attrs,ge=le.callBackBuilder,Be=fe(Ue(ne));Object.entries(ge).forEach(function(st){var Pe=m(st,2),Ot=Pe[0],Zt=Pe[1];z[Ot].forEach(function(gt){Be["on".concat(gt)]=Zt(gt)})});var ze="[data-draggable]".concat(Be.draggable||"");return f(f({},Be),{},{draggable:ze})}function Ue(le){return Object.entries(le).filter(function(ne){var ge=m(ne,2),Be=ge[0];return ge[1],!he(Be)}).map(function(ne){var ge=m(ne,2),Be=ge[0],ze=ge[1];return[O(Be),ze]}).filter(function(ne){var ge=m(ne,2),Be=ge[0];return ge[1],!j(Be)})}o("c740");function be(le,ne){if(!(le instanceof ne))throw new TypeError("Cannot call a class as a function")}function pe(le,ne){for(var ge=0;ge<ne.length;ge++){var Be=ne[ge];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(le,Be.key,Be)}}function Ae(le,ne,ge){return ne&&pe(le.prototype,ne),ge&&pe(le,ge),le}var re=function(ne){var ge=ne.el;return ge},Le=function(ne,ge){return ne.__draggable_context=ge},Oe=function(ne){return ne.__draggable_context},Ze=function(){function le(ne){var ge=ne.nodes,Be=ge.header,ze=ge.default,st=ge.footer,Pe=ne.root,Ot=ne.realList;be(this,le),this.defaultNodes=ze,this.children=[].concat(_(Be),_(ze),_(st)),this.externalComponent=Pe.externalComponent,this.rootTransition=Pe.transition,this.tag=Pe.tag,this.realList=Ot}return Ae(le,[{key:"render",value:function(ge,Be){var ze=this.tag,st=this.children,Pe=this._isRootComponent,Ot=Pe?{default:function(){return st}}:st;return ge(ze,Be,Ot)}},{key:"updated",value:function(){var ge=this.defaultNodes,Be=this.realList;ge.forEach(function(ze,st){Le(re(ze),{element:Be[st],index:st})})}},{key:"getUnderlyingVm",value:function(ge){return Oe(ge)}},{key:"getVmIndexFromDomIndex",value:function(ge,Be){var ze=this.defaultNodes,st=ze.length,Pe=Be.children,Ot=Pe.item(ge);if(Ot===null)return st;var Zt=Oe(Ot);if(Zt)return Zt.index;if(st===0)return 0;var gt=re(ze[0]),Je=_(Pe).findIndex(function(ft){return ft===gt});return ge<Je?0:st}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),le}(),Y=o("8bbf");function I(le,ne){var ge=le[ne];return ge?ge():[]}function F(le){var ne=le.$slots,ge=le.realList,Be=le.getKey,ze=ge||[],st=["header","footer"].map(function(ft){return I(ne,ft)}),Pe=m(st,2),Ot=Pe[0],Zt=Pe[1],gt=ne.item;if(!gt)throw new Error("draggable element must have an item slot");var Je=ze.flatMap(function(ft,Bt){return gt({element:ft,index:Bt}).map(function(jt){return jt.key=Be(ft),jt.props=f(f({},jt.props||{}),{},{"data-draggable":!0}),jt})});if(Je.length!==ze.length)throw new Error("Item slot must have only one child");return{header:Ot,footer:Zt,default:Je}}function W(le){var ne=te(le),ge=!Q(le)&&!ne;return{transition:ne,externalComponent:ge,tag:ge?Object(Y.resolveComponent)(le):ne?Y.TransitionGroup:le}}function Z(le){var ne=le.$slots,ge=le.tag,Be=le.realList,ze=le.getKey,st=F({$slots:ne,realList:Be,getKey:ze}),Pe=W(ge);return new Ze({nodes:st,root:Pe,realList:Be})}function ye(le,ne){var ge=this;Object(Y.nextTick)(function(){return ge.$emit(le.toLowerCase(),ne)})}function we(le){var ne=this;return function(ge,Be){if(ne.realList!==null)return ne["onDrag".concat(le)](ge,Be)}}function et(le){var ne=this,ge=we.call(this,le);return function(Be,ze){ge.call(ne,Be,ze),ye.call(ne,le,Be)}}var yt=null,De={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(ne){return ne}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Me=["update:modelValue","change"].concat(_([].concat(_(z.manageAndEmit),_(z.emit)).map(function(le){return le.toLowerCase()}))),rt=Object(Y.defineComponent)({name:"draggable",inheritAttrs:!1,props:De,emits:Me,data:function(){return{error:!1}},render:function(){try{this.error=!1;var ne=this.$slots,ge=this.$attrs,Be=this.tag,ze=this.componentData,st=this.realList,Pe=this.getKey,Ot=Z({$slots:ne,tag:Be,realList:st,getKey:Pe});this.componentStructure=Ot;var Zt=ce({$attrs:ge,componentData:ze});return Ot.render(Y.h,Zt)}catch(gt){return this.error=!0,Object(Y.h)("pre",{style:{color:"red"}},gt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&T.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var ne=this;if(!this.error){var ge=this.$attrs,Be=this.$el,ze=this.componentStructure;ze.updated();var st=ee({$attrs:ge,callBackBuilder:{manageAndEmit:function(Zt){return et.call(ne,Zt)},emit:function(Zt){return ye.bind(ne,Zt)},manage:function(Zt){return we.call(ne,Zt)}}}),Pe=Be.nodeType===1?Be:Be.parentElement;this._sortable=new P.a(Pe,st),this.targetDomElement=Pe,Pe.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var ne=this.list;return ne||this.modelValue},getKey:function(){var ne=this.itemKey;return typeof ne=="function"?ne:function(ge){return ge[ne]}}},watch:{$attrs:{handler:function(ne){var ge=this._sortable;ge&&Ue(ne).forEach(function(Be){var ze=m(Be,2),st=ze[0],Pe=ze[1];ge.option(st,Pe)})},deep:!0}},methods:{getUnderlyingVm:function(ne){return this.componentStructure.getUnderlyingVm(ne)||null},getUnderlyingPotencialDraggableComponent:function(ne){return ne.__draggable_component__},emitChanges:function(ne){var ge=this;Object(Y.nextTick)(function(){return ge.$emit("change",ne)})},alterList:function(ne){if(this.list){ne(this.list);return}var ge=_(this.modelValue);ne(ge),this.$emit("update:modelValue",ge)},spliceList:function(){var ne=arguments,ge=function(ze){return ze.splice.apply(ze,_(ne))};this.alterList(ge)},updatePosition:function(ne,ge){var Be=function(st){return st.splice(ge,0,st.splice(ne,1)[0])};this.alterList(Be)},getRelatedContextFromMoveEvent:function(ne){var ge=ne.to,Be=ne.related,ze=this.getUnderlyingPotencialDraggableComponent(ge);if(!ze)return{component:ze};var st=ze.realList,Pe={list:st,component:ze};if(ge!==Be&&st){var Ot=ze.getUnderlyingVm(Be)||{};return f(f({},Ot),Pe)}return Pe},getVmIndexFromDomIndex:function(ne){return this.componentStructure.getVmIndexFromDomIndex(ne,this.targetDomElement)},onDragStart:function(ne){this.context=this.getUnderlyingVm(ne.item),ne.item._underlying_vm_=this.clone(this.context.element),yt=ne.item},onDragAdd:function(ne){var ge=ne.item._underlying_vm_;if(ge!==void 0){C(ne.item);var Be=this.getVmIndexFromDomIndex(ne.newIndex);this.spliceList(Be,0,ge);var ze={element:ge,newIndex:Be};this.emitChanges({added:ze})}},onDragRemove:function(ne){if(B(this.$el,ne.item,ne.oldIndex),ne.pullMode==="clone"){C(ne.clone);return}var ge=this.context,Be=ge.index,ze=ge.element;this.spliceList(Be,1);var st={element:ze,oldIndex:Be};this.emitChanges({removed:st})},onDragUpdate:function(ne){C(ne.item),B(ne.from,ne.item,ne.oldIndex);var ge=this.context.index,Be=this.getVmIndexFromDomIndex(ne.newIndex);this.updatePosition(ge,Be);var ze={element:this.context.element,oldIndex:ge,newIndex:Be};this.emitChanges({moved:ze})},computeFutureIndex:function(ne,ge){if(!ne.element)return 0;var Be=_(ge.to.children).filter(function(Ot){return Ot.style.display!=="none"}),ze=Be.indexOf(ge.related),st=ne.component.getVmIndexFromDomIndex(ze),Pe=Be.indexOf(yt)!==-1;return Pe||!ge.willInsertAfter?st:st+1},onDragMove:function(ne,ge){var Be=this.move,ze=this.realList;if(!Be||!ze)return!0;var st=this.getRelatedContextFromMoveEvent(ne),Pe=this.computeFutureIndex(st,ne),Ot=f(f({},this.context),{},{futureIndex:Pe}),Zt=f(f({},ne),{},{relatedContext:st,draggedContext:Ot});return Be(Zt,ge)},onDragEnd:function(){yt=null}}}),je=rt;a.default=je},fb6a:function(i,a,o){var s=o("23e7"),u=o("861d"),l=o("e8b5"),c=o("23cb"),h=o("50c4"),f=o("fc6a"),d=o("8418"),v=o("b622"),g=o("1dde"),p=o("ae40"),y=g("slice"),m=p("slice",{ACCESSORS:!0,0:0,1:2}),w=v("species"),b=[].slice,x=Math.max;s({target:"Array",proto:!0,forced:!y||!m},{slice:function(S,P){var C=f(this),B=h(C.length),T=c(S,B),k=c(P===void 0?B:P,B),D,O,N;if(l(C)&&(D=C.constructor,typeof D=="function"&&(D===Array||l(D.prototype))?D=void 0:u(D)&&(D=D[w],D===null&&(D=void 0)),D===Array||D===void 0))return b.call(C,T,k);for(O=new(D===void 0?Array:D)(x(k-T,0)),N=0;T<k;T++,N++)T in C&&d(O,N,C[T]);return O.length=N,O}})},fc6a:function(i,a,o){var s=o("44ad"),u=o("1d80");i.exports=function(l){return s(u(l))}},fdbc:function(i,a){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,a,o){var s=o("4930");i.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(g3);var ZK=g3.exports;const P3=dl(ZK);var QK="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",JK="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",eq="M19,3H16.3H7.7H5A2,2 0 0,0 3,5V7.7V16.4V19A2,2 0 0,0 5,21H7.7H16.4H19A2,2 0 0,0 21,19V16.3V7.7V5A2,2 0 0,0 19,3M15.6,17L12,13.4L8.4,17L7,15.6L10.6,12L7,8.4L8.4,7L12,10.6L15.6,7L17,8.4L13.4,12L17,15.6L15.6,17Z",tq="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",nq="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",rq="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",iq="M12 17.5C8.2 17.5 4.8 15.4 3.2 12H1C2.7 16.4 7 19.5 12 19.5S21.3 16.4 23 12H20.8C19.2 15.4 15.8 17.5 12 17.5Z",O3="M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z",aq="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",oq="M15 3H5A2 2 0 0 0 3 5V19A2 2 0 0 0 5 21H19A2 2 0 0 0 21 19V9L15 3M19 19H5V5H14V10H19M17 14H7V12H17M14 17H7V15H14",sq="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z";const uq=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const tr=Ye({tag:{type:String,default:"div"}},"tag"),lq=Ye({fluid:{type:Boolean,default:!1},...qt(),...tr()},"VContainer"),I3=_t()({name:"VContainer",props:lq(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=yo();return $t(()=>G(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},n)),{}}}),M3=(()=>im.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),D3=(()=>im.reduce((e,t)=>{const n="offset"+Wh(t);return e[n]={type:[String,Number],default:null},e},{}))(),F3=(()=>im.reduce((e,t)=>{const n="order"+Wh(t);return e[n]={type:[String,Number],default:null},e},{}))(),GE={col:Object.keys(M3),offset:Object.keys(D3),order:Object.keys(F3)};function cq(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const i=t.replace(e,"");r+=`-${i}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const fq=["auto","start","end","center","baseline","stretch"],hq=Ye({cols:{type:[Boolean,String,Number],default:!1},...M3,offset:{type:[String,Number],default:null},...D3,order:{type:[String,Number],default:null},...F3,alignSelf:{type:String,default:null,validator:e=>fq.includes(e)},...qt(),...tr()},"VCol"),As=_t()({name:"VCol",props:hq(),setup(e,t){let{slots:n}=t;const r=ae(()=>{const i=[];let a;for(a in GE)GE[a].forEach(s=>{const u=e[s],l=cq(a,s,u);l&&i.push(l)});const o=i.some(s=>s.startsWith("v-col-"));return i.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return il(e.tag,{class:[r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),Hx=["start","end","center"],B3=["space-between","space-around","space-evenly"];function Gx(e,t){return im.reduce((n,r)=>{const i=e+Wh(r);return n[i]=t(),n},{})}const dq=[...Hx,"baseline","stretch"],k3=e=>dq.includes(e),R3=Gx("align",()=>({type:String,default:null,validator:k3})),vq=[...Hx,...B3],L3=e=>vq.includes(e),N3=Gx("justify",()=>({type:String,default:null,validator:L3})),pq=[...Hx,...B3,"stretch"],U3=e=>pq.includes(e),$3=Gx("alignContent",()=>({type:String,default:null,validator:U3})),YE={align:Object.keys(R3),justify:Object.keys(N3),alignContent:Object.keys($3)},gq={align:"align",justify:"justify",alignContent:"align-content"};function mq(e,t,n){let r=gq[e];if(n!=null){if(t){const i=t.replace(e,"");r+=`-${i}`}return r+=`-${n}`,r.toLowerCase()}}const yq=Ye({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:k3},...R3,justify:{type:String,default:null,validator:L3},...N3,alignContent:{type:String,default:null,validator:U3},...$3,...qt(),...tr()},"VRow"),Bh=_t()({name:"VRow",props:yq(),setup(e,t){let{slots:n}=t;const r=ae(()=>{const i=[];let a;for(a in YE)YE[a].forEach(o=>{const s=e[o],u=mq(a,o,s);u&&i.push(u)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return il(e.tag,{class:["v-row",r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),bq=Wc("v-spacer","div","VSpacer");function Yx(e){return gw(()=>{const t=[],n={};if(e.value.background)if(u_(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&vL(e.value.background)){const r=pL(e.value.background);if(r.a==null||r.a===1){const i=gL(r);n.color=i,n.caretColor=i}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(u_(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function ho(e,t){const n=ae(()=>({text:zu(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:i}=Yx(n);return{textColorClasses:r,textColorStyles:i}}function vo(e,t){const n=ae(()=>({background:zu(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:i}=Yx(n);return{backgroundColorClasses:r,backgroundColorStyles:i}}const wq=["x-small","small","default","large","x-large"],fd=Ye({size:{type:[String,Number],default:"default"}},"size");function hd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();return gw(()=>{let n,r;return Pp(wq,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:Ft(e.size),height:Ft(e.size)}),{sizeClasses:n,sizeStyles:r}})}const xq=Ye({color:String,start:Boolean,end:Boolean,icon:bn,...qt(),...fd(),...tr({tag:"i"}),...cr()},"VIcon"),Sn=_t()({name:"VIcon",props:xq(),setup(e,t){let{attrs:n,slots:r}=t;const i=ot(),{themeClasses:a}=Br(e),{iconData:o}=mL(ae(()=>i.value||e.icon)),{sizeClasses:s}=hd(e),{textColorClasses:u,textColorStyles:l}=ho(Pt(e,"color"));return $t(()=>{var h,f;const c=(h=r.default)==null?void 0:h.call(r);return c&&(i.value=(f=yL(c).filter(d=>d.type===mT&&d.children&&typeof d.children=="string")[0])==null?void 0:f.children),G(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",a.value,s.value,u.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:Ft(e.size),height:Ft(e.size),width:Ft(e.size)},l.value,e.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[c]})}),{}}});const _q=Ye({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Wi(e,t,n){return _t()({name:e,props:_q({mode:n,origin:t}),setup(r,i){let{slots:a}=i;const o={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:u,offsetLeft:l,offsetWidth:c,offsetHeight:h}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${u}px`,s.style.left=`${l}px`,s.style.width=`${c}px`,s.style.height=`${h}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:u,top:l,left:c,width:h,height:f}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=u||"",s.style.top=l||"",s.style.left=c||"",s.style.width=h||"",s.style.height=f||""}}};return()=>{const s=r.group?yT:Ko;return il(s,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},a.default)}}})}function V3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return _t()({name:e,props:{mode:{type:String,default:n},disabled:Boolean},setup(r,i){let{slots:a}=i;return()=>il(Ko,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},a.default)}})}function z3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=hw(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const s=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const u=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=u})},onAfterEnter:a,onEnterCancelled:a,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(o){e&&o._parent&&o._parent.classList.remove(e),a(o)}function a(o){const s=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[n]=s),delete o._initialStyle}}const Sq=Ye({target:[Object,Array]},"v-dialog-transition"),j3=_t()({name:"VDialogTransition",props:Sq(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,a){var f;await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>requestAnimationFrame(d)),i.style.visibility="";const{x:o,y:s,sx:u,sy:l,speed:c}=WE(e.target,i),h=ic(i,[{transform:`translate(${o}px, ${s}px) scale(${u}, ${l})`,opacity:0},{}],{duration:225*c,easing:RL});(f=XE(i))==null||f.forEach(d=>{ic(d,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:Mp})}),h.finished.then(()=>a())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,a){var f;await new Promise(d=>requestAnimationFrame(d));const{x:o,y:s,sx:u,sy:l,speed:c}=WE(e.target,i);ic(i,[{},{transform:`translate(${o}px, ${s}px) scale(${u}, ${l})`,opacity:0}],{duration:125*c,easing:LL}).finished.then(()=>a()),(f=XE(i))==null||f.forEach(d=>{ic(d,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:Mp})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>e.target?G(Ko,Rt({name:"dialog-transition"},r,{css:!1}),n):G(Ko,{name:"dialog-transition"},n)}});function XE(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function WE(e,t){const n=MT(e),r=yw(t),[i,a]=getComputedStyle(t).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=n.left+n.width/2;o==="left"||s==="left"?u-=n.width/2:(o==="right"||s==="right")&&(u+=n.width/2);let l=n.top+n.height/2;o==="top"||s==="top"?l-=n.height/2:(o==="bottom"||s==="bottom")&&(l+=n.height/2);const c=n.width/r.width,h=n.height/r.height,f=Math.max(1,c,h),d=c/f||0,v=h/f||0,g=r.width*r.height/(window.innerWidth*window.innerHeight),p=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:u-(i+r.left),y:l-(a+r.top),sx:d,sy:v,speed:p}}Wi("fab-transition","center center","out-in");Wi("dialog-bottom-transition");Wi("dialog-top-transition");const KE=Wi("fade-transition");Wi("scale-transition");Wi("scroll-x-transition");Wi("scroll-x-reverse-transition");Wi("scroll-y-transition");Wi("scroll-y-reverse-transition");Wi("slide-x-transition");Wi("slide-x-reverse-transition");const H3=Wi("slide-y-transition");Wi("slide-y-reverse-transition");const Ig=V3("expand-transition",z3()),G3=V3("expand-x-transition",z3("",!0)),Eq=Ye({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),ir=_t(!1)({name:"VDefaultsProvider",props:Eq(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:i,reset:a,root:o,scoped:s}=ST(e);return Hs(r,{reset:a,root:o,scoped:s,disabled:i}),()=>{var u;return(u=n.default)==null?void 0:u.call(n)}}}),db=Symbol.for("vuetify:list");function Y3(){const e=wr(db,{hasPrepend:dt(!1),updateHasPrepend:()=>null}),t={hasPrepend:dt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Yi(db,t),e}function X3(){return wr(db,null)}const Aq={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){const a=new Set;a.add(t);let o=i.get(t);for(;o!=null;)a.add(o),o=i.get(o);return a}else return r.delete(t),r},select:()=>null},W3={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){let a=i.get(t);for(r.add(t);a!=null&&a!==t;)r.add(a),a=i.get(a);return r}else r.delete(t);return r},select:()=>null},Cq={open:W3.open,select:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(!n)return r;const a=[];let o=i.get(t);for(;o!=null;)a.push(o),o=i.get(o);return new Set(a)}},Xx=e=>{const t={select:n=>{let{id:r,value:i,selected:a}=n;if(r=go(r),e&&!i){const o=Array.from(a.entries()).reduce((s,u)=>{let[l,c]=u;return c==="on"?[...s,l]:s},[]);if(o.length===1&&o[0]===r)return a}return a.set(r,i?"on":"off"),a},in:(n,r,i)=>{let a=new Map;for(const o of n||[])a=t.select({id:o,value:!0,selected:new Map(a),children:r,parents:i});return a},out:n=>{const r=[];for(const[i,a]of n.entries())a==="on"&&r.push(i);return r}};return t},K3=e=>{const t=Xx(e);return{select:r=>{let{selected:i,id:a,...o}=r;a=go(a);const s=i.has(a)?new Map([[a,i.get(a)]]):new Map;return t.select({...o,id:a,selected:s})},in:(r,i,a)=>{let o=new Map;return r!=null&&r.length&&(o=t.in(r.slice(0,1),i,a)),o},out:(r,i,a)=>t.out(r,i,a)}},Tq=e=>{const t=Xx(e);return{select:r=>{let{id:i,selected:a,children:o,...s}=r;return i=go(i),o.has(i)?a:t.select({id:i,selected:a,children:o,...s})},in:t.in,out:t.out}},Pq=e=>{const t=K3(e);return{select:r=>{let{id:i,selected:a,children:o,...s}=r;return i=go(i),o.has(i)?a:t.select({id:i,selected:a,children:o,...s})},in:t.in,out:t.out}},Oq=e=>{const t={select:n=>{let{id:r,value:i,selected:a,children:o,parents:s}=n;r=go(r);const u=new Map(a),l=[r];for(;l.length;){const h=l.shift();a.set(h,i?"on":"off"),o.has(h)&&l.push(...o.get(h))}let c=s.get(r);for(;c;){const h=o.get(c),f=h.every(v=>a.get(v)==="on"),d=h.every(v=>!a.has(v)||a.get(v)==="off");a.set(c,f?"on":d?"off":"indeterminate"),c=s.get(c)}return e&&!i&&Array.from(a.entries()).reduce((f,d)=>{let[v,g]=d;return g==="on"?[...f,v]:f},[]).length===0?u:a},in:(n,r,i)=>{let a=new Map;for(const o of n||[])a=t.select({id:o,value:!0,selected:new Map(a),children:r,parents:i});return a},out:(n,r)=>{const i=[];for(const[a,o]of n.entries())o==="on"&&!r.has(a)&&i.push(a);return i}};return t},kh=Symbol.for("vuetify:nested"),q3={id:dt(),root:{register:()=>null,unregister:()=>null,parents:ot(new Map),children:ot(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:ot(new Set),selected:ot(new Map),selectedValues:ot([])}},Iq=Ye({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Mq=e=>{let t=!1;const n=ot(new Map),r=ot(new Map),i=er(e,"opened",e.opened,h=>new Set(h),h=>[...h.values()]),a=ae(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return Pq(e.mandatory);case"leaf":return Tq(e.mandatory);case"independent":return Xx(e.mandatory);case"single-independent":return K3(e.mandatory);case"classic":default:return Oq(e.mandatory)}}),o=ae(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Cq;case"single":return Aq;case"multiple":default:return W3}}),s=er(e,"selected",e.selected,h=>a.value.in(h,n.value,r.value),h=>a.value.out(h,n.value,r.value));Oi(()=>{t=!0});function u(h){const f=[];let d=h;for(;d!=null;)f.unshift(d),d=r.value.get(d);return f}const l=Xi("nested"),c={id:dt(),root:{opened:i,selected:s,selectedValues:ae(()=>{const h=[];for(const[f,d]of s.value.entries())d==="on"&&h.push(f);return h}),register:(h,f,d)=>{f&&h!==f&&r.value.set(h,f),d&&n.value.set(h,[]),f!=null&&n.value.set(f,[...n.value.get(f)||[],h])},unregister:h=>{if(t)return;n.value.delete(h);const f=r.value.get(h);if(f){const d=n.value.get(f)??[];n.value.set(f,d.filter(v=>v!==h))}r.value.delete(h),i.value.delete(h)},open:(h,f,d)=>{l.emit("click:open",{id:h,value:f,path:u(h),event:d});const v=o.value.open({id:h,value:f,opened:new Set(i.value),children:n.value,parents:r.value,event:d});v&&(i.value=v)},openOnSelect:(h,f,d)=>{const v=o.value.select({id:h,value:f,selected:new Map(s.value),opened:new Set(i.value),children:n.value,parents:r.value,event:d});v&&(i.value=v)},select:(h,f,d)=>{l.emit("click:select",{id:h,value:f,path:u(h),event:d});const v=a.value.select({id:h,value:f,selected:new Map(s.value),children:n.value,parents:r.value,event:d});v&&(s.value=v),c.root.openOnSelect(h,f,d)},children:n,parents:r}};return Yi(kh,c),c.root},Z3=(e,t)=>{const n=wr(kh,q3),r=Symbol(mo()),i=ae(()=>e.value!==void 0?e.value:r),a={...n,id:i,open:(o,s)=>n.root.open(i.value,o,s),openOnSelect:(o,s)=>n.root.openOnSelect(i.value,o,s),isOpen:ae(()=>n.root.opened.value.has(i.value)),parent:ae(()=>n.root.parents.value.get(i.value)),select:(o,s)=>n.root.select(i.value,o,s),isSelected:ae(()=>n.root.selected.value.get(go(i.value))==="on"),isIndeterminate:ae(()=>n.root.selected.value.get(i.value)==="indeterminate"),isLeaf:ae(()=>!n.root.children.value.get(i.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(i.value,n.id.value,t),Oi(()=>{!n.isGroupActivator&&n.root.unregister(i.value)}),t&&Yi(kh,a),a},Dq=()=>{const e=wr(kh,q3);Yi(kh,{...e,isGroupActivator:!0})};function Zm(){const e=dt(!1);return pa(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:ae(()=>e.value?void 0:{transition:"none !important"}),isBooted:rm(e)}}const Jc=Ye({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Os=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:i,...a}=e,{component:o=Ko,...s}=typeof r=="object"?r:{};return il(o,Rt(typeof r=="string"?{name:i?"":r}:s,a,{disabled:i}),n)},Fq=bL({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return Dq(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),Bq=Ye({activeColor:String,baseColor:String,color:String,collapseIcon:{type:bn,default:"$collapse"},expandIcon:{type:bn,default:"$expand"},prependIcon:bn,appendIcon:bn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...qt(),...tr()},"VListGroup"),vb=_t()({name:"VListGroup",props:Bq(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:i,id:a}=Z3(Pt(e,"value"),!0),o=ae(()=>`v-list-group--id-${String(a.value)}`),s=X3(),{isBooted:u}=Zm();function l(d){i(!r.value,d)}const c=ae(()=>({onClick:l,class:"v-list-group__header",id:o.value})),h=ae(()=>r.value?e.collapseIcon:e.expandIcon),f=ae(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&h.value,appendIcon:e.appendIcon||!e.subgroup&&h.value,title:e.title,value:e.value}}));return $t(()=>G(e.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&G(ir,{defaults:f.value},{default:()=>[G(Fq,null,{default:()=>[n.activator({props:c.value,isOpen:r.value})]})]}),G(Os,{transition:{component:Ig},disabled:!u.value},{default:()=>{var d;return[si(G("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(d=n.default)==null?void 0:d.call(n)]),[[js,r.value]])]}})]})),{}}});const kq=Wc("v-list-item-subtitle"),Mg=Wc("v-list-item-title");const vl=Ye({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function pl(e){return{dimensionStyles:ae(()=>({height:Ft(e.height),maxHeight:Ft(e.maxHeight),maxWidth:Ft(e.maxWidth),minHeight:Ft(e.minHeight),minWidth:Ft(e.minWidth),width:Ft(e.width)}))}}function Rq(e){return{aspectStyles:ae(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const Q3=Ye({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...qt(),...vl()},"VResponsive"),qE=_t()({name:"VResponsive",props:Q3(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=Rq(e),{dimensionStyles:i}=pl(e);return $t(()=>{var a;return G("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[i.value,e.style]},[G("div",{class:"v-responsive__sizer",style:r.value},null),(a=n.additional)==null?void 0:a.call(n),n.default&&G("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}}),ma=Ye({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function ya(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();return{roundedClasses:ae(()=>{const r=zu(e)?e.value:e.rounded,i=zu(e)?e.value:e.tile,a=[];if(r===!0||r==="")a.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const o of String(r).split(" "))a.push(`rounded-${o}`);else i&&a.push("rounded-0");return a})}}function Lq(e,t){if(!mw)return;const n=t.modifiers||{},r=t.value,{handler:i,options:a}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var h;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const l=(h=e._observe)==null?void 0:h[t.instance.$.uid];if(!l)return;const c=s.some(f=>f.isIntersecting);i&&(!n.quiet||l.init)&&(!n.once||c||l.init)&&i(c,s,u),c&&n.once?J3(e,t):l.init=!0},a);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function J3(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Nq={mounted:Lq,unmounted:J3},eD=Nq,Uq=Ye({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Q3(),...qt(),...ma(),...Jc()},"VImg"),Wx=_t()({name:"VImg",directives:{intersect:eD},props:Uq(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:i,backgroundColorStyles:a}=vo(Pt(e,"color")),{roundedClasses:o}=ya(e),s=Xi("VImg"),u=dt(""),l=ot(),c=dt(e.eager?"loading":"idle"),h=dt(),f=dt(),d=ae(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),v=ae(()=>d.value.aspect||h.value/f.value||0);Et(()=>e.src,()=>{g(c.value!=="idle")}),Et(v,(k,D)=>{!k&&D&&l.value&&b(l.value)}),nm(()=>g());function g(k){if(!(e.eager&&k)&&!(mw&&!k&&!e.eager)){if(c.value="loading",d.value.lazySrc){const D=new Image;D.src=d.value.lazySrc,b(D,null)}d.value.src&&xr(()=>{var D;n("loadstart",((D=l.value)==null?void 0:D.currentSrc)||d.value.src),setTimeout(()=>{var O;if(!s.isUnmounted)if((O=l.value)!=null&&O.complete){if(l.value.naturalWidth||y(),c.value==="error")return;v.value||b(l.value,null),c.value==="loading"&&p()}else v.value||b(l.value),m()})})}}function p(){var k;s.isUnmounted||(m(),b(l.value),c.value="loaded",n("load",((k=l.value)==null?void 0:k.currentSrc)||d.value.src))}function y(){var k;s.isUnmounted||(c.value="error",n("error",((k=l.value)==null?void 0:k.currentSrc)||d.value.src))}function m(){const k=l.value;k&&(u.value=k.currentSrc||k.src)}let w=-1;Oi(()=>{clearTimeout(w)});function b(k){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const O=()=>{if(clearTimeout(w),s.isUnmounted)return;const{naturalHeight:N,naturalWidth:R}=k;N||R?(h.value=R,f.value=N):!k.complete&&c.value==="loading"&&D!=null?w=window.setTimeout(O,D):(k.currentSrc.endsWith(".svg")||k.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,f.value=1)};O()}const x=ae(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),_=()=>{var O;if(!d.value.src||c.value==="idle")return null;const k=G("img",{class:["v-img__img",x.value],style:{objectPosition:e.position},src:d.value.src,srcset:d.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:l,onLoad:p,onError:y},null),D=(O=r.sources)==null?void 0:O.call(r);return G(Os,{transition:e.transition,appear:!0},{default:()=>[si(D?G("picture",{class:"v-img__picture"},[D,k]):k,[[js,c.value==="loaded"]])]})},S=()=>G(Os,{transition:e.transition},{default:()=>[d.value.lazySrc&&c.value!=="loaded"&&G("img",{class:["v-img__img","v-img__img--preload",x.value],style:{objectPosition:e.position},src:d.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),P=()=>r.placeholder?G(Os,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&G("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,C=()=>r.error?G(Os,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&G("div",{class:"v-img__error"},[r.error()])]}):null,B=()=>e.gradient?G("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=dt(!1);{const k=Et(v,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),k())})}return $t(()=>{const k=qE.filterProps(e);return si(G(qE,Rt({class:["v-img",{"v-img--booting":!T.value},i.value,o.value,e.class],style:[{width:Ft(e.width==="auto"?h.value:e.width)},a.value,e.style]},k,{aspectRatio:v.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>G(pn,null,[G(_,null,null),G(S,null,null),G(B,null,null),G(P,null,null),G(C,null,null)]),default:r.default}),[[is("intersect"),{handler:g,options:e.options},null,{once:!0}]])}),{currentSrc:u,image:l,state:c,naturalWidth:h,naturalHeight:f}}}),$q=[null,"default","comfortable","compact"],xo=Ye({density:{type:String,default:"default",validator:e=>$q.includes(e)}},"density");function us(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();return{densityClasses:ae(()=>`${t}--density-${e.density}`)}}const Vq=["elevated","flat","tonal","outlined","text","plain"];function dd(e,t){return G(pn,null,[e&&G("span",{key:"overlay",class:`${t}__overlay`},null),G("span",{key:"underlay",class:`${t}__underlay`},null)])}const Ks=Ye({color:String,variant:{type:String,default:"elevated",validator:e=>Vq.includes(e)}},"variant");function vd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();const n=ae(()=>{const{variant:a}=tt(e);return`${t}--variant-${a}`}),{colorClasses:r,colorStyles:i}=Yx(ae(()=>{const{variant:a,color:o}=tt(e);return{[["elevated","flat"].includes(a)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:i,variantClasses:n}}const zq=Ye({start:Boolean,end:Boolean,icon:bn,image:String,text:String,...qt(),...xo(),...ma(),...fd(),...tr(),...cr(),...Ks({variant:"flat"})},"VAvatar"),Vs=_t()({name:"VAvatar",props:zq(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{colorClasses:i,colorStyles:a,variantClasses:o}=vd(e),{densityClasses:s}=us(e),{roundedClasses:u}=ya(e),{sizeClasses:l,sizeStyles:c}=hd(e);return $t(()=>G(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,i.value,s.value,u.value,l.value,o.value,e.class],style:[a.value,c.value,e.style]},{default:()=>[n.default?G(ir,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?G(Wx,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?G(Sn,{key:"icon",icon:e.icon},null):e.text,dd(!1,"v-avatar")]})),{}}}),qs=Ye({border:[Boolean,Number,String]},"border");function Zs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();return{borderClasses:ae(()=>{const r=zu(e)?e.value:e.border,i=[];if(r===!0||r==="")i.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const a of String(r).split(" "))i.push(`border-${a}`);return i})}}const Qs=Ye({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Js(e){return{elevationClasses:ae(()=>{const n=zu(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}function jq(){const e=Xi("useRoute");return ae(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function tD(){var e,t;return(t=(e=Xi("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Qm(e,t){const n=_T("RouterLink"),r=ae(()=>!!(e.href||e.to)),i=ae(()=>(r==null?void 0:r.value)||l_(t,"click")||l_(e,"click"));if(typeof n=="string")return{isLink:r,isClickable:i,href:Pt(e,"href")};const a=e.to?n.useLink(e):void 0,o=jq();return{isLink:r,isClickable:i,route:a==null?void 0:a.route,navigate:a==null?void 0:a.navigate,isActive:a&&ae(()=>{var s,u,l;return e.exact?o.value?((l=a.isExactActive)==null?void 0:l.value)&&Kh(a.route.value.query,o.value.query):(u=a.isExactActive)==null?void 0:u.value:(s=a.isActive)==null?void 0:s.value}),href:ae(()=>e.to?a==null?void 0:a.route.value.href:e.href)}}const Jm=Ye({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let gy=!1;function Hq(e,t){let n=!1,r,i;Gi&&(xr(()=>{window.addEventListener("popstate",a),r=e==null?void 0:e.beforeEach((o,s,u)=>{gy?n?t(u):u():setTimeout(()=>n?t(u):u()),gy=!0}),i=e==null?void 0:e.afterEach(()=>{gy=!1})}),Ii(()=>{window.removeEventListener("popstate",a),r==null||r(),i==null||i()}));function a(o){var s;(s=o.state)!=null&&s.replaced||(n=!0,setTimeout(()=>n=!1))}}const pb=Symbol("rippleStop"),Gq=80;function ZE(e,t){e.style.transform=t,e.style.webkitTransform=t}function gb(e){return e.constructor.name==="TouchEvent"}function nD(e){return e.constructor.name==="KeyboardEvent"}const Yq=function(e,t){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;if(!nD(e)){const f=t.getBoundingClientRect(),d=gb(e)?e.touches[e.touches.length-1]:e;r=d.clientX-f.left,i=d.clientY-f.top}let a=0,o=.3;(h=t._ripple)!=null&&h.circle?(o=.15,a=t.clientWidth/2,a=n.center?a:a+Math.sqrt((r-a)**2+(i-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-a*2)/2}px`,u=`${(t.clientHeight-a*2)/2}px`,l=n.center?s:`${r-a}px`,c=n.center?u:`${i-a}px`;return{radius:a,scale:o,x:l,y:c,centerX:s,centerY:u}},Dg={show(e,t){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((d=t==null?void 0:t._ripple)!=null&&d.enabled))return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:a,scale:o,x:s,y:u,centerX:l,centerY:c}=Yq(e,t,n),h=`${a*2}px`;i.className="v-ripple__animation",i.style.width=h,i.style.height=h,t.appendChild(r);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),ZE(i,`translate(${s}, ${u}) scale3d(${o},${o},${o})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),ZE(i,`translate(${l}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var a;if(!((a=e==null?void 0:e._ripple)!=null&&a.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=n.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(n.parentNode)},300)},i)}};function rD(e){return typeof e>"u"||!!e}function Rh(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[pb])){if(e[pb]=!0,gb(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||nD(e),n._ripple.class&&(t.class=n._ripple.class),gb(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Dg.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Gq)}else Dg.show(e,n,t)}}function QE(e){e[pb]=!0}function Vi(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Vi(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Dg.hide(t)}}function iD(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Lh=!1;function aD(e){!Lh&&(e.keyCode===c_.enter||e.keyCode===c_.space)&&(Lh=!0,Rh(e))}function oD(e){Lh=!1,Vi(e)}function sD(e){Lh&&(Lh=!1,Vi(e))}function uD(e,t,n){const{value:r,modifiers:i}=t,a=rD(r);if(a||Dg.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=a,e._ripple.centered=i.center,e._ripple.circle=i.circle,wL(r)&&r.class&&(e._ripple.class=r.class),a&&!n){if(i.stop){e.addEventListener("touchstart",QE,{passive:!0}),e.addEventListener("mousedown",QE);return}e.addEventListener("touchstart",Rh,{passive:!0}),e.addEventListener("touchend",Vi,{passive:!0}),e.addEventListener("touchmove",iD,{passive:!0}),e.addEventListener("touchcancel",Vi),e.addEventListener("mousedown",Rh),e.addEventListener("mouseup",Vi),e.addEventListener("mouseleave",Vi),e.addEventListener("keydown",aD),e.addEventListener("keyup",oD),e.addEventListener("blur",sD),e.addEventListener("dragstart",Vi,{passive:!0})}else!a&&n&&lD(e)}function lD(e){e.removeEventListener("mousedown",Rh),e.removeEventListener("touchstart",Rh),e.removeEventListener("touchend",Vi),e.removeEventListener("touchmove",iD),e.removeEventListener("touchcancel",Vi),e.removeEventListener("mouseup",Vi),e.removeEventListener("mouseleave",Vi),e.removeEventListener("keydown",aD),e.removeEventListener("keyup",oD),e.removeEventListener("dragstart",Vi),e.removeEventListener("blur",sD)}function Xq(e,t){uD(e,t,!1)}function Wq(e){delete e._ripple,lD(e)}function Kq(e,t){if(t.value===t.oldValue)return;const n=rD(t.oldValue);uD(e,t,n)}const pd={mounted:Xq,unmounted:Wq,updated:Kq},qq=Ye({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:bn,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:bn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Ba(),onClickOnce:Ba(),...qs(),...qt(),...xo(),...vl(),...Qs(),...ma(),...Jm(),...tr(),...cr(),...Ks({variant:"text"})},"VListItem"),Ua=_t()({name:"VListItem",directives:{Ripple:pd},props:qq(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const a=Qm(e,n),o=ae(()=>e.value===void 0?a.href.value:e.value),{select:s,isSelected:u,isIndeterminate:l,isGroupActivator:c,root:h,parent:f,openOnSelect:d}=Z3(o,!1),v=X3(),g=ae(()=>{var V;return e.active!==!1&&(e.active||((V=a.isActive)==null?void 0:V.value)||u.value)}),p=ae(()=>e.link!==!1&&a.isLink.value),y=ae(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||e.value!=null&&!!v)),m=ae(()=>e.rounded||e.nav),w=ae(()=>e.color??e.activeColor),b=ae(()=>({color:g.value?w.value??e.baseColor:e.baseColor,variant:e.variant}));Et(()=>{var V;return(V=a.isActive)==null?void 0:V.value},V=>{V&&f.value!=null&&h.open(f.value,!0),V&&d(V)},{immediate:!0});const{themeClasses:x}=Br(e),{borderClasses:_}=Zs(e),{colorClasses:S,colorStyles:P,variantClasses:C}=vd(b),{densityClasses:B}=us(e),{dimensionStyles:T}=pl(e),{elevationClasses:k}=Js(e),{roundedClasses:D}=ya(m),O=ae(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),N=ae(()=>({isActive:g.value,select:s,isSelected:u.value,isIndeterminate:l.value}));function R(V){var z;i("click",V),!(c||!y.value)&&((z=a.navigate)==null||z.call(a,V),e.value!=null&&s(!u.value,V))}function U(V){(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),R(V))}return $t(()=>{const V=p.value?"a":e.tag,z=r.title||e.title!=null,j=r.subtitle||e.subtitle!=null,X=!!(e.appendAvatar||e.appendIcon),Q=!!(X||r.append),te=!!(e.prependAvatar||e.prependIcon),he=!!(te||r.prepend);return v==null||v.updateHasPrepend(he),e.activeColor&&xL("active-color",["color","base-color"]),si(G(V,{class:["v-list-item",{"v-list-item--active":g.value,"v-list-item--disabled":e.disabled,"v-list-item--link":y.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!he&&(v==null?void 0:v.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&g.value},x.value,_.value,S.value,B.value,k.value,O.value,D.value,C.value,e.class],style:[P.value,T.value,e.style],href:a.href.value,tabindex:y.value?v?-2:0:void 0,onClick:R,onKeydown:y.value&&!p.value&&U},{default:()=>{var fe;return[dd(y.value||g.value,"v-list-item"),he&&G("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?G(ir,{key:"prepend-defaults",disabled:!te,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ce;return[(ce=r.prepend)==null?void 0:ce.call(r,N.value)]}}):G(pn,null,[e.prependAvatar&&G(Vs,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&G(Sn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),G("div",{class:"v-list-item__spacer"},null)]),G("div",{class:"v-list-item__content","data-no-activator":""},[z&&G(Mg,{key:"title"},{default:()=>{var ce;return[((ce=r.title)==null?void 0:ce.call(r,{title:e.title}))??e.title]}}),j&&G(kq,{key:"subtitle"},{default:()=>{var ce;return[((ce=r.subtitle)==null?void 0:ce.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(fe=r.default)==null?void 0:fe.call(r,N.value)]),Q&&G("div",{key:"append",class:"v-list-item__append"},[r.append?G(ir,{key:"append-defaults",disabled:!X,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ce;return[(ce=r.append)==null?void 0:ce.call(r,N.value)]}}):G(pn,null,[e.appendIcon&&G(Sn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&G(Vs,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),G("div",{class:"v-list-item__spacer"},null)])]}}),[[is("ripple"),y.value&&e.ripple]])}),{}}}),Zq=Ye({color:String,inset:Boolean,sticky:Boolean,title:String,...qt(),...tr()},"VListSubheader"),Qq=_t()({name:"VListSubheader",props:Zq(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:i}=ho(Pt(e,"color"));return $t(()=>{const a=!!(n.default||e.title);return G(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:i},e.style]},{default:()=>{var o;return[a&&G("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}});const Jq=Ye({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...qt(),...cr()},"VDivider"),cD=_t()({name:"VDivider",props:Jq(),setup(e,t){let{attrs:n}=t;const{themeClasses:r}=Br(e),{textColorClasses:i,textColorStyles:a}=ho(Pt(e,"color")),o=ae(()=>{const s={};return e.length&&(s[e.vertical?"maxHeight":"maxWidth"]=Ft(e.length)),e.thickness&&(s[e.vertical?"borderRightWidth":"borderTopWidth"]=Ft(e.thickness)),s});return $t(()=>G("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,i.value,e.class],style:[o.value,a.value,e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),eZ=Ye({items:Array,returnObject:Boolean},"VListChildren"),fD=_t()({name:"VListChildren",props:eZ(),setup(e,t){let{slots:n}=t;return Y3(),()=>{var r,i;return((r=n.default)==null?void 0:r.call(n))??((i=e.items)==null?void 0:i.map(a=>{var f,d;let{children:o,props:s,type:u,raw:l}=a;if(u==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:s}))??G(cD,s,null);if(u==="subheader")return((d=n.subheader)==null?void 0:d.call(n,{props:s}))??G(Qq,s,null);const c={subtitle:n.subtitle?v=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...v,item:l})}:void 0,prepend:n.prepend?v=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...v,item:l})}:void 0,append:n.append?v=>{var g;return(g=n.append)==null?void 0:g.call(n,{...v,item:l})}:void 0,title:n.title?v=>{var g;return(g=n.title)==null?void 0:g.call(n,{...v,item:l})}:void 0},h=vb.filterProps(s);return o?G(vb,Rt({value:s==null?void 0:s.value},h),{activator:v=>{let{props:g}=v;const p={...s,...g,value:e.returnObject?l:s.value};return n.header?n.header({props:p}):G(Ua,p,c)},default:()=>G(fD,{items:o},n)}):n.item?n.item({props:s}):G(Ua,Rt(s,{value:e.returnObject?l:s.value}),c)}))}}}),hD=Ye({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Kh}},"list-items");function Ou(e,t){const n=Qa(t,e.itemTitle,t),r=Qa(t,e.itemValue,n),i=Qa(t,e.itemChildren),a=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?al(t,["children"]):t:void 0:Qa(t,e.itemProps),o={title:n,value:r,...a};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(i)?dD(e,i):void 0,raw:t}}function dD(e,t){const n=[];for(const r of t)n.push(Ou(e,r));return n}function vD(e){const t=ae(()=>dD(e,e.items)),n=ae(()=>t.value.some(a=>a.value===null));function r(a){return n.value||(a=a.filter(o=>o!==null)),a.map(o=>e.returnObject&&typeof o=="string"?Ou(e,o):t.value.find(s=>e.valueComparator(o,s.value))||Ou(e,o))}function i(a){return e.returnObject?a.map(o=>{let{raw:s}=o;return s}):a.map(o=>{let{value:s}=o;return s})}return{items:t,transformIn:r,transformOut:i}}function tZ(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function nZ(e,t){const n=Qa(t,e.itemType,"item"),r=tZ(t)?t:Qa(t,e.itemTitle),i=Qa(t,e.itemValue,void 0),a=Qa(t,e.itemChildren),o=e.itemProps===!0?al(t,["children"]):Qa(t,e.itemProps),s={title:r,value:i,...o};return{type:n,title:s.title,value:s.value,props:s,children:n==="item"&&a?pD(e,a):void 0,raw:t}}function pD(e,t){const n=[];for(const r of t)n.push(nZ(e,r));return n}function rZ(e){return{items:ae(()=>pD(e,e.items))}}const iZ=Ye({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...Iq({selectStrategy:"single-leaf",openStrategy:"list"}),...qs(),...qt(),...xo(),...vl(),...Qs(),itemType:{type:String,default:"type"},...hD(),...ma(),...tr(),...cr(),...Ks({variant:"text"})},"VList"),e0=_t()({name:"VList",props:iZ(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=rZ(e),{themeClasses:i}=Br(e),{backgroundColorClasses:a,backgroundColorStyles:o}=vo(Pt(e,"bgColor")),{borderClasses:s}=Zs(e),{densityClasses:u}=us(e),{dimensionStyles:l}=pl(e),{elevationClasses:c}=Js(e),{roundedClasses:h}=ya(e),{open:f,select:d}=Mq(e),v=ae(()=>e.lines?`v-list--${e.lines}-line`:void 0),g=Pt(e,"activeColor"),p=Pt(e,"baseColor"),y=Pt(e,"color");Y3(),Hs({VListGroup:{activeColor:g,baseColor:p,color:y,expandIcon:Pt(e,"expandIcon"),collapseIcon:Pt(e,"collapseIcon")},VListItem:{activeClass:Pt(e,"activeClass"),activeColor:g,baseColor:p,color:y,density:Pt(e,"density"),disabled:Pt(e,"disabled"),lines:Pt(e,"lines"),nav:Pt(e,"nav"),slim:Pt(e,"slim"),variant:Pt(e,"variant")}});const m=dt(!1),w=ot();function b(B){m.value=!0}function x(B){m.value=!1}function _(B){var T;!m.value&&!(B.relatedTarget&&((T=w.value)!=null&&T.contains(B.relatedTarget)))&&C()}function S(B){if(w.value){if(B.key==="ArrowDown")C("next");else if(B.key==="ArrowUp")C("prev");else if(B.key==="Home")C("first");else if(B.key==="End")C("last");else return;B.preventDefault()}}function P(B){m.value=!0}function C(B){if(w.value)return u1(w.value,B)}return $t(()=>G(e.tag,{ref:w,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},i.value,a.value,s.value,u.value,c.value,v.value,h.value,e.class],style:[o.value,l.value,e.style],tabindex:e.disabled||m.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:b,onFocusout:x,onFocus:_,onKeydown:S,onMousedown:P},{default:()=>[G(fD,{items:r.value,returnObject:e.returnObject},n)]})),{open:f,select:d,focus:C}}}),aZ={name:"node-list",props:["nodes","color","keywords","keywordSearchPattern"],components:{draggable:P3},data:()=>({d3:fK,highlightText:p3,removeExtraNewlines:ap,mdiChevronRight:JK,mdiChevronDown:QK,mdiFile:O3,mdiFolder:aq,dragging:!1}),computed:{nodesList(){return kp(this.nodes,e=>e.data==null?e.id:+e.data.name.replace(".txt",""))}},methods:{getNodeColor(e){return this.color(this.getNodeName(e))},getNodeName(e){return e.id.split("/").at(-1)},getDirectoryNumFilesMessage(e){return e.height>1?`(${e.children.filter(t=>t.height==0).length} / ${e.leaves().length})`:`(${e.children.length})`},getDirectoryBorder(e){return e.depth>1?"1px solid #ccc":"none"},mouseenterNode(e,t){this.dragging||gn(".tooltip").style("display","block").style("opacity",1).html(this.getTooltipHTML(t.data.text))},mousemoveNode(e,t){this.dragging||this.positionTooltip(e.x,e.y)},mouseleaveNode(e,t){this.dragging||gn(".tooltip").style("display","none").style("opacity",0).html("")},mousedownNode(){this.dragging=!0,gn(".tooltip").style("display","none").style("opacity",0).html("")},dragstartNode(){this.dragging=!0,gn(".tooltip").style("display","none").style("opacity",0).html("")},dragendNode(){this.dragging=!1},positionTooltip(e,t){const i=gn(".tooltip"),a=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),o=i.node().getBoundingClientRect().width+2,s=i.node().getBoundingClientRect().height+2;let u=window.scrollX+e- -24;u>=a-o&&(u=e-o+-24);let l=window.scrollY+t-s-12;l<=0&&(l=0),i.style("left",`${u}px`).style("top",`${l}px`)},getTooltipHTML(e){const t=this.removeExtraNewlines(e);return this.highlightText(t,this.keywords,this.keywordSearchPattern)}}},oZ={class:"d-flex align-center"},sZ={class:"pl-1"},uZ={class:"px-1 directory-numfiles-message"};function lZ(e,t,n,r,i,a){const o=s1("node-list"),s=s1("draggable");return mn(),Mr(e0,{density:"compact",class:"file-list-container"},{default:vt(()=>[(mn(!0),sa(pn,null,mh(a.nodesList,(u,l)=>(mn(),sa(pn,null,[u.children&&u.children.length?(mn(),Mr(vb,{key:0},{activator:vt(({isOpen:c,props:h})=>[G(Ua,Rt(h,{variant:c?"tonal":"flat",style:{paddingInline:"0px !important",borderLeft:a.getDirectoryBorder(u)}}),{prepend:vt(()=>[G(Sn,{size:"small",density:"compact",icon:c?e.mdiChevronDown:e.mdiChevronRight},null,8,["icon"])]),append:vt(()=>[Wr("span",uZ,Li(a.getDirectoryNumFilesMessage(u)),1)]),default:vt(()=>[Wr("div",oZ,[G(Sn,{size:"small",density:"compact",icon:e.mdiFolder,style:vw({color:a.getNodeColor(u)})},null,8,["icon","style"]),Wr("span",sZ,Li(a.getNodeName(u)),1)])]),_:2},1040,["variant","style"])]),default:vt(()=>[G(o,{class:"py-0",nodes:e.d3.sort(u.children,c=>-c.height),color:n.color,keywords:n.keywords,keywordSearchPattern:n.keywordSearchPattern,style:{"margin-left":"6px"}},null,8,["nodes","color","keywords","keywordSearchPattern"])]),_:2},1024)):(mn(),Mr(s,{key:1,class:"dragArea list-group",list:[{name:u.data.name,id:u.data.id}],group:{name:"people",pull:"clone",put:!1},"item-key":"name"},{item:vt(({element:c})=>[G(Ua,{title:c.name,class:"file-item",style:{"padding-inline":"0px !important","border-left":"1px solid #ccc",height:"16px"},onClick:t[0]||(t[0]=()=>{}),onMouseenter:h=>a.mouseenterNode(h,u),onMousemove:h=>a.mousemoveNode(h,u),onMouseleave:h=>a.mouseleaveNode(h,u),onMousedown:a.mousedownNode,onDragstart:a.dragstartNode,onDragend:a.dragendNode},{prepend:vt(()=>[G(bq,{class:"file-spacer"}),G(Sn,{size:"small",density:"compact",icon:e.mdiFile},null,8,["icon"])]),_:2},1032,["title","onMouseenter","onMousemove","onMouseleave","onMousedown","onDragstart","onDragend"])]),_:2},1032,["list"]))],64))),256))]),_:1})}const cZ=uq(aZ,[["render",lZ]]);const fZ=Ye({text:String,onClick:Ba(),...qt(),...cr()},"VLabel"),gD=_t()({name:"VLabel",props:fZ(),setup(e,t){let{slots:n}=t;return $t(()=>{var r;return G("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}});const mD=Symbol.for("vuetify:selection-control-group"),yD=Ye({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:bn,trueIcon:bn,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Kh},...qt(),...xo(),...cr()},"SelectionControlGroup"),hZ=Ye({...yD({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");_t()({name:"VSelectionControlGroup",props:hZ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=er(e,"modelValue"),i=mo(),a=ae(()=>e.id||`v-selection-control-group-${i}`),o=ae(()=>e.name||a.value),s=new Set;return Yi(mD,{modelValue:r,forceUpdate:()=>{s.forEach(u=>u())},onForceUpdate:u=>{s.add(u),Ii(()=>{s.delete(u)})}}),Hs({[e.defaultsTarget]:{color:Pt(e,"color"),disabled:Pt(e,"disabled"),density:Pt(e,"density"),error:Pt(e,"error"),inline:Pt(e,"inline"),modelValue:r,multiple:ae(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:o,falseIcon:Pt(e,"falseIcon"),trueIcon:Pt(e,"trueIcon"),readonly:Pt(e,"readonly"),ripple:Pt(e,"ripple"),type:Pt(e,"type"),valueComparator:Pt(e,"valueComparator")}}),$t(()=>{var u;return G("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(u=n.default)==null?void 0:u.call(n)])}),{}}});const bD=Ye({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...qt(),...yD()},"VSelectionControl");function dZ(e){const t=wr(mD,void 0),{densityClasses:n}=us(e),r=er(e,"modelValue"),i=ae(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),a=ae(()=>e.falseValue!==void 0?e.falseValue:!1),o=ae(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),s=ae({get(){const d=t?t.modelValue.value:r.value;return o.value?fa(d).some(v=>e.valueComparator(v,i.value)):e.valueComparator(d,i.value)},set(d){if(e.readonly)return;const v=d?i.value:a.value;let g=v;o.value&&(g=d?[...fa(r.value),v]:fa(r.value).filter(p=>!e.valueComparator(p,i.value))),t?t.modelValue.value=g:r.value=g}}),{textColorClasses:u,textColorStyles:l}=ho(ae(()=>{if(!(e.error||e.disabled))return s.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:h}=vo(ae(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),f=ae(()=>s.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:i,falseValue:a,model:s,textColorClasses:u,textColorStyles:l,backgroundColorClasses:c,backgroundColorStyles:h,icon:f}}const JE=_t()({name:"VSelectionControl",directives:{Ripple:pd},inheritAttrs:!1,props:bD(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:i,densityClasses:a,icon:o,model:s,textColorClasses:u,textColorStyles:l,backgroundColorClasses:c,backgroundColorStyles:h,trueValue:f}=dZ(e),d=mo(),v=dt(!1),g=dt(!1),p=ot(),y=ae(()=>e.id||`input-${d}`),m=ae(()=>!e.disabled&&!e.readonly);i==null||i.onForceUpdate(()=>{p.value&&(p.value.checked=s.value)});function w(S){m.value&&(v.value=!0,Ip(S.target,":focus-visible")!==!1&&(g.value=!0))}function b(){v.value=!1,g.value=!1}function x(S){S.stopPropagation()}function _(S){m.value&&(e.readonly&&i&&xr(()=>i.forceUpdate()),s.value=S.target.checked)}return $t(()=>{var T,k;const S=r.label?r.label({label:e.label,props:{for:y.value}}):e.label,[P,C]=TT(n),B=G("input",Rt({ref:p,checked:s.value,disabled:!!e.disabled,id:y.value,onBlur:b,onFocus:w,onInput:_,"aria-disabled":!!e.disabled,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},C),null);return G("div",Rt({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":v.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":e.inline},a.value,e.class]},P,{style:e.style}),[G("div",{class:["v-selection-control__wrapper",u.value],style:l.value},[(T=r.default)==null?void 0:T.call(r,{backgroundColorClasses:c,backgroundColorStyles:h}),si(G("div",{class:["v-selection-control__input"]},[((k=r.input)==null?void 0:k.call(r,{model:s,textColorClasses:u,textColorStyles:l,backgroundColorClasses:c,backgroundColorStyles:h,inputNode:B,icon:o.value,props:{onFocus:w,onBlur:b,id:y.value}}))??G(pn,null,[o.value&&G(Sn,{key:"icon",icon:o.value},null),B])]),[[is("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),S&&G(gD,{for:y.value,onClick:x},{default:()=>[S]})])}),{isFocused:v,input:p}}}),vZ=Ye({indeterminate:Boolean,indeterminateIcon:{type:bn,default:"$checkboxIndeterminate"},...bD({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),wD=_t()({name:"VCheckboxBtn",props:vZ(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=er(e,"indeterminate"),i=er(e,"modelValue");function a(u){r.value&&(r.value=!1)}const o=ae(()=>r.value?e.indeterminateIcon:e.falseIcon),s=ae(()=>r.value?e.indeterminateIcon:e.trueIcon);return $t(()=>{const u=al(JE.filterProps(e),["modelValue"]);return G(JE,Rt(u,{modelValue:i.value,"onUpdate:modelValue":[l=>i.value=l,a],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:s.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}});function xD(e){const{t}=am();function n(r){let{name:i}=r;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],o=e[`onClick:${i}`],s=o&&a?t(`$vuetify.input.${a}`,e.label??""):void 0;return G(Sn,{icon:e[`${i}Icon`],"aria-label":s,onClick:o},null)}return{InputIcon:n}}const pZ=Ye({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...qt(),...Jc({transition:{component:H3,leaveAbsolute:!0,group:!0}})},"VMessages"),gZ=_t()({name:"VMessages",props:pZ(),setup(e,t){let{slots:n}=t;const r=ae(()=>fa(e.messages)),{textColorClasses:i,textColorStyles:a}=ho(ae(()=>e.color));return $t(()=>G(Os,{transition:e.transition,tag:"div",class:["v-messages",i.value,e.class],style:[a.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((o,s)=>G("div",{class:"v-messages__message",key:`${s}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),_D=Ye({focused:Boolean,"onUpdate:focused":Ba()},"focus");function SD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();const n=er(e,"focused"),r=ae(()=>({[`${t}--focused`]:n.value}));function i(){n.value=!0}function a(){n.value=!1}return{focusClasses:r,isFocused:n,focus:i,blur:a}}const mZ=Symbol.for("vuetify:form");function Kx(){return wr(mZ,null)}const yZ=Ye({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,..._D()},"validation");function bZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mo();const r=er(e,"modelValue"),i=ae(()=>e.validationValue===void 0?r.value:e.validationValue),a=Kx(),o=ot([]),s=dt(!0),u=ae(()=>!!(fa(r.value===""?null:r.value).length||fa(i.value===""?null:i.value).length)),l=ae(()=>!!(e.disabled??(a==null?void 0:a.isDisabled.value))),c=ae(()=>!!(e.readonly??(a==null?void 0:a.isReadonly.value))),h=ae(()=>{var b;return(b=e.errorMessages)!=null&&b.length?fa(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),f=ae(()=>{let b=(e.validateOn??(a==null?void 0:a.validateOn.value))||"input";b==="lazy"&&(b="input lazy");const x=new Set((b==null?void 0:b.split(" "))??[]);return{blur:x.has("blur")||x.has("input"),input:x.has("input"),submit:x.has("submit"),lazy:x.has("lazy")}}),d=ae(()=>{var b;return e.error||(b=e.errorMessages)!=null&&b.length?!1:e.rules.length?s.value?o.value.length||f.value.lazy?null:!0:!o.value.length:!0}),v=dt(!1),g=ae(()=>({[`${t}--error`]:d.value===!1,[`${t}--dirty`]:u.value,[`${t}--disabled`]:l.value,[`${t}--readonly`]:c.value})),p=ae(()=>e.name??tt(n));nm(()=>{a==null||a.register({id:p.value,validate:w,reset:y,resetValidation:m})}),Oi(()=>{a==null||a.unregister(p.value)}),pa(async()=>{f.value.lazy||await w(!0),a==null||a.update(p.value,d.value,h.value)}),io(()=>f.value.input,()=>{Et(i,()=>{if(i.value!=null)w();else if(e.focused){const b=Et(()=>e.focused,x=>{x||w(),b()})}})}),io(()=>f.value.blur,()=>{Et(()=>e.focused,b=>{b||w()})}),Et([d,h],()=>{a==null||a.update(p.value,d.value,h.value)});function y(){r.value=null,xr(m)}function m(){s.value=!0,f.value.lazy?o.value=[]:w(!0)}async function w(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=[];v.value=!0;for(const _ of e.rules){if(x.length>=+(e.maxErrors??1))break;const P=await(typeof _=="function"?_:()=>_)(i.value);if(P!==!0){if(P!==!1&&typeof P!="string"){console.warn(`${P} is not a valid value. Rule functions must return boolean true or a string.`);continue}x.push(P||"")}}return o.value=x,v.value=!1,s.value=b,o.value}return{errorMessages:h,isDirty:u,isDisabled:l,isReadonly:c,isPristine:s,isValid:d,isValidating:v,reset:y,resetValidation:m,validate:w,validationClasses:g}}const ED=Ye({id:String,appendIcon:bn,centerAffix:{type:Boolean,default:!0},prependIcon:bn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Ba(),"onClick:append":Ba(),...qt(),...xo(),...yZ()},"VInput"),eA=_t()({name:"VInput",props:{...ED()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const{densityClasses:a}=us(e),{rtlClasses:o}=yo(),{InputIcon:s}=xD(e),u=mo(),l=ae(()=>e.id||`input-${u}`),c=ae(()=>`${l.value}-messages`),{errorMessages:h,isDirty:f,isDisabled:d,isReadonly:v,isPristine:g,isValid:p,isValidating:y,reset:m,resetValidation:w,validate:b,validationClasses:x}=bZ(e,"v-input",l),_=ae(()=>({id:l,messagesId:c,isDirty:f,isDisabled:d,isReadonly:v,isPristine:g,isValid:p,isValidating:y,reset:m,resetValidation:w,validate:b})),S=ae(()=>{var P;return(P=e.errorMessages)!=null&&P.length||!g.value&&h.value.length?h.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return $t(()=>{var k,D,O,N;const P=!!(r.prepend||e.prependIcon),C=!!(r.append||e.appendIcon),B=S.value.length>0,T=!e.hideDetails||e.hideDetails==="auto"&&(B||!!r.details);return G("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,o.value,x.value,e.class],style:e.style},[P&&G("div",{key:"prepend",class:"v-input__prepend"},[(k=r.prepend)==null?void 0:k.call(r,_.value),e.prependIcon&&G(s,{key:"prepend-icon",name:"prepend"},null)]),r.default&&G("div",{class:"v-input__control"},[(D=r.default)==null?void 0:D.call(r,_.value)]),C&&G("div",{key:"append",class:"v-input__append"},[e.appendIcon&&G(s,{key:"append-icon",name:"append"},null),(O=r.append)==null?void 0:O.call(r,_.value)]),T&&G("div",{class:"v-input__details"},[G(gZ,{id:c.value,active:B,messages:S.value},{message:r.message}),(N=r.details)==null?void 0:N.call(r,_.value)])])}),{reset:m,resetValidation:w,validate:b,isValid:p,errorMessages:h}}});const qx=Ye({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),AD=Ye({value:null,disabled:Boolean,selectedClass:String},"group-item");function CD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Xi("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=mo();Yi(Symbol.for(`${t.description}:id`),i);const a=wr(t,null);if(!a){if(!n)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=Pt(e,"value"),s=ae(()=>!!(a.disabled.value||e.disabled));a.register({id:i,value:o,disabled:s},r),Oi(()=>{a.unregister(i)});const u=ae(()=>a.isSelected(i)),l=ae(()=>u.value&&[a.selectedClass.value,e.selectedClass]);return Et(u,c=>{r.emit("group:selected",{value:c})},{flush:"sync"}),{id:i,isSelected:u,toggle:()=>a.select(i,!u.value),select:c=>a.select(i,c),selectedClass:l,value:o,disabled:s,group:a}}function Zx(e,t){let n=!1;const r=Lo([]),i=er(e,"modelValue",[],f=>f==null?[]:TD(r,fa(f)),f=>{const d=xZ(r,f);return e.multiple?d:d[0]}),a=Xi("useGroup");function o(f,d){const v=f,g=Symbol.for(`${t.description}:id`),y=CT(g,a==null?void 0:a.vnode).indexOf(d);tt(v.value)==null&&(v.value=y),y>-1?r.splice(y,0,v):r.push(v)}function s(f){if(n)return;u();const d=r.findIndex(v=>v.id===f);r.splice(d,1)}function u(){const f=r.find(d=>!d.disabled);f&&e.mandatory==="force"&&!i.value.length&&(i.value=[f.id])}pa(()=>{u()}),Oi(()=>{n=!0});function l(f,d){const v=r.find(g=>g.id===f);if(!(d&&(v!=null&&v.disabled)))if(e.multiple){const g=i.value.slice(),p=g.findIndex(m=>m===f),y=~p;if(d=d??!y,y&&e.mandatory&&g.length<=1||!y&&e.max!=null&&g.length+1>e.max)return;p<0&&d?g.push(f):p>=0&&!d&&g.splice(p,1),i.value=g}else{const g=i.value.includes(f);if(e.mandatory&&g)return;i.value=d??!g?[f]:[]}}function c(f){if(e.multiple,i.value.length){const d=i.value[0],v=r.findIndex(y=>y.id===d);let g=(v+f)%r.length,p=r[g];for(;p.disabled&&g!==v;)g=(g+f)%r.length,p=r[g];if(p.disabled)return;i.value=[r[g].id]}else{const d=r.find(v=>!v.disabled);d&&(i.value=[d.id])}}const h={register:o,unregister:s,selected:i,select:l,disabled:Pt(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:f=>i.value.includes(f),selectedClass:ae(()=>e.selectedClass),items:ae(()=>r),getItemIndex:f=>wZ(r,f)};return Yi(t,h),h}function wZ(e,t){const n=TD(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function TD(e,t){const n=[];return t.forEach(r=>{const i=e.find(o=>Kh(r,o.value)),a=e[r];(i==null?void 0:i.value)!=null?n.push(i.id):a!=null&&n.push(a.id)}),n}function xZ(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(a=>a.id===r);if(~i){const a=e[i];n.push(a.value!=null?a.value:i)}}),n}function tA(e){const n=Math.abs(e);return Math.sign(e)*(n/((1/.501-2)*(1-n)+1))}function nA(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:i,currentScrollOffset:a,isHorizontal:o}=e;const s=o?t.clientWidth:t.clientHeight,u=o?t.offsetLeft:t.offsetTop,l=i&&o?r-u-s:u,c=n+a,h=s+l,f=s*.4;return l<=a?a=Math.max(l-f,0):c<=h&&(a=Math.min(a-(c-h-f),r-n)),a}function _Z(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:i,isHorizontal:a}=e;const o=a?t.clientWidth:t.clientHeight,s=a?t.offsetLeft:t.offsetTop,u=i&&a?r-s-o/2-n/2:s+o/2-n/2;return Math.min(r-n,Math.max(0,u))}const SZ=Symbol.for("vuetify:v-slide-group"),PD=Ye({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:SZ},nextIcon:{type:bn,default:"$next"},prevIcon:{type:bn,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...qt(),...PT(),...tr(),...qx({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),rA=_t()({name:"VSlideGroup",props:PD(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=yo(),{displayClasses:i,mobile:a}=om(e),o=Zx(e,e.symbol),s=dt(!1),u=dt(0),l=dt(0),c=dt(0),h=ae(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:d}=xc(),{resizeRef:v,contentRect:g}=xc(),p=ae(()=>o.selected.value.length?o.items.value.findIndex(X=>X.id===o.selected.value[0]):-1),y=ae(()=>o.selected.value.length?o.items.value.findIndex(X=>X.id===o.selected.value[o.selected.value.length-1]):-1);if(Gi){let X=-1;Et(()=>[o.selected.value,d.value,g.value,h.value],()=>{cancelAnimationFrame(X),X=requestAnimationFrame(()=>{if(d.value&&g.value){const Q=h.value?"width":"height";l.value=d.value[Q],c.value=g.value[Q],s.value=l.value+1<c.value}if(p.value>=0&&v.value){const Q=v.value.children[y.value];p.value===0||!s.value?u.value=0:e.centerActive?u.value=_Z({selectedElement:Q,containerSize:l.value,contentSize:c.value,isRtl:r.value,isHorizontal:h.value}):s.value&&(u.value=nA({selectedElement:Q,containerSize:l.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:u.value,isHorizontal:h.value}))}})})}const m=dt(!1);let w=0,b=0;function x(X){const Q=h.value?"clientX":"clientY";b=(r.value&&h.value?-1:1)*u.value,w=X.touches[0][Q],m.value=!0}function _(X){if(!s.value)return;const Q=h.value?"clientX":"clientY",te=r.value&&h.value?-1:1;u.value=te*(b+w-X.touches[0][Q])}function S(X){const Q=c.value-l.value;u.value<0||!s.value?u.value=0:u.value>=Q&&(u.value=Q),m.value=!1}function P(){f.value&&(f.value[h.value?"scrollLeft":"scrollTop"]=0)}const C=dt(!1);function B(X){if(C.value=!0,!(!s.value||!v.value)){for(const Q of X.composedPath())for(const te of v.value.children)if(te===Q){u.value=nA({selectedElement:te,containerSize:l.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:u.value,isHorizontal:h.value});return}}}function T(X){C.value=!1}function k(X){var Q;!C.value&&!(X.relatedTarget&&((Q=v.value)!=null&&Q.contains(X.relatedTarget)))&&O()}function D(X){v.value&&(h.value?X.key==="ArrowRight"?O(r.value?"prev":"next"):X.key==="ArrowLeft"&&O(r.value?"next":"prev"):X.key==="ArrowDown"?O("next"):X.key==="ArrowUp"&&O("prev"),X.key==="Home"?O("first"):X.key==="End"&&O("last"))}function O(X){var Q,te,he,fe,ce;if(v.value)if(!X)(Q=l1(v.value)[0])==null||Q.focus();else if(X==="next"){const ee=(te=v.value.querySelector(":focus"))==null?void 0:te.nextElementSibling;ee?ee.focus():O("first")}else if(X==="prev"){const ee=(he=v.value.querySelector(":focus"))==null?void 0:he.previousElementSibling;ee?ee.focus():O("last")}else X==="first"?(fe=v.value.firstElementChild)==null||fe.focus():X==="last"&&((ce=v.value.lastElementChild)==null||ce.focus())}function N(X){const Q=u.value+(X==="prev"?-1:1)*l.value;u.value=Du(Q,0,c.value-l.value)}const R=ae(()=>{let X=u.value>c.value-l.value?-(c.value-l.value)+tA(c.value-l.value-u.value):-u.value;u.value<=0&&(X=tA(-u.value));const Q=r.value&&h.value?-1:1;return{transform:`translate${h.value?"X":"Y"}(${Q*X}px)`,transition:m.value?"none":"",willChange:m.value?"transform":""}}),U=ae(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),V=ae(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return s.value||Math.abs(u.value)>0;case"mobile":return a.value||s.value||Math.abs(u.value)>0;default:return!a.value&&(s.value||Math.abs(u.value)>0)}}),z=ae(()=>Math.abs(u.value)>0),j=ae(()=>c.value>Math.abs(u.value)+l.value);return $t(()=>G(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!h.value,"v-slide-group--has-affixes":V.value,"v-slide-group--is-overflowing":s.value},i.value,e.class],style:e.style,tabindex:C.value||o.selected.value.length?-1:0,onFocus:k},{default:()=>{var X,Q,te;return[V.value&&G("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!z.value}],onClick:()=>z.value&&N("prev")},[((X=n.prev)==null?void 0:X.call(n,U.value))??G(KE,null,{default:()=>[G(Sn,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),G("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:P},[G("div",{ref:v,class:"v-slide-group__content",style:R.value,onTouchstartPassive:x,onTouchmovePassive:_,onTouchendPassive:S,onFocusin:B,onFocusout:T,onKeydown:D},[(Q=n.default)==null?void 0:Q.call(n,U.value)])]),V.value&&G("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!j.value}],onClick:()=>j.value&&N("next")},[((te=n.next)==null?void 0:te.call(n,U.value))??G(KE,null,{default:()=>[G(Sn,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:N,scrollOffset:u,focus:O}}}),OD=Symbol.for("vuetify:v-chip-group"),EZ=Ye({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Kh},...PD(),...qt(),...qx({selectedClass:"v-chip--selected"}),...tr(),...cr(),...Ks({variant:"tonal"})},"VChipGroup");_t()({name:"VChipGroup",props:EZ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{isSelected:i,select:a,next:o,prev:s,selected:u}=Zx(e,OD);return Hs({VChip:{color:Pt(e,"color"),disabled:Pt(e,"disabled"),filter:Pt(e,"filter"),variant:Pt(e,"variant")}}),$t(()=>{const l=rA.filterProps(e);return G(rA,Rt(l,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,select:a,next:o,prev:s,selected:u.value})]}})}),{}}});const AZ=Ye({activeClass:String,appendAvatar:String,appendIcon:bn,closable:Boolean,closeIcon:{type:bn,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:bn,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ba(),onClickOnce:Ba(),...qs(),...qt(),...xo(),...Qs(),...AD(),...ma(),...Jm(),...fd(),...tr({tag:"span"}),...cr(),...Ks({variant:"tonal"})},"VChip"),lh=_t()({name:"VChip",directives:{Ripple:pd},props:AZ(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{t:a}=am(),{borderClasses:o}=Zs(e),{colorClasses:s,colorStyles:u,variantClasses:l}=vd(e),{densityClasses:c}=us(e),{elevationClasses:h}=Js(e),{roundedClasses:f}=ya(e),{sizeClasses:d}=hd(e),{themeClasses:v}=Br(e),g=er(e,"modelValue"),p=CD(e,OD,!1),y=Qm(e,n),m=ae(()=>e.link!==!1&&y.isLink.value),w=ae(()=>!e.disabled&&e.link!==!1&&(!!p||e.link||y.isClickable.value)),b=ae(()=>({"aria-label":a(e.closeLabel),onClick(S){S.stopPropagation(),g.value=!1,r("click:close",S)}}));function x(S){var P;r("click",S),w.value&&((P=y.navigate)==null||P.call(y,S),p==null||p.toggle())}function _(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),x(S))}return()=>{const S=y.isLink.value?"a":e.tag,P=!!(e.appendIcon||e.appendAvatar),C=!!(P||i.append),B=!!(i.close||e.closable),T=!!(i.filter||e.filter)&&p,k=!!(e.prependIcon||e.prependAvatar),D=!!(k||i.prepend),O=!p||p.isSelected.value;return g.value&&si(G(S,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":w.value,"v-chip--filter":T,"v-chip--pill":e.pill},v.value,o.value,O?s.value:void 0,c.value,h.value,f.value,d.value,l.value,p==null?void 0:p.selectedClass.value,e.class],style:[O?u.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:y.href.value,tabindex:w.value?0:void 0,onClick:x,onKeydown:w.value&&!m.value&&_},{default:()=>{var N;return[dd(w.value,"v-chip"),T&&G(G3,{key:"filter"},{default:()=>[si(G("div",{class:"v-chip__filter"},[i.filter?G(ir,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},i.filter):G(Sn,{key:"filter-icon",icon:e.filterIcon},null)]),[[js,p.isSelected.value]])]}),D&&G("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?G(ir,{key:"prepend-defaults",disabled:!k,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},i.prepend):G(pn,null,[e.prependIcon&&G(Sn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&G(Vs,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),G("div",{class:"v-chip__content","data-no-activator":""},[((N=i.default)==null?void 0:N.call(i,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:e.disabled}))??e.text]),C&&G("div",{key:"append",class:"v-chip__append"},[i.append?G(ir,{key:"append-defaults",disabled:!P,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},i.append):G(pn,null,[e.appendIcon&&G(Sn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&G(Vs,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),B&&G("button",Rt({key:"close",class:"v-chip__close",type:"button"},b.value),[i.close?G(ir,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},i.close):G(Sn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[is("ripple"),w.value&&e.ripple,null]])}}});function my(e,t){return{x:e.x+t.x,y:e.y+t.y}}function CZ(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iA(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,i=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,a=n==="top"?0:n==="bottom"?t.height:n;return my({x:i,y:a},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,i=n==="left"?0:n==="right"?t.width:n,a=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return my({x:i,y:a},t)}return my({x:t.width/2,y:t.height/2},t)}const ID={static:OZ,connected:MZ},TZ=Ye({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in ID},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function PZ(e,t){const n=ot({}),r=ot();Gi&&io(()=>!!(t.isActive.value&&e.locationStrategy),a=>{var o,s;Et(()=>e.locationStrategy,a),Ii(()=>{window.removeEventListener("resize",i),r.value=void 0}),window.addEventListener("resize",i,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:r.value=(s=ID[e.locationStrategy](t,e,n))==null?void 0:s.updateLocation});function i(a){var o;(o=r.value)==null||o.call(r,a)}return{contentStyles:n,updateLocation:r}}function OZ(){}function IZ(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=yw(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function MZ(e,t,n){(Array.isArray(e.target.value)||UL(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:a}=gw(()=>{const v=c1(t.location,e.isRtl.value),g=t.origin==="overlap"?v:t.origin==="auto"?w0(v):c1(t.origin,e.isRtl.value);return v.side===g.side&&v.align===x0(g).align?{preferredAnchor:f_(v),preferredOrigin:f_(g)}:{preferredAnchor:v,preferredOrigin:g}}),[o,s,u,l]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>ae(()=>{const g=parseFloat(t[v]);return isNaN(g)?1/0:g})),c=ae(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let h=!1;const f=new ResizeObserver(()=>{h&&d()});Et([e.target,e.contentEl],(v,g)=>{let[p,y]=v,[m,w]=g;m&&!Array.isArray(m)&&f.unobserve(m),p&&!Array.isArray(p)&&f.observe(p),w&&f.unobserve(w),y&&f.observe(y)},{immediate:!0}),Ii(()=>{f.disconnect()});function d(){if(h=!1,requestAnimationFrame(()=>h=!0),!e.target.value||!e.contentEl.value)return;const v=MT(e.target.value),g=IZ(e.contentEl.value,e.isRtl.value),p=Dp(e.contentEl.value),y=12;p.length||(p.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const m=p.reduce((T,k)=>{const D=k.getBoundingClientRect(),O=new Fu({x:k===document.documentElement?0:D.x,y:k===document.documentElement?0:D.y,width:k.clientWidth,height:k.clientHeight});return T?new Fu({x:Math.max(T.left,O.left),y:Math.max(T.top,O.top),width:Math.min(T.right,O.right)-Math.max(T.left,O.left),height:Math.min(T.bottom,O.bottom)-Math.max(T.top,O.top)}):O},void 0);m.x+=y,m.y+=y,m.width-=y*2,m.height-=y*2;let w={anchor:i.value,origin:a.value};function b(T){const k=new Fu(g),D=iA(T.anchor,v),O=iA(T.origin,k);let{x:N,y:R}=CZ(D,O);switch(T.anchor.side){case"top":R-=c.value[0];break;case"bottom":R+=c.value[0];break;case"left":N-=c.value[0];break;case"right":N+=c.value[0];break}switch(T.anchor.align){case"top":R-=c.value[1];break;case"bottom":R+=c.value[1];break;case"left":N-=c.value[1];break;case"right":N+=c.value[1];break}return k.x+=N,k.y+=R,k.width=Math.min(k.width,u.value),k.height=Math.min(k.height,l.value),{overflows:d_(k,m),x:N,y:R}}let x=0,_=0;const S={x:0,y:0},P={x:!1,y:!1};let C=-1;for(;!(C++>10);){const{x:T,y:k,overflows:D}=b(w);x+=T,_+=k,g.x+=T,g.y+=k;{const O=h_(w.anchor),N=D.x.before||D.x.after,R=D.y.before||D.y.after;let U=!1;if(["x","y"].forEach(V=>{if(V==="x"&&N&&!P.x||V==="y"&&R&&!P.y){const z={anchor:{...w.anchor},origin:{...w.origin}},j=V==="x"?O==="y"?x0:w0:O==="y"?w0:x0;z.anchor=j(z.anchor),z.origin=j(z.origin);const{overflows:X}=b(z);(X[V].before<=D[V].before&&X[V].after<=D[V].after||X[V].before+X[V].after<(D[V].before+D[V].after)/2)&&(w=z,U=P[V]=!0)}}),U)continue}D.x.before&&(x+=D.x.before,g.x+=D.x.before),D.x.after&&(x-=D.x.after,g.x-=D.x.after),D.y.before&&(_+=D.y.before,g.y+=D.y.before),D.y.after&&(_-=D.y.after,g.y-=D.y.after);{const O=d_(g,m);S.x=m.width-O.x.before-O.x.after,S.y=m.height-O.y.before-O.y.after,x+=O.x.before,g.x+=O.x.before,_+=O.y.before,g.y+=O.y.before}break}const B=h_(w.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${w.anchor.side} ${w.anchor.align}`,transformOrigin:`${w.origin.side} ${w.origin.align}`,top:Ft(yy(_)),left:e.isRtl.value?void 0:Ft(yy(x)),right:e.isRtl.value?Ft(yy(-x)):void 0,minWidth:Ft(B==="y"?Math.min(o.value,v.width):o.value),maxWidth:Ft(aA(Du(S.x,o.value===1/0?0:o.value,u.value))),maxHeight:Ft(aA(Du(S.y,s.value===1/0?0:s.value,l.value)))}),{available:S,contentBox:g}}return Et(()=>[i.value,a.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>d()),xr(()=>{const v=d();if(!v)return;const{available:g,contentBox:p}=v;p.height>g.y&&requestAnimationFrame(()=>{d(),requestAnimationFrame(()=>{d()})})}),{updateLocation:d}}function yy(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function aA(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let mb=!0;const Fg=[];function DZ(e){!mb||Fg.length?(Fg.push(e),yb()):(mb=!1,e(),yb())}let oA=-1;function yb(){cancelAnimationFrame(oA),oA=requestAnimationFrame(()=>{const e=Fg.shift();e&&e(),Fg.length?yb():mb=!0})}const fp={none:null,close:kZ,block:RZ,reposition:LZ},FZ=Ye({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in fp}},"VOverlay-scroll-strategies");function BZ(e,t){if(!Gi)return;let n;qo(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=dw(),await xr(),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=fp[e.scrollStrategy])==null||r.call(fp,t,e,n)}))}),Ii(()=>{n==null||n.stop()})}function kZ(e){function t(n){e.isActive.value=!1}MD(e.targetEl.value??e.contentEl.value,t)}function RZ(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,r=[...new Set([...Dp(e.targetEl.value,t.contained?n:void 0),...Dp(e.contentEl.value,t.contained?n:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,a=(s=>bw(s)&&s)(n||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((s,u)=>{s.style.setProperty("--v-body-scroll-x",Ft(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",Ft(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",Ft(i)),s.classList.add("v-overlay-scroll-blocked")}),Ii(()=>{r.forEach((s,u)=>{const l=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y")),h=s.style.scrollBehavior;s.style.scrollBehavior="auto",s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-l,s.scrollTop=-c,s.style.scrollBehavior=h}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function LZ(e,t,n){let r=!1,i=-1,a=-1;function o(s){DZ(()=>{var c,h;const u=performance.now();(h=(c=e.updateLocation).value)==null||h.call(c,s),r=(performance.now()-u)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{n.run(()=>{MD(e.targetEl.value??e.contentEl.value,s=>{r?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{o(s)})})):o(s)})})}),Ii(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(i)})}function MD(e,t){const n=[document,...Dp(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Ii(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const bb=Symbol.for("vuetify:v-menu"),NZ=Ye({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function UZ(e,t){let n=()=>{};function r(o){n==null||n();const s=Number(o?e.openDelay:e.closeDelay);return new Promise(u=>{n=_L(s,()=>{t==null||t(o),u(o)})})}function i(){return r(!0)}function a(){return r(!1)}return{clearDelay:n,runOpenDelay:i,runCloseDelay:a}}const $Z=Ye({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...NZ()},"VOverlay-activator");function VZ(e,t){let{isActive:n,isTop:r}=t;const i=Xi("useActivator"),a=ot();let o=!1,s=!1,u=!0;const l=ae(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),c=ae(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!l.value),{runOpenDelay:h,runCloseDelay:f}=UZ(e,S=>{S===(e.openOnHover&&o||l.value&&s)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==S&&(u=!0),n.value=S)}),d=ot(),v={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(d.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var P;(P=S.sourceCapabilities)!=null&&P.firesTouchEvents||(o=!0,a.value=S.currentTarget||S.target,h())},onMouseleave:S=>{o=!1,f()},onFocus:S=>{Ip(S.target,":focus-visible")!==!1&&(s=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,h())},onBlur:S=>{s=!1,S.stopPropagation(),f()}},g=ae(()=>{const S={};return c.value&&(S.onClick=v.onClick),e.openOnHover&&(S.onMouseenter=v.onMouseenter,S.onMouseleave=v.onMouseleave),l.value&&(S.onFocus=v.onFocus,S.onBlur=v.onBlur),S}),p=ae(()=>{const S={};if(e.openOnHover&&(S.onMouseenter=()=>{o=!0,h()},S.onMouseleave=()=>{o=!1,f()}),l.value&&(S.onFocusin=()=>{s=!0,h()},S.onFocusout=()=>{s=!1,f()}),e.closeOnContentClick){const P=wr(bb,null);S.onClick=()=>{n.value=!1,P==null||P.closeParents()}}return S}),y=ae(()=>{const S={};return e.openOnHover&&(S.onMouseenter=()=>{u&&(o=!0,u=!1,h())},S.onMouseleave=()=>{o=!1,f()}),S});Et(r,S=>{S&&(e.openOnHover&&!o&&(!l.value||!s)||l.value&&!s&&(!e.openOnHover||!o))&&(n.value=!1)}),Et(n,S=>{S||setTimeout(()=>{d.value=void 0})},{flush:"post"});const m=ot();qo(()=>{m.value&&xr(()=>{a.value=Op(m.value)})});const w=ot(),b=ae(()=>e.target==="cursor"&&d.value?d.value:w.value?Op(w.value):DD(e.target,i)||a.value),x=ae(()=>Array.isArray(b.value)?void 0:b.value);let _;return Et(()=>!!e.activator,S=>{S&&Gi?(_=dw(),_.run(()=>{zZ(e,i,{activatorEl:a,activatorEvents:g})})):_&&_.stop()},{flush:"post",immediate:!0}),Ii(()=>{_==null||_.stop()}),{activatorEl:a,activatorRef:m,target:b,targetEl:x,targetRef:w,activatorEvents:g,contentEvents:p,scrimEvents:y}}function zZ(e,t,n){let{activatorEl:r,activatorEvents:i}=n;Et(()=>e.activator,(u,l)=>{if(l&&u!==l){const c=s(l);c&&o(c)}u&&xr(()=>a())},{immediate:!0}),Et(()=>e.activatorProps,()=>{a()}),Ii(()=>{o()});function a(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&BL(u,Rt(i.value,l))}function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&kL(u,Rt(i.value,l))}function s(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const l=DD(u,t);return r.value=(l==null?void 0:l.nodeType)===Node.ELEMENT_NODE?l:void 0,r.value}}function DD(e,t){var r,i;if(!e)return;let n;if(e==="parent"){let a=(i=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:i.parentNode;for(;a!=null&&a.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function jZ(){if(!Gi)return dt(!1);const{ssr:e}=om();if(e){const t=dt(!1);return pa(()=>{t.value=!0}),t}else return dt(!0)}const HZ=Ye({eager:Boolean},"lazy");function GZ(e,t){const n=dt(!1),r=ae(()=>n.value||e.eager||t.value);Et(t,()=>n.value=!0);function i(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:i}}function t0(){const t=Xi("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const sA=Symbol.for("vuetify:stack"),Of=Lo([]);function YZ(e,t,n){const r=Xi("useStack"),i=!n,a=wr(sA,void 0),o=Lo({activeChildren:new Set});Yi(sA,o);const s=dt(+t.value);io(e,()=>{var h;const c=(h=Of.at(-1))==null?void 0:h[1];s.value=c?c+10:+t.value,i&&Of.push([r.uid,s.value]),a==null||a.activeChildren.add(r.uid),Ii(()=>{if(i){const f=go(Of).findIndex(d=>d[0]===r.uid);Of.splice(f,1)}a==null||a.activeChildren.delete(r.uid)})});const u=dt(!0);i&&qo(()=>{var h;const c=((h=Of.at(-1))==null?void 0:h[0])===r.uid;setTimeout(()=>u.value=c)});const l=ae(()=>!o.activeChildren.size);return{globalTop:rm(u),localTop:l,stackStyles:ae(()=>({zIndex:s.value}))}}function XZ(e){return{teleportTarget:ae(()=>{const n=e.value;if(n===!0||!Gi)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let i=r.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",r.appendChild(i)),i})}}function WZ(){return!0}function FD(e,t,n){if(!e||BD(e,n)===!1)return!1;const r=DT(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(t),!i.some(a=>a==null?void 0:a.contains(e.target))}function BD(e,t){return(typeof t.value=="object"&&t.value.closeConditional||WZ)(e)}function KZ(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&FD(e,t,n)&&setTimeout(()=>{BD(e,n)&&r&&r(e)},0)}function uA(e,t){const n=DT(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const qZ={mounted(e,t){const n=i=>KZ(i,e,t),r=i=>{e._clickOutside.lastMousedownWasOutside=FD(i,e,t)};uA(e,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(uA(e,n=>{var a;if(!n||!((a=e._clickOutside)!=null&&a[t.instance.$.uid]))return;const{onClick:r,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function ZZ(e){const{modelValue:t,color:n,...r}=e;return G(Ko,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&G("div",Rt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const Qx=Ye({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...$Z(),...qt(),...vl(),...HZ(),...TZ(),...FZ(),...cr(),...Jc()},"VOverlay"),Bg=_t()({name:"VOverlay",directives:{ClickOutside:qZ},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Qx()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:i}=t;const a=er(e,"modelValue"),o=ae({get:()=>a.value,set:te=>{te&&e.disabled||(a.value=te)}}),{teleportTarget:s}=XZ(ae(()=>e.attach||e.contained)),{themeClasses:u}=Br(e),{rtlClasses:l,isRtl:c}=yo(),{hasContent:h,onAfterLeave:f}=GZ(e,o),d=vo(ae(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:g,stackStyles:p}=YZ(o,Pt(e,"zIndex"),e._disableGlobalStack),{activatorEl:y,activatorRef:m,target:w,targetEl:b,targetRef:x,activatorEvents:_,contentEvents:S,scrimEvents:P}=VZ(e,{isActive:o,isTop:g}),{dimensionStyles:C}=pl(e),B=jZ(),{scopeId:T}=t0();Et(()=>e.disabled,te=>{te&&(o.value=!1)});const k=ot(),D=ot(),{contentStyles:O,updateLocation:N}=PZ(e,{isRtl:c,contentEl:D,target:w,isActive:o});BZ(e,{root:k,contentEl:D,targetEl:b,isActive:o,updateLocation:N});function R(te){i("click:outside",te),e.persistent?X():o.value=!1}function U(){return o.value&&v.value}Gi&&Et(o,te=>{te?window.addEventListener("keydown",V):window.removeEventListener("keydown",V)},{immediate:!0}),Oi(()=>{Gi&&window.removeEventListener("keydown",V)});function V(te){var he,fe;te.key==="Escape"&&v.value&&(e.persistent?X():(o.value=!1,(he=D.value)!=null&&he.contains(document.activeElement)&&((fe=y.value)==null||fe.focus())))}const z=tD();io(()=>e.closeOnBack,()=>{Hq(z,te=>{v.value&&o.value?(te(!1),e.persistent?X():o.value=!1):te()})});const j=ot();Et(()=>o.value&&(e.absolute||e.contained)&&s.value==null,te=>{if(te){const he=FT(k.value);he&&he!==document.scrollingElement&&(j.value=he.scrollTop)}});function X(){e.noClickAnimation||D.value&&ic(D.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Mp})}function Q(){f(),i("afterLeave")}return $t(()=>{var te;return G(pn,null,[(te=n.activator)==null?void 0:te.call(n,{isActive:o.value,props:Rt({ref:m,targetRef:x},_.value,e.activatorProps)}),B.value&&h.value&&G(gT,{disabled:!s.value,to:s.value},{default:()=>[G("div",Rt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},u.value,l.value,e.class],style:[p.value,{"--v-overlay-opacity":e.opacity,top:Ft(j.value)},e.style],ref:k},T,r),[G(ZZ,Rt({color:d,modelValue:o.value&&!!e.scrim},P.value),null),G(Os,{appear:!0,persisted:!0,transition:e.transition,target:w.value,onAfterLeave:Q},{default:()=>{var he;return[si(G("div",Rt({ref:D,class:["v-overlay__content",e.contentClass],style:[C.value,O.value]},S.value,e.contentProps),[(he=n.default)==null?void 0:he.call(n,{isActive:o})]),[[js,o.value],[is("click-outside"),{handler:R,closeConditional:U,include:()=>[y.value]}]])]}})])]})])}),{activatorEl:y,target:w,animateClick:X,contentEl:D,globalTop:v,localTop:g,updateLocation:N}}}),by=Symbol("Forwarded refs");function wy(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function gd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[by]=n,new Proxy(e,{get(i,a){if(Reflect.has(i,a))return Reflect.get(i,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,a)){const s=Reflect.get(o.value,a);return typeof s=="function"?s.bind(o.value):s}}},has(i,a){if(Reflect.has(i,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,a))return!0;return!1},set(i,a,o){if(Reflect.has(i,a))return Reflect.set(i,a,o);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,a))return Reflect.set(s.value,a,o);return!1},getOwnPropertyDescriptor(i,a){var s;const o=Reflect.getOwnPropertyDescriptor(i,a);if(o)return o;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const u of n){if(!u.value)continue;const l=wy(u.value,a)??("_"in u.value?wy((s=u.value._)==null?void 0:s.setupState,a):void 0);if(l)return l}for(const u of n){const l=u.value&&u.value[by];if(!l)continue;const c=l.slice();for(;c.length;){const h=c.shift(),f=wy(h.value,a);if(f)return f;const d=h.value&&h.value[by];d&&c.push(...d)}}}}})}const QZ=Ye({id:String,...al(Qx({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:j3}}),["absolute"])},"VMenu"),Jx=_t()({name:"VMenu",props:QZ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=er(e,"modelValue"),{scopeId:i}=t0(),a=mo(),o=ae(()=>e.id||`v-menu-${a}`),s=ot(),u=wr(bb,null),l=dt(0);Yi(bb,{register(){++l.value},unregister(){--l.value},closeParents(g){setTimeout(()=>{!l.value&&(g==null||g&&!SL(g,s.value.contentEl))&&(r.value=!1,u==null||u.closeParents())},40)}});async function c(g){var m,w,b;const p=g.relatedTarget,y=g.target;await xr(),r.value&&p!==y&&((m=s.value)!=null&&m.contentEl)&&((w=s.value)!=null&&w.globalTop)&&![document,s.value.contentEl].includes(y)&&!s.value.contentEl.contains(y)&&((b=l1(s.value.contentEl)[0])==null||b.focus())}Et(r,g=>{g?(u==null||u.register(),document.addEventListener("focusin",c,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",c))});function h(g){u==null||u.closeParents(g)}function f(g){var p,y,m;e.disabled||g.key==="Tab"&&(EL(l1((p=s.value)==null?void 0:p.contentEl,!1),g.shiftKey?"prev":"next",b=>b.tabIndex>=0)||(r.value=!1,(m=(y=s.value)==null?void 0:y.activatorEl)==null||m.focus()))}function d(g){var y;if(e.disabled)return;const p=(y=s.value)==null?void 0:y.contentEl;p&&r.value?g.key==="ArrowDown"?(g.preventDefault(),u1(p,"next")):g.key==="ArrowUp"&&(g.preventDefault(),u1(p,"prev")):["ArrowDown","ArrowUp"].includes(g.key)&&(r.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>d(g))))}const v=ae(()=>Rt({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":o.value,onKeydown:d},e.activatorProps));return $t(()=>{const g=Bg.filterProps(e);return G(Bg,Rt({ref:s,id:o.value,class:["v-menu",e.class],style:e.style},g,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,absolute:!0,activatorProps:v.value,"onClick:outside":h,onKeydown:f},i),{activator:n.activator,default:function(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return G(ir,{root:"VMenu"},{default:()=>{var w;return[(w=n.default)==null?void 0:w.call(n,...y)]}})}})}),gd({id:o,openChildren:l},s)}});const JZ=Ye({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...qt(),...Jc({transition:{component:H3}})},"VCounter"),eQ=_t()({name:"VCounter",functional:!0,props:JZ(),setup(e,t){let{slots:n}=t;const r=ae(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return $t(()=>G(Os,{transition:e.transition},{default:()=>[si(G("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[js,e.active]])]})),{}}});const tQ=Ye({floating:Boolean,...qt()},"VFieldLabel"),pv=_t()({name:"VFieldLabel",props:tQ(),setup(e,t){let{slots:n}=t;return $t(()=>G(gD,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function kD(e,t){const n=ot(),r=dt(!1);if(mw){const i=new IntersectionObserver(a=>{e==null||e(a,i),r.value=!!a.find(o=>o.isIntersecting)},t);Oi(()=>{i.disconnect()}),Et(n,(a,o)=>{o&&(i.unobserve(o),r.value=!1),a&&i.observe(a)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const lA={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},e2=Ye({location:String},"location");function t2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=yo();return{locationStyles:ae(()=>{if(!e.location)return{};const{side:a,align:o}=c1(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function s(l){return n?n(l):0}const u={};return a!=="center"&&(t?u[lA[a]]=`calc(100% - ${s(a)}px)`:u[a]=0),o!=="center"?t?u[lA[o]]=`calc(100% - ${s(o)}px)`:u[o]=0:(a==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),u})}}const nQ=Ye({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...qt(),...e2({location:"top"}),...ma(),...tr(),...cr()},"VProgressLinear"),rQ=_t()({name:"VProgressLinear",props:nQ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=er(e,"modelValue"),{isRtl:i,rtlClasses:a}=yo(),{themeClasses:o}=Br(e),{locationStyles:s}=t2(e),{textColorClasses:u,textColorStyles:l}=ho(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:h}=vo(ae(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:d}=vo(e,"color"),{roundedClasses:v}=ya(e),{intersectionRef:g,isIntersecting:p}=kD(),y=ae(()=>parseInt(e.max,10)),m=ae(()=>parseInt(e.height,10)),w=ae(()=>parseFloat(e.bufferValue)/y.value*100),b=ae(()=>parseFloat(r.value)/y.value*100),x=ae(()=>i.value!==e.reverse),_=ae(()=>e.indeterminate?"fade-transition":"slide-x-transition"),S=ae(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function P(C){if(!g.value)return;const{left:B,right:T,width:k}=g.value.getBoundingClientRect(),D=x.value?k-C.clientX+(T-k):C.clientX-B;r.value=Math.round(D/k*y.value)}return $t(()=>G(e.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&p.value,"v-progress-linear--reverse":x.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,o.value,a.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Ft(m.value):0,"--v-progress-linear-height":Ft(m.value),...s.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:b.value,onClick:e.clickable&&P},{default:()=>[e.stream&&G("div",{key:"stream",class:["v-progress-linear__stream",u.value],style:{...l.value,[x.value?"left":"right"]:Ft(-m.value),borderTop:`${Ft(m.value/2)} dotted`,opacity:S.value,top:`calc(50% - ${Ft(m.value/4)})`,width:Ft(100-w.value,"%"),"--v-progress-linear-stream-to":Ft(m.value*(x.value?1:-1))}},null),G("div",{class:["v-progress-linear__background",c.value],style:[h.value,{opacity:S.value,width:Ft(e.stream?w.value:100,"%")}]},null),G(Ko,{name:_.value},{default:()=>[e.indeterminate?G("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(C=>G("div",{key:C,class:["v-progress-linear__indeterminate",C,f.value],style:d.value},null))]):G("div",{class:["v-progress-linear__determinate",f.value],style:[d.value,{width:Ft(b.value,"%")}]},null)]}),n.default&&G("div",{class:"v-progress-linear__content"},[n.default({value:b.value,buffer:w.value})])]})),{}}}),n2=Ye({loading:[Boolean,String]},"loader");function r2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();return{loaderClasses:ae(()=>({[`${t}--loading`]:e.loading}))}}function RD(e,t){var r;let{slots:n}=t;return G("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||G(rQ,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const iQ=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],LD=Ye({appendInnerIcon:bn,bgColor:String,clearable:Boolean,clearIcon:{type:bn,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:bn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>iQ.includes(e)},"onClick:clear":Ba(),"onClick:appendInner":Ba(),"onClick:prependInner":Ba(),...qt(),...n2(),...ma(),...cr()},"VField"),ND=_t()({name:"VField",inheritAttrs:!1,props:{id:String,..._D(),...LD()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{themeClasses:a}=Br(e),{loaderClasses:o}=r2(e),{focusClasses:s,isFocused:u,focus:l,blur:c}=SD(e),{InputIcon:h}=xD(e),{roundedClasses:f}=ya(e),{rtlClasses:d}=yo(),v=ae(()=>e.dirty||e.active),g=ae(()=>!e.singleLine&&!!(e.label||i.label)),p=mo(),y=ae(()=>e.id||`input-${p}`),m=ae(()=>`${y.value}-messages`),w=ot(),b=ot(),x=ot(),_=ae(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:S,backgroundColorStyles:P}=vo(Pt(e,"bgColor")),{textColorClasses:C,textColorStyles:B}=ho(ae(()=>e.error||e.disabled?void 0:v.value&&u.value?e.color:e.baseColor));Et(v,D=>{if(g.value){const O=w.value.$el,N=b.value.$el;requestAnimationFrame(()=>{const R=yw(O),U=N.getBoundingClientRect(),V=U.x-R.x,z=U.y-R.y-(R.height/2-U.height/2),j=U.width/.75,X=Math.abs(j-R.width)>1?{maxWidth:Ft(j)}:void 0,Q=getComputedStyle(O),te=getComputedStyle(N),he=parseFloat(Q.transitionDuration)*1e3||150,fe=parseFloat(te.getPropertyValue("--v-field-label-scale")),ce=te.getPropertyValue("color");O.style.visibility="visible",N.style.visibility="hidden",ic(O,{transform:`translate(${V}px, ${z}px) scale(${fe})`,color:ce,...X},{duration:he,easing:Mp,direction:D?"normal":"reverse"}).finished.then(()=>{O.style.removeProperty("visibility"),N.style.removeProperty("visibility")})})}},{flush:"post"});const T=ae(()=>({isActive:v,isFocused:u,controlRef:x,blur:c,focus:l}));function k(D){D.target!==document.activeElement&&D.preventDefault()}return $t(()=>{var V,z,j;const D=e.variant==="outlined",O=i["prepend-inner"]||e.prependInnerIcon,N=!!(e.clearable||i.clear),R=!!(i["append-inner"]||e.appendInnerIcon||N),U=()=>i.label?i.label({...T.value,label:e.label,props:{for:y.value}}):e.label;return G("div",Rt({class:["v-field",{"v-field--active":v.value,"v-field--appended":R,"v-field--center-affix":e.centerAffix??!_.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":O,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!U(),[`v-field--variant-${e.variant}`]:!0},a.value,S.value,s.value,o.value,f.value,d.value,e.class],style:[P.value,e.style],onClick:k},n),[G("div",{class:"v-field__overlay"},null),G(RD,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:i.loader}),O&&G("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&G(h,{key:"prepend-icon",name:"prependInner"},null),(V=i["prepend-inner"])==null?void 0:V.call(i,T.value)]),G("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&g.value&&G(pv,{key:"floating-label",ref:b,class:[C.value],floating:!0,for:y.value,style:B.value},{default:()=>[U()]}),G(pv,{ref:w,for:y.value},{default:()=>[U()]}),(z=i.default)==null?void 0:z.call(i,{...T.value,props:{id:y.value,class:"v-field__input","aria-describedby":m.value},focus:l,blur:c})]),N&&G(G3,{key:"clear"},{default:()=>[si(G("div",{class:"v-field__clearable",onMousedown:X=>{X.preventDefault(),X.stopPropagation()}},[i.clear?i.clear():G(h,{name:"clear"},null)]),[[js,e.dirty]])]}),R&&G("div",{key:"append",class:"v-field__append-inner"},[(j=i["append-inner"])==null?void 0:j.call(i,T.value),e.appendInnerIcon&&G(h,{key:"append-icon",name:"appendInner"},null)]),G("div",{class:["v-field__outline",C.value],style:B.value},[D&&G(pn,null,[G("div",{class:"v-field__outline__start"},null),g.value&&G("div",{class:"v-field__outline__notch"},[G(pv,{ref:b,floating:!0,for:y.value},{default:()=>[U()]})]),G("div",{class:"v-field__outline__end"},null)]),_.value&&g.value&&G(pv,{ref:b,floating:!0,for:y.value},{default:()=>[U()]})])])}),{controlRef:x}}});function aQ(e){const t=Object.keys(ND.props).filter(n=>!pw(n)&&n!=="class"&&n!=="style");return AL(e,t)}const oQ=["color","file","time","date","datetime-local","week","month"],i2=Ye({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ED(),...LD()},"VTextField"),kg=_t()({name:"VTextField",directives:{Intersect:eD},inheritAttrs:!1,props:i2(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const a=er(e,"modelValue"),{isFocused:o,focus:s,blur:u}=SD(e),l=ae(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:(a.value??"").toString().length),c=ae(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),h=ae(()=>["plain","underlined"].includes(e.variant));function f(_,S){var P,C;!e.autofocus||!_||(C=(P=S[0].target)==null?void 0:P.focus)==null||C.call(P)}const d=ot(),v=ot(),g=ot(),p=ae(()=>oQ.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function y(){var _;g.value!==document.activeElement&&((_=g.value)==null||_.focus()),o.value||s()}function m(_){r("mousedown:control",_),_.target!==g.value&&(y(),_.preventDefault())}function w(_){y(),r("click:control",_)}function b(_){_.stopPropagation(),y(),xr(()=>{a.value=null,CL(e["onClick:clear"],_)})}function x(_){var P;const S=_.target;if(a.value=S.value,(P=e.modelModifiers)!=null&&P.trim&&["text","search","password","tel","url"].includes(e.type)){const C=[S.selectionStart,S.selectionEnd];xr(()=>{S.selectionStart=C[0],S.selectionEnd=C[1]})}}return $t(()=>{const _=!!(i.counter||e.counter!==!1&&e.counter!=null),S=!!(_||i.details),[P,C]=TT(n),{modelValue:B,...T}=eA.filterProps(e),k=aQ(e);return G(eA,Rt({ref:d,modelValue:a.value,"onUpdate:modelValue":D=>a.value=D,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":h.value},e.class],style:e.style},P,T,{centerAffix:!h.value,focused:o.value}),{...i,default:D=>{let{id:O,isDisabled:N,isDirty:R,isReadonly:U,isValid:V}=D;return G(ND,Rt({ref:v,onMousedown:m,onClick:w,"onClick:clear":b,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},k,{id:O.value,active:p.value||R.value,dirty:R.value||e.dirty,disabled:N.value,focused:o.value,error:V.value===!1}),{...i,default:z=>{let{props:{class:j,...X}}=z;const Q=si(G("input",Rt({ref:g,value:a.value,onInput:x,autofocus:e.autofocus,readonly:U.value,disabled:N.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:u},X,C),null),[[is("intersect"),{handler:f},null,{once:!0}]]);return G(pn,null,[e.prefix&&G("span",{class:"v-text-field__prefix"},[G("span",{class:"v-text-field__prefix__text"},[e.prefix])]),i.default?G("div",{class:j,"data-no-activator":""},[i.default(),Q]):bT(Q,{class:j}),e.suffix&&G("span",{class:"v-text-field__suffix"},[G("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:S?D=>{var O;return G(pn,null,[(O=i.details)==null?void 0:O.call(i,D),_&&G(pn,null,[G("span",null,null),G(eQ,{active:e.persistentCounter||o.value,value:l.value,max:c.value},i.counter)])])}:void 0})}),gd({},d,v,g)}});const sQ=Ye({renderless:Boolean,...qt()},"VVirtualScrollItem"),uQ=_t()({name:"VVirtualScrollItem",inheritAttrs:!1,props:sQ(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{resizeRef:a,contentRect:o}=xc(void 0,"border");Et(()=>{var s;return(s=o.value)==null?void 0:s.height},s=>{s!=null&&r("update:height",s)}),$t(()=>{var s,u;return e.renderless?G(pn,null,[(s=i.default)==null?void 0:s.call(i,{itemRef:a})]):G("div",Rt({ref:a,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(u=i.default)==null?void 0:u.call(i)])})}}),lQ=-1,cQ=1,xy=100,fQ=Ye({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function hQ(e,t){const n=om(),r=dt(0);qo(()=>{r.value=parseFloat(e.itemHeight||0)});const i=dt(0),a=dt(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),o=dt(0),s=dt(0),u=ot(),l=ot();let c=0;const{resizeRef:h,contentRect:f}=xc();qo(()=>{h.value=u.value});const d=ae(()=>{var z;return u.value===document.documentElement?n.height.value:((z=f.value)==null?void 0:z.height)||parseInt(e.height)||0}),v=ae(()=>!!(u.value&&l.value&&d.value&&r.value));let g=Array.from({length:t.value.length}),p=Array.from({length:t.value.length});const y=dt(0);let m=-1;function w(z){return g[z]||r.value}const b=TL(()=>{const z=performance.now();p[0]=0;const j=t.value.length;for(let X=1;X<=j-1;X++)p[X]=(p[X-1]||0)+w(X-1);y.value=Math.max(y.value,performance.now()-z)},y),x=Et(v,z=>{z&&(x(),c=l.value.offsetTop,b.immediate(),N(),~m&&xr(()=>{Gi&&window.requestAnimationFrame(()=>{U(m),m=-1})}))});Ii(()=>{b.clear()});function _(z,j){const X=g[z],Q=r.value;r.value=Q?Math.min(r.value,j):j,(X!==j||Q!==r.value)&&(g[z]=j,b())}function S(z){return z=Du(z,0,t.value.length-1),p[z]||0}function P(z){return dQ(p,z)}let C=0,B=0,T=0;Et(d,(z,j)=>{j&&(N(),z<j&&requestAnimationFrame(()=>{B=0,N()}))});function k(){if(!u.value||!l.value)return;const z=u.value.scrollTop,j=performance.now();j-T>500?(B=Math.sign(z-C),c=l.value.offsetTop):B=z-C,C=z,T=j,N()}function D(){!u.value||!l.value||(B=0,T=0,N())}let O=-1;function N(){cancelAnimationFrame(O),O=requestAnimationFrame(R)}function R(){if(!u.value||!d.value)return;const z=C-c,j=Math.sign(B),X=Math.max(0,z-xy),Q=Du(P(X),0,t.value.length),te=z+d.value+xy,he=Du(P(te)+1,Q+1,t.value.length);if((j!==lQ||Q<i.value)&&(j!==cQ||he>a.value)){const fe=S(i.value)-S(Q),ce=S(he)-S(a.value);Math.max(fe,ce)>xy?(i.value=Q,a.value=he):(Q<=0&&(i.value=Q),he>=t.value.length&&(a.value=he))}o.value=S(i.value),s.value=S(t.value.length)-S(a.value)}function U(z){const j=S(z);!u.value||z&&!j?m=z:u.value.scrollTop=j}const V=ae(()=>t.value.slice(i.value,a.value).map((z,j)=>({raw:z,index:j+i.value})));return Et(t,()=>{g=Array.from({length:t.value.length}),p=Array.from({length:t.value.length}),b.immediate(),N()},{deep:!0}),{containerRef:u,markerRef:l,computedItems:V,paddingTop:o,paddingBottom:s,scrollToIndex:U,handleScroll:k,handleScrollend:D,handleItemResize:_}}function dQ(e,t){let n=e.length-1,r=0,i=0,a=null,o=-1;if(e[n]<t)return n;for(;r<=n;)if(i=r+n>>1,a=e[i],a>t)n=i-1;else if(a<t)o=i,r=i+1;else return a===t?i:r;return o}const vQ=Ye({items:{type:Array,default:()=>[]},renderless:Boolean,...fQ(),...qt(),...vl()},"VVirtualScroll"),UD=_t()({name:"VVirtualScroll",props:vQ(),setup(e,t){let{slots:n}=t;const r=Xi("VVirtualScroll"),{dimensionStyles:i}=pl(e),{containerRef:a,markerRef:o,handleScroll:s,handleScrollend:u,handleItemResize:l,scrollToIndex:c,paddingTop:h,paddingBottom:f,computedItems:d}=hQ(e,Pt(e,"items"));return io(()=>e.renderless,()=>{function v(){var y,m;const p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[p]("scroll",s,{passive:!0}),document[p]("scrollend",u)):((y=a.value)==null||y[p]("scroll",s,{passive:!0}),(m=a.value)==null||m[p]("scrollend",u))}pa(()=>{a.value=FT(r.vnode.el,!0),v(!0)}),Ii(v)}),$t(()=>{const v=d.value.map(g=>G(uQ,{key:g.index,renderless:e.renderless,"onUpdate:height":p=>l(g.index,p)},{default:p=>{var y;return(y=n.default)==null?void 0:y.call(n,{item:g.raw,index:g.index,...p})}}));return e.renderless?G(pn,null,[G("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ft(h.value)}},null),v,G("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ft(f.value)}},null)]):G("div",{ref:a,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:u,style:[i.value,e.style]},[G("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ft(h.value),paddingBottom:Ft(f.value)}},[v])])}),{scrollToIndex:c}}});function $D(e,t){const n=dt(!1);let r;function i(s){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function a(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(n.value){const u=Et(n,()=>{u(),s()})}else s()})}async function o(s){var c,h;if(s.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const u=(h=e.value)==null?void 0:h.$el;if(!u)return;(s.key==="Home"||s.key==="End")&&u.scrollTo({top:s.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await a();const l=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const f=u.getBoundingClientRect().top;for(const d of l)if(d.getBoundingClientRect().top>=f){d.focus();break}}else{const f=u.getBoundingClientRect().bottom;for(const d of[...l].reverse())if(d.getBoundingClientRect().bottom<=f){d.focus();break}}}return{onListScroll:i,onListKeydown:o}}const VD=Ye({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:bn,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...hD({itemChildren:!1})},"Select"),pQ=Ye({...VD(),...al(i2({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Jc({transition:{component:j3}})},"VSelect"),zD=_t()({name:"VSelect",props:pQ(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=am(),i=ot(),a=ot(),o=ot(),s=er(e,"menu"),u=ae({get:()=>s.value,set:V=>{var z;s.value&&!V&&((z=a.value)!=null&&z.openChildren)||(s.value=V)}}),{items:l,transformIn:c,transformOut:h}=vD(e),f=er(e,"modelValue",[],V=>c(V===null?[null]:fa(V)),V=>{const z=h(V);return e.multiple?z:z[0]??null}),d=ae(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),v=Kx(),g=ae(()=>f.value.map(V=>V.value)),p=dt(!1),y=ae(()=>u.value?e.closeText:e.openText);let m="",w;const b=ae(()=>e.hideSelected?l.value.filter(V=>!f.value.some(z=>z===V)):l.value),x=ae(()=>e.hideNoData&&!b.value.length||e.readonly||(v==null?void 0:v.isReadonly.value)),_=ae(()=>{var V;return{...e.menuProps,activatorProps:{...((V=e.menuProps)==null?void 0:V.activatorProps)||{},"aria-haspopup":"listbox"}}}),S=ot(),{onListScroll:P,onListKeydown:C}=$D(S,i);function B(V){e.openOnClear&&(u.value=!0)}function T(){x.value||(u.value=!u.value)}function k(V){var te,he;if(!V.key||e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(V.key)&&V.preventDefault(),["Enter","ArrowDown"," "].includes(V.key)&&(u.value=!0),["Escape","Tab"].includes(V.key)&&(u.value=!1),V.key==="Home"?(te=S.value)==null||te.focus("first"):V.key==="End"&&((he=S.value)==null||he.focus("last"));const z=1e3;function j(fe){const ce=fe.key.length===1,ee=!fe.ctrlKey&&!fe.metaKey&&!fe.altKey;return ce&&ee}if(e.multiple||!j(V))return;const X=performance.now();X-w>z&&(m=""),m+=V.key.toLowerCase(),w=X;const Q=l.value.find(fe=>fe.title.toLowerCase().startsWith(m));Q!==void 0&&(f.value=[Q])}function D(V){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.multiple){const j=f.value.findIndex(X=>e.valueComparator(X.value,V.value));if(z=j===-1,z)f.value=[...f.value,V];else{const X=[...f.value];X.splice(j,1),f.value=X}}else f.value=z?[V]:[],u.value=!1}function O(V){var z;(z=S.value)!=null&&z.$el.contains(V.relatedTarget)||(u.value=!1)}function N(){var V;p.value&&((V=i.value)==null||V.focus())}function R(V){p.value=!0}function U(V){if(V==null)f.value=[];else if(Ip(i.value,":autofill")||Ip(i.value,":-webkit-autofill")){const z=l.value.find(j=>j.title===V);z&&D(z)}else i.value&&(i.value.value="")}return Et(u,()=>{if(!e.hideSelected&&u.value&&f.value.length){const V=b.value.findIndex(z=>f.value.some(j=>e.valueComparator(j.value,z.value)));Gi&&window.requestAnimationFrame(()=>{var z;V>=0&&((z=o.value)==null||z.scrollToIndex(V))})}}),Et(b,(V,z)=>{p.value&&(!V.length&&e.hideNoData&&(u.value=!1),!z.length&&V.length&&(u.value=!0))}),$t(()=>{const V=!!(e.chips||n.chip),z=!!(!e.hideNoData||b.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),j=f.value.length>0,X=kg.filterProps(e),Q=j||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return G(kg,Rt({ref:i},X,{modelValue:f.value.map(te=>te.props.value).join(", "),"onUpdate:modelValue":U,focused:p.value,"onUpdate:focused":te=>p.value=te,validationValue:f.externalValue,counterValue:d.value,dirty:j,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:Q,"onClick:clear":B,"onMousedown:control":T,onBlur:O,onKeydown:k,"aria-label":r(y.value),title:r(y.value)}),{...n,default:()=>G(pn,null,[G(Jx,Rt({ref:a,modelValue:u.value,"onUpdate:modelValue":te=>u.value=te,activator:"parent",contentClass:"v-select__content",disabled:x.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:N},_.value),{default:()=>[z&&G(e0,Rt({ref:S,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:te=>te.preventDefault(),onKeydown:C,onFocusin:R,onScrollPassive:P,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var te,he,fe;return[(te=n["prepend-item"])==null?void 0:te.call(n),!b.value.length&&!e.hideNoData&&(((he=n["no-data"])==null?void 0:he.call(n))??G(Ua,{title:r(e.noDataText)},null)),G(UD,{ref:o,renderless:!0,items:b.value},{default:ce=>{var Ae;let{item:ee,index:Ue,itemRef:be}=ce;const pe=Rt(ee.props,{ref:be,key:Ue,onClick:()=>D(ee)});return((Ae=n.item)==null?void 0:Ae.call(n,{item:ee,index:Ue,props:pe}))??G(Ua,Rt(pe,{role:"option"}),{prepend:re=>{let{isSelected:Le}=re;return G(pn,null,[e.multiple&&!e.hideSelected?G(wD,{key:ee.value,modelValue:Le,ripple:!1,tabindex:"-1"},null):void 0,ee.props.prependAvatar&&G(Vs,{image:ee.props.prependAvatar},null),ee.props.prependIcon&&G(Sn,{icon:ee.props.prependIcon},null)])}})}}),(fe=n["append-item"])==null?void 0:fe.call(n)]}})]}),f.value.map((te,he)=>{function fe(be){be.stopPropagation(),be.preventDefault(),D(te,!1)}const ce={"onClick:close":fe,onMousedown(be){be.preventDefault(),be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ee=V?!!n.chip:!!n.selection,Ue=ee?OT(V?n.chip({item:te,index:he,props:ce}):n.selection({item:te,index:he})):void 0;if(!(ee&&!Ue))return G("div",{key:te.value,class:"v-select__selection"},[V?n.chip?G(ir,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:te.title}}},{default:()=>[Ue]}):G(lh,Rt({key:"chip",closable:e.closableChips,size:"small",text:te.title,disabled:te.props.disabled},ce),null):Ue??G("span",{class:"v-select__selection-text"},[te.title,e.multiple&&he<f.value.length-1&&G("span",{class:"v-select__selection-comma"},[Xr(",")])])])})]),"append-inner":function(){var ce;for(var te=arguments.length,he=new Array(te),fe=0;fe<te;fe++)he[fe]=arguments[fe];return G(pn,null,[(ce=n["append-inner"])==null?void 0:ce.call(n,...he),e.menuIcon?G(Sn,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),gd({isFocused:p,menu:u,select:D},i)}}),gQ=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),mQ=Ye({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function yQ(e,t,n){var s;const r=[],i=(n==null?void 0:n.default)??gQ,a=n!=null&&n.filterKeys?fa(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let u=0;u<e.length;u++){const[l,c=l]=fa(e[u]),h={},f={};let d=-1;if(t&&!(n!=null&&n.noFilter)){if(typeof l=="object"){const p=a||Object.keys(c);for(const y of p){const m=Qa(c,y),w=(s=n==null?void 0:n.customKeyFilter)==null?void 0:s[y];if(d=w?w(m,t,l):i(m,t,l),d!==-1&&d!==!1)w?h[y]=d:f[y]=d;else if((n==null?void 0:n.filterMode)==="every")continue e}}else d=i(l,t,l),d!==-1&&d!==!1&&(f.title=d);const v=Object.keys(f).length,g=Object.keys(h).length;if(!v&&!g||(n==null?void 0:n.filterMode)==="union"&&g!==o&&!v||(n==null?void 0:n.filterMode)==="intersection"&&(g!==o||!v))continue}r.push({index:u,matches:{...f,...h}})}return r}function bQ(e,t,n,r){const i=ot([]),a=ot(new Map),o=ae(()=>r!=null&&r.transform?tt(t).map(u=>[u,r.transform(u)]):tt(t));qo(()=>{const u=typeof n=="function"?n():tt(n),l=typeof u!="string"&&typeof u!="number"?"":String(u),c=yQ(o.value,l,{customKeyFilter:{...e.customKeyFilter,...tt(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),h=tt(t),f=[],d=new Map;c.forEach(v=>{let{index:g,matches:p}=v;const y=h[g];f.push(y),d.set(y.value,p)}),i.value=f,a.value=d});function s(u){return a.value.get(u.value)}return{filteredItems:i,filteredMatches:a,getMatches:s}}function wQ(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?G(pn,null,[G("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),G("span",{class:"v-combobox__mask"},[e.substr(t,n)]),G("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const xQ=Ye({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...mQ({filterKeys:["title"]}),...VD({hideNoData:!0,returnObject:!0}),...al(i2({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Jc({transition:!1})},"VCombobox"),_Q=_t()({name:"VCombobox",props:xQ(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var be;let{emit:n,slots:r}=t;const{t:i}=am(),a=ot(),o=dt(!1),s=dt(!0),u=dt(!1),l=ot(),c=ot(),h=er(e,"menu"),f=ae({get:()=>h.value,set:pe=>{var Ae;h.value&&!pe&&((Ae=l.value)!=null&&Ae.openChildren)||(h.value=pe)}}),d=dt(-1);let v=!1;const g=ae(()=>{var pe;return(pe=a.value)==null?void 0:pe.color}),p=ae(()=>f.value?e.closeText:e.openText),{items:y,transformIn:m,transformOut:w}=vD(e),{textColorClasses:b,textColorStyles:x}=ho(g),_=er(e,"modelValue",[],pe=>m(fa(pe)),pe=>{const Ae=w(pe);return e.multiple?Ae:Ae[0]??null}),S=Kx(),P=dt(e.multiple?"":((be=_.value[0])==null?void 0:be.title)??""),C=ae({get:()=>P.value,set:pe=>{var Ae;if(P.value=pe??"",e.multiple||(_.value=[Ou(e,pe)]),pe&&e.multiple&&((Ae=e.delimiters)!=null&&Ae.length)){const re=pe.split(new RegExp(`(?:${e.delimiters.join("|")})+`));re.length>1&&(re.forEach(Le=>{Le=Le.trim(),Le&&fe(Ou(e,Le))}),P.value="")}pe||(d.value=-1),s.value=!pe}}),B=ae(()=>typeof e.counterValue=="function"?e.counterValue(_.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?_.value.length:C.value.length);Et(P,pe=>{v?xr(()=>v=!1):o.value&&!f.value&&(f.value=!0),n("update:search",pe)}),Et(_,pe=>{var Ae;e.multiple||(P.value=((Ae=pe[0])==null?void 0:Ae.title)??"")});const{filteredItems:T,getMatches:k}=bQ(e,y,()=>s.value?"":C.value),D=ae(()=>e.hideSelected?T.value.filter(pe=>!_.value.some(Ae=>Ae.value===pe.value)):T.value),O=ae(()=>_.value.map(pe=>pe.value)),N=ae(()=>{var Ae;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&C.value===((Ae=D.value[0])==null?void 0:Ae.title))&&D.value.length>0&&!s.value&&!u.value}),R=ae(()=>e.hideNoData&&!D.value.length||e.readonly||(S==null?void 0:S.isReadonly.value)),U=ot(),{onListScroll:V,onListKeydown:z}=$D(U,a);function j(pe){v=!0,e.openOnClear&&(f.value=!0)}function X(){R.value||(f.value=!0)}function Q(pe){R.value||(o.value&&(pe.preventDefault(),pe.stopPropagation()),f.value=!f.value)}function te(pe){var Le;if(OL(pe)||e.readonly||S!=null&&S.isReadonly.value)return;const Ae=a.value.selectionStart,re=_.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(pe.key))&&pe.preventDefault(),["Enter","ArrowDown"].includes(pe.key)&&(f.value=!0),["Escape"].includes(pe.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(pe.key)&&(N.value&&["Enter","Tab"].includes(pe.key)&&fe(T.value[0]),s.value=!0),pe.key==="ArrowDown"&&N.value&&((Le=U.value)==null||Le.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(pe.key)){if(d.value<0){pe.key==="Backspace"&&!C.value&&(d.value=re-1);return}const Oe=d.value,Ze=_.value[d.value];Ze&&!Ze.props.disabled&&fe(Ze,!1),d.value=Oe>=re-1?re-2:Oe}if(pe.key==="ArrowLeft"){if(d.value<0&&Ae>0)return;const Oe=d.value>-1?d.value-1:re-1;_.value[Oe]?d.value=Oe:(d.value=-1,a.value.setSelectionRange(C.value.length,C.value.length))}if(pe.key==="ArrowRight"){if(d.value<0)return;const Oe=d.value+1;_.value[Oe]?d.value=Oe:(d.value=-1,a.value.setSelectionRange(0,0))}pe.key==="Enter"&&C.value&&(fe(Ou(e,C.value)),C.value="")}}function he(){var pe;o.value&&(s.value=!0,(pe=a.value)==null||pe.focus())}function fe(pe){let Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.multiple){const re=_.value.findIndex(Oe=>e.valueComparator(Oe.value,pe.value)),Le=Ae??!~re;if(~re){const Oe=Le?[..._.value,pe]:[..._.value];Oe.splice(re,1),_.value=Oe}else Le&&(_.value=[..._.value,pe]);e.clearOnSelect&&(C.value="")}else{const re=Ae!==!1;_.value=re?[pe]:[],P.value=re?pe.title:"",xr(()=>{f.value=!1,s.value=!0})}}function ce(pe){o.value=!0,setTimeout(()=>{u.value=!0})}function ee(pe){u.value=!1}function Ue(pe){(pe==null||pe===""&&!e.multiple)&&(_.value=[])}return Et(o,(pe,Ae)=>{pe||pe===Ae||(d.value=-1,f.value=!1,N.value&&!u.value&&!_.value.some(re=>{let{value:Le}=re;return Le===D.value[0].value})?fe(D.value[0]):e.multiple&&C.value&&fe(Ou(e,C.value)))}),Et(f,()=>{if(!e.hideSelected&&f.value&&_.value.length){const pe=D.value.findIndex(Ae=>_.value.some(re=>e.valueComparator(re.value,Ae.value)));Gi&&window.requestAnimationFrame(()=>{var Ae;pe>=0&&((Ae=c.value)==null||Ae.scrollToIndex(pe))})}}),Et(D,(pe,Ae)=>{o.value&&(!pe.length&&e.hideNoData&&(f.value=!1),!Ae.length&&pe.length&&(f.value=!0))}),$t(()=>{const pe=!!(e.chips||r.chip),Ae=!!(!e.hideNoData||D.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),re=_.value.length>0,Le=kg.filterProps(e);return G(kg,Rt({ref:a},Le,{modelValue:C.value,"onUpdate:modelValue":[Oe=>C.value=Oe,Ue],focused:o.value,"onUpdate:focused":Oe=>o.value=Oe,validationValue:_.externalValue,counterValue:B.value,dirty:re,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!r.selection,"v-combobox--selecting-index":d.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:re?void 0:e.placeholder,"onClick:clear":j,"onMousedown:control":X,onKeydown:te}),{...r,default:()=>G(pn,null,[G(Jx,Rt({ref:l,modelValue:f.value,"onUpdate:modelValue":Oe=>f.value=Oe,activator:"parent",contentClass:"v-combobox__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:he},e.menuProps),{default:()=>[Ae&&G(e0,Rt({ref:U,selected:O.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Oe=>Oe.preventDefault(),onKeydown:z,onFocusin:ce,onFocusout:ee,onScrollPassive:V,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var Oe,Ze,Y;return[(Oe=r["prepend-item"])==null?void 0:Oe.call(r),!D.value.length&&!e.hideNoData&&(((Ze=r["no-data"])==null?void 0:Ze.call(r))??G(Ua,{title:i(e.noDataText)},null)),G(UD,{ref:c,renderless:!0,items:D.value},{default:I=>{var we;let{item:F,index:W,itemRef:Z}=I;const ye=Rt(F.props,{ref:Z,key:W,active:N.value&&W===0?!0:void 0,onClick:()=>fe(F,null)});return((we=r.item)==null?void 0:we.call(r,{item:F,index:W,props:ye}))??G(Ua,Rt(ye,{role:"option"}),{prepend:et=>{let{isSelected:yt}=et;return G(pn,null,[e.multiple&&!e.hideSelected?G(wD,{key:F.value,modelValue:yt,ripple:!1,tabindex:"-1"},null):void 0,F.props.prependAvatar&&G(Vs,{image:F.props.prependAvatar},null),F.props.prependIcon&&G(Sn,{icon:F.props.prependIcon},null)])},title:()=>{var et,yt;return s.value?F.title:wQ(F.title,(et=k(F))==null?void 0:et.title,((yt=C.value)==null?void 0:yt.length)??0)}})}}),(Y=r["append-item"])==null?void 0:Y.call(r)]}})]}),_.value.map((Oe,Ze)=>{function Y(Z){Z.stopPropagation(),Z.preventDefault(),fe(Oe,!1)}const I={"onClick:close":Y,onMousedown(Z){Z.preventDefault(),Z.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},F=pe?!!r.chip:!!r.selection,W=F?OT(pe?r.chip({item:Oe,index:Ze,props:I}):r.selection({item:Oe,index:Ze})):void 0;if(!(F&&!W))return G("div",{key:Oe.value,class:["v-combobox__selection",Ze===d.value&&["v-combobox__selection--selected",b.value]],style:Ze===d.value?x.value:{}},[pe?r.chip?G(ir,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Oe.title}}},{default:()=>[W]}):G(lh,Rt({key:"chip",closable:e.closableChips,size:"small",text:Oe.title,disabled:Oe.props.disabled},I),null):W??G("span",{class:"v-combobox__selection-text"},[Oe.title,e.multiple&&Ze<_.value.length-1&&G("span",{class:"v-combobox__selection-comma"},[Xr(",")])])])})]),"append-inner":function(){var I;for(var Oe=arguments.length,Ze=new Array(Oe),Y=0;Y<Oe;Y++)Ze[Y]=arguments[Y];return G(pn,null,[(I=r["append-inner"])==null?void 0:I.call(r,...Ze),(!e.hideNoData||e.items.length)&&e.menuIcon?G(Sn,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:Q,onClick:PL,"aria-label":i(p.value),title:i(p.value)},null):void 0])}})}),gd({isFocused:o,isPristine:s,menu:f,search:C,selectionIndex:d,filteredItems:T,select:fe},a)}}),SQ={class:"px-2"},EQ=0,AQ={__name:"SourceView",props:["data"],setup(e){const{keywords:t,updateKeywords:n,keywordSearchPattern:r}=wr("keywords"),a=e.data,o=ot([]),s=ot([]),u=ot(""),l=Array.from(new Set(a.map(v=>v.pathList[EQ]))),c=v=>Vm(l.indexOf(v)/l.length);o.value=d();const h=ae(()=>`Found ${o.value==null?0:o.value.leaves().length} files.`),f=ae(()=>u.value===""?"Start typing a keyword":`Press <kbd>enter</kbd> to search for "${u.value}"`);Et(t,()=>{o.value=d()});function d(){let v=null;if(t.value.length>0){const g=a.filter(p=>t.value.every(y=>hK(p.text,y,r.value)));g.length>0&&(v=nb().path(p=>p.path)(g))}else a.length>0&&(v=nb().path(g=>g.path)(a));return v}return(v,g)=>(mn(),sa(pn,null,[G(I3,null,{default:vt(()=>[G(As,null,{default:vt(()=>[G(Bh,null,{default:vt(()=>[Xr(Li(h.value),1)]),_:1}),G(Bh,{style:{"margin-top":"24px"}},{default:vt(()=>[G(_Q,{modelValue:s.value,"onUpdate:modelValue":[g[0]||(g[0]=p=>s.value=p),tt(n)],search:u.value,"onUpdate:search":g[1]||(g[1]=p=>u.value=p),"onClick:clear":g[2]||(g[2]=p=>tt(n)([])),"hide-no-data":!1,label:"Filter keywords",density:"comfortable",variant:"outlined",clearable:"",chips:"","closable-chips":"","hide-selected":"","hide-details":"",multiple:""},{"no-data":vt(()=>[G(Ua,null,{default:vt(()=>[G(Mg,{innerHTML:f.value},null,8,["innerHTML"])]),_:1})]),_:1},8,["modelValue","search","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),G(cD),Wr("div",SQ,[o.value!==null?(mn(),Mr(cZ,{key:0,nodes:o.value.children,color:c,keywords:tt(t),keywordSearchPattern:tt(r)},null,8,["nodes","keywords","keywordSearchPattern"])):(mn(),Mr(As,{key:1},{default:vt(()=>[Xr("No data matching keywords :(")]),_:1}))])],64))}};const jD=Ye({divided:Boolean,...qs(),...qt(),...xo(),...Qs(),...ma(),...tr(),...cr(),...Ks()},"VBtnGroup"),cA=_t()({name:"VBtnGroup",props:jD(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{densityClasses:i}=us(e),{borderClasses:a}=Zs(e),{elevationClasses:o}=Js(e),{roundedClasses:s}=ya(e);Hs({VBtn:{height:"auto",color:Pt(e,"color"),density:Pt(e,"density"),flat:!0,variant:Pt(e,"variant")}}),$t(()=>G(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,a.value,i.value,o.value,s.value,e.class],style:e.style},n))}}),HD=Symbol.for("vuetify:v-btn-toggle"),CQ=Ye({...jD(),...qx()},"VBtnToggle");_t()({name:"VBtnToggle",props:CQ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:i,prev:a,select:o,selected:s}=Zx(e,HD);return $t(()=>{const u=cA.filterProps(e);return G(cA,Rt({class:["v-btn-toggle",e.class]},u,{style:e.style}),{default:()=>{var l;return[(l=n.default)==null?void 0:l.call(n,{isSelected:r,next:i,prev:a,select:o,selected:s})]}})}),{next:i,prev:a,select:o}}});const TQ=Ye({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...qt(),...fd(),...tr({tag:"div"}),...cr()},"VProgressCircular"),PQ=_t()({name:"VProgressCircular",props:TQ(),setup(e,t){let{slots:n}=t;const r=20,i=2*Math.PI*r,a=ot(),{themeClasses:o}=Br(e),{sizeClasses:s,sizeStyles:u}=hd(e),{textColorClasses:l,textColorStyles:c}=ho(Pt(e,"color")),{textColorClasses:h,textColorStyles:f}=ho(Pt(e,"bgColor")),{intersectionRef:d,isIntersecting:v}=kD(),{resizeRef:g,contentRect:p}=xc(),y=ae(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),m=ae(()=>Number(e.width)),w=ae(()=>u.value?Number(e.size):p.value?p.value.width:Math.max(m.value,32)),b=ae(()=>r/(1-m.value/w.value)*2),x=ae(()=>m.value/w.value*b.value),_=ae(()=>Ft((100-y.value)/100*i));return qo(()=>{d.value=a.value,g.value=a.value}),$t(()=>G(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,l.value,e.class],style:[u.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:y.value},{default:()=>[G("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[G("circle",{class:["v-progress-circular__underlay",h.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),G("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":_.value},null)]),n.default&&G("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}}),OQ=["static","relative","fixed","absolute","sticky"],GD=Ye({position:{type:String,validator:e=>OQ.includes(e)}},"position");function YD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as();return{positionClasses:ae(()=>e.position?`${t}--${e.position}`:void 0)}}function IQ(e,t){Et(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&xr(()=>{t(!0)})},{immediate:!0})}const MQ=Ye({active:{type:Boolean,default:void 0},symbol:{type:null,default:HD},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:bn,appendIcon:bn,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...qs(),...qt(),...xo(),...vl(),...Qs(),...AD(),...n2(),...e2(),...GD(),...ma(),...Jm(),...fd(),...tr({tag:"button"}),...cr(),...Ks({variant:"elevated"})},"VBtn"),wb=_t()({name:"VBtn",directives:{Ripple:pd},props:MQ(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=Br(e),{borderClasses:a}=Zs(e),{colorClasses:o,colorStyles:s,variantClasses:u}=vd(e),{densityClasses:l}=us(e),{dimensionStyles:c}=pl(e),{elevationClasses:h}=Js(e),{loaderClasses:f}=r2(e),{locationStyles:d}=t2(e),{positionClasses:v}=YD(e),{roundedClasses:g}=ya(e),{sizeClasses:p,sizeStyles:y}=hd(e),m=CD(e,e.symbol,!1),w=Qm(e,n),b=ae(()=>{var C;return e.active!==void 0?e.active:w.isLink.value?(C=w.isActive)==null?void 0:C.value:m==null?void 0:m.isSelected.value}),x=ae(()=>(m==null?void 0:m.disabled.value)||e.disabled),_=ae(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),S=ae(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function P(C){var B;x.value||w.isLink.value&&(C.metaKey||C.ctrlKey||C.shiftKey||C.button!==0||n.target==="_blank")||((B=w.navigate)==null||B.call(w,C),m==null||m.toggle())}return IQ(w,m==null?void 0:m.select),$t(()=>{var O,N;const C=w.isLink.value?"a":e.tag,B=!!(e.prependIcon||r.prepend),T=!!(e.appendIcon||r.append),k=!!(e.icon&&e.icon!==!0),D=(m==null?void 0:m.isSelected.value)&&(!w.isLink.value||((O=w.isActive)==null?void 0:O.value))||!m||((N=w.isActive)==null?void 0:N.value);return si(G(C,{type:C==="a"?void 0:"button",class:["v-btn",m==null?void 0:m.selectedClass.value,{"v-btn--active":b.value,"v-btn--block":e.block,"v-btn--disabled":x.value,"v-btn--elevated":_.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},i.value,a.value,D?o.value:void 0,l.value,h.value,f.value,v.value,g.value,p.value,u.value,e.class],style:[D?s.value:void 0,c.value,d.value,y.value,e.style],disabled:x.value||void 0,href:w.href.value,onClick:P,value:S.value},{default:()=>{var R;return[dd(!0,"v-btn"),!e.icon&&B&&G("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?G(ir,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):G(Sn,{key:"prepend-icon",icon:e.prependIcon},null)]),G("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&k?G(Sn,{key:"content-icon",icon:e.icon},null):G(ir,{key:"content-defaults",disabled:!k,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var U;return[((U=r.default)==null?void 0:U.call(r))??e.text]}})]),!e.icon&&T&&G("span",{key:"append",class:"v-btn__append"},[r.append?G(ir,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):G(Sn,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&G("span",{key:"loader",class:"v-btn__loader"},[((R=r.loader)==null?void 0:R.call(r))??G(PQ,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[is("ripple"),!x.value&&e.ripple,null]])}),{group:m}}});const DQ=_t()({name:"VCardActions",props:qt(),setup(e,t){let{slots:n}=t;return Hs({VBtn:{slim:!0,variant:"text"}}),$t(()=>{var r;return G("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),XD=Wc("v-card-subtitle"),WD=Wc("v-card-title"),FQ=Ye({appendAvatar:String,appendIcon:bn,prependAvatar:String,prependIcon:bn,subtitle:[String,Number],title:[String,Number],...qt(),...xo()},"VCardItem"),KD=_t()({name:"VCardItem",props:FQ(),setup(e,t){let{slots:n}=t;return $t(()=>{var l;const r=!!(e.prependAvatar||e.prependIcon),i=!!(r||n.prepend),a=!!(e.appendAvatar||e.appendIcon),o=!!(a||n.append),s=!!(e.title!=null||n.title),u=!!(e.subtitle!=null||n.subtitle);return G("div",{class:["v-card-item",e.class],style:e.style},[i&&G("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?G(ir,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):G(pn,null,[e.prependAvatar&&G(Vs,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&G(Sn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),G("div",{class:"v-card-item__content"},[s&&G(WD,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),u&&G(XD,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(l=n.default)==null?void 0:l.call(n)]),o&&G("div",{key:"append",class:"v-card-item__append"},[n.append?G(ir,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):G(pn,null,[e.appendIcon&&G(Sn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&G(Vs,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),qD=Wc("v-card-text"),BQ=Ye({appendAvatar:String,appendIcon:bn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:bn,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...qs(),...qt(),...xo(),...vl(),...Qs(),...n2(),...e2(),...GD(),...ma(),...Jm(),...tr(),...cr(),...Ks({variant:"elevated"})},"VCard"),hp=_t()({name:"VCard",directives:{Ripple:pd},props:BQ(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=Br(e),{borderClasses:a}=Zs(e),{colorClasses:o,colorStyles:s,variantClasses:u}=vd(e),{densityClasses:l}=us(e),{dimensionStyles:c}=pl(e),{elevationClasses:h}=Js(e),{loaderClasses:f}=r2(e),{locationStyles:d}=t2(e),{positionClasses:v}=YD(e),{roundedClasses:g}=ya(e),p=Qm(e,n),y=ae(()=>e.link!==!1&&p.isLink.value),m=ae(()=>!e.disabled&&e.link!==!1&&(e.link||p.isClickable.value));return $t(()=>{const w=y.value?"a":e.tag,b=!!(r.title||e.title!=null),x=!!(r.subtitle||e.subtitle!=null),_=b||x,S=!!(r.append||e.appendAvatar||e.appendIcon),P=!!(r.prepend||e.prependAvatar||e.prependIcon),C=!!(r.image||e.image),B=_||P||S,T=!!(r.text||e.text!=null);return si(G(w,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":m.value},i.value,a.value,o.value,l.value,h.value,f.value,v.value,g.value,u.value,e.class],style:[s.value,c.value,d.value,e.style],href:p.href.value,onClick:m.value&&p.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var k;return[C&&G("div",{key:"image",class:"v-card__image"},[r.image?G(ir,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):G(Wx,{key:"image-img",cover:!0,src:e.image},null)]),G(RD,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),B&&G(KD,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),T&&G(qD,{key:"text"},{default:()=>{var D;return[((D=r.text)==null?void 0:D.call(r))??e.text]}}),(k=r.default)==null?void 0:k.call(r),r.actions&&G(DQ,null,{default:r.actions}),dd(m.value,"v-card")]}}),[[is("ripple"),m.value&&e.ripple]])}),{}}});const kQ=Ye({id:String,text:String,...al(Qx({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),RQ=_t()({name:"VTooltip",props:kQ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=er(e,"modelValue"),{scopeId:i}=t0(),a=mo(),o=ae(()=>e.id||`v-tooltip-${a}`),s=ot(),u=ae(()=>e.location.split(" ").length>1?e.location:e.location+" center"),l=ae(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=ae(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),h=ae(()=>Rt({"aria-describedby":o.value},e.activatorProps));return $t(()=>{const f=Bg.filterProps(e);return G(Bg,Rt({ref:s,class:["v-tooltip",e.class],style:e.style,id:o.value},f,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,transition:c.value,absolute:!0,location:u.value,origin:l.value,persistent:!0,role:"tooltip",activatorProps:h.value,_disableGlobalStack:!0},i),{activator:n.activator,default:function(){var p;for(var d=arguments.length,v=new Array(d),g=0;g<d;g++)v[g]=arguments[g];return((p=n.default)==null?void 0:p.call(n,...v))??e.text}})}),gd({},s)}}),LQ={class:"d-flex align-center"},NQ=["name","placeholder"],UQ={key:1,class:"pile-title"},$Q={class:"d-flex align-center flex-wrap",style:{gap:"4px"}},VQ=Wr("span",null,"Keywords:",-1),zQ=Wr("span",null,"Model settings",-1),jQ={class:"d-flex align-center",style:{gap:"12px"}},HQ={class:"pr-1"},GQ=["textContent"],YQ={__name:"Pile",props:["piles","pile","pileIndex","summaryModels","enablePileEditName","clonePile","removePile","updatePileName","getPileTopicKeywords","getPileSummary","togglePileSummary","validatePileChange","setPileActiveNode","removePileNode"],setup(e){const t=e,n=t.piles,r=t.pile,i=t.pileIndex,a=t.summaryModels,o=t.enablePileEditName,s=t.clonePile,u=t.removePile,l=t.updatePileName,c=t.getPileTopicKeywords,h=t.getPileSummary,f=t.togglePileSummary,d=t.validatePileChange,v=t.setPileActiveNode,g=t.removePileNode;function p(y){const m=n[y].activeNode!==null,w=n[y].summaryText!==null&&n[y].showSummary;return m||w?12:4}return(y,m)=>(mn(),Mr(As,{cols:p(tt(i))},{default:vt(()=>[Wr("div",{class:"pile-controls-floating-wrapper",style:vw({left:`calc(100% - ${tt(i)>0?76:52}px)`,width:`${tt(i)>0?76:52}px`})},[G(hp,{class:"d-flex justify-end"},{default:vt(()=>[G(Sn,{density:"comfortable",icon:tt(sq),onClick:m[0]||(m[0]=w=>tt(o)(tt(i))),title:"Edit pile name"},null,8,["icon"]),G(Sn,{density:"comfortable",icon:tt(nq),onClick:m[1]||(m[1]=w=>tt(s)(tt(i))),title:"Copy pile"},null,8,["icon"]),tt(i)>0?(mn(),Mr(Sn,{key:0,density:"comfortable",icon:tt(eq),onClick:m[2]||(m[2]=w=>tt(u)(tt(i))),title:"Remove pile"},null,8,["icon"])):Mu("",!0)]),_:1})],4),G(hp,null,{default:vt(()=>[G(KD,null,{default:vt(()=>[G(WD,null,{default:vt(()=>[Wr("div",LQ,[tt(r).editNameEnabled?(mn(),sa("input",{key:0,name:"Pile"+tt(i),type:"text",style:{width:"100%"},placeholder:tt(r).name,onBlur:m[3]||(m[3]=w=>tt(l)(w.target.value,tt(i)))},null,40,NQ)):(mn(),sa("span",UQ,Li(tt(r).name),1))])]),_:1}),G(XD,{class:"mt-2"},{default:vt(()=>[Wr("div",$Q,[VQ,(mn(!0),sa(pn,null,mh(tt(c)(tt(i)),w=>(mn(),Mr(lh,{label:"",density:"comfortable"},{default:vt(()=>[Xr(Li(w),1)]),_:2},1024))),256))])]),_:1})]),_:1}),G(As,{class:"pt-0"},{default:vt(()=>[G(Bh,null,{default:vt(()=>[G(As,{class:"d-flex flex-wrap align-center",style:{gap:"12px"}},{default:vt(()=>[G(zD,{modelValue:tt(r).summaryModel,"onUpdate:modelValue":m[4]||(m[4]=w=>tt(r).summaryModel=w),items:tt(a),label:"Summary model",density:"compact",variant:"outlined","return-object":"","hide-details":""},null,8,["modelValue","items"]),G(Jx,{location:"bottom center",offset:"6","close-on-content-click":!1},{activator:vt(({props:w})=>[G(RQ,{location:"top center"},{activator:vt(({props:b})=>[G(Sn,Rt({density:"comfortable",icon:tt(tq)},Rt(w,b)),null,16,["icon"])]),default:vt(()=>[zQ]),_:2},1024)]),default:vt(()=>[G(hp,{"min-width":"300"},{default:vt(()=>[G(e0,null,{default:vt(()=>[G(Ua,null,{default:vt(()=>[G(Mg,null,{default:vt(()=>[Xr("Set temperature")]),_:1}),Xr(" "+Li(tt(r).summaryModel.settings.temperature),1)]),_:1}),G(Ua,null,{default:vt(()=>[G(Mg,null,{default:vt(()=>[Xr("Provide instructions")]),_:1}),Xr(" "+Li(tt(r).summaryModel.settings.instructions),1)]),_:1})]),_:1})]),_:1})]),_:1}),G(wb,{density:"comfortable",disabled:tt(r).nodeList.length==0,loading:tt(r).summaryLoading,onClick:m[5]||(m[5]=w=>tt(h)(tt(i)))},{default:vt(()=>[Xr(" Summarize ")]),_:1},8,["disabled","loading"]),tt(r).summaryText!==null?(mn(),Mr(wb,{key:0,density:"comfortable","prepend-icon":tt(r).showSummary?tt(iq):tt(rq),disabled:tt(r).summaryText==null,onClick:m[6]||(m[6]=w=>tt(f)(tt(i)))},{default:vt(()=>[Xr(Li(tt(r).showSummary?"Hide":"Show"),1)]),_:1},8,["prepend-icon","disabled"])):Mu("",!0)]),_:1})]),_:1}),G(Ig,null,{default:vt(()=>[tt(r).showSummary&&tt(r).summaryText!==null?(mn(),Mr(Bh,{key:0},{default:vt(()=>[G(As,{class:"pt-0"},{default:vt(()=>[Wr("div",jQ,[(mn(!0),sa(pn,null,mh(tt(r).summaryStats,w=>(mn(),sa("div",null,[Wr("span",HQ,Li(w.name)+":",1),G(lh,{label:"",density:"comfortable"},{default:vt(()=>[Xr(Li(w.value),1)]),_:2},1024)]))),256))]),Wr("div",{class:"mt-2 summary-text",textContent:Li(tt(r).summaryText)},null,8,GQ)]),_:1})]),_:1})):Mu("",!0)]),_:1})]),_:1}),G(As,{class:"pt-0"},{default:vt(()=>[G(tt(P3),{class:"dragArea list-group drag-container","item-key":"id",animation:"150",modelValue:tt(r).nodeList,"onUpdate:modelValue":m[7]||(m[7]=w=>tt(r).nodeList=w),group:{name:"people",pull:"clone"},onChange:m[8]||(m[8]=w=>tt(d)(w,tt(i)))},{item:vt(({element:w,index:b})=>[G(lh,{closable:"",label:"",color:tt(r).activeNode!==null&&tt(r).activeNode.id==w.id?"primary":"",onClick:x=>tt(v)(w,tt(i)),"onClick:close":x=>tt(g)(w,b,tt(i))},{default:vt(()=>[Xr(Li(w.name),1)]),_:2},1032,["color","onClick","onClick:close"])]),_:1},8,["modelValue"])]),_:1}),G(Ig,null,{default:vt(()=>[si(Wr("div",null,[G(qD,{class:"pt-0 node-text",innerHTML:tt(r).activeNodeHTML},null,8,["innerHTML"])],512),[[js,tt(r).activeNode!==null]])]),_:1})]),_:1})]),_:1},8,["cols"]))}};var xb={exports:{}},a2={},fA={},ZD=a2;a2.except=function(e,t){if(t instanceof Array){if(~t.indexOf(e))return e}else for(var n in t)if(n===e)return t[n];return!1};a2.among=function e(t,n,r){if(r==null)return e(t,0,n);for(var i=t.slice(),a,o,s=0;s<r.length&&(a=r[s],a=fA[a]||(fA[a]=new RegExp(r[s]+"$")),o=r[s+1],typeof o=="function"?t=t.replace(a,function(u){var l=arguments[""+(arguments.length-2)];return l>=n?o.apply(null,arguments):u+" "}):t=t.replace(a,function(u){var l=arguments[""+(arguments.length-2)];return l>=n?o:u+" "}),t===i);s+=2);return t.replace(/ /g,"")};var ms=ZD,Fa="aeiouy",XQ=Fa+"wxY",WQ="cdeghkmnrt",hA=RegExp("^.*?(["+Fa+"][^"+Fa+"]|$)"),KQ=/^(gener|commun|arsen)/,qQ=/(bb|dd|ff|gg|mm|nn|pp|rr|tt)$/,ZQ=RegExp("(["+Fa+"])y","g"),QQ=RegExp("(.[^"+Fa+"])[yY]$"),JQ={skis:"ski",skies:"sky",dying:"die",lying:"lie",tying:"tie",idly:"idl",gently:"gentl",ugly:"ugli",early:"earli",only:"onli",singly:"singl",sky:"sky",news:"news",howe:"howe",atlas:"atlas",cosmos:"cosmos",bias:"bias",andes:"andes"},eJ=["inning","outing","canning","herring","earring","proceed","exceed","succeed"],tJ=function(e){var t=ms.except(e,JQ);if(t)return t;if(e.length<3)return e;e[0]==="y"&&(e="Y"+e.substr(1)),e=e.replace(ZQ,"$1Y");var n,r;(r=KQ.exec(e))?n=r[0].length:n=hA.exec(e)[0].length;var i=n+hA.exec(e.substr(n))[0].length;return e=e.replace(/^'/,""),e=e.replace(/'(s'?)?$/,""),e=ms.among(e,["sses","ss","(ied|ies)",function(a,o,s){return s>1?"i":"ie"},"(["+Fa+"].*?[^us])s",function(a,o){return o}]),t=ms.except(e,eJ),t||(e=ms.among(e,["(eed|eedly)",function(a,o,s){return s>=n?"ee":a+" "},"(["+Fa+"].*?)(ed|edly|ing|ingly)",function(a,o,s,u){return/(?:at|bl|iz)$/.test(o)?o+"e":qQ.test(o)?o.substr(0,o.length-1):dA(e.substr(0,u+o.length))&&u+o.length<=n?o+"e":o}]),e=e.replace(QQ,"$1i"),e=ms.among(e,n,["(izer|ization)","ize","(ational|ation|ator)","ate","enci","ence","anci","ance","abli","able","entli","ent","tional","tion","(alism|aliti|alli)","al","fulness","ful","(ousli|ousness)","ous","(iveness|iviti)","ive","(biliti|bli)","ble","ogi",function(a,o){return e[o-1]==="l"?"og":"ogi"},"fulli","ful","lessli","less","li",function(a,o){return~WQ.indexOf(e[o-1])?"":"li"}]),e=ms.among(e,n,["ational","ate","tional","tion","alize","al","(icate|iciti|ical)","ic","(ful|ness)","","ative",function(a,o){return o>=i?"":"ative"}]),e=ms.among(e,i,["(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ism|ate|iti|ous|ive|ize)","","ion",function(a,o){return~"st".indexOf(e[o-1])?"":a}]),e=ms.among(e,n,["e",function(a,o){return o>=i||!dA(e,o-2)?"":"e"},"l",function(a,o){return e[o-1]==="l"&&o>=i?"":"l"}]),e=e.replace(/Y/g,"y"),e)};function dA(e,t){return t==null&&(t=e.length-2),e.length<3&&(t=0),!!(!~Fa.indexOf(e[t-1])&&~Fa.indexOf(e[t])&&!~XQ.indexOf(e[t+1])||t===0&&~Fa.indexOf(e[t])&&!~Fa.indexOf(e[t+1]))}(function(e,t){var n=ZD;t=e.exports=tJ,t.among=n.among,t.except=n.except})(xb,xb.exports);var nJ=xb.exports;const rJ=dl(nJ),iJ=["'","","(",")","[","]","{","}","<",">",":",",","","","","","","!",".","","","-","","?","","","","",";","/","","","","&","@","*","\\","","^","","","$","","","","","","","","","","","","#","","%","","","","","","~","","_","|","","","","","","","SOURCE","TITLE","PUBLISHED","LOCATION","a","able","about","above","abroad","according","accordingly","across","actually","adj","after","afterwards","again","against","ago","ahead","aint","all","allow","allows","almost","alone","along","alongside","already","also","although","always","am","amid","amidst","among","amongst","an","and","another","any","anybody","anyhow","anyone","anything","anyway","anyways","anywhere","apart","appear","appreciate","appropriate","are","arent","around","as","as","aside","ask","asking","associated","at","available","away","awfully","b","back","backward","backwards","be","became","because","become","becomes","becoming","been","before","beforehand","begin","behind","being","believe","below","beside","besides","best","better","between","beyond","both","brief","but","by","c","came","can","cannot","cant","cant","caption","cause","causes","certain","certainly","changes","clearly","cmon","co","co.","com","come","comes","concerning","consequently","consider","considering","constructor","contain","containing","contains","corresponding","could","couldnt","course","cs","currently","d","dare","darent","definitely","described","despite","did","didnt","different","directly","do","does","doesnt","doing","done","dont","down","downwards","during","e","each","edu","eg","eight","eighty","either","else","elsewhere","end","ending","enough","entirely","especially","et","etc","even","ever","evermore","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","f","fairly","far","farther","few","fewer","fifth","first","five","followed","following","follows","for","forever","former","formerly","forth","forward","found","four","from","further","furthermore","g","get","gets","getting","given","gives","go","goes","going","gone","got","gotten","greetings","h","had","hadnt","half","happens","hardly","has","hasnt","have","havent","having","he","hed","hell","hello","help","hence","her","here","hereafter","hereby","herein","heres","hereupon","hers","herself","hes","hi","him","himself","his","hither","hopefully","how","howbeit","however","hundred","i","id","ie","if","ignored","ill","im","immediate","in","inasmuch","inc","inc.","indeed","indicate","indicated","indicates","inner","inside","insofar","instead","into","inward","is","isnt","it","itd","itll","its","its","itself","ive","j","just","k","keep","keeps","kept","know","known","knows","l","last","lately","later","latter","latterly","least","less","lest","let","lets","like","liked","likely","likewise","little","look","looking","looks","low","lower","ltd","m","made","mainly","make","makes","many","may","maybe","maynt","me","mean","meantime","meanwhile","merely","might","mightnt","mine","minus","miss","more","moreover","most","mostly","mr","mrs","much","must","mustnt","my","myself","n","name","namely","nd","near","nearly","necessary","need","neednt","needs","neither","never","neverf","neverless","nevertheless","new","next","nine","ninety","no","nobody","non","none","nonetheless","noone","no-one","nor","normally","not","nothing","notwithstanding","novel","now","nowhere","o","obviously","of","off","often","oh","ok","okay","old","on","once","one","ones","ones","only","onto","opposite","or","other","others","otherwise","ought","oughtnt","our","ours","ourselves","out","outside","over","overall","own","p","particular","particularly","past","per","perhaps","placed","please","plus","possible","presumably","probably","provided","provides","q","que","quite","qv","r","rather","rd","re","really","reasonably","recent","recently","regarding","regardless","regards","relatively","respectively","right","round","s","said","same","saw","say","saying","says","second","secondly","see","seeing","seem","seemed","seeming","seems","seen","self","selves","sensible","sent","serious","seriously","seven","several","shall","shant","she","shed","shell","shes","should","shouldnt","since","six","so","some","somebody","someday","somehow","someone","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specified","specify","specifying","still","sub","such","sup","sure","t","take","taken","taking","tell","tends","th","than","thank","thanks","thanx","that","thatll","thats","thats","thatve","the","their","theirs","them","themselves","then","thence","there","thereafter","thereby","thered","therefore","therein","therell","therere","theres","theres","thereupon","thereve","these","they","theyd","theyll","theyre","theyve","thing","things","think","third","thirty","this","thorough","thoroughly","those","though","three","through","throughout","thru","thus","till","to","together","too","took","toward","towards","tried","tries","truly","try","trying","ts","twice","two","u","un","under","underneath","undoing","unfortunately","unless","unlike","unlikely","until","unto","up","upon","upwards","us","use","used","useful","uses","using","usually","v","value","various","versus","very","via","viz","vs","w","want","wants","was","wasnt","way","we","wed","welcome","well","well","went","were","were","werent","weve","what","whatever","whatll","whats","whatve","when","whence","whenever","where","whereafter","whereas","whereby","wherein","wheres","whereupon","wherever","whether","which","whichever","while","whilst","whither","who","whod","whoever","whole","wholl","whom","whomever","whos","whose","why","will","willing","wish","with","within","without","wonder","wont","would","wouldnt","x","y","yes","yet","you","youd","youll","your","youre","yours","yourself","yourselves","youve","z","zero"];var aJ={en_las2024:iJ};function oJ(e,t,n,r,i,a,o){var s=[],u=new Array,l={},c=new Array,h={};if(r=r||Array("en"),e&&e.length>0){var f=new Array;r.forEach(function(N){f=f.concat(aJ[N])});for(var d=0;d<e.length;d++)if(e[d]!=""){u[d]=new Array;var v=e[d]?e[d].split(/[\s,\"]+/):null;if(v)for(var g=0;g<v.length;g++){var p=v[g].toLowerCase().replace(/[^a-z\'A-Z0-9\u00C0-\u00ff ]+/g,""),y=rJ(p);p==""||!y||p.length==1||f.indexOf(p.replace("'",""))>-1||f.indexOf(y)>-1||p.indexOf("http")==0||(l[y]?l[y]=l[y]+1:y&&(l[y]=1,c.push(y),h[y]=p),u[d].push(c.indexOf(y)))}}var m=c.length;u.length;var w=parseInt(t),b=i||.1,x=a||.01;u=u.filter(N=>N.length),mv.configure(u,m,1e4,2e3,100,10,o),mv.gibbs(w,b,x),mv.getTheta();for(var _=mv.getPhi(),S=n,P=0;P<_.length;P++){for(var C=new Array,p=0;p<_[P].length;p++)C.push(""+_[P][p].toPrecision(2)+"_"+c[p]+"_"+h[c[p]]);C.sort().reverse(),S>c.length&&(S=c.length);for(var B=[],T=0;T<S;T++){var k=C[T].split("_")[2],D=parseInt(C[T].split("_")[0]*100);if(!(D<2)){var O={};O.term=k,O.probability=parseFloat(C[T].split("_")[0]),B.push(O)}}s.push(B)}}return s}function _y(e){for(var t=new Array,n=0;n<e;n++)t[n]=0;return t}function gv(e,t){for(var n=new Array,r=0;r<e;r++){n[r]=new Array;for(var i=0;i<t;i++)n[r][i]=0}return n}var mv=new function(){this.configure=function(e,t,n,r,i,a,o){this.ITERATIONS=n,this.BURN_IN=r,this.THIN_INTERVAL=i,this.SAMPLE_LAG=a,this.RANDOM_SEED=o,this.documents=e,this.V=t,this.dispcol=0,this.numstats=0},this.initialState=function(e){var t,n=this.documents.length;for(this.nw=gv(this.V,e),this.nd=gv(n,e),this.nwsum=_y(e),this.ndsum=_y(n),this.z=new Array,t=0;t<n;t++)this.z[t]=new Array;for(var r=0;r<n;r++){var i=this.documents[r].length;this.z[r]=new Array;for(var a=0;a<i;a++){var o=parseInt(""+this.getRandom()*e);this.z[r][a]=o,this.nw[this.documents[r][a]][o]++,this.nd[r][o]++,this.nwsum[o]++}this.ndsum[r]=i}},this.gibbs=function(e,t,n){var r;for(this.K=e,this.alpha=t,this.beta=n,this.SAMPLE_LAG>0&&(this.thetasum=gv(this.documents.length,this.K),this.phisum=gv(this.K,this.V),this.numstats=0),this.initialState(e),r=0;r<this.ITERATIONS;r++){for(var i=0;i<this.z.length;i++)for(var a=0;a<this.z[i].length;a++){var o=this.sampleFullConditional(i,a);this.z[i][a]=o}r<this.BURN_IN&&r%this.THIN_INTERVAL==0&&this.dispcol++,r>this.BURN_IN&&r%this.THIN_INTERVAL==0&&this.dispcol++,r>this.BURN_IN&&this.SAMPLE_LAG>0&&r%this.SAMPLE_LAG==0&&(this.updateParams(),r%this.THIN_INTERVAL!=0&&this.dispcol++),this.dispcol>=100&&(this.dispcol=0)}},this.sampleFullConditional=function(e,t){var n=this.z[e][t];this.nw[this.documents[e][t]][n]--,this.nd[e][n]--,this.nwsum[n]--,this.ndsum[e]--;for(var r=_y(this.K),i=0;i<this.K;i++)r[i]=(this.nw[this.documents[e][t]][i]+this.beta)/(this.nwsum[i]+this.V*this.beta)*(this.nd[e][i]+this.alpha)/(this.ndsum[e]+this.K*this.alpha);for(var i=1;i<r.length;i++)r[i]+=r[i-1];var a=this.getRandom()*r[this.K-1];for(n=0;n<r.length&&!(a<r[n]);n++);return this.nw[this.documents[e][t]][n]++,this.nd[e][n]++,this.nwsum[n]++,this.ndsum[e]++,n},this.updateParams=function(){for(var e=0;e<this.documents.length;e++)for(var t=0;t<this.K;t++)this.thetasum[e][t]+=(this.nd[e][t]+this.alpha)/(this.ndsum[e]+this.K*this.alpha);for(var t=0;t<this.K;t++)for(var n=0;n<this.V;n++)this.phisum[t][n]+=(this.nw[n][t]+this.beta)/(this.nwsum[t]+this.V*this.beta);this.numstats++},this.getTheta=function(){for(var e=new Array,t=0;t<this.documents.length;t++)e[t]=new Array;if(this.SAMPLE_LAG>0)for(var n=0;n<this.documents.length;n++)for(var r=0;r<this.K;r++)e[n][r]=this.thetasum[n][r]/this.numstats;else for(var n=0;n<this.documents.length;n++)for(var r=0;r<this.K;r++)e[n][r]=(this.nd[n][r]+this.alpha)/(this.ndsum[n]+this.K*this.alpha);return e},this.getPhi=function(){for(var e=new Array,t=0;t<this.K;t++)e[t]=new Array;if(this.SAMPLE_LAG>0)for(var n=0;n<this.K;n++)for(var r=0;r<this.V;r++)e[n][r]=this.phisum[n][r]/this.numstats;else for(var n=0;n<this.K;n++)for(var r=0;r<this.V;r++)e[n][r]=(this.nw[r][n]+this.beta)/(this.nwsum[n]+this.V*this.beta);return e},this.getRandom=function(){if(this.RANDOM_SEED){var e=Math.sin(this.RANDOM_SEED++)*1e6;return e-Math.floor(e)}else return Math.random()}};const sJ={class:"d-flex align-center justify-center fill-height"},uJ={__name:"ListView",props:["data"],setup(e){const{keywords:t,updateKeywords:n,keywordSearchPattern:r}=wr("keywords"),{baseURL:i}=wr("baseURL"),o=e.data,s=ot(0),u=ot([]),l=ot({}),c=ot([{title:"GPT-3.5 Turbo",value:"gpt-3.5-turbo",settings:{temperature:.7,instructions:"Return a single sentence."}}]);h(),l.value=Object.fromEntries(o.map(T=>[T.id,T])),Et(t,()=>{C()});function h(T={}){const k={id:s.value,name:`Pile ${s.value+1}`,editNameEnabled:!1,topicKeywords:[],nodeList:[],activeNode:null,activeNodeHTML:null,summaryModel:c.value[0],summaryText:null,summaryStats:null,summaryLoading:!1,showSummary:!0};u.value.push({...k,...T}),s.value++}function f(T){h({name:u.value[T].name.slice(),nodeList:structuredClone(u.value[T].nodeList.map(k=>go(k)))})}function d(T){u.value.splice(T,1)}function v(T){u.value[T].editNameEnabled=!0,xr(()=>{document.querySelector(`input[name="Pile${T}"]`).focus()})}function g(T,k){T!==""&&(u.value[k].name=T),u.value[k].editNameEnabled=!1}function p(T){let k=["..."];const D=u.value[T].nodeList.map(O=>ap(l.value[O.id].text));return D.length>0&&(k=oJ(D,1,5,["en_las2024"])[0].map(N=>N.term)),u.value[T].topicKeywords=k,k}function y(T){const k=u.value[T].nodeList.map(D=>ap(l.value[D.id].text));if(k.length>0){x(T),u.value[T].summaryLoading=!0;const D={model:u.value[T].summaryModel.value,documents:k};m(D).then(O=>{console.log(O),u.value[T].summaryStats=w(O),u.value[T].summaryText=O.summary_text}).catch(O=>{console.log(O),u.value[T].summaryText="Summary failed; check logs."}).finally(()=>{u.value[T].summaryLoading=!1})}}async function m(T){const k=`${i}/summarize`;return await(await fetch(k,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Connection:"keep-alive"},body:JSON.stringify(T)})).json()}function w(T){const k=[];if(T.rogue_scores!==null){const D=T.rogue_scores,O=uv(D.rouge1),N=uv(D.rouge2),R=uv(D.rougeL);k.push({name:"Unigrams",value:O}),k.push({name:"Bigrams",value:N}),k.push({name:"Sequences",value:R})}if(T.input_length!==null&&T.output_length!==null){const D=T.input_length,O=T.output_length,N=uv((1-O/D)*100,2);k.push({name:"Reduction",value:`${O} / ${D} (${N}%)`})}return k}function b(T){u.value[T].showSummary=!u.value[T].showSummary}function x(T){u.value[T].summaryText=null,u.value[T].summaryStats=null}function _(T,k){const D=u.value[k].nodeList;Object.hasOwn(T,"added")&&D.filter(O=>O.id==T.added.element.id).length>1?u.value[k].nodeList.splice(T.added.newIndex,1):x(k)}function S(T,k){let D=l.value[T.id];const O=u.value[k].activeNode;O!==null&&O.id==T.id?D=null:u.value[k].activeNodeHTML=P(D.text),u.value[k].activeNode=D}function P(T){const k=ap(T);return p3(k,t.value,r.value)}function C(){u.value.forEach((T,k)=>{T.activeNode!==null&&(u.value[k].activeNodeHTML=P(T.activeNode.text))})}function B(T,k,D){u.value[D].nodeList.splice(k,1);const O=u.value[D].activeNode;O!==null&&O.id==T.id&&(u.value[D].activeNode=null),x(D)}return(T,k)=>(mn(),Mr(I3,{fluid:""},{default:vt(()=>[G(Bh,null,{default:vt(()=>[(mn(!0),sa(pn,null,mh(u.value,(D,O)=>(mn(),Mr(YQ,{piles:u.value,pile:D,"pile-index":O,"summary-models":c.value,"enable-pile-edit-name":v,"clone-pile":f,"remove-pile":d,"update-pile-name":g,"get-pile-topic-keywords":p,"get-pile-summary":y,"toggle-pile-summary":b,"validate-pile-change":_,"set-pile-active-node":S,"remove-pile-node":B},null,8,["piles","pile","pile-index","summary-models"]))),256)),G(As,{cols:"4"},{default:vt(()=>[G(hp,{class:"fill-height",style:{"min-height":"72px"}},{default:vt(()=>[Wr("div",sJ,[G(wb,{onClick:h},{default:vt(()=>[Xr("New pile")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}))}};var QD={};(function(e){(function(t){var n=t.Promise,r=n&&"resolve"in n&&"reject"in n&&"all"in n&&"race"in n&&function(){var C;return new n(function(B){C=B}),typeof C=="function"}();e?(e.Promise=r?n:P,e.Polyfill=P):r||(t.Promise=P);var i="pending",a="sealed",o="fulfilled",s="rejected",u=function(){};function l(C){return Object.prototype.toString.call(C)==="[object Array]"}var c=typeof setImmediate<"u"?setImmediate:setTimeout,h=[],f;function d(){for(var C=0;C<h.length;C++)h[C][0](h[C][1]);h=[],f=!1}function v(C,B){h.push([C,B]),f||(f=!0,c(d,0))}function g(C,B){function T(D){m(B,D)}function k(D){b(B,D)}try{C(T,k)}catch(D){k(D)}}function p(C){var B=C.owner,T=B.state_,k=B.data_,D=C[T],O=C.then;if(typeof D=="function"){T=o;try{k=D(k)}catch(N){b(O,N)}}y(O,k)||(T===o&&m(O,k),T===s&&b(O,k))}function y(C,B){var T;try{if(C===B)throw new TypeError("A promises callback cannot return that same promise.");if(B&&(typeof B=="function"||typeof B=="object")){var k=B.then;if(typeof k=="function")return k.call(B,function(D){T||(T=!0,B!==D?m(C,D):w(C,D))},function(D){T||(T=!0,b(C,D))}),!0}}catch(D){return T||b(C,D),!0}return!1}function m(C,B){(C===B||!y(C,B))&&w(C,B)}function w(C,B){C.state_===i&&(C.state_=a,C.data_=B,v(_,C))}function b(C,B){C.state_===i&&(C.state_=a,C.data_=B,v(S,C))}function x(C){var B=C.then_;C.then_=void 0;for(var T=0;T<B.length;T++)p(B[T])}function _(C){C.state_=o,x(C)}function S(C){C.state_=s,x(C)}function P(C){if(typeof C!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof P))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],g(C,this)}P.prototype={constructor:P,state_:i,then_:null,data_:void 0,then:function(C,B){var T={owner:this,then:new this.constructor(u),fulfilled:C,rejected:B};return this.state_===o||this.state_===s?v(p,T):this.then_.push(T),T.then},catch:function(C){return this.then(null,C)}},P.all=function(C){var B=this;if(!l(C))throw new TypeError("You must pass an array to Promise.all().");return new B(function(T,k){var D=[],O=0;function N(V){return O++,function(z){D[V]=z,--O||T(D)}}for(var R=0,U;R<C.length;R++)U=C[R],U&&typeof U.then=="function"?U.then(N(R),k):D[R]=U;O||T(D)})},P.race=function(C){var B=this;if(!l(C))throw new TypeError("You must pass an array to Promise.race().");return new B(function(T,k){for(var D=0,O;D<C.length;D++)O=C[D],O&&typeof O.then=="function"?O.then(T,k):T(O)})},P.resolve=function(C){var B=this;return C&&typeof C=="object"&&C.constructor===B?C:new B(function(T){T(C)})},P.reject=function(C){var B=this;return new B(function(T,k){k(C)})}})(typeof window<"u"?window:typeof Ho<"u"?Ho:typeof self<"u"?self:Ho)})(QD);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var vA=Object.getOwnPropertySymbols,lJ=Object.prototype.hasOwnProperty,cJ=Object.prototype.propertyIsEnumerable;function fJ(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function hJ(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var dJ=hJ()?Object.assign:function(e,t){for(var n,r=fJ(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)lJ.call(n,o)&&(r[o]=n[o]);if(vA){i=vA(n);for(var s=0;s<i.length;s++)cJ.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r};const vJ=dl(dJ);/*!
 * @pixi/polyfill - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=QD.Polyfill);Object.assign||(Object.assign=vJ);var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pJ=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(ri.performance&&ri.performance.now)){var gJ=Date.now();ri.performance||(ri.performance={}),ri.performance.now=function(){return Date.now()-gJ}}var Sy=Date.now(),pA=["ms","moz","webkit","o"];for(var Ey=0;Ey<pA.length&&!ri.requestAnimationFrame;++Ey){var Ay=pA[Ey];ri.requestAnimationFrame=ri[Ay+"RequestAnimationFrame"],ri.cancelAnimationFrame=ri[Ay+"CancelAnimationFrame"]||ri[Ay+"CancelRequestAnimationFrame"]}ri.requestAnimationFrame||(ri.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),n=pJ+Sy-t;return n<0&&(n=0),Sy=t,setTimeout(function(){Sy=Date.now(),e(performance.now())},n)});ri.cancelAnimationFrame||(ri.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var JD={exports:{}};(function(e){(function(t){var n=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\bAndroid(?:.+)Mobile\b/i,o=/Android/i,s=/\bAndroid(?:.+)SD4930UR\b/i,u=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,l=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,h=/BlackBerry/i,f=/BB10/i,d=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i;function p(m,w){return m.test(w)}function y(m){var w=m||(typeof navigator<"u"?navigator.userAgent:""),b=w.split("[FBAN");b[1]!==void 0&&(w=b[0]),(b=w.split("Twitter"))[1]!==void 0&&(w=b[0]);var x={apple:{phone:p(n,w)&&!p(l,w),ipod:p(r,w),tablet:!p(n,w)&&p(i,w)&&!p(l,w),device:(p(n,w)||p(r,w)||p(i,w))&&!p(l,w)},amazon:{phone:p(s,w),tablet:!p(s,w)&&p(u,w),device:p(s,w)||p(u,w)},android:{phone:!p(l,w)&&p(s,w)||!p(l,w)&&p(a,w),tablet:!p(l,w)&&!p(s,w)&&!p(a,w)&&(p(u,w)||p(o,w)),device:!p(l,w)&&(p(s,w)||p(u,w)||p(a,w)||p(o,w))||p(/\bokhttp\b/i,w)},windows:{phone:p(l,w),tablet:p(c,w),device:p(l,w)||p(c,w)},other:{blackberry:p(h,w),blackberry10:p(f,w),opera:p(d,w),firefox:p(g,w),chrome:p(v,w),device:p(h,w)||p(f,w)||p(d,w)||p(g,w)||p(v,w)}};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}e.exports&&typeof window>"u"?e.exports=y:e.exports&&typeof window<"u"?(e.exports=y(),e.exports.isMobile=y):t.isMobile=y()})(Ho)})(JD);var mJ=JD.exports;const zo=dl(mJ);/*!
 * @pixi/settings - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function yJ(e){var t=!0;if(zo.tablet||zo.phone){if(t=!1,zo.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var r=parseInt(n[1],10);r>=11&&(t=!0)}}if(zo.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i){var a=parseInt(i[1],10);a>=7&&(t=!0)}}}return t?e:4}function bJ(){return!zo.apple.device}var Nt={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:yJ(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:zo.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:bJ(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function a(u,l,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,h||u,f),v=n?n+l:l;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],d]:u._events[v].push(d):(u._events[v]=d,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,h;if(this._eventsCount===0)return l;for(h in c=this._events)t.call(c,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,d=h.length,v=new Array(d);f<d;f++)v[f]=h[f].fn;return v},s.prototype.listenerCount=function(l){var c=n?n+l:l,h=this._events[c];return h?h.fn?1:h.length:0},s.prototype.emit=function(l,c,h,f,d,v){var g=n?n+l:l;if(!this._events[g])return!1;var p=this._events[g],y=arguments.length,m,w;if(p.fn){switch(p.once&&this.removeListener(l,p.fn,void 0,!0),y){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,c),!0;case 3:return p.fn.call(p.context,c,h),!0;case 4:return p.fn.call(p.context,c,h,f),!0;case 5:return p.fn.call(p.context,c,h,f,d),!0;case 6:return p.fn.call(p.context,c,h,f,d,v),!0}for(w=1,m=new Array(y-1);w<y;w++)m[w-1]=arguments[w];p.fn.apply(p.context,m)}else{var b=p.length,x;for(w=0;w<b;w++)switch(p[w].once&&this.removeListener(l,p[w].fn,void 0,!0),y){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,c);break;case 3:p[w].fn.call(p[w].context,c,h);break;case 4:p[w].fn.call(p[w].context,c,h,f);break;default:if(!m)for(x=1,m=new Array(y-1);x<y;x++)m[x-1]=arguments[x];p[w].fn.apply(p[w].context,m)}}return!0},s.prototype.on=function(l,c,h){return a(this,l,c,h,!1)},s.prototype.once=function(l,c,h){return a(this,l,c,h,!0)},s.prototype.removeListener=function(l,c,h,f){var d=n?n+l:l;if(!this._events[d])return this;if(!c)return o(this,d),this;var v=this._events[d];if(v.fn)v.fn===c&&(!f||v.once)&&(!h||v.context===h)&&o(this,d);else{for(var g=0,p=[],y=v.length;g<y;g++)(v[g].fn!==c||f&&!v[g].once||h&&v[g].context!==h)&&p.push(v[g]);p.length?this._events[d]=p.length===1?p[0]:p:o(this,d)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(eF);var wJ=eF.exports;const gl=dl(wJ);var o2={exports:{}};o2.exports=n0;o2.exports.default=n0;function n0(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=tF(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var s,u,l,c,h,f,d;if(r&&(a=AJ(e,t,a,n)),e.length>80*n){s=l=e[0],u=c=e[1];for(var v=n;v<i;v+=n)h=e[v],f=e[v+1],h<s&&(s=h),f<u&&(u=f),h>l&&(l=h),f>c&&(c=f);d=Math.max(l-s,c-u),d=d!==0?32767/d:0}return Nh(a,o,n,s,u,d,0),o}function tF(e,t,n,r,i){var a,o;if(i===Eb(e,t,n,r)>0)for(a=t;a<n;a+=r)o=gA(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=gA(a,e[a],e[a+1],o);return o&&r0(o,o.next)&&($h(o),o=o.next),o}function el(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(r0(n,n.next)||jn(n.prev,n,n.next)===0)){if($h(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Nh(e,t,n,r,i,a,o){if(e){!o&&a&&IJ(e,r,i,a);for(var s=e,u,l;e.prev!==e.next;){if(u=e.prev,l=e.next,a?_J(e,r,i,a):xJ(e)){t.push(u.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),$h(e),e=l.next,s=l.next;continue}if(e=l,e===s){o?o===1?(e=SJ(el(e),t,n),Nh(e,t,n,r,i,a,2)):o===2&&EJ(e,t,n,r,i,a):Nh(el(e),t,n,r,i,a,1);break}}}}function xJ(e){var t=e.prev,n=e,r=e.next;if(jn(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<u?s<l?s:l:u<l?u:l,f=i>a?i>o?i:o:a>o?a:o,d=s>u?s>l?s:l:u>l?u:l,v=r.next;v!==t;){if(v.x>=c&&v.x<=f&&v.y>=h&&v.y<=d&&uc(i,s,a,u,o,l,v.x,v.y)&&jn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function _J(e,t,n,r){var i=e.prev,a=e,o=e.next;if(jn(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,h=a.y,f=o.y,d=s<u?s<l?s:l:u<l?u:l,v=c<h?c<f?c:f:h<f?h:f,g=s>u?s>l?s:l:u>l?u:l,p=c>h?c>f?c:f:h>f?h:f,y=_b(d,v,t,n,r),m=_b(g,p,t,n,r),w=e.prevZ,b=e.nextZ;w&&w.z>=y&&b&&b.z<=m;){if(w.x>=d&&w.x<=g&&w.y>=v&&w.y<=p&&w!==i&&w!==o&&uc(s,c,u,h,l,f,w.x,w.y)&&jn(w.prev,w,w.next)>=0||(w=w.prevZ,b.x>=d&&b.x<=g&&b.y>=v&&b.y<=p&&b!==i&&b!==o&&uc(s,c,u,h,l,f,b.x,b.y)&&jn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;w&&w.z>=y;){if(w.x>=d&&w.x<=g&&w.y>=v&&w.y<=p&&w!==i&&w!==o&&uc(s,c,u,h,l,f,w.x,w.y)&&jn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=m;){if(b.x>=d&&b.x<=g&&b.y>=v&&b.y<=p&&b!==i&&b!==o&&uc(s,c,u,h,l,f,b.x,b.y)&&jn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function SJ(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!r0(i,a)&&nF(i,r,r.next,a)&&Uh(i,a)&&Uh(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),$h(r),$h(r.next),r=e=a),r=r.next}while(r!==e);return el(r)}function EJ(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&FJ(o,s)){var u=rF(o,s);o=el(o,o.next),u=el(u,u.next),Nh(o,t,n,r,i,a,0),Nh(u,t,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==e)}function AJ(e,t,n,r){var i=[],a,o,s,u,l;for(a=0,o=t.length;a<o;a++)s=t[a]*r,u=a<o-1?t[a+1]*r:e.length,l=tF(e,s,u,r,!1),l===l.next&&(l.steiner=!0),i.push(DJ(l));for(i.sort(CJ),a=0;a<i.length;a++)n=TJ(i[a],n);return n}function CJ(e,t){return e.x-t.x}function TJ(e,t){var n=PJ(e,t);if(!n)return t;var r=rF(n,e);return el(r,r.next),el(n,n.next)}function PJ(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a&&(a=s,o=n.x<n.next.x?n:n.next,s===r))return o}n=n.next}while(n!==t);if(!o)return null;var u=o,l=o.x,c=o.y,h=1/0,f;n=o;do r>=n.x&&n.x>=l&&r!==n.x&&uc(i<c?r:a,i,l,c,i<c?a:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),Uh(n,e)&&(f<h||f===h&&(n.x>o.x||n.x===o.x&&OJ(o,n)))&&(o=n,h=f)),n=n.next;while(n!==u);return o}function OJ(e,t){return jn(e.prev,e,t.prev)<0&&jn(t.next,e,e.next)<0}function IJ(e,t,n,r){var i=e;do i.z===0&&(i.z=_b(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,MJ(i)}function MJ(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ,!!r);t++);for(u=l;s>0||u>0&&r;)s!==0&&(u===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function _b(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function DJ(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function uc(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function FJ(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!BJ(e,t)&&(Uh(e,t)&&Uh(t,e)&&kJ(e,t)&&(jn(e.prev,e,t.prev)||jn(e,t.prev,t))||r0(e,t)&&jn(e.prev,e,e.next)>0&&jn(t.prev,t,t.next)>0)}function jn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function r0(e,t){return e.x===t.x&&e.y===t.y}function nF(e,t,n,r){var i=bv(jn(e,t,n)),a=bv(jn(e,t,r)),o=bv(jn(n,r,e)),s=bv(jn(n,r,t));return!!(i!==a&&o!==s||i===0&&yv(e,n,t)||a===0&&yv(e,r,t)||o===0&&yv(n,e,r)||s===0&&yv(n,t,r))}function yv(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function bv(e){return e>0?1:e<0?-1:0}function BJ(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&nF(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Uh(e,t){return jn(e.prev,e,e.next)<0?jn(e,t,e.next)>=0&&jn(e,e.prev,t)>=0:jn(e,t,e.prev)<0||jn(e,e.next,t)<0}function kJ(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function rF(e,t){var n=new Sb(e.i,e.x,e.y),r=new Sb(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function gA(e,t,n,r){var i=new Sb(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function $h(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Sb(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n0.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(Eb(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;o-=Math.abs(Eb(e,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,v=r[s+2]*n;h+=Math.abs((e[f]-e[v])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[v+1]-e[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Eb(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}n0.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var RJ=o2.exports;const iF=dl(RJ);var ml={},Rg={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Rg.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,a=typeof Ho=="object"&&Ho;(a.global===a||a.window===a||a.self===a)&&(n=a);var o,s=2147483647,u=36,l=1,c=26,h=38,f=700,d=72,v=128,g="-",p=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-l,x=Math.floor,_=String.fromCharCode,S;function P(j){throw new RangeError(w[j])}function C(j,X){for(var Q=j.length,te=[];Q--;)te[Q]=X(j[Q]);return te}function B(j,X){var Q=j.split("@"),te="";Q.length>1&&(te=Q[0]+"@",j=Q[1]),j=j.replace(m,".");var he=j.split("."),fe=C(he,X).join(".");return te+fe}function T(j){for(var X=[],Q=0,te=j.length,he,fe;Q<te;)he=j.charCodeAt(Q++),he>=55296&&he<=56319&&Q<te?(fe=j.charCodeAt(Q++),(fe&64512)==56320?X.push(((he&1023)<<10)+(fe&1023)+65536):(X.push(he),Q--)):X.push(he);return X}function k(j){return C(j,function(X){var Q="";return X>65535&&(X-=65536,Q+=_(X>>>10&1023|55296),X=56320|X&1023),Q+=_(X),Q}).join("")}function D(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:u}function O(j,X){return j+22+75*(j<26)-((X!=0)<<5)}function N(j,X,Q){var te=0;for(j=Q?x(j/f):j>>1,j+=x(j/X);j>b*c>>1;te+=u)j=x(j/b);return x(te+(b+1)*j/(j+h))}function R(j){var X=[],Q=j.length,te,he=0,fe=v,ce=d,ee,Ue,be,pe,Ae,re,Le,Oe,Ze;for(ee=j.lastIndexOf(g),ee<0&&(ee=0),Ue=0;Ue<ee;++Ue)j.charCodeAt(Ue)>=128&&P("not-basic"),X.push(j.charCodeAt(Ue));for(be=ee>0?ee+1:0;be<Q;){for(pe=he,Ae=1,re=u;be>=Q&&P("invalid-input"),Le=D(j.charCodeAt(be++)),(Le>=u||Le>x((s-he)/Ae))&&P("overflow"),he+=Le*Ae,Oe=re<=ce?l:re>=ce+c?c:re-ce,!(Le<Oe);re+=u)Ze=u-Oe,Ae>x(s/Ze)&&P("overflow"),Ae*=Ze;te=X.length+1,ce=N(he-pe,te,pe==0),x(he/te)>s-fe&&P("overflow"),fe+=x(he/te),he%=te,X.splice(he++,0,fe)}return k(X)}function U(j){var X,Q,te,he,fe,ce,ee,Ue,be,pe,Ae,re=[],Le,Oe,Ze,Y;for(j=T(j),Le=j.length,X=v,Q=0,fe=d,ce=0;ce<Le;++ce)Ae=j[ce],Ae<128&&re.push(_(Ae));for(te=he=re.length,he&&re.push(g);te<Le;){for(ee=s,ce=0;ce<Le;++ce)Ae=j[ce],Ae>=X&&Ae<ee&&(ee=Ae);for(Oe=te+1,ee-X>x((s-Q)/Oe)&&P("overflow"),Q+=(ee-X)*Oe,X=ee,ce=0;ce<Le;++ce)if(Ae=j[ce],Ae<X&&++Q>s&&P("overflow"),Ae==X){for(Ue=Q,be=u;pe=be<=fe?l:be>=fe+c?c:be-fe,!(Ue<pe);be+=u)Y=Ue-pe,Ze=u-pe,re.push(_(O(pe+Y%Ze,0))),Ue=x(Y/Ze);re.push(_(O(Ue,0))),fe=N(Q,Oe,te==he),Q=0,++te}++Q,++X}return re.join("")}function V(j){return B(j,function(X){return p.test(X)?R(X.slice(4).toLowerCase()):X})}function z(j){return B(j,function(X){return y.test(X)?"xn--"+U(X):X})}if(o={version:"1.4.1",ucs2:{decode:T,encode:k},decode:R,encode:U,toASCII:z,toUnicode:V},r&&i)if(e.exports==r)i.exports=o;else for(S in o)o.hasOwnProperty(S)&&(r[S]=o[S]);else n.punycode=o})(Ho)})(Rg,Rg.exports);var LJ=Rg.exports,NJ=Error,UJ=EvalError,$J=RangeError,VJ=ReferenceError,aF=SyntaxError,md=TypeError,zJ=URIError,jJ=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},mA=typeof Symbol<"u"&&Symbol,HJ=jJ,GJ=function(){return typeof mA!="function"||typeof Symbol!="function"||typeof mA("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:HJ()},Cy={__proto__:null,foo:{}},YJ=Object,XJ=function(){return{__proto__:Cy}.foo===Cy.foo&&!(Cy instanceof YJ)},WJ="Function.prototype.bind called on incompatible ",KJ=Object.prototype.toString,qJ=Math.max,ZJ="[object Function]",yA=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var a=0;a<n.length;a+=1)r[a+t.length]=n[a];return r},QJ=function(t,n){for(var r=[],i=n||0,a=0;i<t.length;i+=1,a+=1)r[a]=t[i];return r},JJ=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},eee=function(t){var n=this;if(typeof n!="function"||KJ.apply(n)!==ZJ)throw new TypeError(WJ+n);for(var r=QJ(arguments,1),i,a=function(){if(this instanceof i){var c=n.apply(this,yA(r,arguments));return Object(c)===c?c:this}return n.apply(t,yA(r,arguments))},o=qJ(0,n.length-r.length),s=[],u=0;u<o;u++)s[u]="$"+u;if(i=Function("binder","return function ("+JJ(s,",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i},tee=eee,s2=Function.prototype.bind||tee,nee=Function.prototype.call,ree=Object.prototype.hasOwnProperty,iee=s2,aee=iee.call(nee,ree),an,oee=NJ,see=UJ,uee=$J,lee=VJ,$c=aF,mc=md,cee=zJ,oF=Function,Ty=function(e){try{return oF('"use strict"; return ('+e+").constructor;")()}catch{}},Nu=Object.getOwnPropertyDescriptor;if(Nu)try{Nu({},"")}catch{Nu=null}var Py=function(){throw new mc},fee=Nu?function(){try{return arguments.callee,Py}catch{try{return Nu(arguments,"callee").get}catch{return Py}}}():Py,jl=GJ(),hee=XJ(),mr=Object.getPrototypeOf||(hee?function(e){return e.__proto__}:null),nc={},dee=typeof Uint8Array>"u"||!mr?an:mr(Uint8Array),Uu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?an:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?an:ArrayBuffer,"%ArrayIteratorPrototype%":jl&&mr?mr([][Symbol.iterator]()):an,"%AsyncFromSyncIteratorPrototype%":an,"%AsyncFunction%":nc,"%AsyncGenerator%":nc,"%AsyncGeneratorFunction%":nc,"%AsyncIteratorPrototype%":nc,"%Atomics%":typeof Atomics>"u"?an:Atomics,"%BigInt%":typeof BigInt>"u"?an:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?an:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?an:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?an:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":oee,"%eval%":eval,"%EvalError%":see,"%Float32Array%":typeof Float32Array>"u"?an:Float32Array,"%Float64Array%":typeof Float64Array>"u"?an:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?an:FinalizationRegistry,"%Function%":oF,"%GeneratorFunction%":nc,"%Int8Array%":typeof Int8Array>"u"?an:Int8Array,"%Int16Array%":typeof Int16Array>"u"?an:Int16Array,"%Int32Array%":typeof Int32Array>"u"?an:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":jl&&mr?mr(mr([][Symbol.iterator]())):an,"%JSON%":typeof JSON=="object"?JSON:an,"%Map%":typeof Map>"u"?an:Map,"%MapIteratorPrototype%":typeof Map>"u"||!jl||!mr?an:mr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?an:Promise,"%Proxy%":typeof Proxy>"u"?an:Proxy,"%RangeError%":uee,"%ReferenceError%":lee,"%Reflect%":typeof Reflect>"u"?an:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?an:Set,"%SetIteratorPrototype%":typeof Set>"u"||!jl||!mr?an:mr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?an:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":jl&&mr?mr(""[Symbol.iterator]()):an,"%Symbol%":jl?Symbol:an,"%SyntaxError%":$c,"%ThrowTypeError%":fee,"%TypedArray%":dee,"%TypeError%":mc,"%Uint8Array%":typeof Uint8Array>"u"?an:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?an:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?an:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?an:Uint32Array,"%URIError%":cee,"%WeakMap%":typeof WeakMap>"u"?an:WeakMap,"%WeakRef%":typeof WeakRef>"u"?an:WeakRef,"%WeakSet%":typeof WeakSet>"u"?an:WeakSet};if(mr)try{null.error}catch(e){var vee=mr(mr(e));Uu["%Error.prototype%"]=vee}var pee=function e(t){var n;if(t==="%AsyncFunction%")n=Ty("async function () {}");else if(t==="%GeneratorFunction%")n=Ty("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Ty("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&mr&&(n=mr(i.prototype))}return Uu[t]=n,n},bA={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yd=s2,Lg=aee,gee=yd.call(Function.call,Array.prototype.concat),mee=yd.call(Function.apply,Array.prototype.splice),wA=yd.call(Function.call,String.prototype.replace),Ng=yd.call(Function.call,String.prototype.slice),yee=yd.call(Function.call,RegExp.prototype.exec),bee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wee=/\\(\\)?/g,xee=function(t){var n=Ng(t,0,1),r=Ng(t,-1);if(n==="%"&&r!=="%")throw new $c("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new $c("invalid intrinsic syntax, expected opening `%`");var i=[];return wA(t,bee,function(a,o,s,u){i[i.length]=s?wA(u,wee,"$1"):o||a}),i},_ee=function(t,n){var r=t,i;if(Lg(bA,r)&&(i=bA[r],r="%"+i[0]+"%"),Lg(Uu,r)){var a=Uu[r];if(a===nc&&(a=pee(r)),typeof a>"u"&&!n)throw new mc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:a}}throw new $c("intrinsic "+t+" does not exist!")},ef=function(t,n){if(typeof t!="string"||t.length===0)throw new mc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new mc('"allowMissing" argument must be a boolean');if(yee(/^%?[^%]*%?$/,t)===null)throw new $c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=xee(t),i=r.length>0?r[0]:"",a=_ee("%"+i+"%",n),o=a.name,s=a.value,u=!1,l=a.alias;l&&(i=l[0],mee(r,gee([0,1],l)));for(var c=1,h=!0;c<r.length;c+=1){var f=r[c],d=Ng(f,0,1),v=Ng(f,-1);if((d==='"'||d==="'"||d==="`"||v==='"'||v==="'"||v==="`")&&d!==v)throw new $c("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(u=!0),i+="."+f,o="%"+i+"%",Lg(Uu,o))s=Uu[o];else if(s!=null){if(!(f in s)){if(!n)throw new mc("base intrinsic for "+t+" exists, but the property is not available.");return}if(Nu&&c+1>=r.length){var g=Nu(s,f);h=!!g,h&&"get"in g&&!("originalValue"in g.get)?s=g.get:s=s[f]}else h=Lg(s,f),s=s[f];h&&!u&&(Uu[o]=s)}}return s},sF={exports:{}},Oy,xA;function u2(){if(xA)return Oy;xA=1;var e=ef,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Oy=t,Oy}var See=ef,dp=See("%Object.getOwnPropertyDescriptor%",!0);if(dp)try{dp([],"length")}catch{dp=null}var uF=dp,_A=u2(),Eee=aF,Hl=md,SA=uF,Aee=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Hl("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Hl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Hl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Hl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Hl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Hl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,u=!!SA&&SA(t,n);if(_A)_A(t,n,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:r,writable:a===null&&u?u.writable:!a});else if(s||!i&&!a&&!o)t[n]=r;else throw new Eee("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ab=u2(),lF=function(){return!!Ab};lF.hasArrayLengthDefineBug=function(){if(!Ab)return null;try{return Ab([],"length",{value:1}).length!==1}catch{return!0}};var Cee=lF,Tee=ef,EA=Aee,Pee=Cee(),AA=uF,CA=md,Oee=Tee("%Math.floor%"),Iee=function(t,n){if(typeof t!="function")throw new CA("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Oee(n)!==n)throw new CA("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in t&&AA){var o=AA(t,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!r)&&(Pee?EA(t,"length",n,!0,!0):EA(t,"length",n)),t};(function(e){var t=s2,n=ef,r=Iee,i=md,a=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(o,a),u=u2(),l=n("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var d=s(t,o,arguments);return r(d,1+l(0,f.length-(arguments.length-1)),!0)};var c=function(){return s(t,a,arguments)};u?u(e.exports,"apply",{value:c}):e.exports.apply=c})(sF);var Mee=sF.exports,cF=ef,fF=Mee,Dee=fF(cF("String.prototype.indexOf")),Fee=function(t,n){var r=cF(t,!!n);return typeof r=="function"&&Dee(t,".prototype.")>-1?fF(r):r};const Bee={},kee=Object.freeze(Object.defineProperty({__proto__:null,default:Bee},Symbol.toStringTag,{value:"Module"})),Ree=Ux(kee);var l2=typeof Map=="function"&&Map.prototype,Iy=Object.getOwnPropertyDescriptor&&l2?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ug=l2&&Iy&&typeof Iy.get=="function"?Iy.get:null,TA=l2&&Map.prototype.forEach,c2=typeof Set=="function"&&Set.prototype,My=Object.getOwnPropertyDescriptor&&c2?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,$g=c2&&My&&typeof My.get=="function"?My.get:null,PA=c2&&Set.prototype.forEach,Lee=typeof WeakMap=="function"&&WeakMap.prototype,ch=Lee?WeakMap.prototype.has:null,Nee=typeof WeakSet=="function"&&WeakSet.prototype,fh=Nee?WeakSet.prototype.has:null,Uee=typeof WeakRef=="function"&&WeakRef.prototype,OA=Uee?WeakRef.prototype.deref:null,$ee=Boolean.prototype.valueOf,Vee=Object.prototype.toString,zee=Function.prototype.toString,jee=String.prototype.match,f2=String.prototype.slice,Is=String.prototype.replace,Hee=String.prototype.toUpperCase,IA=String.prototype.toLowerCase,hF=RegExp.prototype.test,MA=Array.prototype.concat,Za=Array.prototype.join,Gee=Array.prototype.slice,DA=Math.floor,Cb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Dy=Object.getOwnPropertySymbols,Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Vc||"symbol")?Symbol.toStringTag:null,dF=Object.prototype.propertyIsEnumerable,FA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function BA(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||hF.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-DA(-e):DA(e);if(r!==e){var i=String(r),a=f2.call(t,i.length+1);return Is.call(i,n,"$&_")+"."+Is.call(Is.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Is.call(t,n,"$&_")}var Pb=Ree,kA=Pb.custom,RA=pF(kA)?kA:null,Yee=function e(t,n,r,i){var a=n||{};if(_s(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_s(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=_s(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_s(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_s(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return mF(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return s?BA(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return s?BA(t,l):l}var c=typeof a.depth>"u"?5:a.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof t=="object")return Ob(t)?"[Array]":"[Object]";var h=cte(a,r);if(typeof i>"u")i=[];else if(gF(i,t)>=0)return"[Circular]";function f(D,O,N){if(O&&(i=Gee.call(i),i.push(O)),N){var R={depth:a.depth};return _s(a,"quoteStyle")&&(R.quoteStyle=a.quoteStyle),e(D,R,r+1,i)}return e(D,a,r+1,i)}if(typeof t=="function"&&!LA(t)){var d=tte(t),v=wv(t,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(v.length>0?" { "+Za.call(v,", ")+" }":"")}if(pF(t)){var g=Vc?Is.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Tb.call(t);return typeof t=="object"&&!Vc?If(g):g}if(ste(t)){for(var p="<"+IA.call(String(t.nodeName)),y=t.attributes||[],m=0;m<y.length;m++)p+=" "+y[m].name+"="+vF(Xee(y[m].value),"double",a);return p+=">",t.childNodes&&t.childNodes.length&&(p+="..."),p+="</"+IA.call(String(t.nodeName))+">",p}if(Ob(t)){if(t.length===0)return"[]";var w=wv(t,f);return h&&!lte(w)?"["+Ib(w,h)+"]":"[ "+Za.call(w,", ")+" ]"}if(Kee(t)){var b=wv(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!dF.call(t,"cause")?"{ ["+String(t)+"] "+Za.call(MA.call("[cause]: "+f(t.cause),b),", ")+" }":b.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Za.call(b,", ")+" }"}if(typeof t=="object"&&o){if(RA&&typeof t[RA]=="function"&&Pb)return Pb(t,{depth:c-r});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(nte(t)){var x=[];return TA&&TA.call(t,function(D,O){x.push(f(O,t,!0)+" => "+f(D,t))}),NA("Map",Ug.call(t),x,h)}if(ate(t)){var _=[];return PA&&PA.call(t,function(D){_.push(f(D,t))}),NA("Set",$g.call(t),_,h)}if(rte(t))return Fy("WeakMap");if(ote(t))return Fy("WeakSet");if(ite(t))return Fy("WeakRef");if(Zee(t))return If(f(Number(t)));if(Jee(t))return If(f(Cb.call(t)));if(Qee(t))return If($ee.call(t));if(qee(t))return If(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Ho)return"{ [object globalThis] }";if(!Wee(t)&&!LA(t)){var S=wv(t,f),P=FA?FA(t)===Object.prototype:t instanceof Object||t.constructor===Object,C=t instanceof Object?"":"null prototype",B=!P&&qr&&Object(t)===t&&qr in t?f2.call(eu(t),8,-1):C?"Object":"",T=P||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",k=T+(B||C?"["+Za.call(MA.call([],B||[],C||[]),": ")+"] ":"");return S.length===0?k+"{}":h?k+"{"+Ib(S,h)+"}":k+"{ "+Za.call(S,", ")+" }"}return String(t)};function vF(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function Xee(e){return Is.call(String(e),/"/g,"&quot;")}function Ob(e){return eu(e)==="[object Array]"&&(!qr||!(typeof e=="object"&&qr in e))}function Wee(e){return eu(e)==="[object Date]"&&(!qr||!(typeof e=="object"&&qr in e))}function LA(e){return eu(e)==="[object RegExp]"&&(!qr||!(typeof e=="object"&&qr in e))}function Kee(e){return eu(e)==="[object Error]"&&(!qr||!(typeof e=="object"&&qr in e))}function qee(e){return eu(e)==="[object String]"&&(!qr||!(typeof e=="object"&&qr in e))}function Zee(e){return eu(e)==="[object Number]"&&(!qr||!(typeof e=="object"&&qr in e))}function Qee(e){return eu(e)==="[object Boolean]"&&(!qr||!(typeof e=="object"&&qr in e))}function pF(e){if(Vc)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Tb)return!1;try{return Tb.call(e),!0}catch{}return!1}function Jee(e){if(!e||typeof e!="object"||!Cb)return!1;try{return Cb.call(e),!0}catch{}return!1}var ete=Object.prototype.hasOwnProperty||function(e){return e in this};function _s(e,t){return ete.call(e,t)}function eu(e){return Vee.call(e)}function tte(e){if(e.name)return e.name;var t=jee.call(zee.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function gF(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function nte(e){if(!Ug||!e||typeof e!="object")return!1;try{Ug.call(e);try{$g.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function rte(e){if(!ch||!e||typeof e!="object")return!1;try{ch.call(e,ch);try{fh.call(e,fh)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function ite(e){if(!OA||!e||typeof e!="object")return!1;try{return OA.call(e),!0}catch{}return!1}function ate(e){if(!$g||!e||typeof e!="object")return!1;try{$g.call(e);try{Ug.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function ote(e){if(!fh||!e||typeof e!="object")return!1;try{fh.call(e,fh);try{ch.call(e,ch)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function ste(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function mF(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return mF(f2.call(e,0,t.maxStringLength),t)+r}var i=Is.call(Is.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ute);return vF(i,"single",t)}function ute(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Hee.call(t.toString(16))}function If(e){return"Object("+e+")"}function Fy(e){return e+" { ? }"}function NA(e,t,n,r){var i=r?Ib(n,r):Za.call(n,", ");return e+" ("+t+") {"+i+"}"}function lte(e){for(var t=0;t<e.length;t++)if(gF(e[t],`
`)>=0)return!1;return!0}function cte(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Za.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Za.call(Array(t+1),n)}}function Ib(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Za.call(e,","+n)+`
`+t.prev}function wv(e,t){var n=Ob(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=_s(e,i)?t(e[i],e):""}var a=typeof Dy=="function"?Dy(e):[],o;if(Vc){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)_s(e,u)&&(n&&String(Number(u))===u&&u<e.length||Vc&&o["$"+u]instanceof Symbol||(hF.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if(typeof Dy=="function")for(var l=0;l<a.length;l++)dF.call(e,a[l])&&r.push("["+t(a[l])+"]: "+t(e[a[l]],e));return r}var yF=ef,tf=Fee,fte=Yee,hte=md,xv=yF("%WeakMap%",!0),_v=yF("%Map%",!0),dte=tf("WeakMap.prototype.get",!0),vte=tf("WeakMap.prototype.set",!0),pte=tf("WeakMap.prototype.has",!0),gte=tf("Map.prototype.get",!0),mte=tf("Map.prototype.set",!0),yte=tf("Map.prototype.has",!0),h2=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},bte=function(e,t){var n=h2(e,t);return n&&n.value},wte=function(e,t,n){var r=h2(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},xte=function(e,t){return!!h2(e,t)},_te=function(){var t,n,r,i={assert:function(a){if(!i.has(a))throw new hte("Side channel does not contain "+fte(a))},get:function(a){if(xv&&a&&(typeof a=="object"||typeof a=="function")){if(t)return dte(t,a)}else if(_v){if(n)return gte(n,a)}else if(r)return bte(r,a)},has:function(a){if(xv&&a&&(typeof a=="object"||typeof a=="function")){if(t)return pte(t,a)}else if(_v){if(n)return yte(n,a)}else if(r)return xte(r,a);return!1},set:function(a,o){xv&&a&&(typeof a=="object"||typeof a=="function")?(t||(t=new xv),vte(t,a,o)):_v?(n||(n=new _v),mte(n,a,o)):(r||(r={key:{},next:null}),wte(r,a,o))}};return i},Ste=String.prototype.replace,Ete=/%20/g,By={RFC1738:"RFC1738",RFC3986:"RFC3986"},d2={default:By.RFC3986,formatters:{RFC1738:function(e){return Ste.call(e,Ete,"+")},RFC3986:function(e){return String(e)}},RFC1738:By.RFC1738,RFC3986:By.RFC3986},Ate=d2,ky=Object.prototype.hasOwnProperty,Eu=Array.isArray,qa=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Cte=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Eu(r)){for(var i=[],a=0;a<r.length;++a)typeof r[a]<"u"&&i.push(r[a]);n.obj[n.prop]=i}}},bF=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Tte=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Eu(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!ky.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Eu(t)&&!Eu(n)&&(i=bF(t,r)),Eu(t)&&Eu(n)?(n.forEach(function(a,o){if(ky.call(t,o)){var s=t[o];s&&typeof s=="object"&&a&&typeof a=="object"?t[o]=e(s,a,r):t.push(a)}else t[o]=a}),t):Object.keys(n).reduce(function(a,o){var s=n[o];return ky.call(a,o)?a[o]=e(a[o],s,r):a[o]=s,a},i)},Pte=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Ote=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Ite=function(t,n,r,i,a){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||a===Ate.RFC1738&&(l===40||l===41)){s+=o.charAt(u);continue}if(l<128){s=s+qa[l];continue}if(l<2048){s=s+(qa[192|l>>6]+qa[128|l&63]);continue}if(l<55296||l>=57344){s=s+(qa[224|l>>12]+qa[128|l>>6&63]+qa[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),s+=qa[240|l>>18]+qa[128|l>>12&63]+qa[128|l>>6&63]+qa[128|l&63]}return s},Mte=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var a=n[i],o=a.obj[a.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],c=o[l];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:o,prop:l}),r.push(c))}return Cte(n),t},Dte=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Fte=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Bte=function(t,n){return[].concat(t,n)},kte=function(t,n){if(Eu(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},wF={arrayToObject:bF,assign:Pte,combine:Bte,compact:Mte,decode:Ote,encode:Ite,isBuffer:Fte,isRegExp:Dte,maybeMap:kte,merge:Tte},xF=_te,vp=wF,hh=d2,Rte=Object.prototype.hasOwnProperty,UA={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},Ro=Array.isArray,Lte=Array.prototype.push,_F=function(e,t){Lte.apply(e,Ro(t)?t:[t])},Nte=Date.prototype.toISOString,$A=hh.default,Yr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:vp.encode,encodeValuesOnly:!1,format:$A,formatter:hh.formatters[$A],indices:!1,serializeDate:function(t){return Nte.call(t)},skipNulls:!1,strictNullHandling:!1},Ute=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Ry={},$te=function e(t,n,r,i,a,o,s,u,l,c,h,f,d,v,g,p){for(var y=t,m=p,w=0,b=!1;(m=m.get(Ry))!==void 0&&!b;){var x=m.get(t);if(w+=1,typeof x<"u"){if(x===w)throw new RangeError("Cyclic object value");b=!0}typeof m.get(Ry)>"u"&&(w=0)}if(typeof u=="function"?y=u(n,y):y instanceof Date?y=h(y):r==="comma"&&Ro(y)&&(y=vp.maybeMap(y,function(R){return R instanceof Date?h(R):R})),y===null){if(a)return s&&!v?s(n,Yr.encoder,g,"key",f):n;y=""}if(Ute(y)||vp.isBuffer(y)){if(s){var _=v?n:s(n,Yr.encoder,g,"key",f);return[d(_)+"="+d(s(y,Yr.encoder,g,"value",f))]}return[d(n)+"="+d(String(y))]}var S=[];if(typeof y>"u")return S;var P;if(r==="comma"&&Ro(y))v&&s&&(y=vp.maybeMap(y,s)),P=[{value:y.length>0?y.join(",")||null:void 0}];else if(Ro(u))P=u;else{var C=Object.keys(y);P=l?C.sort(l):C}for(var B=i&&Ro(y)&&y.length===1?n+"[]":n,T=0;T<P.length;++T){var k=P[T],D=typeof k=="object"&&typeof k.value<"u"?k.value:y[k];if(!(o&&D===null)){var O=Ro(y)?typeof r=="function"?r(B,k):B:B+(c?"."+k:"["+k+"]");p.set(t,w);var N=xF();N.set(Ry,p),_F(S,e(D,O,r,i,a,o,r==="comma"&&v&&Ro(y)?null:s,u,l,c,h,f,d,v,g,N))}}return S},Vte=function(t){if(!t)return Yr;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Yr.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=hh.default;if(typeof t.format<"u"){if(!Rte.call(hh.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=hh.formatters[r],a=Yr.filter;return(typeof t.filter=="function"||Ro(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Yr.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Yr.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Yr.charsetSentinel,delimiter:typeof t.delimiter>"u"?Yr.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Yr.encode,encoder:typeof t.encoder=="function"?t.encoder:Yr.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Yr.encodeValuesOnly,filter:a,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Yr.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Yr.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Yr.strictNullHandling}},zte=function(e,t){var n=e,r=Vte(t),i,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):Ro(r.filter)&&(a=r.filter,i=a);var o=[];if(typeof n!="object"||n===null)return"";var s;t&&t.arrayFormat in UA?s=t.arrayFormat:t&&"indices"in t?s=t.indices?"indices":"repeat":s="indices";var u=UA[s];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&t&&t.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=xF(),h=0;h<i.length;++h){var f=i[h];r.skipNulls&&n[f]===null||_F(o,$te(n[f],f,u,l,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var d=o.join(r.delimiter),v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),d.length>0?v+d:""},zc=wF,Mb=Object.prototype.hasOwnProperty,jte=Array.isArray,pr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:zc.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Hte=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},SF=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Gte="utf8=%26%2310003%3B",Yte="utf8=%E2%9C%93",Xte=function(t,n){var r={__proto__:null},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,a),s=-1,u,l=n.charset;if(n.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===Yte?l="utf-8":o[u]===Gte&&(l="iso-8859-1"),s=u,u=o.length);for(u=0;u<o.length;++u)if(u!==s){var c=o[u],h=c.indexOf("]="),f=h===-1?c.indexOf("="):h+1,d,v;f===-1?(d=n.decoder(c,pr.decoder,l,"key"),v=n.strictNullHandling?null:""):(d=n.decoder(c.slice(0,f),pr.decoder,l,"key"),v=zc.maybeMap(SF(c.slice(f+1),n),function(g){return n.decoder(g,pr.decoder,l,"value")})),v&&n.interpretNumericEntities&&l==="iso-8859-1"&&(v=Hte(v)),c.indexOf("[]=")>-1&&(v=jte(v)?[v]:v),Mb.call(r,d)?r[d]=zc.combine(r[d],v):r[d]=v}return r},Wte=function(e,t,n,r){for(var i=r?t:SF(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if(s==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=parseInt(u,10);!n.parseArrays&&u===""?o={0:i}:!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},Kte=function(t,n,r,i){if(t){var a=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=r.depth>0&&o.exec(a),l=u?a.slice(0,u.index):a,c=[];if(l){if(!r.plainObjects&&Mb.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var h=0;r.depth>0&&(u=s.exec(a))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&Mb.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+a.slice(u.index)+"]"),Wte(c,n,r,i)}},qte=function(t){if(!t)return pr;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?pr.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?pr.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:pr.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:pr.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:pr.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:pr.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:pr.comma,decoder:typeof t.decoder=="function"?t.decoder:pr.decoder,delimiter:typeof t.delimiter=="string"||zc.isRegExp(t.delimiter)?t.delimiter:pr.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:pr.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:pr.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:pr.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:pr.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:pr.strictNullHandling}},Zte=function(e,t){var n=qte(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?Xte(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var s=a[o],u=Kte(s,r[s],n,typeof e=="string");i=zc.merge(i,u,n)}return n.allowSparse===!0?i:zc.compact(i)},Qte=zte,Jte=Zte,ene=d2,tne={formats:ene,parse:Jte,stringify:Qte},nne=LJ;function ha(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var rne=/^([a-z0-9.+-]+:)/i,ine=/:[0-9]*$/,ane=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,one=["<",">",'"',"`"," ","\r",`
`,"	"],sne=["{","}","|","\\","^","`"].concat(one),Db=["'"].concat(sne),VA=["%","/","?",";","#"].concat(Db),zA=["/","?","#"],une=255,jA=/^[+a-z0-9A-Z_-]{0,63}$/,lne=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,cne={javascript:!0,"javascript:":!0},Fb={javascript:!0,"javascript:":!0},yc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Bb=tne;function bd(e,t,n){if(e&&typeof e=="object"&&e instanceof ha)return e;var r=new ha;return r.parse(e,t,n),r}ha.prototype.parse=function(e,t,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",a=e.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),e=a.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var u=ane.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=Bb.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=rne.exec(s);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,s=s.substr(l.length)}if(n||l||s.match(/^\/\/[^@/]+@[^@/]+/)){var h=s.substr(0,2)==="//";h&&!(l&&Fb[l])&&(s=s.substr(2),this.slashes=!0)}if(!Fb[l]&&(h||l&&!yc[l])){for(var f=-1,d=0;d<zA.length;d++){var v=s.indexOf(zA[d]);v!==-1&&(f===-1||v<f)&&(f=v)}var g,p;f===-1?p=s.lastIndexOf("@"):p=s.lastIndexOf("@",f),p!==-1&&(g=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(g)),f=-1;for(var d=0;d<VA.length;d++){var v=s.indexOf(VA[d]);v!==-1&&(f===-1||v<f)&&(f=v)}f===-1&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var m=this.hostname.split(/\./),d=0,w=m.length;d<w;d++){var b=m[d];if(b&&!b.match(jA)){for(var x="",_=0,S=b.length;_<S;_++)b.charCodeAt(_)>127?x+="x":x+=b[_];if(!x.match(jA)){var P=m.slice(0,d),C=m.slice(d+1),B=b.match(lne);B&&(P.push(B[1]),C.unshift(B[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=P.join(".");break}}}this.hostname.length>une?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=nne.toASCII(this.hostname));var T=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+T,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!cne[c])for(var d=0,w=Db.length;d<w;d++){var D=Db[d];if(s.indexOf(D)!==-1){var O=encodeURIComponent(D);O===D&&(O=escape(D)),s=s.split(D).join(O)}}var N=s.indexOf("#");N!==-1&&(this.hash=s.substr(N),s=s.slice(0,N));var R=s.indexOf("?");if(R!==-1?(this.search=s.substr(R),this.query=s.substr(R+1),t&&(this.query=Bb.parse(this.query)),s=s.slice(0,R)):t&&(this.search="",this.query={}),s&&(this.pathname=s),yc[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var T=this.pathname||"",U=this.search||"";this.path=T+U}return this.href=this.format(),this};function fne(e){return typeof e=="string"&&(e=bd(e)),e instanceof ha?e.format():ha.prototype.format.call(e)}ha.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=Bb.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||yc[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),t+i+n+o+r};function hne(e,t){return bd(e,!1,!0).resolve(t)}ha.prototype.resolve=function(e){return this.resolveObject(bd(e,!1,!0)).format()};function dne(e,t){return e?bd(e,!1,!0).resolveObject(t):t}ha.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new ha;t.parse(e,!1,!0),e=t}for(var n=new ha,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var u=o[s];u!=="protocol"&&(n[u]=e[u])}return yc[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!yc[e.protocol]){for(var l=Object.keys(e),c=0;c<l.length;c++){var h=l[c];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!Fb[e.protocol]){for(var w=(e.pathname||"").split("/");w.length&&!(e.host=w.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),n.pathname=w.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",d=n.search||"";n.path=f+d}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",p=g||v||n.host&&e.pathname,y=p,m=n.pathname&&n.pathname.split("/")||[],w=e.pathname&&e.pathname.split("/")||[],b=n.protocol&&!yc[n.protocol];if(b&&(n.hostname="",n.port=null,n.host&&(m[0]===""?m[0]=n.host:m.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(w[0]===""?w[0]=e.host:w.unshift(e.host)),e.host=null),p=p&&(w[0]===""||m[0]==="")),g)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,m=w;else if(w.length)m||(m=[]),m.pop(),m=m.concat(w),n.search=e.search,n.query=e.query;else if(e.search!=null){if(b){n.host=m.shift(),n.hostname=n.host;var x=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;x&&(n.auth=x.shift(),n.hostname=x.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!m.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=m.slice(-1)[0],S=(n.host||e.host||m.length>1)&&(_==="."||_==="..")||_==="",P=0,C=m.length;C>=0;C--)_=m[C],_==="."?m.splice(C,1):_===".."?(m.splice(C,1),P++):P&&(m.splice(C,1),P--);if(!p&&!y)for(;P--;P)m.unshift("..");p&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),S&&m.join("/").substr(-1)!=="/"&&m.push("");var B=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(b){n.hostname=B?"":m.length?m.shift():"",n.host=n.hostname;var x=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;x&&(n.auth=x.shift(),n.hostname=x.shift(),n.host=n.hostname)}return p=p||n.host&&m.length,p&&!B&&m.unshift(""),m.length>0?n.pathname=m.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};ha.prototype.parseHost=function(){var e=this.host,t=ine.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};ml.parse=bd;ml.resolve=hne;ml.resolveObject=dne;ml.format=fne;ml.Url=ha;/*!
 * @pixi/constants - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var tl={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},kb={UNKNOWN:0,WEBGL:1,CANVAS:2},kt={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},Ms={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},v2={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},Vg={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},oi={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},EF={LINEAR:1,NEAREST:0},dh={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},vne={OFF:0,POW2:1,ON:2},pne={AUTO:0,MANUAL:1},Ds={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};/*!
 * @pixi/utils - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nt.RETINA_PREFIX=/@([0-9\.]+)x/;Nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var HA=!1,GA="5.1.6";function gne(e){if(!HA){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c PixiJS `+GA+" -  "+e+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("PixiJS "+GA+" - "+e+" - http://www.pixijs.com/");HA=!0}}var Ly;function mne(){return typeof Ly>"u"&&(Ly=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t),i=!!(r&&r.getContextAttributes().stencil);if(r){var a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,i}catch{return!1}}()),Ly}function zg(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function AF(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e}function yne(e){return typeof e=="string"&&e[0]==="#"&&(e=e.substr(1)),parseInt(e,16)}function bne(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[kt.NORMAL_NPM]=kt.NORMAL,e[kt.ADD_NPM]=kt.ADD,e[kt.SCREEN_NPM]=kt.SCREEN,t[kt.NORMAL]=kt.NORMAL_NPM,t[kt.ADD]=kt.ADD_NPM,t[kt.SCREEN]=kt.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}var CF=bne();function TF(e,t){return CF[t?1:0][e]}function wne(e,t,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function p2(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var n=e>>16&255,r=e>>8&255,i=e&255;return n=n*t+.5|0,r=r*t+.5|0,i=i*t+.5|0,(t*255<<24)+(n<<16)+(r<<8)+i}function xne(e,t,n,r){return n=n||new Float32Array(4),n[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(e&255)/255,(r||r===void 0)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function _ne(e,t){t===void 0&&(t=null);var n=e*6;if(t=t||new Uint16Array(n),t.length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function bc(e,t,n){var r=e.length,i;if(!(t>=r||n===0)){n=t+n>r?r-t:n;var a=r-n;for(i=t;i<a;++i)e[i]=e[i+n];e.length=a}}var Sne=0;function jc(){return++Sne}function lc(e){return e===0?0:e<0?-1:1}function jg(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function YA(e){return!(e&e-1)&&!!e}function XA(e){var t=(e>65535)<<4;e>>>=t;var n=(e>255)<<3;return e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1}var WA={},Fo=Object.create(null),du=Object.create(null);function Ene(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},u=null,l,c,h;for(l=0;l<o;l+=4)a[l+3]!==0&&(c=l/4%t,h=~~(l/4/t),s.top===null&&(s.top=h),(s.left===null||c<s.left)&&(s.left=c),(s.right===null||s.right<c)&&(s.right=c+1),(s.bottom===null||s.bottom<h)&&(s.bottom=h));return s.top!==null&&(t=s.right-s.left,n=s.bottom-s.top+1,u=r.getImageData(s.left,s.top,t,n)),{height:n,width:t,data:u}}var wd=function(t,n,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Nt.RESOLUTION,this.resize(t,n)},xd={width:{configurable:!0},height:{configurable:!0}};wd.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};wd.prototype.resize=function(t,n){this.canvas.width=t*this.resolution,this.canvas.height=n*this.resolution};wd.prototype.destroy=function(){this.context=null,this.canvas=null};xd.width.get=function(){return this.canvas.width};xd.width.set=function(e){this.canvas.width=e};xd.height.get=function(){return this.canvas.height};xd.height.set=function(e){this.canvas.height=e};Object.defineProperties(wd.prototype,xd);var Sv;function Ane(e,t){if(t===void 0&&(t=window.location),e.indexOf("data:")===0)return"";t=t||window.location,Sv||(Sv=document.createElement("a")),Sv.href=e,e=ml.parse(Sv.href);var n=!e.port&&t.port===""||e.port===t.port;return e.hostname!==t.hostname||!n||e.protocol!==t.protocol?"anonymous":""}function Hg(e,t){var n=Nt.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):t!==void 0?t:1}var KA={};function Cne(e,t,n){if(n===void 0&&(n=3),!KA[t]){var r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(r))),KA[t]=!0}}/*!
 * @pixi/math - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gn=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this.x=t,this.y=n};Gn.prototype.clone=function(){return new Gn(this.x,this.y)};Gn.prototype.copyFrom=function(t){return this.set(t.x,t.y),this};Gn.prototype.copyTo=function(t){return t.set(this.x,this.y),t};Gn.prototype.equals=function(t){return t.x===this.x&&t.y===this.y};Gn.prototype.set=function(t,n){this.x=t||0,this.y=n||(n!==0?this.x:0)};var zi=function(t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=n},_d={x:{configurable:!0},y:{configurable:!0}};zi.prototype.clone=function(t,n){t===void 0&&(t=null),n===void 0&&(n=null);var r=t||this.cb,i=n||this.scope;return new zi(r,i,this._x,this._y)};zi.prototype.set=function(t,n){var r=t||0,i=n||(n!==0?r:0);(this._x!==r||this._y!==i)&&(this._x=r,this._y=i,this.cb.call(this.scope))};zi.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this};zi.prototype.copyTo=function(t){return t.set(this._x,this._y),t};zi.prototype.equals=function(t){return t.x===this._x&&t.y===this._y};_d.x.get=function(){return this._x};_d.x.set=function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))};_d.y.get=function(){return this._y};_d.y.set=function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))};Object.defineProperties(zi.prototype,_d);var Vh=Math.PI*2,Tne=180/Math.PI,Pne=Math.PI/180,Dr={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},un=function(t,n,r,i,a,o){t===void 0&&(t=1),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=o,this.array=null},g2={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};un.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]};un.prototype.set=function(t,n,r,i,a,o){return this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=o,this};un.prototype.toArray=function(t,n){this.array||(this.array=new Float32Array(9));var r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r};un.prototype.apply=function(t,n){n=n||new Gn;var r=t.x,i=t.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n};un.prototype.applyInverse=function(t,n){n=n||new Gn;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,a=t.y;return n.x=this.d*r*i+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*a+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n};un.prototype.translate=function(t,n){return this.tx+=t,this.ty+=n,this};un.prototype.scale=function(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this};un.prototype.rotate=function(t){var n=Math.cos(t),r=Math.sin(t),i=this.a,a=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=a*n-this.d*r,this.d=a*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this};un.prototype.append=function(t){var n=this.a,r=this.b,i=this.c,a=this.d;return this.a=t.a*n+t.b*i,this.b=t.a*r+t.b*a,this.c=t.c*n+t.d*i,this.d=t.c*r+t.d*a,this.tx=t.tx*n+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*a+this.ty,this};un.prototype.setTransform=function(t,n,r,i,a,o,s,u,l){return this.a=Math.cos(s+l)*a,this.b=Math.sin(s+l)*a,this.c=-Math.sin(s-u)*o,this.d=Math.cos(s-u)*o,this.tx=t-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this};un.prototype.prepend=function(t){var n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this};un.prototype.decompose=function(t){var n=this.a,r=this.b,i=this.c,a=this.d,o=-Math.atan2(-i,a),s=Math.atan2(r,n),u=Math.abs(o+s);return u<1e-5||Math.abs(Vh-u)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(i*i+a*a),t.position.x=this.tx,t.position.y=this.ty,t};un.prototype.invert=function(){var t=this.a,n=this.b,r=this.c,i=this.d,a=this.tx,o=t*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*a)/o,this.ty=-(t*this.ty-n*a)/o,this};un.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this};un.prototype.clone=function(){var t=new un;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t};un.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t};un.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this};g2.IDENTITY.get=function(){return new un};g2.TEMP_MATRIX.get=function(){return new un};Object.defineProperties(un,g2);var bu=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],wu=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],xu=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Rb=[],PF=[],Ev=Math.sign;function One(){for(var e=0;e<16;e++){var t=[];Rb.push(t);for(var n=0;n<16;n++)for(var r=Ev(bu[e]*bu[n]+xu[e]*wu[n]),i=Ev(wu[e]*bu[n]+_u[e]*wu[n]),a=Ev(bu[e]*xu[n]+xu[e]*_u[n]),o=Ev(wu[e]*xu[n]+_u[e]*_u[n]),s=0;s<16;s++)if(bu[s]===r&&wu[s]===i&&xu[s]===a&&_u[s]===o){t.push(s);break}}for(var u=0;u<16;u++){var l=new un;l.set(bu[u],wu[u],xu[u],_u[u],0,0),PF.push(l)}}One();var Nn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return bu[e]},uY:function(e){return wu[e]},vX:function(e){return xu[e]},vY:function(e){return _u[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return Rb[e][t]},sub:function(e,t){return Rb[e][Nn.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Nn.S:Nn.N:Math.abs(t)*2<=Math.abs(e)?e>0?Nn.E:Nn.W:t>0?e>0?Nn.SE:Nn.SW:e>0?Nn.NE:Nn.NW},matrixAppendRotationInv:function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=PF[Nn.inv(t)];i.tx=n,i.ty=r,e.append(i)}},Jo=function(){this.worldTransform=new un,this.localTransform=new un,this.position=new zi(this.onChange,this,0,0),this.scale=new zi(this.onChange,this,1,1),this.pivot=new zi(this.onChange,this,0,0),this.skew=new zi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},m2={rotation:{configurable:!0}};Jo.prototype.onChange=function(){this._localID++};Jo.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++};Jo.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)};Jo.prototype.updateTransform=function(t){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale._x,n.b=this._sx*this.scale._x,n.c=this._cy*this.scale._y,n.d=this._sy*this.scale._y,n.tx=this.position._x-(this.pivot._x*n.a+this.pivot._y*n.c),n.ty=this.position._y-(this.pivot._x*n.b+this.pivot._y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=n.a*r.a+n.b*r.c,i.b=n.a*r.b+n.b*r.d,i.c=n.c*r.a+n.d*r.c,i.d=n.c*r.b+n.d*r.d,i.tx=n.tx*r.a+n.ty*r.c+r.tx,i.ty=n.tx*r.b+n.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}};Jo.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++};m2.rotation.get=function(){return this._rotation};m2.rotation.set=function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())};Object.defineProperties(Jo.prototype,m2);Jo.IDENTITY=new Jo;var tn=function(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Dr.RECT},Sd={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},OF={EMPTY:{configurable:!0}};Sd.left.get=function(){return this.x};Sd.right.get=function(){return this.x+this.width};Sd.top.get=function(){return this.y};Sd.bottom.get=function(){return this.y+this.height};OF.EMPTY.get=function(){return new tn(0,0,0,0)};tn.prototype.clone=function(){return new tn(this.x,this.y,this.width,this.height)};tn.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this};tn.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t};tn.prototype.contains=function(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height};tn.prototype.pad=function(t,n){t=t||0,n=n||(n!==0?t:0),this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2};tn.prototype.fit=function(t){var n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),a=Math.min(this.y+this.height,t.y+t.height);this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(a-i,0)};tn.prototype.ceil=function(t,n){t===void 0&&(t=1),n===void 0&&(n=.001);var r=Math.ceil((this.x+this.width-n)*t)/t,i=Math.ceil((this.y+this.height-n)*t)/t;this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=i-this.y};tn.prototype.enlarge=function(t){var n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),a=Math.max(this.y+this.height,t.y+t.height);this.x=n,this.width=r-n,this.y=i,this.height=a-i};Object.defineProperties(tn.prototype,Sd);Object.defineProperties(tn,OF);var zh=function(t,n,r){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),this.x=t,this.y=n,this.radius=r,this.type=Dr.CIRC};zh.prototype.clone=function(){return new zh(this.x,this.y,this.radius)};zh.prototype.contains=function(t,n){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,a=this.y-n;return i*=i,a*=a,i+a<=r};zh.prototype.getBounds=function(){return new tn(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};var jh=function(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=t,this.y=n,this.width=r,this.height=i,this.type=Dr.ELIP};jh.prototype.clone=function(){return new jh(this.x,this.y,this.width,this.height)};jh.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1};jh.prototype.getBounds=function(){return new tn(this.x-this.width,this.y-this.height,this.width,this.height)};var Rs=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof Gn){for(var r=[],i=0,a=t.length;i<a;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=Dr.POLY,this.closeStroke=!0};Rs.prototype.clone=function(){var t=new Rs(this.points.slice());return t.closeStroke=this.closeStroke,t};Rs.prototype.contains=function(t,n){for(var r=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],u=this.points[a*2+1],l=this.points[o*2],c=this.points[o*2+1],h=u>n!=c>n&&t<(l-s)*((n-u)/(c-u))+s;h&&(r=!r)}return r};var Gg=function(t,n,r,i,a){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=a,this.type=Dr.RREC};Gg.prototype.clone=function(){return new Gg(this.x,this.y,this.width,this.height,this.radius)};Gg.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){if(n>=this.y+this.radius&&n<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=n-(this.y+this.radius),a=this.radius*this.radius;if(r*r+i*i<=a||(r=t-(this.x+this.width-this.radius),r*r+i*i<=a)||(i=n-(this.y+this.height-this.radius),r*r+i*i<=a)||(r=t-(this.x+this.radius),r*r+i*i<=a))return!0}return!1};/*!
 * @pixi/display - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nt.SORTABLE_CHILDREN=!1;var Ki=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Ki.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};Ki.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0};Ki.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?tn.EMPTY:(t=t||new tn(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)};Ki.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)};Ki.prototype.addQuad=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY,o=t[0],s=t[1];n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,o=t[2],s=t[3],n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,o=t[4],s=t[5],n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,o=t[6],s=t[7],n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,this.minX=n,this.minY=r,this.maxX=i,this.maxY=a};Ki.prototype.addFrame=function(t,n,r,i,a){var o=t.worldTransform,s=o.a,u=o.b,l=o.c,c=o.d,h=o.tx,f=o.ty,d=this.minX,v=this.minY,g=this.maxX,p=this.maxY,y=s*n+l*r+h,m=u*n+c*r+f;d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,y=s*i+l*r+h,m=u*i+c*r+f,d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,y=s*n+l*a+h,m=u*n+c*a+f,d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,y=s*i+l*a+h,m=u*i+c*a+f,d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,this.minX=d,this.minY=v,this.maxX=g,this.maxY=p};Ki.prototype.addVertexData=function(t,n,r){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,u=n;u<r;u+=2){var l=t[u],c=t[u+1];i=l<i?l:i,a=c<a?c:a,o=l>o?l:o,s=c>s?c:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s};Ki.prototype.addVertices=function(t,n,r,i){for(var a=t.worldTransform,o=a.a,s=a.b,u=a.c,l=a.d,c=a.tx,h=a.ty,f=this.minX,d=this.minY,v=this.maxX,g=this.maxY,p=r;p<i;p+=2){var y=n[p],m=n[p+1],w=o*y+u*m+c,b=l*m+s*y+h;f=w<f?w:f,d=b<d?b:d,v=w>v?w:v,g=b>g?b:g}this.minX=f,this.minY=d,this.maxX=v,this.maxY=g};Ki.prototype.addBounds=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY;this.minX=t.minX<n?t.minX:n,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>a?t.maxY:a};Ki.prototype.addBoundsMask=function(t,n){var r=t.minX>n.minX?t.minX:n.minX,i=t.minY>n.minY?t.minY:n.minY,a=t.maxX<n.maxX?t.maxX:n.maxX,o=t.maxY<n.maxY?t.maxY:n.maxY;if(r<=a&&i<=o){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=r<s?r:s,this.minY=i<u?i:u,this.maxX=a>l?a:l,this.maxY=o>c?o:c}};Ki.prototype.addBoundsArea=function(t,n){var r=t.minX>n.x?t.minX:n.x,i=t.minY>n.y?t.minY:n.y,a=t.maxX<n.x+n.width?t.maxX:n.x+n.width,o=t.maxY<n.y+n.height?t.maxY:n.y+n.height;if(r<=a&&i<=o){var s=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=r<s?r:s,this.minY=i<u?i:u,this.maxX=a>l?a:l,this.maxY=o>c?o:c}};var Sr=function(e){function t(){e.call(this),this.tempDisplayObjectParent=null,this.transform=new Jo,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ki,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return t.mixin=function(i){for(var a=Object.keys(i),o=0;o<a.length;++o){var s=a[o];Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(i,s))}},n._tempDisplayObjectParent.get=function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent},t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(i,a){return i||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),a||(this._boundsRect||(this._boundsRect=new tn),a=this._boundsRect),this._bounds.getRectangle(a)},t.prototype.getLocalBounds=function(i){var a=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,i||(this._localBoundsRect||(this._localBoundsRect=new tn),i=this._localBoundsRect);var s=this.getBounds(!1,i);return this.parent=o,this.transform=a,s},t.prototype.toGlobal=function(i,a,o){return o===void 0&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(i,a)},t.prototype.toLocal=function(i,a,o,s){return a&&(i=a.toGlobal(i,o,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(i,o)},t.prototype.render=function(i){},t.prototype.setParent=function(i){if(!i||!i.addChild)throw new Error("setParent: Argument must be a Container");return i.addChild(this),i},t.prototype.setTransform=function(i,a,o,s,u,l,c,h,f){return i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=1),s===void 0&&(s=1),u===void 0&&(u=0),l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=0),f===void 0&&(f=0),this.position.x=i,this.position.y=a,this.scale.x=o||1,this.scale.y=s||1,this.rotation=u,this.skew.x=l,this.skew.y=c,this.pivot.x=h,this.pivot.y=f,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n.x.get=function(){return this.position.x},n.x.set=function(r){this.transform.position.x=r},n.y.get=function(){return this.position.y},n.y.set=function(r){this.transform.position.y=r},n.worldTransform.get=function(){return this.transform.worldTransform},n.localTransform.get=function(){return this.transform.localTransform},n.position.get=function(){return this.transform.position},n.position.set=function(r){this.transform.position.copyFrom(r)},n.scale.get=function(){return this.transform.scale},n.scale.set=function(r){this.transform.scale.copyFrom(r)},n.pivot.get=function(){return this.transform.pivot},n.pivot.set=function(r){this.transform.pivot.copyFrom(r)},n.skew.get=function(){return this.transform.skew},n.skew.set=function(r){this.transform.skew.copyFrom(r)},n.rotation.get=function(){return this.transform.rotation},n.rotation.set=function(r){this.transform.rotation=r},n.angle.get=function(){return this.transform.rotation*Tne},n.angle.set=function(r){this.transform.rotation=r*Pne},n.zIndex.get=function(){return this._zIndex},n.zIndex.set=function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},n.worldVisible.get=function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},n.mask.get=function(){return this._mask},n.mask.set=function(r){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=r,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(t.prototype,n),t}(gl);Sr.prototype.displayObjectUpdateTransform=Sr.prototype.updateTransform;function Ine(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var yn=function(e){function t(){e.call(this),this.children=[],this.sortableChildren=Nt.SORTABLE_CHILDREN,this.sortDirty=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0}};return t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(i){var a=arguments,o=arguments.length;if(o>1)for(var s=0;s<o;s++)this.addChild(a[s]);else i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this);return i},t.prototype.addChildAt=function(i,a){if(a<0||a>this.children.length)throw new Error(i+"addChildAt: The index "+a+" supplied is out of bounds "+this.children.length);return i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.splice(a,0,i),this._boundsID++,this.onChildrenChange(a),i.emit("added",this),this.emit("childAdded",i,this,a),i},t.prototype.swapChildren=function(i,a){if(i!==a){var o=this.getChildIndex(i),s=this.getChildIndex(a);this.children[o]=a,this.children[s]=i,this.onChildrenChange(o<s?o:s)}},t.prototype.getChildIndex=function(i){var a=this.children.indexOf(i);if(a===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return a},t.prototype.setChildIndex=function(i,a){if(a<0||a>=this.children.length)throw new Error("The index "+a+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(i);bc(this.children,o,1),this.children.splice(a,0,i),this.onChildrenChange(a)},t.prototype.getChildAt=function(i){if(i<0||i>=this.children.length)throw new Error("getChildAt: Index ("+i+") does not exist.");return this.children[i]},t.prototype.removeChild=function(i){var a=arguments,o=arguments.length;if(o>1)for(var s=0;s<o;s++)this.removeChild(a[s]);else{var u=this.children.indexOf(i);if(u===-1)return null;i.parent=null,i.transform._parentID=-1,bc(this.children,u,1),this._boundsID++,this.onChildrenChange(u),i.emit("removed",this),this.emit("childRemoved",i,this,u)}return i},t.prototype.removeChildAt=function(i){var a=this.getChildAt(i);return a.parent=null,a.transform._parentID=-1,bc(this.children,i,1),this._boundsID++,this.onChildrenChange(i),a.emit("removed",this),this.emit("childRemoved",a,this,i),a},t.prototype.removeChildren=function(i,a){i===void 0&&(i=0);var o=i,s=typeof a=="number"?a:this.children.length,u=s-o,l;if(u>0&&u<=s){l=this.children.splice(o,u);for(var c=0;c<l.length;++c)l[c].parent=null,l[c].transform&&(l[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(i);for(var h=0;h<l.length;++h)l[h].emit("removed",this),this.emit("childRemoved",l[h],this,h);return l}else if(u===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var i=!1,a=0,o=this.children.length;a<o;++a){var s=this.children[a];s._lastSortedIndex=a,!i&&s.zIndex!==0&&(i=!0)}i&&this.children.length>1&&this.children.sort(Ine),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var i=0,a=this.children.length;i<a;++i){var o=this.children[i];o.visible&&o.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var i=0;i<this.children.length;i++){var a=this.children[i];!a.visible||!a.renderable||(a.calculateBounds(),a._mask?(a._mask.calculateBounds(),this._bounds.addBoundsMask(a._bounds,a._mask._bounds)):a.filterArea?this._bounds.addBoundsArea(a._bounds,a.filterArea):this._bounds.addBounds(a._bounds))}this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.render=function(i){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(i);else{this._render(i);for(var a=0,o=this.children.length;a<o;++a)this.children[a].render(i)}},t.prototype.renderAdvanced=function(i){i.batch.flush();var a=this.filters,o=this._mask;if(a){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<a.length;s++)a[s].enabled&&this._enabledFilters.push(a[s]);this._enabledFilters.length&&i.filter.push(this,this._enabledFilters)}o&&i.mask.push(this,this._mask),this._render(i);for(var u=0,l=this.children.length;u<l;u++)this.children[u].render(i);i.batch.flush(),o&&i.mask.pop(this,this._mask),a&&this._enabledFilters&&this._enabledFilters.length&&i.filter.pop()},t.prototype._render=function(i){},t.prototype.destroy=function(i){e.prototype.destroy.call(this),this.sortDirty=!1;var a=typeof i=="boolean"?i:i&&i.children,o=this.removeChildren(0,this.children.length);if(a)for(var s=0;s<o.length;++s)o[s].destroy(i)},n.width.get=function(){return this.scale.x*this.getLocalBounds().width},n.width.set=function(r){var i=this.getLocalBounds().width;i!==0?this.scale.x=r/i:this.scale.x=1,this._width=r},n.height.get=function(){return this.scale.y*this.getLocalBounds().height},n.height.set=function(r){var i=this.getLocalBounds().height;i!==0?this.scale.y=r/i:this.scale.y=1,this._height=r},Object.defineProperties(t.prototype,n),t}(Sr);yn.prototype.containerUpdateTransform=yn.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mne={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};Sr.mixin(Mne);var Dne=9,Yg=100,Fne=0,Bne=0,IF=2,qA=1,kne=-1e3,Rne=-1e3,Lne=2,di=function(t){this._hookDiv=null,(zo.tablet||zo.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width=Yg+"px",n.style.height=Yg+"px",n.style.position="absolute",n.style.top=Fne+"px",n.style.left=Bne+"px",n.style.zIndex=IF,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};di.prototype.createTouchHook=function(){var t=this,n=document.createElement("button");n.style.width=qA+"px",n.style.height=qA+"px",n.style.position="absolute",n.style.top=kne+"px",n.style.left=Rne+"px",n.style.zIndex=Lne,n.style.backgroundColor="#FF0000",n.title="HOOK DIV",n.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(n),this._hookDiv=n};di.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)};di.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))};di.prototype.deactivate=function(){!this.isActive||this.isMobileAccessibility||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};di.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var n=t.children,r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}};di.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var o=this.children[a];if(o.renderId!==this.renderId)o._accessibleActive=!1,bc(this.children,a,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,a--,this.children.length===0&&this.deactivate();else{i=o._accessibleDiv;var s=o.hitArea,u=o.worldTransform;o.hitArea?(i.style.left=(u.tx+s.x*u.a)*n+"px",i.style.top=(u.ty+s.y*u.d)*r+"px",i.style.width=s.width*u.a*n+"px",i.style.height=s.height*u.d*r+"px"):(s=o.getBounds(),this.capHitArea(s),i.style.left=s.x*n+"px",i.style.top=s.y*r+"px",i.style.width=s.width*n+"px",i.style.height=s.height*r+"px",i.title!==o.accessibleTitle&&o.accessibleTitle!==null&&(i.title=o.accessibleTitle),i.getAttribute("aria-label")!==o.accessibleHint&&o.accessibleHint!==null&&i.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}};di.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)};di.prototype.addChild=function(t){var n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=Yg+"px",n.style.height=Yg+"px",n.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=IF,n.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&t.accessibleTitle!==null?n.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(n.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&n.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=n,n.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex};di.prototype._onClick=function(t){var n=this.renderer.plugins.interaction;n.dispatchEvent(t.target.displayObject,"click",n.eventData),n.dispatchEvent(t.target.displayObject,"pointertap",n.eventData),n.dispatchEvent(t.target.displayObject,"tap",n.eventData)};di.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var n=this.renderer.plugins.interaction;n.dispatchEvent(t.target.displayObject,"mouseover",n.eventData)};di.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var n=this.renderer.plugins.interaction;n.dispatchEvent(t.target.displayObject,"mouseout",n.eventData)};di.prototype._onKeyDown=function(t){t.keyCode===Dne&&this.activate()};di.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()};di.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};/*!
 * @pixi/runner - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var In=function(t){this.items=[],this._name=t,this._aliasCount=0},y2={empty:{configurable:!0},name:{configurable:!0}};In.prototype.emit=function(t,n,r,i,a,o,s,u){if(arguments.length>8)throw new Error("max arguments reached");var l=this,c=l.name,h=l.items;this._aliasCount++;for(var f=0,d=h.length;f<d;f++)h[f][c](t,n,r,i,a,o,s,u);return h===this.items&&this._aliasCount--,this};In.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))};In.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this};In.prototype.remove=function(t){var n=this.items.indexOf(t);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this};In.prototype.contains=function(t){return this.items.indexOf(t)!==-1};In.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this};In.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null};y2.empty.get=function(){return this.items.length===0};y2.name.get=function(){return this._name};Object.defineProperties(In.prototype,y2);In.prototype.dispatch=In.prototype.emit;In.prototype.run=In.prototype.emit;/*!
 * @pixi/ticker - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nt.TARGET_FPMS=.06;var nf={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},yl=function(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=!1),this.fn=t,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1};yl.prototype.match=function(t,n){return n=n||null,this.fn===t&&this.context===n};yl.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n};yl.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this};yl.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=t?null:n,this.previous=null,n};var hn=function(){var t=this;this._head=new yl(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Nt.TARGET_FPMS,this.elapsedMS=1/Nt.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(n){t._requestId=null,t.started&&(t.update(n),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},rf={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},b2={shared:{configurable:!0},system:{configurable:!0}};hn.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))};hn.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)};hn.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};hn.prototype.add=function(t,n,r){return r===void 0&&(r=nf.NORMAL),this._addListener(new yl(t,n,r))};hn.prototype.addOnce=function(t,n,r){return r===void 0&&(r=nf.NORMAL),this._addListener(new yl(t,n,r,!0))};hn.prototype._addListener=function(t){var n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this};hn.prototype.remove=function(t,n){for(var r=this._head.next;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this};hn.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};hn.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};hn.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}};hn.prototype.update=function(t){t===void 0&&(t=performance.now());var n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Nt.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t};rf.FPS.get=function(){return 1e3/this.elapsedMS};rf.minFPS.get=function(){return 1e3/this._maxElapsedMS};rf.minFPS.set=function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,Nt.TARGET_FPMS);this._maxElapsedMS=1/n};rf.maxFPS.get=function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0};rf.maxFPS.set=function(e){if(e===0)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}};b2.shared.get=function(){if(!hn._shared){var e=hn._shared=new hn;e.autoStart=!0,e._protected=!0}return hn._shared};b2.system.get=function(){if(!hn._system){var e=hn._system=new hn;e.autoStart=!0,e._protected=!0}return hn._system};Object.defineProperties(hn.prototype,rf);Object.defineProperties(hn,b2);var w2=function(){};w2.init=function(t){var n=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,nf.LOW)},get:function(){return this._ticker}}),this.stop=function(){n._ticker.stop()},this.start=function(){n._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?hn.shared:new hn,t.autoStart&&this.start()};w2.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};/*!
 * @pixi/core - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mi=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new In("setRealSize"),this.onUpdate=new In("update"),this.onError=new In("onError")},i0={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Mi.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)};Mi.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)};Mi.prototype.resize=function(t,n){(t!==this._width||n!==this._height)&&(this._width=t,this._height=n,this.onResize.run(t,n))};i0.valid.get=function(){return!!this._width&&!!this._height};Mi.prototype.update=function(){this.destroyed||this.onUpdate.run()};Mi.prototype.load=function(){return Promise.resolve()};i0.width.get=function(){return this._width};i0.height.get=function(){return this._height};Mi.prototype.upload=function(t,n,r){return!1};Mi.prototype.style=function(t,n,r){return!1};Mi.prototype.dispose=function(){};Mi.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)};Object.defineProperties(Mi.prototype,i0);var Ed=function(e){function t(n){var r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;e.call(this,r,i),this.source=n,this.noSubImage=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.crossOrigin=function(r,i,a){a===void 0&&i.indexOf("data:")!==0?r.crossOrigin=Ane(i):a!==!1&&(r.crossOrigin=typeof a=="string"?a:"anonymous")},t.prototype.upload=function(r,i,a,o){var s=r.gl,u=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),!this.noSubImage&&i.target===s.TEXTURE_2D&&a.width===u&&a.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,i.type,o):(a.width=u,a.height=l,s.texImage2D(i.target,0,i.format,i.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(r,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Mi),x2=function(e){function t(n,r){if(r=r||{},!(n instanceof HTMLImageElement)){var i=new Image;e.crossOrigin(i,n,r.crossorigin),i.src=n,n=i}e.call(this,n),!n.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=n.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap!==void 0?r.createBitmap:Nt.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=r.premultiplyAlpha!==!1,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(r){var i=this;return r!==void 0&&(this.createBitmap=r),this._load?this._load:(this._load=new Promise(function(a){i.url=i.source.src;var o=i,s=o.source,u=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,i.createBitmap?a(i.process()):a(i))};s.complete&&s.src?u():(s.onload=u,s.onerror=function(l){return i.onError.run(l)})}),this._load)},t.prototype.process=function(){var r=this;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(i){return r.destroyed?Promise.reject():(r.bitmap=i,r.update(),r._process=null,Promise.resolve(r))}),this._process)},t.prototype.upload=function(r,i,a){if(i.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return e.prototype.upload.call(this,r,i,a);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,i,a,this.bitmap),!this.preserveBitmap){var o=!0;for(var s in i._glTextures){var u=i._glTextures[s];if(u!==a&&u.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t}(Ed),Lb=[];function MF(e,t){if(!e)return null;var n="";if(typeof e=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=Lb.length-1;i>=0;--i){var a=Lb[i];if(a.test&&a.test(e,n))return new a(e,t)}return new x2(e,t)}var _2=function(e){function t(n,r){var i=r||{},a=i.width,o=i.height;if(!a||!o)throw new Error("BufferResource width or height invalid");e.call(this,a,o),this.data=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(r,i,a){var o=r.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),a.width===i.width&&a.height===i.height?o.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(a.width=i.width,a.height=i.height,o.texImage2D(i.target,0,a.internalFormat,i.width,i.height,0,i.format,a.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(Mi),Nne={scaleMode:EF.NEAREST,format:v2.RGBA,premultiplyAlpha:!1},Vn=function(e){function t(r,i){r===void 0&&(r=null),i===void 0&&(i=null),e.call(this),i=i||{};var a=i.premultiplyAlpha,o=i.mipmap,s=i.anisotropicLevel,u=i.scaleMode,l=i.width,c=i.height,h=i.wrapMode,f=i.format,d=i.type,v=i.target,g=i.resolution,p=i.resourceOptions;r&&!(r instanceof Mi)&&(r=MF(r,p),r.internal=!0),this.width=l||0,this.height=c||0,this.resolution=g||Nt.RESOLUTION,this.mipmap=o!==void 0?o:Nt.MIPMAP_TEXTURES,this.anisotropicLevel=s!==void 0?s:Nt.ANISOTROPIC_LEVEL,this.wrapMode=h||Nt.WRAP_MODE,this.scaleMode=u!==void 0?u:Nt.SCALE_MODE,this.format=f||v2.RGBA,this.type=d||oi.UNSIGNED_BYTE,this.target=v||Vg.TEXTURE_2D,this.premultiplyAlpha=a!==!1,this.uid=jc(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={realWidth:{configurable:!0},realHeight:{configurable:!0}};return n.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},n.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},t.prototype.setStyle=function(i,a){var o;return i!==void 0&&i!==this.scaleMode&&(this.scaleMode=i,o=!0),a!==void 0&&a!==this.mipmap&&(this.mipmap=a,o=!0),o&&this.dirtyStyleId++,this},t.prototype.setSize=function(i,a,o){return this.resolution=o||this.resolution,this.width=i,this.height=a,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(i,a,o){return this.resolution=o||this.resolution,this.width=i/this.resolution,this.height=a/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=YA(this.realWidth)&&YA(this.realHeight)},t.prototype.setResolution=function(i){var a=this.resolution;return a===i?this:(this.resolution=i,this.valid&&(this.width=this.width*a/i,this.height=this.height*a/i,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(i){if(this.resource===i)return this;if(this.resource)throw new Error("Resource can be set only once");return i.bind(this),this.resource=i,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(i){this.emit("error",this,i)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete du[this.cacheId],delete Fo[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.from=function(i,a){var o=null;typeof i=="string"?o=i:(i._pixiId||(i._pixiId="pixiid_"+jc()),o=i._pixiId);var s=du[o];return s||(s=new t(i,a),s.cacheId=o,t.addToCache(s,o)),s},t.fromBuffer=function(i,a,o,s){i=i||new Float32Array(a*o*4);var u=new _2(i,{width:a,height:o}),l=i instanceof Float32Array?oi.FLOAT:oi.UNSIGNED_BYTE;return new t(u,Object.assign(Nne,s||{width:a,height:o,type:l}))},t.addToCache=function(i,a){a&&(i.textureCacheIds.indexOf(a)===-1&&i.textureCacheIds.push(a),du[a]&&console.warn("BaseTexture added to the cache with an id ["+a+"] that already had an entry"),du[a]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var a=du[i];if(a){var o=a.textureCacheIds.indexOf(i);return o>-1&&a.textureCacheIds.splice(o,1),delete du[i],a}}else if(i&&i.textureCacheIds){for(var s=0;s<i.textureCacheIds.length;++s)delete du[i.textureCacheIds[s]];return i.textureCacheIds.length=0,i}return null},Object.defineProperties(t.prototype,n),t}(gl);Vn._globalBatch=0;var DF=function(e){function t(n,r){r=r||{};var i,a=n;Array.isArray(n)&&(i=n,a=n.length),e.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<a;o++){var s=new Vn;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=a,this._load=null,i)for(var u=0;u<a;u++)this.addResourceAt(MF(i[u],r),u)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.dispose=function(){for(var r=0,i=this.length;r<i;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,i){var a=this.items[i];if(!a)throw new Error("Index "+i+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[i].setResource(r),this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Vg.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var i=0;i<this.length;i++)this.items[i].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}),a=i.map(function(o){return o.load()});return this._load=Promise.all(a).then(function(){var o=i[0],s=o.width,u=o.height;return r.resize(s,u),Promise.resolve(r)}),this._load},t.prototype.upload=function(r,i,a){var o=this,s=o.length,u=o.itemDirtyIds,l=o.items,c=r.gl;a.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,i.format,this._width,this._height,s,0,i.format,i.type,null);for(var h=0;h<s;h++){var f=l[h];u[h]<f.dirtyId&&(u[h]=f.dirtyId,f.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,h,f.resource.width,f.resource.height,1,i.format,i.type,f.resource.source))}return!0},t}(Mi),FF=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(r){var i=window.OffscreenCanvas;return i&&r instanceof i?!0:r instanceof HTMLCanvasElement},t}(Ed),BF=function(e){function t(n,r){if(r=r||{},e.call(this,n,r),this.length!==t.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var i=0;i<t.SIDES;i++)this.items[i].target=Vg.TEXTURE_CUBE_MAP_POSITIVE_X+i;r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=Vg.TEXTURE_CUBE_MAP},t.prototype.upload=function(r,i,a){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var u=this.items[s];o[s]<u.dirtyId&&(o[s]=u.dirtyId,u.valid&&u.resource.upload(r,u,a))}return!0},t}(DF);BF.SIDES=6;var kF=function(e){function t(n,r){r=r||{},e.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=n,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(i){if(r._resolve=function(){r.resize(r.source.width,r.source.height),i(r)},/^\<svg/.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,i=new Image;e.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(a){i.onerror=null,r.onError.run(a)},i.onload=function(){var a=i.width,o=i.height;if(!a||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=a*r.scale,u=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(s=r._overrideWidth||r._overrideHeight/o*a,u=r._overrideHeight||r._overrideWidth/a*o),s=Math.round(s),u=Math.round(u);var l=r.source;l.width=s,l.height=u,l._pixiId="canvas_"+jc(),l.getContext("2d").drawImage(i,0,0,a,o,0,0,s,u),r._resolve(),r._resolve=null}},t.getSize=function(r){var i=t.SVG_SIZE.exec(r),a={};return i&&(a[i[1]]=Math.round(parseFloat(i[3])),a[i[5]]=Math.round(parseFloat(i[7]))),a},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,i){return i==="svg"||typeof r=="string"&&r.indexOf("data:image/svg+xml;base64")===0||typeof r=="string"&&r.indexOf("<svg")===0},t}(Ed);kF.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var RF=function(e){function t(r,i){if(i=i||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]),e.crossOrigin(a,r[0].src||r[0],i.crossorigin);for(var o=0;o<r.length;++o){var s=document.createElement("source"),u=r[o],l=u.src,c=u.mime;l=l||r[o];var h=l.split("?").shift().toLowerCase(),f=h.substr(h.lastIndexOf(".")+1);c=c||"video/"+f,s.src=l,s.type=c,a.appendChild(s)}r=a}e.call(this,r),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=i.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),i.autoLoad!==!1&&this.load()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return t.prototype.update=function(i){if(i===void 0&&(i=0),!this.destroyed){var a=hn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-a),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this,i),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var i=this;if(this._load)return this._load;var a=this.source;return(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0),a.addEventListener("play",this._onPlayStart.bind(this)),a.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(a.addEventListener("canplay",this._onCanPlay),a.addEventListener("canplaythrough",this._onCanPlay),a.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){i.valid?o(i):(i._resolve=o,a.load())}),this._load},t.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},t.prototype._isSourcePlaying=function(){var i=this.source;return i.currentTime>0&&i.paused===!1&&i.ended===!1&&i.readyState>2},t.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(hn.shared.add(this.update,this),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(hn.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){var i=this,a=i.source;a.removeEventListener("canplay",this._onCanPlay),a.removeEventListener("canplaythrough",this._onCanPlay);var o=this.valid;this.resize(a.videoWidth,a.videoHeight),!o&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&a.play()},t.prototype.dispose=function(){this._isAutoUpdating&&hn.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),e.prototype.dispose.call(this)},n.autoUpdate.get=function(){return this._autoUpdate},n.autoUpdate.set=function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isAutoUpdating?(hn.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(hn.shared.add(this.update,this),this._isAutoUpdating=!0))},n.updateFPS.get=function(){return this._updateFPS},n.updateFPS.set=function(r){r!==this._updateFPS&&(this._updateFPS=r)},t.test=function(i,a){return i instanceof HTMLVideoElement||t.TYPES.indexOf(a)>-1},Object.defineProperties(t.prototype,n),t}(Ed);RF.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var Une=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(r){return!!window.createImageBitmap&&r instanceof ImageBitmap},t}(Ed);Lb.push(x2,Une,FF,RF,kF,_2,BF,DF);var Di=function(t){this.renderer=t};Di.prototype.destroy=function(){this.renderer=null};var $ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(r,i,a){var o=r.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),a.width===i.width&&a.height===i.height?o.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(a.width=i.width,a.height=i.height,o.texImage2D(i.target,0,o.DEPTH_COMPONENT16,i.width,i.height,0,i.format,i.type,this.data)),!0},t}(_2),ls=function(t,n){this.width=Math.ceil(t||100),this.height=Math.ceil(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new In("disposeFramebuffer")},LF={colorTexture:{configurable:!0}};LF.colorTexture.get=function(){return this.colorTextures[0]};ls.prototype.addColorTexture=function(t,n){return t===void 0&&(t=0),this.colorTextures[t]=n||new Vn(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this};ls.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Vn(new $ne(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:v2.DEPTH_COMPONENT,type:oi.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this};ls.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this};ls.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this};ls.prototype.resize=function(t,n){if(t=Math.ceil(t),n=Math.ceil(n),!(t===this.width&&n===this.height)){this.width=t,this.height=n,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],a=i.resolution;i.setSize(t/a,n/a)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,n/o)}}};ls.prototype.dispose=function(){this.disposeRunner.run(this,!1)};Object.defineProperties(ls.prototype,LF);var pp=function(e){function t(n){if(typeof n=="number"){var r=arguments[0],i=arguments[1],a=arguments[2],o=arguments[3];n={width:r,height:i,scaleMode:a,resolution:o}}e.call(this,null,n);var s=n||{},u=s.width,l=s.height;this.mipmap=!1,this.width=Math.ceil(u)||100,this.height=Math.ceil(l)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new ls(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.stencilMaskStack=[],this.filterStack=[{}]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(r,i){r=Math.ceil(r),i=Math.ceil(i),this.framebuffer.resize(r*this.resolution,i*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.framebuffer=null},t}(Vn),S2=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};S2.prototype.set=function(t,n,r){var i=n.width,a=n.height;if(r){var o=t.width/2/i,s=t.height/2/a,u=t.x/i+o,l=t.y/a+s;r=Nn.add(r,Nn.NW),this.x0=u+o*Nn.uX(r),this.y0=l+s*Nn.uY(r),r=Nn.add(r,2),this.x1=u+o*Nn.uX(r),this.y1=l+s*Nn.uY(r),r=Nn.add(r,2),this.x2=u+o*Nn.uX(r),this.y2=l+s*Nn.uY(r),r=Nn.add(r,2),this.x3=u+o*Nn.uX(r),this.y3=l+s*Nn.uY(r)}else this.x0=t.x/i,this.y0=t.y/a,this.x1=(t.x+t.width)/i,this.y1=t.y/a,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/a,this.x3=t.x/i,this.y3=(t.y+t.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var ZA=new S2,nn=function(e){function t(r,i,a,o,s,u){if(e.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new tn(0,0,1,1)),r instanceof t&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=ZA,this.uvMatrix=null,this.orig=a||i,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=u?new Gn(u.x,u.y):new Gn(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(i){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=i.width,this._frame.height=i.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(i){if(this.baseTexture){if(i){var a=this.baseTexture,o=a.resource;o&&Fo[o.url]&&t.removeFromCache(o.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===ZA&&(this._uvs=new S2),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(i,a){a===void 0&&(a={});var o=null;typeof i=="string"?o=i:(i._pixiId||(i._pixiId="pixiid_"+jc()),o=i._pixiId);var s=Fo[o];return s||(a.resolution||(a.resolution=Hg(i)),s=new t(new Vn(i,a)),s.baseTexture.cacheId=o,Vn.addToCache(s.baseTexture,o),t.addToCache(s,o)),s},t.fromBuffer=function(i,a,o,s){return new t(Vn.fromBuffer(i,a,o,s))},t.fromLoader=function(i,a,o){var s=new x2(i);s.url=a;var u=new Vn(s,{scaleMode:Nt.SCALE_MODE,resolution:Hg(a)}),l=new t(u);return o||(o=a),Vn.addToCache(l.baseTexture,o),t.addToCache(l,o),o!==a&&(Vn.addToCache(l.baseTexture,a),t.addToCache(l,a)),l},t.addToCache=function(i,a){a&&(i.textureCacheIds.indexOf(a)===-1&&i.textureCacheIds.push(a),Fo[a]&&console.warn("Texture added to the cache with an id ["+a+"] that already had an entry"),Fo[a]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var a=Fo[i];if(a){var o=a.textureCacheIds.indexOf(i);return o>-1&&a.textureCacheIds.splice(o,1),delete Fo[i],a}}else if(i&&i.textureCacheIds){for(var s=0;s<i.textureCacheIds.length;++s)Fo[i.textureCacheIds[s]]===i&&delete Fo[i.textureCacheIds[s]];return i.textureCacheIds.length=0,i}return null},n.resolution.get=function(){return this.baseTexture.resolution},n.frame.get=function(){return this._frame},n.frame.set=function(r){this._frame=r,this.noFrame=!1;var i=r.x,a=r.y,o=r.width,s=r.height,u=i+o>this.baseTexture.width,l=a+s>this.baseTexture.height;if(u||l){var c=u&&l?"and":"or",h="X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width,f="Y: "+a+" + "+s+" = "+(a+s)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+c+" "+f)}this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},n.rotate.get=function(){return this._rotate},n.rotate.set=function(r){this._rotate=r,this.valid&&this.updateUvs()},n.width.get=function(){return this.orig.width},n.height.get=function(){return this.orig.height},Object.defineProperties(t.prototype,n),t}(gl);function Vne(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new nn(new Vn(new FF(e)))}function a0(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}nn.EMPTY=new nn(new Vn);a0(nn.EMPTY);a0(nn.EMPTY.baseTexture);nn.WHITE=Vne();a0(nn.WHITE);a0(nn.WHITE.baseTexture);var af=function(e){function t(n,r){var i=null;if(!(n instanceof pp)){var a=arguments[1],o=arguments[2],s=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,n=new pp({width:a,height:o,scaleMode:s,resolution:u})}e.call(this,n,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(r,i,a){a===void 0&&(a=!0),r=Math.ceil(r),i=Math.ceil(i),this.valid=r>0&&i>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=i,a&&this.baseTexture.resize(r,i),this.updateUvs()},t.prototype.setResolution=function(r){var i=this,a=i.baseTexture;a.resolution!==r&&(a.setResolution(r),this.resize(a.width,a.height,!1))},t.create=function(r){return typeof r=="number"&&(r={width:r,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new pp(r))},t}(nn),$a=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};$a.prototype.createTexture=function(t,n){var r=new pp(Object.assign({width:t,height:n,resolution:1},this.textureOptions));return new af(r)};$a.prototype.getOptimalTexture=function(t,n,r){r===void 0&&(r=1);var i=$a.SCREEN_KEY;t*=r,n*=r,(!this.enableFullScreen||t!==this._pixelsWidth||n!==this._pixelsHeight)&&(t=jg(t),n=jg(n),i=(t&65535)<<16|n&65535),this.texturePool[i]||(this.texturePool[i]=[]);var a=this.texturePool[i].pop();return a||(a=this.createTexture(t,n)),a.filterPoolKey=i,a.setResolution(r),a};$a.prototype.getFilterTexture=function(t,n){var r=this.getOptimalTexture(t.width,t.height,n||t.resolution);return r.filterFrame=t.filterFrame,r};$a.prototype.returnTexture=function(t){var n=t.filterPoolKey;t.filterFrame=null,this.texturePool[n].push(t)};$a.prototype.returnFilterTexture=function(t){this.returnTexture(t)};$a.prototype.clear=function(t){if(t=t!==!1,t)for(var n in this.texturePool){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}};$a.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){var n=$a.SCREEN_KEY,r=this.texturePool[n];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}};$a.SCREEN_KEY="screen";var Hh=function(t,n,r,i,a,o,s){r===void 0&&(r=!1),i===void 0&&(i=5126),this.buffer=t,this.size=n,this.normalized=r,this.type=i,this.stride=a,this.start=o,this.instance=s};Hh.prototype.destroy=function(){this.buffer=null};Hh.from=function(t,n,r,i,a){return new Hh(t,n,r,i,a)};var zne=0,Fr=function(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=zne++,this.disposeRunner=new In("disposeBuffer")};Fr.prototype.update=function(t){this.data=t||this.data,this._updateID++};Fr.prototype.dispose=function(){this.disposeRunner.run(this,!1)};Fr.prototype.destroy=function(){this.dispose(),this.data=null};Fr.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Fr(t)};function NF(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var jne={Float32Array,Uint32Array,Int32Array,Uint8Array};function Hne(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var o=new ArrayBuffer(n*4),s=null,u=0,l=0;l<e.length;l++){var c=t[l],h=e[l],f=NF(h);i[f]||(i[f]=new jne[f](o)),s=i[f];for(var d=0;d<h.length;d++){var v=(d/c|0)*r+u,g=d%c;s[v+g]=h[d]}u+=c}return new Float32Array(o)}var UF={5126:4,5123:2,5121:1},Gne=0,Yne={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Er=function(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=Gne++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new In("disposeGeometry"),this.refCount=0};Er.prototype.addAttribute=function(t,n,r,i,a,o,s,u){if(i===void 0&&(i=!1),u===void 0&&(u=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n.data||(n instanceof Array&&(n=new Float32Array(n)),n=new Fr(n));var l=t.split("|");if(l.length>1){for(var c=0;c<l.length;c++)this.addAttribute(l[c],n,r,i,a);return this}var h=this.buffers.indexOf(n);return h===-1&&(this.buffers.push(n),h=this.buffers.length-1),this.attributes[t]=new Hh(h,r,i,a,o,s,u),this.instanced=this.instanced||u,this};Er.prototype.getAttribute=function(t){return this.attributes[t]};Er.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]};Er.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Fr(t)),t.index=!0,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this};Er.prototype.getIndex=function(){return this.indexBuffer};Er.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],n=[],r=new Fr,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];t.push(o.data),n.push(a.size*UF[a.type]/4),a.buffer=0}for(r.data=Hne(t,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this};Er.prototype.getSize=function(){for(var t in this.attributes){var n=this.attributes[t],r=this.buffers[n.buffer];return r.data.length/(n.stride/4||n.size)}return 0};Er.prototype.dispose=function(){this.disposeRunner.run(this,!1)};Er.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null};Er.prototype.clone=function(){for(var t=new Er,n=0;n<this.buffers.length;n++)t.buffers[n]=new Fr(this.buffers[n].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Hh(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t};Er.merge=function(t){for(var n=new Er,r=[],i=[],a=[],o,s=0;s<t.length;s++){o=t[s];for(var u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,a[u]=0}for(var l=0;l<o.buffers.length;l++)r[l]=new Yne[NF(o.buffers[l].data)](i[l]),n.buffers[l]=new Fr(r[l]);for(var c=0;c<t.length;c++){o=t[c];for(var h=0;h<o.buffers.length;h++)r[h].set(o.buffers[h].data,a[h]),a[h]+=o.buffers[h].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.index=!0;for(var f=0,d=0,v=0,g=0,p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){g=p;break}for(var y in o.attributes){var m=o.attributes[y];(m.buffer|0)===g&&(d+=m.size*UF[m.type]/4)}for(var w=0;w<t.length;w++){for(var b=t[w].indexBuffer.data,x=0;x<b.length;x++)n.indexBuffer.data[x+v]+=f;f+=o.buffers[g].data.length/d,v+=b.length}}return n};var Xne=function(e){function t(){e.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Er),$F=function(e){function t(){e.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Fr(this.vertices),this.uvBuffer=new Fr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,i){var a=0,o=0;return this.uvs[0]=a,this.uvs[1]=o,this.uvs[2]=a+i.width/r.width,this.uvs[3]=o,this.uvs[4]=a+i.width/r.width,this.uvs[5]=o+i.height/r.height,this.uvs[6]=a,this.uvs[7]=o+i.height/r.height,a=i.x,o=i.y,this.vertices[0]=a,this.vertices[1]=o,this.vertices[2]=a+i.width,this.vertices[3]=o,this.vertices[4]=a+i.width,this.vertices[5]=o+i.height,this.vertices[6]=a,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Er),Wne=0,ji=function(t,n){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Wne++,this.static=!!n};ji.prototype.update=function(){this.dirtyId++};ji.prototype.add=function(t,n,r){this.uniforms[t]=new ji(n,r)};ji.from=function(t,n){return new ji(t,n)};var VF=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new tn,this.destinationFrame=new tn,this.filters=[]};VF.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Kne=function(e){function t(n){e.call(this,n),this.defaultFilterStack=[{}],this.texturePool=new $a,this.texturePool.setScreenSize(n.view),this.statePool=[],this.quad=new Xne,this.quadUv=new $F,this.tempRect=new tn,this.activeState={},this.globalUniforms=new ji({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=n.view.width,this._pixelsHeight=n.view.height}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(r,i){for(var a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new VF,u=i[0].resolution,l=i[0].padding,c=i[0].autoFit,h=i[0].legacy,f=1;f<i.length;f++){var d=i[f];u=Math.min(u,d.resolution),l=Math.max(l,d.padding),c=c||d.autoFit,h=h||d.legacy}o.length===1&&(this.defaultFilterStack[0].renderTexture=a.renderTexture.current),o.push(s),s.resolution=u,s.legacy=h,s.target=r,s.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),s.sourceFrame.pad(l),c&&s.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),s.sourceFrame.ceil(u),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u),s.filters=i,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height,s.renderTexture.filterFrame=s.sourceFrame,a.renderTexture.bind(s.renderTexture,s.sourceFrame),a.renderTexture.clear()},t.prototype.pop=function(){var r=this.defaultFilterStack,i=r.pop(),a=i.filters;this.activeState=i;var o=this.globalUniforms.uniforms;o.outputFrame=i.sourceFrame,o.resolution=i.resolution;var s=o.inputSize,u=o.inputPixel,l=o.inputClamp;if(s[0]=i.destinationFrame.width,s[1]=i.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],u[0]=s[0]*i.resolution,u[1]=s[1]*i.resolution,u[2]=1/u[0],u[3]=1/u[1],l[0]=.5*u[2],l[1]=.5*u[3],l[2]=i.sourceFrame.width*s[2]-.5*u[2],l[3]=i.sourceFrame.height*s[3]-.5*u[3],i.legacy){var c=o.filterArea;c[0]=i.destinationFrame.width,c[1]=i.destinationFrame.height,c[2]=i.sourceFrame.x,c[3]=i.sourceFrame.y,o.filterClamp=o.inputClamp}this.globalUniforms.update();var h=r[r.length-1];if(a.length===1)a[0].apply(this,i.renderTexture,h.renderTexture,!1,i),this.returnFilterTexture(i.renderTexture);else{var f=i.renderTexture,d=this.getOptimalFilterTexture(f.width,f.height,i.resolution);d.filterFrame=f.filterFrame;var v=0;for(v=0;v<a.length-1;++v){a[v].apply(this,f,d,!0,i);var g=f;f=d,d=g}a[v].apply(this,f,h.renderTexture,!1,i),this.returnFilterTexture(f),this.returnFilterTexture(d)}i.clear(),this.statePool.push(i)},t.prototype.applyFilter=function(r,i,a,o){var s=this.renderer;s.renderTexture.bind(a,a?a.filterFrame:null),o&&s.renderTexture.clear(),r.uniforms.uSampler=i,r.uniforms.filterGlobals=this.globalUniforms,s.state.set(r.state),s.shader.bind(r),r.legacy?(this.quadUv.map(i._frame,i.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Ms.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Ms.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,i){var a=this.activeState,o=a.sourceFrame,s=a.destinationFrame,u=i._texture,l=u.orig,c=r.set(s.width,0,0,s.height,o.x,o.y),h=i.worldTransform.copyTo(un.TEMP_MATRIX);return h.invert(),c.prepend(h),c.scale(1/l.width,1/l.height),c.translate(i.anchor.x,i.anchor.y),c},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,i,a){return a===void 0&&(a=1),this.texturePool.getOptimalTexture(r,i,a)},t.prototype.getFilterTexture=function(r,i){if(typeof r=="number"){var a=r;r=i,i=a}r=r||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(r.width,r.height,i||r.resolution);return o.filterFrame=r.filterFrame,o},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(Di),cs=function(t){this.renderer=t};cs.prototype.flush=function(){};cs.prototype.destroy=function(){this.renderer=null};cs.prototype.start=function(){};cs.prototype.stop=function(){this.flush()};cs.prototype.render=function(t){};var qne=function(e){function t(n){e.call(this,n),this.emptyRenderer=new cs(n),this.currentRenderer=this.emptyRenderer}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t}(Di);Nt.PREFER_ENV=zo.any?tl.WEBGL:tl.WEBGL2;var QA=0,Zne=function(e){function t(r){e.call(this,r),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isLost:{configurable:!0}};return n.isLost.get=function(){return!this.gl||this.gl.isContextLost()},t.prototype.contextChange=function(i){this.gl=i,this.renderer.gl=i,this.renderer.CONTEXT_UID=QA++,i.isContextLost()&&i.getExtension("WEBGL_lose_context")&&i.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(i){this.gl=i,this.validateContext(i),this.renderer.gl=i,this.renderer.CONTEXT_UID=QA++,this.renderer.runners.contextChange.run(i)},t.prototype.initFromOptions=function(i){var a=this.createContext(this.renderer.view,i);this.initFromContext(a)},t.prototype.createContext=function(i,a){var o;if(Nt.PREFER_ENV>=tl.WEBGL2&&(o=i.getContext("webgl2",a)),o)this.webGLVersion=2;else if(this.webGLVersion=1,o=i.getContext("webgl",a)||i.getContext("experimental-webgl",a),!o)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=o,this.getExtensions(),o},t.prototype.getExtensions=function(){var i=this,a=i.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:a.getExtension("WEBGL_lose_context"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:a.getExtension("OES_element_index_uint"),floatTexture:a.getExtension("OES_texture_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),textureHalfFloat:a.getExtension("OES_texture_half_float"),textureHalfFloatLinear:a.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:a.getExtension("EXT_color_buffer_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(i){i.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},t.prototype.destroy=function(){var i=this.renderer.view;i.removeEventListener("webglcontextlost",this.handleContextLost),i.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.gl.flush()},t.prototype.validateContext=function(i){var a=i.getContextAttributes();a.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(t.prototype,n),t}(Di),Qne=function(e){function t(r){e.call(this,r),this.managedFramebuffers=[],this.unknownFramebuffer=new ls(10,10)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return t.prototype.contextChange=function(){var i=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new tn,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var a=this.renderer.context.extensions.drawBuffers,o=this.renderer.context.extensions.depthTexture;Nt.PREFER_ENV===tl.WEBGL_LEGACY&&(a=null,o=null),a?i.drawBuffers=function(s){return a.drawBuffersWEBGL(s)}:(this.hasMRT=!1,i.drawBuffers=function(){}),o||(this.writeDepthTexture=!1)}},t.prototype.bind=function(i,a){var o=this,s=o.gl;if(i){var u=i.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(i);this.current!==i&&(this.current=i,s.bindFramebuffer(s.FRAMEBUFFER,u.framebuffer)),u.dirtyId!==i.dirtyId&&(u.dirtyId=i.dirtyId,u.dirtyFormat!==i.dirtyFormat?(u.dirtyFormat=i.dirtyFormat,this.updateFramebuffer(i)):u.dirtySize!==i.dirtySize&&(u.dirtySize=i.dirtySize,this.resizeFramebuffer(i)));for(var l=0;l<i.colorTextures.length;l++)i.colorTextures[l].texturePart?this.renderer.texture.unbind(i.colorTextures[l].texture):this.renderer.texture.unbind(i.colorTextures[l]);i.depthTexture&&this.renderer.texture.unbind(i.depthTexture),a?this.setViewport(a.x,a.y,a.width,a.height):this.setViewport(0,0,i.width,i.height)}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),a?this.setViewport(a.x,a.y,a.width,a.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(i,a,o,s){var u=this.viewport;(u.width!==o||u.height!==s||u.x!==i||u.y!==a)&&(u.x=i,u.y=a,u.width=o,u.height=s,this.gl.viewport(i,a,o,s))},n.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},t.prototype.clear=function(i,a,o,s){var u=this,l=u.gl;l.clearColor(i,a,o,s),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)},t.prototype.initFramebuffer=function(i){var a=this,o=a.gl,s={framebuffer:o.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return i.glFramebuffers[this.CONTEXT_UID]=s,this.managedFramebuffers.push(i),i.disposeRunner.add(this),s},t.prototype.resizeFramebuffer=function(i){var a=this,o=a.gl,s=i.glFramebuffers[this.CONTEXT_UID];s.stencil&&(o.bindRenderbuffer(o.RENDERBUFFER,s.stencil),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i.width,i.height));for(var u=i.colorTextures,l=0;l<u.length;l++)this.renderer.texture.bind(u[l],0);i.depthTexture&&this.renderer.texture.bind(i.depthTexture,0)},t.prototype.updateFramebuffer=function(i){var a=this,o=a.gl,s=i.glFramebuffers[this.CONTEXT_UID],u=i.colorTextures,l=u.length;o.drawBuffers||(l=Math.min(l,1));for(var c=[],h=0;h<l;h++){var f=i.colorTextures[h];f.texturePart?(this.renderer.texture.bind(f.texture,0),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+h,o.TEXTURE_CUBE_MAP_NEGATIVE_X+f.side,f.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(f,0),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+h,o.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0)),c.push(o.COLOR_ATTACHMENT0+h)}if(c.length>1&&o.drawBuffers(c),i.depthTexture){var d=this.writeDepthTexture;if(d){var v=i.depthTexture;this.renderer.texture.bind(v,0),o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,0)}}!s.stencil&&(i.stencil||i.depth)&&(s.stencil=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,s.stencil),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i.width,i.height),i.depthTexture||o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s.stencil))},t.prototype.disposeFramebuffer=function(i,a){var o=i.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(o){delete i.glFramebuffers[this.CONTEXT_UID];var u=this.managedFramebuffers.indexOf(i);u>=0&&this.managedFramebuffers.splice(u,1),i.disposeRunner.remove(this),a||(s.deleteFramebuffer(o.framebuffer),o.stencil&&s.deleteRenderbuffer(o.stencil))}},t.prototype.disposeAll=function(i){var a=this.managedFramebuffers;this.managedFramebuffers=[];for(var o=0;o<a.length;o++)this.disposeFramebuffer(a[o],i)},t.prototype.forceStencil=function(){var i=this.current;if(i){var a=i.glFramebuffers[this.CONTEXT_UID];if(!(!a||a.stencil)){i.enableStencil();var o=i.width,s=i.height,u=this.gl,l=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,l),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,o,s),a.stencil=l,u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,l)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new tn},Object.defineProperties(t.prototype,n),t}(Di),Jne=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Ny={5126:4,5123:2,5121:1},ere=function(e){function t(n){e.call(this,n),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!r.createVertexArray){var a=this.renderer.context.extensions.vertexArrayObject;Nt.PREFER_ENV===tl.WEBGL_LEGACY&&(a=null),a?(r.createVertexArray=function(){return a.createVertexArrayOES()},r.bindVertexArray=function(s){return a.bindVertexArrayOES(s)},r.deleteVertexArray=function(s){return a.deleteVertexArrayOES(s)}):(this.hasVao=!1,r.createVertexArray=function(){},r.bindVertexArray=function(){},r.deleteVertexArray=function(){})}if(!r.vertexAttribDivisor){var o=r.getExtension("ANGLE_instanced_arrays");o?(r.vertexAttribDivisor=function(s,u){return o.vertexAttribDivisorANGLE(s,u)},r.drawElementsInstanced=function(s,u,l,c,h){return o.drawElementsInstancedANGLE(s,u,l,c,h)},r.drawArraysInstanced=function(s,u,l,c){return o.drawArraysInstancedANGLE(s,u,l,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex},t.prototype.bind=function(r,i){i=i||this.renderer.shader.shader;var a=this,o=a.gl,s=r.glVertexArrayObjects[this.CONTEXT_UID];s||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=s={});var u=s[i.program.id]||this.initGeometryVao(r,i.program);this._activeGeometry=r,this._activeVao!==u&&(this._activeVao=u,this.hasVao?o.bindVertexArray(u):this.activateVao(r,i.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,i=this,a=i.gl,o=0;o<r.buffers.length;o++){var s=r.buffers[o],u=s._glBuffers[this.CONTEXT_UID];if(s._updateID!==u.updateID){u.updateID=s._updateID;var l=s.index?a.ELEMENT_ARRAY_BUFFER:a.ARRAY_BUFFER;if(a.bindBuffer(l,u.buffer),this._boundBuffer=u,u.byteLength>=s.data.byteLength)a.bufferSubData(l,0,s.data);else{var c=s.static?a.STATIC_DRAW:a.DYNAMIC_DRAW;u.byteLength=s.data.byteLength,a.bufferData(l,s.data,c)}}}},t.prototype.checkCompatibility=function(r,i){var a=r.attributes,o=i.attributeData;for(var s in o)if(!a[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(r,i){var a=r.attributes,o=i.attributeData,s=["g",r.id];for(var u in a)o[u]&&s.push(u);return s.join("-")},t.prototype.initGeometryVao=function(r,i){this.checkCompatibility(r,i);var a=this.gl,o=this.CONTEXT_UID,s=this.getSignature(r,i),u=r.glVertexArrayObjects[this.CONTEXT_UID],l=u[s];if(l)return u[i.id]=l,l;var c=r.buffers,h=r.attributes,f={},d={};for(var v in c)f[v]=0,d[v]=0;for(var g in h)!h[g].size&&i.attributeData[g]?h[g].size=i.attributeData[g].size:h[g].size||console.warn("PIXI Geometry attribute '"+g+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[h[g].buffer]+=h[g].size*Ny[h[g].type];for(var p in h){var y=h[p],m=y.size;y.stride===void 0&&(f[y.buffer]===m*Ny[y.type]?y.stride=0:y.stride=f[y.buffer]),y.start===void 0&&(y.start=d[y.buffer],d[y.buffer]+=m*Ny[y.type])}l=a.createVertexArray(),a.bindVertexArray(l);for(var w=0;w<c.length;w++){var b=c[w];b._glBuffers[o]||(b._glBuffers[o]=new Jne(a.createBuffer()),this.managedBuffers[b.id]=b,b.disposeRunner.add(this)),b._glBuffers[o].refCount++}return this.activateVao(r,i),this._activeVao=l,u[i.id]=l,u[s]=l,l},t.prototype.disposeBuffer=function(r,i){if(this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var a=r._glBuffers[this.CONTEXT_UID],o=this.gl;r.disposeRunner.remove(this),a&&(i||o.deleteBuffer(a.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(r,i){if(this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var a=r.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=r.buffers;if(r.disposeRunner.remove(this),!!a){for(var u=0;u<s.length;u++){var l=s[u]._glBuffers[this.CONTEXT_UID];l.refCount--,l.refCount===0&&!i&&this.disposeBuffer(s[u],i)}if(!i){for(var c in a)if(c[0]==="g"){var h=a[c];this._activeVao===h&&this.unbind(),o.deleteVertexArray(h)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var i=Object.keys(this.managedGeometries),a=0;a<i.length;a++)this.disposeGeometry(this.managedGeometries[i[a]],r);i=Object.keys(this.managedBuffers);for(var o=0;o<i.length;o++)this.disposeBuffer(this.managedBuffers[i[o]],r)},t.prototype.activateVao=function(r,i){var a=this.gl,o=this.CONTEXT_UID,s=r.buffers,u=r.attributes;r.indexBuffer&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,r.indexBuffer._glBuffers[o].buffer);var l=null;for(var c in u){var h=u[c],f=s[h.buffer],d=f._glBuffers[o];if(i.attributeData[c]){l!==d&&(a.bindBuffer(a.ARRAY_BUFFER,d.buffer),l=d);var v=i.attributeData[c].location;if(a.enableVertexAttribArray(v),a.vertexAttribPointer(v,h.size,h.type||a.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)a.vertexAttribDivisor(v,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,i,a,o){var s=this,u=s.gl,l=this._activeGeometry;if(l.indexBuffer){var c=l.indexBuffer.data.BYTES_PER_ELEMENT,h=c===2?u.UNSIGNED_SHORT:u.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?l.instanced?u.drawElementsInstanced(r,i||l.indexBuffer.data.length,h,(a||0)*c,o||1):u.drawElements(r,i||l.indexBuffer.data.length,h,(a||0)*c):console.warn("unsupported index buffer type: uint32")}else l.instanced?u.drawArraysInstanced(r,a,i||l.getSize(),o||1):u.drawArrays(r,a,i||l.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(Di);function zF(e,t,n,r){var i=JA(e,e.VERTEX_SHADER,t),a=JA(e,e.FRAGMENT_SHADER,n),o=e.createProgram();if(e.attachShader(o,i),e.attachShader(o,a),r)for(var s in r)e.bindAttribLocation(o,r[s],s);return e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(o,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),e.getProgramInfoLog(o)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(o)),e.deleteProgram(o),o=null),e.deleteShader(i),e.deleteShader(a),o}function JA(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.warn(n),console.error(e.getShaderInfoLog(r)),null)}function jF(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return Uy(2*t);case"bvec3":return Uy(3*t);case"bvec4":return Uy(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Uy(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}var HF={},Av=HF;function GF(){if(Av===HF||Av.isContextLost()){var e=document.createElement("canvas"),t;Nt.PREFER_ENV>=tl.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Av=t}return Av}var Cv;function tre(){if(!Cv){Cv=Ds.MEDIUM;var e=GF();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Cv=t.precision?Ds.HIGH:Ds.MEDIUM}}return Cv}function eC(e,t,n){if(e.substring(0,9)!=="precision"){var r=t;return t===Ds.HIGH&&n!==Ds.HIGH&&(r=Ds.MEDIUM),"precision "+r+` float;
`+e}else if(n!==Ds.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var nre={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function rre(e){return nre[e]}var Tv=null,tC={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function YF(e,t){if(!Tv){var n=Object.keys(tC);Tv={};for(var r=0;r<n.length;++r){var i=n[r];Tv[e[i]]=tC[i]}}return Tv[t]}var ire={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},are={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function ore(e,t){var n=0,r=`var v = null;
    var cv = null
    var gl = renderer.gl`;for(var i in e.uniforms){var a=t[i];if(!a){e.uniforms[i].group&&(r+=`
                    renderer.shader.syncUniformGroup(uv.`+i+`);
                `);continue}if(a.type==="float"&&a.size===1)r+=`
            if(uv.`+i+" !== ud."+i+`.value)
            {
                ud.`+i+".value = uv."+i+`
                gl.uniform1f(ud.`+i+".location, uv."+i+`)
            }
`;else if((a.type==="sampler2D"||a.type==="samplerCube"||a.type==="sampler2DArray")&&a.size===1&&!a.isArray)r+=`
            renderer.texture.bind(uv.`+i+", "+n+`);

            if(ud.`+i+".value !== "+n+`)
            {
                ud.`+i+".value = "+n+`;
                gl.uniform1i(ud.`+i+".location, "+n+`);
; // eslint-disable-line max-len
            }
`,n++;else if(a.type==="mat3"&&a.size===1)e.uniforms[i].a!==void 0?r+=`
                gl.uniformMatrix3fv(ud.`+i+".location, false, uv."+i+`.toArray(true));
                
`:r+=`
                gl.uniformMatrix3fv(ud.`+i+".location, false, uv."+i+`);
                
`;else if(a.type==="vec2"&&a.size===1)e.uniforms[i].x!==void 0?r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud.`+i+`.location, v.x, v.y);
                }
`:r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud.`+i+`.location, v[0], v[1]);
                }
                
`;else if(a.type==="vec4"&&a.size===1)e.uniforms[i].width!==void 0?r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud.`+i+`.location, v.x, v.y, v.width, v.height)
                }
`:r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud.`+i+`.location, v[0], v[1], v[2], v[3])
                }
                
`;else{var o=a.size===1?ire:are,s=o[a.type].replace("location","ud."+i+".location");r+=`
            cv = ud.`+i+`.value;
            v = uv.`+i+`;
            `+s+`;
`}}return new Function("ud","uv","renderer",r)}var sre=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function ure(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=sre.replace(/%forloop%/gi,lre(e));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))e=e/2|0;else break}return e}function lre(e){for(var t="",n=0;n<e;++n)n>0&&(t+=`
else `),n<e-1&&(t+="if(test == "+n+".0){}");return t}var Mf;function cre(){if(typeof Mf=="boolean")return Mf;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Mf=e({a:"b"},"a","b")===!0}catch{Mf=!1}return Mf}var fre=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,hre=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,dre=0,Pv={},es=function e(t,n,r){r===void 0&&(r="pixi-shader"),this.id=dre++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Pv[r]?(Pv[r]++,r+="-"+Pv[r]):Pv[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=eC(this.vertexSrc,Nt.PRECISION_VERTEX,Ds.HIGH),this.fragmentSrc=eC(this.fragmentSrc,Nt.PRECISION_FRAGMENT,tre())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},E2={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};es.prototype.extractData=function(t,n){var r=GF();if(r){var i=zF(r,t,n);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}};es.prototype.getAttributeData=function(t,n){for(var r={},i=[],a=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES),o=0;o<a;o++){var s=n.getActiveAttrib(t,o),u=YF(n,s.type),l={type:u,name:s.name,size:rre(u),location:0};r[s.name]=l,i.push(l)}i.sort(function(h,f){return h.name>f.name?1:-1});for(var c=0;c<i.length;c++)i[c].location=c;return r};es.prototype.getUniformData=function(t,n){for(var r={},i=n.getProgramParameter(t,n.ACTIVE_UNIFORMS),a=0;a<i;a++){var o=n.getActiveUniform(t,a),s=o.name.replace(/\[.*?\]/,""),u=o.name.match(/\[.*?\]/,""),l=YF(n,o.type);r[s]={type:l,size:o.size,isArray:u,value:jF(l,o.size)}}return r};E2.defaultVertexSrc.get=function(){return hre};E2.defaultFragmentSrc.get=function(){return fre};es.from=function(t,n,r){var i=t+n,a=WA[i];return a||(WA[i]=a=new es(t,n,r)),a};Object.defineProperties(es,E2);var va=function(t,n){this.program=t,n?n instanceof ji?this.uniformGroup=n:this.uniformGroup=new ji(n):this.uniformGroup=new ji({});for(var r in t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},XF={uniforms:{configurable:!0}};va.prototype.checkUniformExists=function(t,n){if(n.uniforms[t])return!0;for(var r in n.uniforms){var i=n.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1};va.prototype.destroy=function(){this.uniformGroup=null};XF.uniforms.get=function(){return this.uniformGroup.uniforms};va.from=function(t,n,r){var i=es.from(t,n);return new va(i,r)};Object.defineProperties(va.prototype,XF);var Nb=0,Ub=1,$b=2,Vb=3,zb=4,ts=function(){this.data=0,this.blendMode=kt.NORMAL,this.polygonOffset=0,this.blend=!0},vi={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};vi.blend.get=function(){return!!(this.data&1<<Nb)};vi.blend.set=function(e){!!(this.data&1<<Nb)!==e&&(this.data^=1<<Nb)};vi.offsets.get=function(){return!!(this.data&1<<Ub)};vi.offsets.set=function(e){!!(this.data&1<<Ub)!==e&&(this.data^=1<<Ub)};vi.culling.get=function(){return!!(this.data&1<<$b)};vi.culling.set=function(e){!!(this.data&1<<$b)!==e&&(this.data^=1<<$b)};vi.depthTest.get=function(){return!!(this.data&1<<Vb)};vi.depthTest.set=function(e){!!(this.data&1<<Vb)!==e&&(this.data^=1<<Vb)};vi.clockwiseFrontFace.get=function(){return!!(this.data&1<<zb)};vi.clockwiseFrontFace.set=function(e){!!(this.data&1<<zb)!==e&&(this.data^=1<<zb)};vi.blendMode.get=function(){return this._blendMode};vi.blendMode.set=function(e){this.blend=e!==kt.NONE,this._blendMode=e};vi.polygonOffset.get=function(){return this._polygonOffset};vi.polygonOffset.set=function(e){this.offsets=!!e,this._polygonOffset=e};ts.for2d=function(){var t=new ts;return t.depthTest=!1,t.blend=!0,t};Object.defineProperties(ts.prototype,vi);var vre=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,pre=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,WF=function(e){function t(i,a,o){var s=es.from(i||t.defaultVertexSrc,a||t.defaultFragmentSrc);e.call(this,s,o),this.padding=0,this.resolution=Nt.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new ts}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return t.prototype.apply=function(a,o,s,u,l){a.applyFilter(this,o,s,u,l)},n.blendMode.get=function(){return this.state.blendMode},n.blendMode.set=function(i){this.state.blendMode=i},r.defaultVertexSrc.get=function(){return vre},r.defaultFragmentSrc.get=function(){return pre},Object.defineProperties(t.prototype,n),Object.defineProperties(t,r),t}(va);WF.SOURCE_KEY_MAP={};var gre=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,mre=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,nC=new un,o0=function(t,n){this._texture=t,this.mapCoord=new un,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1},A2={texture:{configurable:!0}};A2.texture.get=function(){return this._texture};A2.texture.set=function(e){this._texture=e,this._updateID=-1};o0.prototype.multiplyUvs=function(t,n){n===void 0&&(n=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var a=t[i],o=t[i+1];n[i]=a*r.a+o*r.c+r.tx,n[i+1]=a*r.b+o*r.d+r.ty}return n};o0.prototype.update=function(t){var n=this._texture;if(!n||!n.valid||!t&&this._updateID===n._updateID)return!1;this._updateID=n._updateID;var r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=n.orig,a=n.trim;a&&(nC.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(nC));var o=n.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(n._frame.x+u+l)/o.width,s[1]=(n._frame.y+u+l)/o.height,s[2]=(n._frame.x+n._frame.width-u+l)/o.width,s[3]=(n._frame.y+n._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0};Object.defineProperties(o0.prototype,A2);var yre=function(e){function t(n){var r=new un;e.call(this,gre,mre),n.renderable=!1,this.maskSprite=n,this.maskMatrix=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r,i,a,o){var s=this.maskSprite,u=this.maskSprite.texture;u.valid&&(u.transform||(u.transform=new o0(u,0)),u.transform.update(),this.uniforms.npmAlpha=u.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=u,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,s).prepend(u.transform.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=u.transform.uClampFrame,r.applyFilter(this,i,a,o))},t}(WF),bre=function(e){function t(n){e.call(this,n),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(r,i){if(i.isSprite)this.pushSpriteMask(r,i);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&i.isFastRect()){var a=i.worldTransform,o=Math.atan2(a.b,a.a);o=Math.round(o*(180/Math.PI)),o%90?this.pushStencilMask(i):this.pushScissorMask(r,i)}else this.pushStencilMask(i)},t.prototype.pop=function(r,i){i.isSprite?this.popSpriteMask(r,i):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(r,i):this.popStencilMask(r,i)},t.prototype.pushSpriteMask=function(r,i){var a=this.alphaMaskPool[this.alphaMaskIndex];a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new yre(i)]),a[0].resolution=this.renderer.resolution,a[0].maskSprite=i;var o=r.filterArea;r.filterArea=i.getBounds(!0),this.renderer.filter.push(r,a),r.filterArea=o,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(r){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(r)},t.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},t.prototype.pushScissorMask=function(r,i){i.renderable=!0;var a=this.renderer._activeRenderTarget,o=i.getBounds();o.fit(a.size),i.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var s=this.renderer.resolution;this.renderer.gl.scissor(o.x*s,(a.root?a.size.height-o.y-o.height:o.y)*s,o.width*s,o.height*s),this.scissorRenderTarget=a,this.scissorData=i,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var r=this.renderer,i=r.gl;i.disable(i.SCISSOR_TEST)},t}(Di),wre=function(e){function t(n){e.call(this,n),this.stencilMaskStack=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setMaskStack=function(r){var i=this.renderer.gl,a=this.stencilMaskStack.length;this.stencilMaskStack=r,r.length!==a&&(r.length===0?i.disable(i.STENCIL_TEST):(i.enable(i.STENCIL_TEST),this._useCurrent()))},t.prototype.pushStencil=function(r){var i=this.renderer.gl,a=this.stencilMaskStack.length;a===0&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),this.stencilMaskStack.push(r),i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},t.prototype.popStencil=function(){var r=this.renderer.gl,i=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(r.disable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.clearStencil(0)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){e.prototype.destroy.call(this,this),this.stencilMaskStack=null},t}(Di),xre=function(e){function t(n){e.call(this,n),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new un,this.transform=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(r,i,a,o){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,a,o),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,i,a,o){var s=this.projectionMatrix;o?(s.a=1/r.width*2*a,s.d=-1/r.height*2*a,s.tx=-1-i.x*s.a,s.ty=1-i.y*s.d):(s.a=1/r.width*2*a,s.d=1/r.height*2*a,s.tx=-1-i.x*s.a,s.ty=-1-i.y*s.d)},t.prototype.setTransform=function(){},t}(Di),Gl=new tn,_re=function(e){function t(n){e.call(this,n),this.clearColor=n._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new tn,this.destinationFrame=new tn}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(r,i,a){r===void 0&&(r=null),this.current=r;var o=this.renderer,s;if(r){var u=r.baseTexture;s=u.resolution,a||(Gl.width=u.realWidth,Gl.height=u.realHeight,a=Gl),i||(i=a),this.renderer.framebuffer.bind(u.framebuffer,a),this.renderer.projection.update(a,i,s,!1),this.renderer.stencil.setMaskStack(u.stencilMaskStack)}else s=this.renderer.resolution,a||(Gl.width=o.width,Gl.height=o.height,a=Gl),i||(i=a),o.framebuffer.bind(null,a),this.renderer.projection.update(a,i,s,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(i),this.destinationFrame.x=a.x/s,this.destinationFrame.y=a.y/s,this.destinationFrame.width=a.width/s,this.destinationFrame.height=a.height/s,i===a&&this.sourceFrame.copyFrom(this.destinationFrame)},t.prototype.clear=function(r){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor,this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3])},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(Di),KF=function(t,n){this.program=t,this.uniformData=n,this.uniformGroups={}};KF.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Sre=0,Ere=function(e){function t(n){e.call(this,n),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Sre++}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.systemCheck=function(){if(!cre())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,i){r.uniforms.globals=this.renderer.globalUniforms;var a=r.program,o=a.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(r);return this.shader=r,this.program!==a&&(this.program=a,this.gl.useProgram(o.program)),i||this.syncUniformGroup(r.uniformGroup),o},t.prototype.setUniforms=function(r){var i=this.shader.program,a=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(a.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r){var i=this.getglProgram();(!r.static||r.dirtyId!==i.uniformGroups[r.id])&&(i.uniformGroups[r.id]=r.dirtyId,this.syncUniforms(r,i))},t.prototype.syncUniforms=function(r,i){var a=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);a(i.uniformData,r.uniforms,this.renderer)},t.prototype.createSyncGroups=function(r){var i=this.getSignature(r,this.shader.program.uniformData);return this.cache[i]||(this.cache[i]=ore(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[i],r.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(r,i){var a=r.uniforms,o=[];for(var s in a)o.push(s),i[s]&&o.push(i[s].type);return o.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(r){var i=this.gl,a=r.program,o={};for(var s in a.attributeData)o[s]=a.attributeData[s].location;var u=zF(i,a.vertexSrc,a.fragmentSrc,o),l={};for(var c in a.uniformData){var h=a.uniformData[c];l[c]={location:i.getUniformLocation(u,c),value:jF(h.type,h.size)}}var f=new KF(u,l);return a.glPrograms[this.renderer.CONTEXT_UID]=f,f},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(Di);function Are(e,t){return t===void 0&&(t=[]),t[kt.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.ADD]=[e.ONE,e.ONE],t[kt.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.NONE]=[0,0],t[kt.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[kt.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[kt.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[kt.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[kt.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[kt.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[kt.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[kt.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[kt.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[kt.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var Cre=0,Tre=1,Pre=2,Ore=3,Ire=4,Mre=function(e){function t(n){e.call(this,n),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=kt.NONE,this._blendEq=!1,this.map=[],this.map[Cre]=this.setBlend,this.map[Tre]=this.setOffset,this.map[Pre]=this.setCullFace,this.map[Ore]=this.setDepthTest,this.map[Ire]=this.setFrontFace,this.checks=[],this.defaultState=new ts,this.defaultState.blend=!0,this.defaultState.depth=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(r){this.gl=r,this.blendModes=Are(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var i=this.stateId^r.data,a=0;i;)i&1&&this.map[a].call(this,!!(r.data&1<<a)),i=i>>1,a++;this.stateId=r.data}for(var o=0;o<this.checks.length;o++)this.checks[o](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var i=0;i<this.map.length;i++)this.map[i].call(this,!!(r.data&1<<i));for(var a=0;a<this.checks.length;a++)this.checks[a](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var i=this.blendModes[r],a=this.gl;i.length===2?a.blendFunc(i[0],i[1]):a.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,a.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,i){this.gl.polygonOffset(r,i)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,i){var a=this.checks.indexOf(r);i&&a===-1?this.checks.push(r):!i&&a!==-1&&this.checks.splice(a,1)},t.checkBlendMode=function(r,i){r.setBlendMode(i.blendMode)},t.checkPolygonOffset=function(r,i){r.setPolygonOffset(i.polygonOffset,0)},t}(Di),Dre=function(e){function t(n){e.call(this,n),this.count=0,this.checkCount=0,this.maxIdle=Nt.GC_MAX_IDLE,this.checkCountMax=Nt.GC_MAX_CHECK_COUNT,this.mode=Nt.GC_MODE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postrender=function(){this.count++,this.mode!==pne.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var r=this.renderer.texture,i=r.managedTextures,a=!1,o=0;o<i.length;o++){var s=i[o];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(r.destroyTexture(s,!0),i[o]=null,a=!0)}if(a){for(var u=0,l=0;l<i.length;l++)i[l]!==null&&(i[u++]=i[l]);i.length=u}},t.prototype.unload=function(r){var i=this.renderer.textureSystem;r._texture&&r._texture._glRenderTargets&&i.destroyTexture(r._texture);for(var a=r.children.length-1;a>=0;a--)this.unload(r.children[a])},t}(Di),$y=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Fre=function(e){function t(n){e.call(this,n),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Vn}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var i=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var a=0;a<i;a++)this.boundTextures[a]=null;this.emptyTextures={};var o=new $y(r.createTexture());r.bindTexture(r.TEXTURE_2D,o.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=o,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new $y(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var s=0;s<6;s++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var u=0;u<this.boundTextures.length;u++)this.bind(null,u)},t.prototype.bind=function(r,i){i===void 0&&(i=0);var a=this,o=a.gl;if(r){if(r=r.baseTexture||r,r.valid){r.touched=this.renderer.textureGC.count;var s=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.currentLocation!==i&&(this.currentLocation=i,o.activeTexture(o.TEXTURE0+i)),this.boundTextures[i]!==r&&o.bindTexture(r.target,s.texture),s.dirtyId!==r.dirtyId&&this.updateTexture(r),this.boundTextures[i]=r}}else this.currentLocation!==i&&(this.currentLocation=i,o.activeTexture(o.TEXTURE0+i)),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[o.TEXTURE_2D].texture),this.boundTextures[i]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var i=this,a=i.gl,o=i.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<o.length;s++)o[s]===this.unknownTexture&&this.bind(null,s)}for(var u=0;u<o.length;u++)o[u]===r&&(this.currentLocation!==u&&(a.activeTexture(a.TEXTURE0+u),this.currentLocation=u),a.bindTexture(a.TEXTURE_2D,this.emptyTextures[r.target].texture),o[u]=null)},t.prototype.initTexture=function(r){var i=new $y(this.gl.createTexture());return i.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),i},t.prototype.initTextureType=function(r,i){if(i.internalFormat=r.format,i.type=r.type,this.webGLVersion===2){var a=this.renderer.gl;r.type===a.FLOAT&&r.format===a.RGBA&&(i.internalFormat=a.RGBA32F),r.type===oi.HALF_FLOAT&&(i.type=a.HALF_FLOAT),i.type===a.HALF_FLOAT&&r.format===a.RGBA&&(i.internalFormat=a.RGBA16F)}},t.prototype.updateTexture=function(r){var i=r._glTextures[this.CONTEXT_UID];if(i){var a=this.renderer;if(this.initTextureType(r,i),!(r.resource&&r.resource.upload(a,r,i))){var o=r.realWidth,s=r.realHeight,u=a.gl;(i.width!==o||i.height!==s||i.dirtyId<0)&&(i.width=o,i.height=s,u.texImage2D(r.target,0,i.internalFormat,o,s,0,r.format,i.type,null))}r.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(r),i.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,i){var a=this,o=a.gl;if(r=r.baseTexture||r,r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),o.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!i)){var s=this.managedTextures.indexOf(r);s!==-1&&bc(this.managedTextures,s,1)}},t.prototype.updateTextureStyle=function(r){var i=r._glTextures[this.CONTEXT_UID];i&&((r.mipmap===vne.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?(i.mipmap=0,i.wrapMode=dh.CLAMP):(i.mipmap=r.mipmap>=1,i.wrapMode=r.wrapMode),r.resource&&r.resource.style(this.renderer,r,i)||this.setStyle(r,i),i.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,i){var a=this.gl;if(i.mipmap&&a.generateMipmap(r.target),a.texParameteri(r.target,a.TEXTURE_WRAP_S,i.wrapMode),a.texParameteri(r.target,a.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){a.texParameteri(r.target,a.TEXTURE_MIN_FILTER,r.scaleMode?a.LINEAR_MIPMAP_LINEAR:a.NEAREST_MIPMAP_NEAREST);var o=this.renderer.context.extensions.anisotropicFiltering;if(o&&r.anisotropicLevel>0&&r.scaleMode===EF.LINEAR){var s=Math.min(r.anisotropicLevel,a.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));a.texParameterf(r.target,o.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else a.texParameteri(r.target,a.TEXTURE_MIN_FILTER,r.scaleMode?a.LINEAR:a.NEAREST);a.texParameteri(r.target,a.TEXTURE_MAG_FILTER,r.scaleMode?a.LINEAR:a.NEAREST)},t}(Di),Vy=new un,Bre=function(e){function t(r,i){e.call(this),i=Object.assign({},Nt.RENDER_OPTIONS,i),i.roundPixels&&(Nt.ROUND_PIXELS=i.roundPixels,Cne("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=kb.UNKNOWN,this.screen=new tn(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||Nt.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new yn,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return t.prototype.initPlugins=function(i){for(var a in i)this.plugins[a]=new i[a](this)},n.width.get=function(){return this.view.width},n.height.get=function(){return this.view.height},t.prototype.resize=function(i,a){this.screen.width=i,this.screen.height=a,this.view.width=i*this.resolution,this.view.height=a*this.resolution,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px")},t.prototype.generateTexture=function(i,a,o,s){s=s||i.getLocalBounds(),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var u=af.create(s.width|0,s.height|0,a,o);return Vy.tx=-s.x,Vy.ty=-s.y,this.render(i,u,!1,Vy,!!i.parent),u},t.prototype.destroy=function(i){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;i&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=kb.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n.backgroundColor.get=function(){return this._backgroundColor},n.backgroundColor.set=function(r){this._backgroundColor=r,this._backgroundColorString=AF(r),zg(r,this._backgroundColorRgba)},Object.defineProperties(t.prototype,n),t}(gl),ja=function(e){function t(n){n===void 0&&(n={}),e.call(this,"WebGL",n),n=this.options,this.type=kb.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new In("destroy"),contextChange:new In("contextChange"),reset:new In("reset"),update:new In("update"),postrender:new In("postrender"),prerender:new In("prerender"),resize:new In("resize")},this.globalUniforms=new ji({projectionMatrix:new un},!0),this.addSystem(bre,"mask").addSystem(Zne,"context").addSystem(Mre,"state").addSystem(Ere,"shader").addSystem(Fre,"texture").addSystem(ere,"geometry").addSystem(Qne,"framebuffer").addSystem(wre,"stencil").addSystem(xre,"projection").addSystem(Dre,"textureGC").addSystem(Kne,"filter").addSystem(_re,"renderTexture").addSystem(qne,"batch"),this.initPlugins(t.__plugins),n.context?this.context.initFromContext(n.context):this.context.initFromOptions({alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&this.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,gne(this.context.webGLVersion===2?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(r){if(mne())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(r,i){i||(i=r.name);var a=new r(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');this[i]=a;for(var o in this.runners)this.runners[o].add(a);return this},t.prototype.render=function(r,i,a,o,s){if(this.renderingToScreen=!i,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var u=r.parent;r.parent=this._tempDisplayObjectParent,r.updateTransform(),r.parent=u}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(r,i){e.prototype.resize.call(this,r,i),this.runners.resize.run(r,i)},t.prototype.reset=function(){return this.runners.reset.run(),this},t.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},t.prototype.destroy=function(r){this.runners.destroy.run();for(var i in this.runners)this.runners[i].destroy();e.prototype.destroy.call(this,r),this.gl=null},t.registerPlugin=function(r,i){t.__plugins=t.__plugins||{},t.__plugins[r]=i},t}(Bre);function kre(e){return ja.create(e)}var jb=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},Ad=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},of={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};of.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View};of.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View};of.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View};of.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View};of.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View};Ad.prototype.view=function(t){return this[t+"View"]};Ad.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null};Ad.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}};Object.defineProperties(Ad.prototype,of);var Rre=function(e){function t(n){e.call(this,n),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=ts.for2d(),this.size=2e3*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._drawCalls=[];for(var r=0;r<this.size/4;r++)this._drawCalls[r]=new jb;this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),n.runners.contextChange.add(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var r=this.renderer.gl;Nt.PREFER_ENV===tl.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Nt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ure(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedElements[this._bufferSize++]=r)},t.prototype.flush=function(){if(this._vertexCount!==0){var r=this.getAttributeBuffer(this._vertexCount),i=this.getIndexBuffer(this._indexCount),a=this.renderer.gl,o=this,s=o._bufferedElements,u=o._drawCalls,l=o.MAX_TEXTURES,c=o._packedGeometries,h=o.vertexSize,f=this.renderer.textureGC.count,d=0,v=0,g,p,y=0,m=u[0],w=0,b=-1;m.textureCount=0,m.start=0,m.blend=b;var x=++Vn._globalBatch,_;for(_=0;_<this._bufferSize;++_){var S=s[_];s[_]=null,g=S._texture.baseTexture;var P=CF[g.premultiplyAlpha?1:0][S.blendMode];b!==P&&(b=P,p=null,y=l,x++),p!==g&&(p=g,g._batchEnabled!==x&&(y===l&&(x++,y=0,m.size=v-m.start,m=u[w++],m.textureCount=0,m.blend=b,m.start=v),g.touched=f,g._batchEnabled=x,g._id=y,m.textures[m.textureCount++]=g,y++)),this.packInterleavedGeometry(S,r,i,d,v),d+=S.vertexData.length/2*h,v+=S.indices.length}Vn._globalBatch=x,m.size=v-m.start,Nt.CAN_UPLOAD_SAME_BUFFER?(c[this._flushId]._buffer.update(r.rawBinaryData,0),c[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,c[this._flushId]=new this.geometryClass),c[this._flushId]._buffer.update(r.rawBinaryData,0),c[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.bind(c[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++);var C=this.renderer.texture,B=this.renderer.state;for(_=0;_<w;_++){for(var T=u[_],k=T.textureCount,D=0;D<k;D++)C.bind(T.textures[D],D),T.textures[D]=null;B.setBlendMode(T.blend),a.drawElements(T.type,T.size,a.UNSIGNED_SHORT,T.start*2)}this._bufferSize=0,this._vertexCount=0,this._indexCount=0}},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Nt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._drawCalls=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var i=jg(Math.ceil(r/8)),a=XA(i),o=i*8;this._aBuffers.length<=a&&(this._iBuffers.length=a+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new Ad(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(r){var i=jg(Math.ceil(r/12)),a=XA(i),o=i*12;this._iBuffers.length<=a&&(this._iBuffers.length=a+1);var s=this._iBuffers[a];return s||(this._iBuffers[a]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(r,i,a,o,s){for(var u=i.uint32View,l=i.float32View,c=o/this.vertexSize,h=r.uvs,f=r.indices,d=r.vertexData,v=r._texture.baseTexture._id,g=Math.min(r.worldAlpha,1),p=g<1&&r._texture.baseTexture.premultiplyAlpha?p2(r._tintRGB,g):r._tintRGB+(g*255<<24),y=0;y<d.length;y+=2)l[o++]=d[y],l[o++]=d[y+1],l[o++]=h[y],l[o++]=h[y+1],u[o++]=p,l[o++]=v;for(var m=0;m<f.length;m++)a[s++]=c+f[m]},t}(cs),C2=function(t,n){if(this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};C2.prototype.generateShader=function(t){if(!this.programCache[t]){for(var n=new Int32Array(t),r=0;r<t;r++)n[r]=r;this.defaultGroupCache[t]=ji.from({uSamplers:n},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new es(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new un,default:this.defaultGroupCache[t]};return new va(this.programCache[t],a)};C2.prototype.generateSampleSrc=function(t){var n="";n+=`
`,n+=`
`;for(var r=0;r<t;r++)r>0&&(n+=`
else `),r<t-1&&(n+="if(vTextureId < "+r+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n};var qF=function(e){function t(n){n===void 0&&(n=!1),e.call(this),this._buffer=new Fr(null,n,!1),this._indexBuffer=new Fr(null,n,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,oi.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,oi.FLOAT).addAttribute("aColor",this._buffer,4,!0,oi.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,oi.FLOAT).addIndex(this._indexBuffer)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Er),ZF=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,QF=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Cd=function(){},T2={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};Cd.create=function(t){var n=Object.assign({vertex:ZF,fragment:QF,geometryClass:qF,vertexSize:6},t),r=n.vertex,i=n.fragment,a=n.vertexSize,o=n.geometryClass;return function(s){function u(l){s.call(this,l),this.shaderGenerator=new C2(r,i),this.geometryClass=o,this.vertexSize=a}return s&&(u.__proto__=s),u.prototype=Object.create(s&&s.prototype),u.prototype.constructor=u,u}(Rre)};T2.defaultVertexSrc.get=function(){return ZF};T2.defaultFragmentTemplate.get=function(){return QF};Object.defineProperties(Cd,T2);var Lre=Cd.create();/*!
 * @pixi/extract - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var JF=new tn,eB=4,ns=function(t){this.renderer=t,t.extract=this};ns.prototype.image=function(t,n,r){var i=new Image;return i.src=this.base64(t,n,r),i};ns.prototype.base64=function(t,n,r){return this.canvas(t).toDataURL(n,r)};ns.prototype.canvas=function(t){var n=this.renderer,r,i,a=!1,o,s=!1;t&&(t instanceof af?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(r=o.baseTexture.resolution,i=o.frame,a=!1,n.renderTexture.bind(o)):(r=this.renderer.resolution,a=!0,i=JF,i.width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var u=Math.floor(i.width*r),l=Math.floor(i.height*r),c=new wd(u,l,1),h=new Uint8Array(eB*u*l),f=n.gl;f.readPixels(i.x*r,i.y*r,u,l,f.RGBA,f.UNSIGNED_BYTE,h);var d=c.context.getImageData(0,0,u,l);return ns.arrayPostDivide(h,d.data),c.context.putImageData(d,0,0),a&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-l)),s&&o.destroy(!0),c.canvas};ns.prototype.pixels=function(t){var n=this.renderer,r,i,a,o=!1;t&&(t instanceof af?a=t:(a=this.renderer.generateTexture(t),o=!0)),a?(r=a.baseTexture.resolution,i=a.frame,n.renderTexture.bind(a)):(r=n.resolution,i=JF,i.width=n.width,i.height=n.height,n.renderTexture.bind(null));var s=i.width*r,u=i.height*r,l=new Uint8Array(eB*s*u),c=n.gl;return c.readPixels(i.x*r,i.y*r,s,u,c.RGBA,c.UNSIGNED_BYTE,l),o&&a.destroy(!0),ns.arrayPostDivide(l,l),l};ns.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};ns.arrayPostDivide=function(t,n){for(var r=0;r<t.length;r+=4){var i=n[r+3]=t[r+3];i!==0?(n[r]=Math.round(Math.min(t[r]*255/i,255)),n[r+1]=Math.round(Math.min(t[r+1]*255/i,255)),n[r+2]=Math.round(Math.min(t[r+2]*255/i,255))):(n[r]=t[r],n[r+1]=t[r+1],n[r+2]=t[r+2])}};/*!
 * @pixi/interaction - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Hc=function(){this.global=new Gn,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},tB={pointerId:{configurable:!0}};tB.pointerId.get=function(){return this.identifier};Hc.prototype.getLocalPosition=function(t,n,r){return t.worldTransform.applyInverse(r||this.global,n)};Hc.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0};Hc.prototype.reset=function(){this.isPrimary=!1};Object.defineProperties(Hc.prototype,tB);var P2=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};P2.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget};P2.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var wc=function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE},Ha={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};wc.prototype._doSet=function(t,n){n?this._flags=this._flags|t:this._flags=this._flags&~t};Ha.pointerId.get=function(){return this._pointerId};Ha.flags.get=function(){return this._flags};Ha.flags.set=function(e){this._flags=e};Ha.none.get=function(){return this._flags===this.constructor.FLAGS.NONE};Ha.over.get=function(){return(this._flags&this.constructor.FLAGS.OVER)!==0};Ha.over.set=function(e){this._doSet(this.constructor.FLAGS.OVER,e)};Ha.rightDown.get=function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0};Ha.rightDown.set=function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)};Ha.leftDown.get=function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0};Ha.leftDown.set=function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)};Object.defineProperties(wc.prototype,Ha);wc.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var Nre={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Sr.mixin(Nre);var Ov=1,Iv={target:null,data:{global:null}},Ure=function(e){function t(n,r){e.call(this),r=r||{},this.renderer=n,this.autoPreventDefault=r.autoPreventDefault!==void 0?r.autoPreventDefault:!0,this.interactionFrequency=r.interactionFrequency||10,this.mouse=new Hc,this.mouse.identifier=Ov,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[Ov]=this.mouse,this.interactionDataPool=[],this.eventData=new P2,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new Gn,this.resolution=1,this.delayedEvents=[],this.setTargetElement(this.renderer.view,this.renderer.resolution)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hitTest=function(r,i){return Iv.target=null,Iv.data.global=r,i||(i=this.renderer._lastObjectRendered),this.processInteractive(Iv,i,null,!0),Iv.target},t.prototype.setTargetElement=function(r,i){i===void 0&&(i=1),this.removeEvents(),this.interactionDOMElement=r,this.resolution=i,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(hn.system.add(this.update,this,nf.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(hn.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(r){if(this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var i in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(i)){var a=this.activeInteractionData[i];if(a.originalEvent&&a.pointerType!=="touch"){var o=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a);this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){if(r=r||"default",this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":this.interactionDOMElement.style.cursor=i;break;case"function":i(r);break;case"object":Object.assign(this.interactionDOMElement.style,i);break}else typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,i,a){(!a.stopPropagationHint||r===a.stopsPropagatingAt)&&(a.currentTarget=r,a.type=i,r.emit(i,a),r[i]&&r[i](a))},t.prototype.delayDispatchEvent=function(r,i,a){this.delayedEvents.push({displayObject:r,eventString:i,eventData:a})},t.prototype.mapPositionToPoint=function(r,i,a){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:0,height:0};var s=1/this.resolution;r.x=(i-o.left)*(this.interactionDOMElement.width/o.width)*s,r.y=(a-o.top)*(this.interactionDOMElement.height/o.height)*s},t.prototype.processInteractive=function(r,i,a,o,s,u){if(!i||!i.visible)return!1;var l=r.data.global;s=i.interactive||s;var c=!1,h=s,f=!0;if(i.hitArea?(o&&(i.worldTransform.applyInverse(l,this._tempPoint),i.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?c=!0:(o=!1,f=!1)),h=!1):i._mask&&o&&(i._mask.containsPoint&&i._mask.containsPoint(l)||(o=!1)),f&&i.interactiveChildren&&i.children)for(var d=i.children,v=d.length-1;v>=0;v--){var g=d[v],p=this.processInteractive(r,g,a,o,h,!0);if(p){if(!g.parent)continue;h=!1,p&&(r.target&&(o=!1),c=!0)}}s&&(o&&!r.target&&!i.hitArea&&i.containsPoint&&i.containsPoint(l)&&(c=!0),i.interactive&&(c&&!r.target&&(r.target=i),a&&a(r,i,!!c)));var y=this.delayedEvents;if(y.length&&!u){r.stopPropagationHint=!1;var m=y.length;this.delayedEvents=[];for(var w=0;w<m;w++){var b=y[w],x=b.displayObject,_=b.eventString,S=b.eventData;S.stopsPropagatingAt===x&&(S.stopPropagationHint=!0),this.dispatchEvent(x,_,S)}}return c},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);if(this.autoPreventDefault&&i[0].isNormalized){var a=r.cancelable||!("cancelable"in r);a&&r.preventDefault()}for(var o=i.length,s=0;s<o;s++){var u=i[s],l=this.getInteractionDataForPointerId(u),c=this.configureInteractionEventForDOMEvent(this.eventData,u,l);if(c.data.originalEvent=r,this.processInteractive(c,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),u.pointerType==="touch")this.emit("touchstart",c);else if(u.pointerType==="mouse"||u.pointerType==="pen"){var h=u.button===2;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,i,a){var o=r.data,s=r.data.identifier;if(a){if(i.trackedPointers[s]||(i.trackedPointers[s]=new wc(s)),this.dispatchEvent(i,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(i,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var u=o.button===2;u?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,u?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,i,a){for(var o=this.normalizeToPointerData(r),s=o.length,u=r.target!==this.interactionDOMElement?"outside":"",l=0;l<s;l++){var c=o[l],h=this.getInteractionDataForPointerId(c),f=this.configureInteractionEventForDOMEvent(this.eventData,c,h);if(f.data.originalEvent=r,this.processInteractive(f,this.renderer._lastObjectRendered,a,i||!u),this.emit(i?"pointercancel":"pointerup"+u,f),c.pointerType==="mouse"||c.pointerType==="pen"){var d=c.button===2;this.emit(d?"rightup"+u:"mouseup"+u,f)}else c.pointerType==="touch"&&(this.emit(i?"touchcancel":"touchend"+u,f),this.releaseInteractionDataForPointerId(c.pointerId,h))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,i){var a=r.data,o=r.data.identifier;i.trackedPointers[o]!==void 0&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",r),a.pointerType==="touch"&&this.dispatchEvent(i,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,i,a){var o=r.data,s=r.data.identifier,u=i.trackedPointers[s],l=o.pointerType==="touch",c=o.pointerType==="mouse"||o.pointerType==="pen",h=!1;if(c){var f=o.button===2,d=wc.FLAGS,v=f?d.RIGHT_DOWN:d.LEFT_DOWN,g=u!==void 0&&u.flags&v;a?(this.dispatchEvent(i,f?"rightup":"mouseup",r),g&&(this.dispatchEvent(i,f?"rightclick":"click",r),h=!0)):g&&this.dispatchEvent(i,f?"rightupoutside":"mouseupoutside",r),u&&(f?u.rightDown=!1:u.leftDown=!1)}a?(this.dispatchEvent(i,"pointerup",r),l&&this.dispatchEvent(i,"touchend",r),u&&((!c||h)&&this.dispatchEvent(i,"pointertap",r),l&&(this.dispatchEvent(i,"tap",r),u.over=!1))):u&&(this.dispatchEvent(i,"pointerupoutside",r),l&&this.dispatchEvent(i,"touchendoutside",r)),u&&u.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);(i[0].pointerType==="mouse"||i[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);for(var a=i.length,o=0;o<a;o++){var s=i[o],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);l.data.originalEvent=r,this.processInteractive(l,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),s.pointerType==="touch"&&this.emit("touchmove",l),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mousemove",l)}i[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,i,a){var o=r.data,s=o.pointerType==="touch",u=o.pointerType==="mouse"||o.pointerType==="pen";u&&this.processPointerOverOut(r,i,a),(!this.moveWhenInside||a)&&(this.dispatchEvent(i,"pointermove",r),s&&this.dispatchEvent(i,"touchmove",r),u&&this.dispatchEvent(i,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r),a=i[0];a.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),a.pointerType==="mouse"||a.pointerType==="pen"?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,i,a){var o=r.data,s=r.data.identifier,u=o.pointerType==="mouse"||o.pointerType==="pen",l=i.trackedPointers[s];a&&!l&&(l=i.trackedPointers[s]=new wc(s)),l!==void 0&&(a&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(i,"pointerover",r),u&&this.delayDispatchEvent(i,"mouseover",r)),u&&this.cursor===null&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),u&&this.dispatchEvent(i,"mouseout",r),l.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(r){var i=this.normalizeToPointerData(r),a=i[0],o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,a.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(r){var i=r.pointerId,a;return i===Ov||r.pointerType==="mouse"?a=this.mouse:this.activeInteractionData[i]?a=this.activeInteractionData[i]:(a=this.interactionDataPool.pop()||new Hc,a.identifier=i,this.activeInteractionData[i]=a),a.copyEvent(r),a},t.prototype.releaseInteractionDataForPointerId=function(r){var i=this.activeInteractionData[r];i&&(delete this.activeInteractionData[r],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(r,i,a){return r.data=a,this.mapPositionToPoint(a.global,i.clientX,i.clientY),i.pointerType==="touch"&&(i.globalX=a.global.x,i.globalY=a.global.y),a.originalEvent=i,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var i=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var a=0,o=r.changedTouches.length;a<o;a++){var s=r.changedTouches[a];typeof s.button>"u"&&(s.button=r.touches.length?1:0),typeof s.buttons>"u"&&(s.buttons=r.touches.length?1:0),typeof s.isPrimary>"u"&&(s.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof window.PointerEvent))&&(typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=Ov),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0),i.push(r);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(gl);/*!
 * @pixi/graphics - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var O2={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,n){if(n===void 0&&(n=20),!this.adaptive)return n;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Gc=function(){this.reset()};Gc.prototype.clone=function(){var t=new Gc;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t};Gc.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=nn.WHITE,this.matrix=null,this.visible=!1};Gc.prototype.destroy=function(){this.texture=null,this.matrix=null};var Gh=function(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]};Gh.prototype.clone=function(){return new Gh(this.shape,this.fillStyle,this.lineStyle,this.matrix)};Gh.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var nB={build:function(t){var n=t.shape,r=t.points,i=n.x,a=n.y,o,s;if(r.length=0,t.type===Dr.CIRC?(o=n.radius,s=n.radius):(o=n.width,s=n.height),!(o===0||s===0)){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));u/=2.3;for(var l=Math.PI*2/u,c=0;c<u;c++)r.push(i+Math.sin(-l*c)*o,a+Math.cos(-l*c)*s);r.push(r[0],r[1])}},triangulate:function(t,n){var r=t.points,i=n.points,a=n.indices,o=i.length/2,s=o;i.push(t.shape.x,t.shape.y);for(var u=0;u<r.length;u+=2)i.push(r[u],r[u+1]),a.push(o++,s,o)}};function rC(e,t){e.lineStyle.native?Vre(e,t):$re(e,t)}function $re(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(r.length!==0){var a=e.lineStyle,o=new Gn(r[0],r[1]),s=new Gn(r[r.length-2],r[r.length-1]),u=n.type!==Dr.POLY||n.closeStroke,l=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(u){r=r.slice(),l&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var c=s.x+(o.x-s.x)*.5,h=s.y+(o.y-s.y)*.5;r.unshift(c,h),r.push(c,h)}var f=t.points,d=r.length/2,v=r.length,g=f.length/2,p=a.width/2,y=r[0],m=r[1],w=r[2],b=r[3],x=0,_=0,S=-(m-b),P=y-w,C=0,B=0,T=0,k=0,D=Math.sqrt(S*S+P*P);S/=D,P/=D,S*=p,P*=p;var O=a.alignment,N=(1-O)*2,R=O*2;f.push(y-S*N,m-P*N),f.push(y+S*R,m+P*R);for(var U=1;U<d-1;++U){y=r[(U-1)*2],m=r[(U-1)*2+1],w=r[U*2],b=r[U*2+1],x=r[(U+1)*2],_=r[(U+1)*2+1],S=-(m-b),P=y-w,D=Math.sqrt(S*S+P*P),S/=D,P/=D,S*=p,P*=p,C=-(b-_),B=w-x,D=Math.sqrt(C*C+B*B),C/=D,B/=D,C*=p,B*=p;var V=-P+m-(-P+b),z=-S+w-(-S+y),j=(-S+y)*(-P+b)-(-S+w)*(-P+m),X=-B+_-(-B+b),Q=-C+w-(-C+x),te=(-C+x)*(-B+b)-(-C+w)*(-B+_),he=V*Q-X*z;if(Math.abs(he)<.1){he+=10.1,f.push(w-S*N,b-P*N),f.push(w+S*R,b+P*R);continue}var fe=(z*te-Q*j)/he,ce=(X*j-V*te)/he,ee=(fe-w)*(fe-w)+(ce-b)*(ce-b);ee>196*p*p?(T=S-C,k=P-B,D=Math.sqrt(T*T+k*k),T/=D,k/=D,T*=p,k*=p,f.push(w-T*N,b-k*N),f.push(w+T*R,b+k*R),f.push(w-T*R*N,b-k*N),v++):(f.push(w+(fe-w)*N,b+(ce-b)*N),f.push(w-(fe-w)*R,b-(ce-b)*R))}y=r[(d-2)*2],m=r[(d-2)*2+1],w=r[(d-1)*2],b=r[(d-1)*2+1],S=-(m-b),P=y-w,D=Math.sqrt(S*S+P*P),S/=D,P/=D,S*=p,P*=p,f.push(w-S*N,b-P*N),f.push(w+S*R,b+P*R);for(var Ue=t.indices,be=0;be<v-2;++be)Ue.push(g,g+1,g+2),g++}}function Vre(e,t){var n=0,r=e.shape,i=e.points||r.points,a=r.type!==Dr.POLY||r.closeStroke;if(i.length!==0){var o=t.points,s=t.indices,u=i.length/2,l=o.length/2,c=l;for(o.push(i[0],i[1]),n=1;n<u;n++)o.push(i[n*2],i[n*2+1]),s.push(c,c+1),c++;a&&s.push(c,l)}}var rB={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,n){var r=t.points,i=t.holes,a=n.points,o=n.indices;if(r.length>=6){for(var s=[],u=0;u<i.length;u++){var l=i[u];s.push(r.length/2),r=r.concat(l.points)}var c=iF(r,s,2);if(!c)return;for(var h=a.length/2,f=0;f<c.length;f+=3)o.push(c[f]+h),o.push(c[f+1]+h),o.push(c[f+2]+h);for(var d=0;d<r.length;d++)a.push(r[d])}}},zre={build:function(t){var n=t.shape,r=n.x,i=n.y,a=n.width,o=n.height,s=t.points;s.length=0,s.push(r,i,r+a,i,r+a,i+o,r,i+o)},triangulate:function(t,n){var r=t.points,i=n.points,a=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),n.indices.push(a,a+1,a+2,a+1,a+2,a+3)}},jre={build:function(t){var n=t.shape,r=t.points,i=n.x,a=n.y,o=n.width,s=n.height,u=n.radius;r.length=0,Mv(i,a+u,i,a,i+u,a,r),Mv(i+o-u,a,i+o,a,i+o,a+u,r),Mv(i+o,a+s-u,i+o,a+s,i+o-u,a+s,r),Mv(i+u,a+s,i,a+s,i,a+s-u,r)},triangulate:function(t,n){for(var r=t.points,i=n.points,a=n.indices,o=i.length/2,s=iF(r,null,2),u=0,l=s.length;u<l;u+=3)a.push(s[u]+o),a.push(s[u+1]+o),a.push(s[u+2]+o);for(var c=0,h=r.length;c<h;c++)i.push(r[c],r[++c])}};function Yl(e,t,n){var r=t-e;return e+r*n}function Mv(e,t,n,r,i,a,o){o===void 0&&(o=[]);for(var s=20,u=o,l=0,c=0,h=0,f=0,d=0,v=0,g=0,p=0;g<=s;++g)p=g/s,l=Yl(e,n,p),c=Yl(t,r,p),h=Yl(n,i,p),f=Yl(r,a,p),d=Yl(l,h,p),v=Yl(c,f,p),u.push(d,v);return u}var iC=[],Dv=[],Xl=new Gn,nl={};nl[Dr.POLY]=rB;nl[Dr.CIRC]=nB;nl[Dr.ELIP]=nB;nl[Dr.RECT]=zre;nl[Dr.RREC]=jre;var Hre=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},iB=function(e){function t(){e.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Ki,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={bounds:{configurable:!0}};return n.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var i=0;i<this.drawCalls.length;i++)this.drawCalls[i].textures.length=0,Dv.push(this.drawCalls[i]);this.drawCalls.length=0;for(var a=0;a<this.batches.length;a++){var o=this.batches[a];o.start=0,o.attribStart=0,o.style=null,iC.push(o)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(i,a,o,s){var u=new Gh(i,a,o,s);return this.graphicsData.push(u),this.dirty++,this},t.prototype.drawHole=function(i,a){if(!this.graphicsData.length)return null;var o=new Gh(i,null,null,a),s=this.graphicsData[this.graphicsData.length-1];return o.lineStyle=s.lineStyle,s.holes.push(o),this.dirty++,this},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i);for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(i){for(var a=this.graphicsData,o=0;o<a.length;++o){var s=a[o];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(i,Xl):Xl.copyFrom(i),s.shape.contains(Xl.x,Xl.y))){if(s.holes)for(var u=0;u<s.holes.length;u++){var l=s.holes[u];if(l.shape.contains(Xl.x,Xl.y))return!1}return!0}}return!1},t.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty){if(this.graphicsData.length===0){this.batchable=!0;return}if(this.dirty!==this.cacheDirty)for(var i=0;i<this.graphicsData.length;i++){var a=this.graphicsData[i];if(a.fillStyle&&!a.fillStyle.texture.baseTexture.valid||a.lineStyle&&!a.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var o=this.uvs,s=null,u=null,l=0,c=!1;if(this.batches.length>0){s=this.batches[this.batches.length-1];var h=s.style;u=h.texture.baseTexture,l=h.color+h.alpha,c=!!h.native}for(var f=this.shapeIndex;f<this.graphicsData.length;f++){this.shapeIndex++;var d=this.graphicsData[f],v=nl[d.type],g=d.fillStyle,p=d.lineStyle;v.build(d),d.matrix&&this.transformPoints(d.points,d.matrix);for(var y=0;y<2;y++){var m=y===0?g:p;if(m.visible){var w=m.texture.baseTexture,b=this.indices.length,x=this.points.length/2;s&&(u!==w||l!==m.color+m.alpha||c!==!!m.native)&&(s.size=b-s.start,s.attribSize=x-s.attribStart,s.size>0&&(s=null)),s||(s=iC.pop()||new Hre,this.batches.push(s),w.wrapMode=dh.REPEAT,u=w,l=m.color+m.alpha,c=m.native,s.style=m,s.start=b,s.attribStart=x);var _=this.points.length/2;if(y===0)d.holes.length?(this.processHoles(d.holes),rB.triangulate(d,this)):v.triangulate(d,this);else{rC(d,this);for(var S=0;S<d.holes.length;S++)rC(d.holes[S],this)}var P=this.points.length/2-_;this.addUvs(this.points,o,m.texture,_,P,m.matrix)}}}var C=this.indices.length,B=this.points.length/2;if(!s){this.batchable=!0;return}if(s.size=C-s.start,s.attribSize=B-s.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var T=0;T<this.batches.length;T++)for(var k=this.batches[T],D=0;D<k.size;D++){var O=k.start+D;this.indicesUint16[O]=this.indicesUint16[O]-k.attribStart}}else this.buildDrawCalls()}},t.prototype.isBatchable=function(){for(var i=this.batches,a=0;a<i.length;a++)if(i[a].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var i=++Vn._globalBatch,a=0;a<this.drawCalls.length;a++)this.drawCalls[a].textures.length=0,Dv.push(this.drawCalls[a]);this.drawCalls.length=0;var o=this.uvs,s=this.colors,u=this.textureIds,l=Dv.pop()||new jb;l.textureCount=0,l.start=0,l.size=0,l.type=Ms.TRIANGLES;var c=0,h=null,f=0,d=!1,v=Ms.TRIANGLES,g=0;this.drawCalls.push(l);for(var p=0;p<this.batches.length;p++){var y=this.batches[p],m=8,w=y.style,b=w.texture.baseTexture;d!==!!w.native&&(d=w.native,v=d?Ms.LINES:Ms.TRIANGLES,h=null,c=m,i++),h!==b&&(h=b,b._batchEnabled!==i&&(c===m&&(i++,c=0,l.size>0&&(l=Dv.pop()||new jb,this.drawCalls.push(l)),l.start=g,l.size=0,l.textureCount=0,l.type=v),b.touched=1,b._batchEnabled=i,b._id=c,b.wrapMode=10497,l.textures[l.textureCount++]=b,c++)),l.size+=y.size,g+=y.size,f=b._id,this.addColors(s,w.color,w.alpha,y.attribSize),this.addTextureIds(u,f,y.attribSize)}Vn._globalBatch=i;for(var x=this.points,_=new ArrayBuffer(x.length*3*4),S=new Float32Array(_),P=new Uint32Array(_),C=0,B=0;B<x.length/2;B++)S[C++]=x[B*2],S[C++]=x[B*2+1],S[C++]=o[B*2],S[C++]=o[B*2+1],P[C++]=s[B],S[C++]=u[B];this._buffer.update(_),this._indexBuffer.update(this.indicesUint16)},t.prototype.processHoles=function(i){for(var a=0;a<i.length;a++){var o=i[a],s=nl[o.type];s.build(o),o.matrix&&this.transformPoints(o.points,o.matrix)}},t.prototype.calculateBounds=function(){var i=1/0,a=-1/0,o=1/0,s=-1/0;if(this.graphicsData.length)for(var u=null,l=0,c=0,h=0,f=0,d=0;d<this.graphicsData.length;d++){var v=this.graphicsData[d],g=v.type,p=v.lineStyle?v.lineStyle.width:0;if(u=v.shape,g===Dr.RECT||g===Dr.RREC)l=u.x-p/2,c=u.y-p/2,h=u.width+p,f=u.height+p,i=l<i?l:i,a=l+h>a?l+h:a,o=c<o?c:o,s=c+f>s?c+f:s;else if(g===Dr.CIRC)l=u.x,c=u.y,h=u.radius+p/2,f=u.radius+p/2,i=l-h<i?l-h:i,a=l+h>a?l+h:a,o=c-f<o?c-f:o,s=c+f>s?c+f:s;else if(g===Dr.ELIP)l=u.x,c=u.y,h=u.width+p/2,f=u.height+p/2,i=l-h<i?l-h:i,a=l+h>a?l+h:a,o=c-f<o?c-f:o,s=c+f>s?c+f:s;else for(var y=u.points,m=0,w=0,b=0,x=0,_=0,S=0,P=0,C=0,B=0;B+2<y.length;B+=2)l=y[B],c=y[B+1],m=y[B+2],w=y[B+3],b=Math.abs(m-l),x=Math.abs(w-c),f=p,h=Math.sqrt(b*b+x*x),!(h<1e-9)&&(_=(f/h*x+b)/2,S=(f/h*b+x)/2,P=(m+l)/2,C=(w+c)/2,i=P-_<i?P-_:i,a=P+_>a?P+_:a,o=C-S<o?C-S:o,s=C+S>s?C+S:s)}else i=0,a=0,o=0,s=0;var T=this.boundsPadding;this._bounds.minX=i-T,this._bounds.maxX=a+T,this._bounds.minY=o-T,this._bounds.maxY=s+T},t.prototype.transformPoints=function(i,a){for(var o=0;o<i.length/2;o++){var s=i[o*2],u=i[o*2+1];i[o*2]=a.a*s+a.c*u+a.tx,i[o*2+1]=a.b*s+a.d*u+a.ty}},t.prototype.addColors=function(i,a,o,s){for(var u=(a>>16)+(a&65280)+((a&255)<<16),l=p2(u,o);s-- >0;)i.push(l)},t.prototype.addTextureIds=function(i,a,o){for(;o-- >0;)i.push(a)},t.prototype.addUvs=function(i,a,o,s,u,l){for(var c=0,h=a.length,f=o.frame;c<u;){var d=i[(s+c)*2],v=i[(s+c)*2+1];if(l){var g=l.a*d+l.c*v+l.tx;v=l.b*d+l.d*v+l.ty,d=g}c++,a.push(d/f.width,v/f.height)}var p=o.baseTexture;(f.width<p.width||f.height<p.height)&&this.adjustUvs(a,o,h,u)},t.prototype.adjustUvs=function(i,a,o,s){for(var u=a.baseTexture,l=1e-6,c=o+s*2,h=a.frame,f=h.width/u.width,d=h.height/u.height,v=h.x/h.width,g=h.y/h.height,p=Math.floor(i[o]+l),y=Math.floor(i[o+1]+l),m=o+2;m<c;m+=2)p=Math.min(p,Math.floor(i[m]+l)),y=Math.min(y,Math.floor(i[m+1]+l));v-=p,g-=y;for(var w=o;w<c;w+=2)i[w]=(i[w]+v)*f,i[w+1]=(i[w+1]+g)*d},Object.defineProperties(t.prototype,n),t}(qF);iB.BATCHABLE_SIZE=100;var Gre=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},t}(Gc),Xg=function(){};Xg.curveLength=function(t,n,r,i,a,o,s,u){for(var l=10,c=0,h=0,f=0,d=0,v=0,g=0,p=0,y=0,m=0,w=0,b=0,x=t,_=n,S=1;S<=l;++S)h=S/l,f=h*h,d=f*h,v=1-h,g=v*v,p=g*v,y=p*t+3*g*h*r+3*v*f*a+d*s,m=p*n+3*g*h*i+3*v*f*o+d*u,w=x-y,b=_-m,x=y,_=m,c+=Math.sqrt(w*w+b*b);return c};Xg.curveTo=function(t,n,r,i,a,o,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=O2._segmentsCount(Xg.curveLength(u,l,t,n,r,i,a,o)),h=0,f=0,d=0,v=0,g=0;s.push(u,l);for(var p=1,y=0;p<=c;++p)y=p/c,h=1-y,f=h*h,d=f*h,v=y*y,g=v*y,s.push(d*u+3*f*y*t+3*h*v*r+g*a,d*l+3*f*y*n+3*h*v*i+g*o)};var Wg=function(){};Wg.curveLength=function(t,n,r,i,a,o){var s=t-2*r+a,u=n-2*i+o,l=2*r-2*t,c=2*i-2*n,h=4*(s*s+u*u),f=4*(s*l+u*c),d=l*l+c*c,v=2*Math.sqrt(h+f+d),g=Math.sqrt(h),p=2*h*g,y=2*Math.sqrt(d),m=f/g;return(p*v+g*f*(v-y)+(4*d*h-f*f)*Math.log((2*g+m+v)/(m+y)))/(4*p)};Wg.curveTo=function(t,n,r,i,a){for(var o=a[a.length-2],s=a[a.length-1],u=O2._segmentsCount(Wg.curveLength(o,s,t,n,r,i)),l=0,c=0,h=1;h<=u;++h){var f=h/u;l=o+(t-o)*f,c=s+(n-s)*f,a.push(l+(t+(r-t)*f-l)*f,c+(n+(i-n)*f-c)*f)}};var Kg=function(){};Kg.curveTo=function(t,n,r,i,a,o){var s=o[o.length-2],u=o[o.length-1],l=u-n,c=s-t,h=i-n,f=r-t,d=Math.abs(l*f-c*h);if(d<1e-8||a===0)return(o[o.length-2]!==t||o[o.length-1]!==n)&&o.push(t,n),null;var v=l*l+c*c,g=h*h+f*f,p=l*h+c*f,y=a*Math.sqrt(v)/d,m=a*Math.sqrt(g)/d,w=y*p/v,b=m*p/g,x=y*f+m*c,_=y*h+m*l,S=c*(m+w),P=l*(m+w),C=f*(y+b),B=h*(y+b),T=Math.atan2(P-_,S-x),k=Math.atan2(B-_,C-x);return{cx:x+t,cy:_+n,radius:a,startAngle:T,endAngle:k,anticlockwise:c*h>f*l}};Kg.arc=function(t,n,r,i,a,o,s,u,l){for(var c=s-o,h=O2._segmentsCount(Math.abs(c)*a,Math.ceil(Math.abs(c)/Vh)*40),f=c/(h*2),d=f*2,v=Math.cos(f),g=Math.sin(f),p=h-1,y=p%1/p,m=0;m<=p;++m){var w=m+y*m,b=f+o+d*w,x=Math.cos(b),_=-Math.sin(b);l.push((v*x+g*_)*a+r,(v*-_+g*x)*a+i)}};var Yre=function(e){function t(n,r,i,a,o,s){o=o||a/2;for(var u=-1*Math.PI/2+s,l=i*2,c=Vh/l,h=[],f=0;f<l;f++){var d=f%2?o:a,v=f*c+u;h.push(n+d*Math.cos(v),r+d*Math.sin(v))}e.call(this,h)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Rs),Xre=new Float32Array(3),zy={},Ra=function(e){function t(r){r===void 0&&(r=null),e.call(this),this.geometry=r||new iB,this.geometry.refCount++,this.shader=null,this.state=ts.for2d(),this._fillStyle=new Gc,this._lineStyle=new Gre,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=kt.NORMAL}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return t.prototype.clone=function(){return this.finishPoly(),new t(this.geometry)},n.blendMode.set=function(r){this.state.blendMode=r},n.blendMode.get=function(){return this.state.blendMode},n.tint.get=function(){return this._tint},n.tint.set=function(r){this._tint=r},n.fill.get=function(){return this._fillStyle},n.line.get=function(){return this._lineStyle},t.prototype.lineStyle=function(i,a,o,s,u){return i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=1),s===void 0&&(s=.5),u===void 0&&(u=!1),this.lineTextureStyle(i,nn.WHITE,a,o,null,s,u),this},t.prototype.lineTextureStyle=function(i,a,o,s,u,l,c){i===void 0&&(i=0),a===void 0&&(a=nn.WHITE),o===void 0&&(o=16777215),s===void 0&&(s=1),u===void 0&&(u=null),l===void 0&&(l=.5),c===void 0&&(c=!1),this.currentPath&&this.startPoly();var h=i>0&&s>0;return h?(u&&(u=u.clone(),u.invert()),Object.assign(this._lineStyle,{color:o,width:i,alpha:s,matrix:u,texture:a,alignment:l,native:c,visible:h})):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var i=this.currentPath.points,a=this.currentPath.points.length;a>2&&(this.drawShape(this.currentPath),this.currentPath=new Rs,this.currentPath.closeStroke=!1,this.currentPath.points.push(i[a-2],i[a-1]))}else this.currentPath=new Rs,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(i,a){return this.startPoly(),this.currentPath.points[0]=i,this.currentPath.points[1]=a,this},t.prototype.lineTo=function(i,a){this.currentPath||this.moveTo(0,0);var o=this.currentPath.points,s=o[o.length-2],u=o[o.length-1];return(s!==i||u!==a)&&o.push(i,a),this},t.prototype._initCurve=function(i,a){i===void 0&&(i=0),a===void 0&&(a=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[i,a]):this.moveTo(i,a)},t.prototype.quadraticCurveTo=function(i,a,o,s){this._initCurve();var u=this.currentPath.points;return u.length===0&&this.moveTo(0,0),Wg.curveTo(i,a,o,s,u),this},t.prototype.bezierCurveTo=function(i,a,o,s,u,l){return this._initCurve(),Xg.curveTo(i,a,o,s,u,l,this.currentPath.points),this},t.prototype.arcTo=function(i,a,o,s,u){this._initCurve(i,a);var l=this.currentPath.points,c=Kg.curveTo(i,a,o,s,u,l);if(c){var h=c.cx,f=c.cy,d=c.radius,v=c.startAngle,g=c.endAngle,p=c.anticlockwise;this.arc(h,f,d,v,g,p)}return this},t.prototype.arc=function(i,a,o,s,u,l){if(l===void 0&&(l=!1),s===u)return this;!l&&u<=s?u+=Vh:l&&s<=u&&(s+=Vh);var c=u-s;if(c===0)return this;var h=i+Math.cos(s)*o,f=a+Math.sin(s)*o,d=this.geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var g=Math.abs(v[v.length-2]-h),p=Math.abs(v[v.length-1]-f);g<d&&p<d||v.push(h,f)}else this.moveTo(h,f),v=this.currentPath.points;return Kg.arc(h,f,i,a,o,s,u,l,v),this},t.prototype.beginFill=function(i,a){return i===void 0&&(i=0),a===void 0&&(a=1),this.beginTextureFill(nn.WHITE,i,a)},t.prototype.beginTextureFill=function(i,a,o,s){i===void 0&&(i=nn.WHITE),a===void 0&&(a=16777215),o===void 0&&(o=1),s===void 0&&(s=null),this.currentPath&&this.startPoly();var u=o>0;return u?(s&&(s=s.clone(),s.invert()),Object.assign(this._fillStyle,{color:a,alpha:o,texture:i,matrix:s,visible:u})):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(i,a,o,s){return this.drawShape(new tn(i,a,o,s))},t.prototype.drawRoundedRect=function(i,a,o,s,u){return this.drawShape(new Gg(i,a,o,s,u))},t.prototype.drawCircle=function(i,a,o){return this.drawShape(new zh(i,a,o))},t.prototype.drawEllipse=function(i,a,o,s){return this.drawShape(new jh(i,a,o,s))},t.prototype.drawPolygon=function(i){var a=arguments,o=i,s=!0;if(o.points&&(s=o.closeStroke,o=o.points),!Array.isArray(o)){o=new Array(arguments.length);for(var u=0;u<o.length;++u)o[u]=a[u]}var l=new Rs(o);return l.closeStroke=s,this.drawShape(l),this},t.prototype.drawShape=function(i){return this._holeMode?this.geometry.drawHole(i,this._matrix):this.geometry.drawShape(i,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(i,a,o,s,u,l){return l===void 0&&(l=0),this.drawPolygon(new Yre(i,a,o,s,u,l))},t.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){return!1},t.prototype._render=function(i){this.finishPoly();var a=this.geometry;a.updateBatches(),a.batchable?(this.batchDirty!==a.batchDirty&&this._populateBatches(),this._renderBatched(i)):(i.batch.flush(),this._renderDirect(i))},t.prototype._populateBatches=function(){var i=this.geometry,a=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=i.batchDirty,this.vertexData=new Float32Array(i.points);for(var o=0,s=i.batches.length;o<s;o++){var u=i.batches[o],l=u.style.color,c=new Float32Array(this.vertexData.buffer,u.attribStart*4*2,u.attribSize*2),h=new Float32Array(i.uvsFloat32.buffer,u.attribStart*4*2,u.attribSize*2),f=new Uint16Array(i.indicesUint16.buffer,u.start*2,u.size),d={vertexData:c,blendMode:a,indices:f,uvs:h,_batchRGB:zg(l),_tintRGB:l,_texture:u.style.texture,alpha:u.style.alpha,worldAlpha:1};this.batches[o]=d}},t.prototype._renderBatched=function(i){if(this.batches.length){i.batch.setObjectRenderer(i.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var a=0,o=this.batches.length;a<o;a++){var s=this.batches[a];s.worldAlpha=this.worldAlpha*s.alpha,i.plugins[this.pluginName].render(s)}}},t.prototype._renderDirect=function(i){var a=this._resolveDirectShader(i),o=this.geometry,s=this.tint,u=this.worldAlpha,l=a.uniforms,c=o.drawCalls;l.translationMatrix=this.transform.worldTransform,l.tint[0]=(s>>16&255)/255*u,l.tint[1]=(s>>8&255)/255*u,l.tint[2]=(s&255)/255*u,l.tint[3]=u,i.shader.bind(a),i.geometry.bind(o,a),i.state.set(this.state);for(var h=0,f=c.length;h<f;h++)this._renderDrawCallDirect(i,o.drawCalls[h])},t.prototype._renderDrawCallDirect=function(i,a){for(var o=a.textureCount,s=0;s<o;s++)i.texture.bind(a.textures[s],s);i.geometry.draw(a.type,a.size,a.start)},t.prototype._resolveDirectShader=function(i){var a=this.shader,o=this.pluginName;if(!a){if(!zy[o]){for(var s=new Int32Array(16),u=0;u<16;u++)s[u]=u;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new un,default:ji.from({uSamplers:s},!0)},c=i.plugins[o]._shader.program;zy[o]=new va(c,l)}a=zy[o]}return a},t.prototype._calculateBounds=function(){this.finishPoly();var i=this.geometry.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)},t.prototype.containsPoint=function(i){return this.worldTransform.applyInverse(i,t._TEMP_POINT),this.geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var i=zg(this.tint,Xre),a=0;a<this.batches.length;a++){var o=this.batches[a],s=o._batchRGB,u=i[0]*s[0]*255,l=i[1]*s[1]*255,c=i[2]*s[2]*255,h=(u<<16)+(l<<8)+(c|0);o._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)}}},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=this.geometry.points,f=this.vertexData,d=0,v=0;v<h.length;v+=2){var g=h[v],p=h[v+1];f[d++]=a*g+s*p+l,f[d++]=u*p+o*g+c}}},t.prototype.closePath=function(){var i=this.currentPath;return i&&(i.closeStroke=!0),this},t.prototype.setMatrix=function(i){return this._matrix=i,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,i)},Object.defineProperties(t.prototype,n),t}(yn);Ra._TEMP_POINT=new Gn;/*!
 * @pixi/sprite - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Df=new Gn,Wre=new Uint16Array([0,1,2,0,2,3]),Va=function(e){function t(r){e.call(this),this._anchor=new zi(this._onAnchorUpdate,this,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=kt.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=r||nn.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Wre,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Nt.ROUND_PIXELS}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=lc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=lc(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var i=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===i._updateID)){this._textureID!==i._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=i._updateID;var a=this.transform.worldTransform,o=a.a,s=a.b,u=a.c,l=a.d,c=a.tx,h=a.ty,f=this.vertexData,d=i.trim,v=i.orig,g=this._anchor,p=0,y=0,m=0,w=0;if(d?(y=d.x-g._x*v.width,p=y+d.width,w=d.y-g._y*v.height,m=w+d.height):(y=-g._x*v.width,p=y+v.width,w=-g._y*v.height,m=w+v.height),f[0]=o*y+u*w+c,f[1]=l*w+s*y+h,f[2]=o*p+u*w+c,f[3]=l*w+s*p+h,f[4]=o*p+u*m+c,f[5]=l*m+s*p+h,f[6]=o*y+u*m+c,f[7]=l*m+s*y+h,this._roundPixels)for(var b=0;b<8;b++)f[b]=Math.round(f[b])}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this._texture,a=this.vertexTrimmedData,o=i.orig,s=this._anchor,u=this.transform.worldTransform,l=u.a,c=u.b,h=u.c,f=u.d,d=u.tx,v=u.ty,g=-s._x*o.width,p=g+o.width,y=-s._y*o.height,m=y+o.height;a[0]=l*g+h*y+d,a[1]=f*y+c*g+v,a[2]=l*p+h*y+d,a[3]=f*y+c*p+v,a[4]=l*p+h*m+d,a[5]=f*m+c*p+v,a[6]=l*g+h*m+d,a[7]=f*m+c*g+v},t.prototype._render=function(i){this.calculateVertices(),i.batch.setObjectRenderer(i.plugins[this.pluginName]),i.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var i=this._texture.trim,a=this._texture.orig;!i||i.width===a.width&&i.height===a.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(i){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new tn),i=this._localBoundsRect),this._bounds.getRectangle(i)):e.prototype.getLocalBounds.call(this,i)},t.prototype.containsPoint=function(i){this.worldTransform.applyInverse(i,Df);var a=this._texture.orig.width,o=this._texture.orig.height,s=-a*this.anchor.x,u=0;return Df.x>=s&&Df.x<s+a&&(u=-o*this.anchor.y,Df.y>=u&&Df.y<u+o)},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var a=typeof i=="boolean"?i:i&&i.texture;if(a){var o=typeof i=="boolean"?i:i&&i.baseTexture;this._texture.destroy(!!o)}this._texture=null,this.shader=null},t.from=function(i,a){var o=i instanceof nn?i:nn.from(i,a);return new t(o)},n.roundPixels.set=function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},n.roundPixels.get=function(){return this._roundPixels},n.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},n.width.set=function(r){var i=lc(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r},n.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},n.height.set=function(r){var i=lc(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r},n.anchor.get=function(){return this._anchor},n.anchor.set=function(r){this._anchor.copyFrom(r)},n.tint.get=function(){return this._tint},n.tint.set=function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},n.texture.get=function(){return this._texture},n.texture.set=function(r){this._texture!==r&&(this._texture=r||nn.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},Object.defineProperties(t.prototype,n),t}(yn);/*!
 * @pixi/text - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var aB={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Hb={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:aB.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Kre=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],rs=function(t){this.styleID=0,this.reset(),M2(this,t,t)},ht={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};rs.prototype.clone=function(){var t={};return M2(t,this,Hb),new rs(t)};rs.prototype.reset=function(){M2(this,Hb,Hb)};ht.align.get=function(){return this._align};ht.align.set=function(e){this._align!==e&&(this._align=e,this.styleID++)};ht.breakWords.get=function(){return this._breakWords};ht.breakWords.set=function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)};ht.dropShadow.get=function(){return this._dropShadow};ht.dropShadow.set=function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)};ht.dropShadowAlpha.get=function(){return this._dropShadowAlpha};ht.dropShadowAlpha.set=function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)};ht.dropShadowAngle.get=function(){return this._dropShadowAngle};ht.dropShadowAngle.set=function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)};ht.dropShadowBlur.get=function(){return this._dropShadowBlur};ht.dropShadowBlur.set=function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)};ht.dropShadowColor.get=function(){return this._dropShadowColor};ht.dropShadowColor.set=function(e){var t=I2(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)};ht.dropShadowDistance.get=function(){return this._dropShadowDistance};ht.dropShadowDistance.set=function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)};ht.fill.get=function(){return this._fill};ht.fill.set=function(e){var t=I2(e);this._fill!==t&&(this._fill=t,this.styleID++)};ht.fillGradientType.get=function(){return this._fillGradientType};ht.fillGradientType.set=function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)};ht.fillGradientStops.get=function(){return this._fillGradientStops};ht.fillGradientStops.set=function(e){qre(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)};ht.fontFamily.get=function(){return this._fontFamily};ht.fontFamily.set=function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)};ht.fontSize.get=function(){return this._fontSize};ht.fontSize.set=function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)};ht.fontStyle.get=function(){return this._fontStyle};ht.fontStyle.set=function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)};ht.fontVariant.get=function(){return this._fontVariant};ht.fontVariant.set=function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)};ht.fontWeight.get=function(){return this._fontWeight};ht.fontWeight.set=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)};ht.letterSpacing.get=function(){return this._letterSpacing};ht.letterSpacing.set=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)};ht.lineHeight.get=function(){return this._lineHeight};ht.lineHeight.set=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)};ht.leading.get=function(){return this._leading};ht.leading.set=function(e){this._leading!==e&&(this._leading=e,this.styleID++)};ht.lineJoin.get=function(){return this._lineJoin};ht.lineJoin.set=function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)};ht.miterLimit.get=function(){return this._miterLimit};ht.miterLimit.set=function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)};ht.padding.get=function(){return this._padding};ht.padding.set=function(e){this._padding!==e&&(this._padding=e,this.styleID++)};ht.stroke.get=function(){return this._stroke};ht.stroke.set=function(e){var t=I2(e);this._stroke!==t&&(this._stroke=t,this.styleID++)};ht.strokeThickness.get=function(){return this._strokeThickness};ht.strokeThickness.set=function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)};ht.textBaseline.get=function(){return this._textBaseline};ht.textBaseline.set=function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)};ht.trim.get=function(){return this._trim};ht.trim.set=function(e){this._trim!==e&&(this._trim=e,this.styleID++)};ht.whiteSpace.get=function(){return this._whiteSpace};ht.whiteSpace.set=function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)};ht.wordWrap.get=function(){return this._wordWrap};ht.wordWrap.set=function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)};ht.wordWrapWidth.get=function(){return this._wordWrapWidth};ht.wordWrapWidth.set=function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)};rs.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,n=this.fontFamily;Array.isArray(this.fontFamily)||(n=this.fontFamily.split(","));for(var r=n.length-1;r>=0;r--){var i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Kre.indexOf(i)<0&&(i='"'+i+'"'),n[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+n.join(",")};Object.defineProperties(rs.prototype,ht);function aC(e){return typeof e=="number"?AF(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function I2(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=aC(e[t]);return e}else return aC(e)}function qre(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function M2(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var at=function(t,n,r,i,a,o,s,u,l){this.text=t,this.style=n,this.width=r,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=u,this.fontProperties=l};at.measureText=function(t,n,r,i){i===void 0&&(i=at._canvas),r=r??n.wordWrap;var a=n.toFontString(),o=at.measureFont(a);o.fontSize===0&&(o.fontSize=n.fontSize,o.ascent=n.fontSize);var s=i.getContext("2d");s.font=a;for(var u=r?at.wordWrap(t,n,i):t,l=u.split(/(?:\r\n|\r|\n)/),c=new Array(l.length),h=0,f=0;f<l.length;f++){var d=s.measureText(l[f]).width+(l[f].length-1)*n.letterSpacing;c[f]=d,h=Math.max(h,d)}var v=h+n.strokeThickness;n.dropShadow&&(v+=n.dropShadowDistance);var g=n.lineHeight||o.fontSize+n.strokeThickness,p=Math.max(g,o.fontSize+n.strokeThickness)+(l.length-1)*(g+n.leading);return n.dropShadow&&(p+=n.dropShadowDistance),new at(t,n,v,p,l,c,g+n.leading,h,o)};at.wordWrap=function(t,n,r){r===void 0&&(r=at._canvas);for(var i=r.getContext("2d"),a=0,o="",s="",u={},l=n.letterSpacing,c=n.whiteSpace,h=at.collapseSpaces(c),f=at.collapseNewlines(c),d=!h,v=n.wordWrapWidth+l,g=at.tokenize(t),p=0;p<g.length;p++){var y=g[p];if(at.isNewline(y)){if(!f){s+=at.addLine(o),d=!h,o="",a=0;continue}y=" "}if(h){var m=at.isBreakingSpace(y),w=at.isBreakingSpace(o[o.length-1]);if(m&&w)continue}var b=at.getFromCache(y,l,u,i);if(b>v)if(o!==""&&(s+=at.addLine(o),o="",a=0),at.canBreakWords(y,n.breakWords))for(var x=y.split(""),_=0;_<x.length;_++){for(var S=x[_],P=1;x[_+P];){var C=x[_+P],B=S[S.length-1];if(!at.canBreakChars(B,C,y,_,n.breakWords))S+=C;else break;P++}_+=S.length-1;var T=at.getFromCache(S,l,u,i);T+a>v&&(s+=at.addLine(o),d=!1,o="",a=0),o+=S,a+=T}else{o.length>0&&(s+=at.addLine(o),o="",a=0);var k=p===g.length-1;s+=at.addLine(y,!k),d=!1,o="",a=0}else b+a>v&&(d=!1,s+=at.addLine(o),o="",a=0),(o.length>0||!at.isBreakingSpace(y)||d)&&(o+=y,a+=b)}return s+=at.addLine(o,!1),s};at.addLine=function(t,n){return n===void 0&&(n=!0),t=at.trimRight(t),t=n?t+`
`:t,t};at.getFromCache=function(t,n,r,i){var a=r[t];if(a===void 0){var o=t.length*n;a=i.measureText(t).width+o,r[t]=a}return a};at.collapseSpaces=function(t){return t==="normal"||t==="pre-line"};at.collapseNewlines=function(t){return t==="normal"};at.trimRight=function(t){if(typeof t!="string")return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!at.isBreakingSpace(r))break;t=t.slice(0,-1)}return t};at.isNewline=function(t){return typeof t!="string"?!1:at._newlines.indexOf(t.charCodeAt(0))>=0};at.isBreakingSpace=function(t){return typeof t!="string"?!1:at._breakingSpaces.indexOf(t.charCodeAt(0))>=0};at.tokenize=function(t){var n=[],r="";if(typeof t!="string")return n;for(var i=0;i<t.length;i++){var a=t[i];if(at.isBreakingSpace(a)||at.isNewline(a)){r!==""&&(n.push(r),r=""),n.push(a);continue}r+=a}return r!==""&&n.push(r),n};at.canBreakWords=function(t,n){return n};at.canBreakChars=function(t,n,r,i,a){return!0};at.measureFont=function(t){if(at._fonts[t])return at._fonts[t];var n={},r=at._canvas,i=at._context;i.font=t;var a=at.METRICS_STRING+at.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(at.BASELINE_SYMBOL).width),u=2*s;s=s*at.BASELINE_MULTIPLIER|0,r.width=o,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var l=i.getImageData(0,0,o,u).data,c=l.length,h=o*4,f=0,d=0,v=!1;for(f=0;f<s;++f){for(var g=0;g<h;g+=4)if(l[d+g]!==255){v=!0;break}if(!v)d+=h;else break}for(n.ascent=s-f,d=c-h,v=!1,f=u;f>s;--f){for(var p=0;p<h;p+=4)if(l[d+p]!==255){v=!0;break}if(!v)d-=h;else break}return n.descent=f-s,n.fontSize=n.ascent+n.descent,at._fonts[t]=n,n};at.clearMetrics=function(t){t===void 0&&(t=""),t?delete at._fonts[t]:at._fonts={}};var qg=function(){try{var e=new OffscreenCanvas(0,0);return e.getContext("2d")?e:document.createElement("canvas")}catch{return document.createElement("canvas")}}();qg.width=qg.height=10;at._canvas=qg;at._context=qg.getContext("2d");at._fonts={};at.METRICS_STRING="|q";at.BASELINE_SYMBOL="M";at.BASELINE_MULTIPLIER=1.4;at._newlines=[10,13];at._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Zre={texture:!0,children:!1,baseTexture:!0},s0=function(e){function t(r,i,a){a=a||document.createElement("canvas"),a.width=3,a.height=3;var o=nn.from(a);o.orig=new tn,o.trim=new tn,e.call(this,o),this.canvas=a,this.context=this.canvas.getContext("2d"),this._resolution=Nt.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=r,this.style=i,this.localStyleID=-1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return t.prototype.updateText=function(i){var a=this._style;if(this.localStyleID!==a.styleID&&(this.dirty=!0,this.localStyleID=a.styleID),!(!this.dirty&&i)){this._font=this._style.toFontString();var o=this.context,s=at.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),u=s.width,l=s.height,c=s.lines,h=s.lineHeight,f=s.lineWidths,d=s.maxLineWidth,v=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,u)+a.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,l)+a.padding*2)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=a.strokeThickness,o.textBaseline=a.textBaseline,o.lineJoin=a.lineJoin,o.miterLimit=a.miterLimit;for(var g,p,y=a.dropShadow?2:1,m=0;m<y;++m){var w=a.dropShadow&&m===0,b=w?l*2:0,x=b*this.resolution;if(w){o.fillStyle="black",o.strokeStyle="black";var _=a.dropShadowColor,S=zg(typeof _=="number"?_:yne(_));o.shadowColor="rgba("+S[0]*255+","+S[1]*255+","+S[2]*255+","+a.dropShadowAlpha+")",o.shadowBlur=a.dropShadowBlur,o.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,o.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance+x}else o.fillStyle=this._generateFillStyle(a,c),o.strokeStyle=a.stroke,o.shadowColor=0,o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;for(var P=0;P<c.length;P++)g=a.strokeThickness/2,p=a.strokeThickness/2+P*h+v.ascent,a.align==="right"?g+=d-f[P]:a.align==="center"&&(g+=(d-f[P])/2),a.stroke&&a.strokeThickness&&this.drawLetterSpacing(c[P],g+a.padding,p+a.padding-b,!0),a.fill&&this.drawLetterSpacing(c[P],g+a.padding,p+a.padding-b)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(i,a,o,s){s===void 0&&(s=!1);var u=this._style,l=u.letterSpacing;if(l===0){s?this.context.strokeText(i,a,o):this.context.fillText(i,a,o);return}for(var c=a,h=Array.from?Array.from(i):i.split(""),f=this.context.measureText(i).width,d=0,v=0;v<h.length;++v){var g=h[v];s?this.context.strokeText(g,c,o):this.context.fillText(g,c,o),d=this.context.measureText(i.substring(v+1)).width,c+=f-d+l,f=d}},t.prototype.updateTexture=function(){var i=this.canvas;if(this._style.trim){var a=Ene(i);a.data&&(i.width=a.width,i.height=a.height,this.context.putImageData(a.data,0,0))}var o=this._texture,s=this._style,u=s.trim?0:s.padding,l=o.baseTexture;o.trim.width=o._frame.width=Math.ceil(i.width/this._resolution),o.trim.height=o._frame.height=Math.ceil(i.height/this._resolution),o.trim.x=-u,o.trim.y=-u,o.orig.width=o._frame.width-u*2,o.orig.height=o._frame.height-u*2,this._onTextureUpdate(),l.setRealSize(i.width,i.height,this._resolution),this.dirty=!1},t.prototype._render=function(i){this._autoResolution&&this._resolution!==i.resolution&&(this._resolution=i.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,i)},t.prototype.getLocalBounds=function(i){return this.updateText(!0),e.prototype.getLocalBounds.call(this,i)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(i,a){if(Array.isArray(i.fill)){if(i.fill.length===1)return i.fill[0]}else return i.fill;var o,s,u,l,c=Math.ceil(this.canvas.width/this._resolution),h=Math.ceil(this.canvas.height/this._resolution),f=i.fill.slice(),d=i.fillGradientStops.slice();if(!d.length)for(var v=f.length+1,g=1;g<v;++g)d.push(g/v);if(f.unshift(i.fill[0]),d.unshift(0),f.push(i.fill[i.fill.length-1]),d.push(1),i.fillGradientType===aB.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,0,c/2,h),s=(f.length+1)*a.length,u=0;for(var p=0;p<a.length;p++){u+=1;for(var y=0;y<f.length;y++)typeof d[y]=="number"?l=d[y]/a.length+p/a.length:l=u/s,o.addColorStop(l,f[y]),u++}}else{o=this.context.createLinearGradient(0,h/2,c,h/2),s=f.length+1,u=1;for(var m=0;m<f.length;m++)typeof d[m]=="number"?l=d[m]:l=u/s,o.addColorStop(l,f[m]),u++}return o},t.prototype.destroy=function(i){typeof i=="boolean"&&(i={children:i}),i=Object.assign({},Zre,i),e.prototype.destroy.call(this,i),this.context=null,this.canvas=null,this._style=null},n.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},n.width.set=function(r){this.updateText(!0);var i=lc(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r},n.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},n.height.set=function(r){this.updateText(!0);var i=lc(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r},n.style.get=function(){return this._style},n.style.set=function(r){r=r||{},r instanceof rs?this._style=r:this._style=new rs(r),this.localStyleID=-1,this.dirty=!0},n.text.get=function(){return this._text},n.text.set=function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},n.resolution.get=function(){return this._resolution},n.resolution.set=function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},Object.defineProperties(t.prototype,n),t}(Va);/*!
 * @pixi/prepare - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Nt.UPLOADS_PER_FRAME=4;var D2=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};D2.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};D2.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var tu=function(t){var n=this;this.limiter=new D2(Nt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(rie),this.registerFindHook(iie),this.registerFindHook(Qre),this.registerFindHook(Jre),this.registerFindHook(eie),this.registerUploadHook(tie),this.registerUploadHook(nie)};tu.prototype.upload=function(t,n){typeof t=="function"&&(n=t,t=null),t&&this.add(t),this.queue.length?(n&&this.completes.push(n),this.ticking||(this.ticking=!0,hn.system.addOnce(this.tick,this,nf.UTILITY))):n&&n()};tu.prototype.tick=function(){setTimeout(this.delayedTick,0)};tu.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],n=!1;if(t&&!t._destroyed){for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),n=!0;break}}n||this.queue.shift()}if(this.queue.length)hn.system.addOnce(this.tick,this,nf.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var o=0,s=a.length;o<s;o++)a[o]()}};tu.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this};tu.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this};tu.prototype.add=function(t){for(var n=0,r=this.addHooks.length;n<r&&!this.addHooks[n](t,this.queue);n++);if(t instanceof yn)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this};tu.prototype.destroy=function(){this.ticking&&hn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};function Qre(e,t){var n=!1;if(e&&e._textures&&e._textures.length){for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof nn){var i=e._textures[r].baseTexture;t.indexOf(i)===-1&&(t.push(i),n=!0)}}return n}function Jre(e,t){return e instanceof Vn?(t.indexOf(e)===-1&&t.push(e),!0):!1}function eie(e,t){if(e._texture&&e._texture instanceof nn){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function tie(e,t){return t instanceof s0?(t.updateText(!0),!0):!1}function nie(e,t){if(t instanceof rs){var n=t.toFontString();return at.measureFont(n),!0}return!1}function rie(e,t){if(e instanceof s0){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function iie(e,t){return e instanceof rs?(t.indexOf(e)===-1&&t.push(e),!0):!1}var aie=function(e){function t(n){e.call(this,n),this.uploadHookHelper=this.renderer,this.registerFindHook(uie),this.registerUploadHook(oie),this.registerUploadHook(sie)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(tu);function oie(e,t){return t instanceof Vn?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function sie(e,t){return t instanceof Ra?((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0):!1}function uie(e,t){return e instanceof Ra?(t.push(e),!0):!1}/*!
 * @pixi/app - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var po=function e(t){var n=this;t=Object.assign({forceCanvas:!1},t),this.renderer=kre(t),this.stage=new yn,e._plugins.forEach(function(r){r.init.call(n,t)})},F2={view:{configurable:!0},screen:{configurable:!0}};po.registerPlugin=function(t){po._plugins.push(t)};po.prototype.render=function(){this.renderer.render(this.stage)};F2.view.get=function(){return this.renderer.view};F2.screen.get=function(){return this.renderer.screen};po.prototype.destroy=function(t,n){var r=this,i=po._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(r)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null};Object.defineProperties(po.prototype,F2);po._plugins=[];var B2=function(){};B2.init=function(t){var n=this;Object.defineProperty(this,"resizeTo",{set:function(i){window.removeEventListener("resize",this.resize),this._resizeTo=i,i&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){n._resizeTo&&(n._resizeTo===window?n.renderer.resize(window.innerWidth,window.innerHeight):n.renderer.resize(n._resizeTo.clientWidth,n._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null};B2.destroy=function(){this.resizeTo=null,this.resize=null};po.registerPlugin(B2);var lie=(e,t={})=>{if(!e)return;const n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={};let a=14;for(;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(o,s,u){s&&(i[n.q.name][s]=u)}),i};const oB=dl(lie);class Fv{constructor(t,n=!1,r){this._fn=t,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function oC(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}class No{constructor(){this._head=this._tail=void 0}handlers(t=!1){let n=this._head;if(t)return!!n;const r=[];for(;n;)r.push(n),n=n._next;return r}has(t){if(!(t instanceof Fv))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}dispatch(){let t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}add(t,n=null){if(typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return oC(this,new Fv(t,!1,n))}once(t,n=null){if(typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return oC(this,new Fv(t,!0,n))}detach(t){if(!(t instanceof Fv))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}detachAll(){let t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function vu(){}function sC(e,t,n,r){var i=0,a=e.length;(function o(s){if(s||i===a){n&&n(s);return}r?setTimeout(function(){t(e[i++],o)},1):t(e[i++],o)})()}function cie(e){return function(){if(e===null)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,arguments)}}function fie(e,t){if(t==null)t=1;else if(t===0)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:t,saturated:vu,unsaturated:vu,buffer:t/4,empty:vu,drain:vu,error:vu,started:!1,paused:!1,push:function(s,u){i(s,!1,u)},kill:function(){n=0,r.drain=vu,r.started=!1,r._tasks=[]},unshift:function(s,u){i(s,!0,u)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var s=r._tasks.shift();r._tasks.length===0&&r.empty(),n+=1,n===r.concurrency&&r.saturated(),e(s.data,cie(a(s)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){r.paused!==!0&&(r.paused=!0)},resume:function(){if(r.paused!==!1){r.paused=!1;for(var s=1;s<=r.concurrency;s++)r.process()}}};function i(o,s,u){if(u!=null&&typeof u!="function")throw new Error("task callback must be a function");if(r.started=!0,o==null&&r.idle()){setTimeout(function(){return r.drain()},1);return}var l={data:o,callback:typeof u=="function"?u:vu};s?r._tasks.unshift(l):r._tasks.push(l),setTimeout(function(){return r.process()},1)}function a(o){return function(){n-=1,o.callback.apply(o,arguments),arguments[0]!=null&&r.error(arguments[0],o.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var jy={};function hie(e,t){var n=this;jy[e.url]?(e.data=jy[e.url],e.complete()):e.onComplete.once(function(){return jy[n.url]=n.data}),t()}function uC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sB(e,t,n){return t&&uC(e.prototype,t),n&&uC(e,n),e}var die=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Bv=null,vie=0,lC=200,pie=204,gie=1223,mie=2;function yie(){}var Tt=function(){e.setExtensionLoadType=function(r,i){cC(e._loadTypeMap,r,i)},e.setExtensionXhrType=function(r,i){cC(e._xhrTypeMap,r,i)};function e(n,r,i){if(typeof n!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=n,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=yie,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new No,this.onProgress=new No,this.onComplete=new No,this.onAfterMiddleware=new No}var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(r){var i=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(i)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:die&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t._hasFlag=function(r){return(this._flags&r)!==0},t._setFlag=function(r,i){this._flags=i?this._flags|r:this._flags&~r},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var i=this.metadata.mimeType,a=0;a<this.url.length;++a)this.data.appendChild(this._createSource(r,this.url[a],Array.isArray(i)?i[a]:i));else{var o=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(o)?o[0]:o))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=e.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t._createSource=function(r,i,a){a||(a=r+"/"+this._getExtension(i));var o=document.createElement("source");return o.src=i,o.type=a,o},t._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var r=this.xhr;this.abort(Hy(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t._xhrOnTimeout=function(){var r=this.xhr;this.abort(Hy(r)+" Request timed out.")},t._xhrOnAbort=function(){var r=this.xhr;this.abort(Hy(r)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var r=this.xhr,i="",a=typeof r.status>"u"?lC:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(i=r.responseText),a===vie&&(i.length>0||r.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?a=lC:a===gie&&(a=pie);var o=a/100|0;if(o===mie)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=e.TYPE.JSON}catch(l){this.abort("Error trying to parse loaded json: "+l);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(i,"text/xml")}else{var u=document.createElement("div");u.innerHTML=i,this.data=u}this.type=e.TYPE.XML}catch(l){this.abort("Error trying to parse loaded xml: "+l);return}else this.data=r.response||i;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t._determineCrossOrigin=function(r,i){if(r.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";i=i||window.location,Bv||(Bv=document.createElement("a")),Bv.href=r,r=oB(Bv.href,{strictMode:!0});var a=!r.port&&i.port===""||r.port===i.port,o=r.protocol?r.protocol+":":"";return r.host!==i.hostname||!a||o!==i.protocol?"anonymous":""},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var r=this.url,i="";if(this.isDataUrl){var a=r.indexOf("/");i=r.substring(a+1,r.indexOf(";",a))}else{var o=r.indexOf("?"),s=r.indexOf("#"),u=Math.min(o>-1?o:r.length,s>-1?s:r.length);r=r.substring(0,u),i=r.substring(r.lastIndexOf(".")+1)}return i.toLowerCase()},t._getMimeFromXhrType=function(r){switch(r){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},sB(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();Tt.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};Tt.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Tt.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Tt.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};Tt._loadTypeMap={gif:Tt.LOAD_TYPE.IMAGE,png:Tt.LOAD_TYPE.IMAGE,bmp:Tt.LOAD_TYPE.IMAGE,jpg:Tt.LOAD_TYPE.IMAGE,jpeg:Tt.LOAD_TYPE.IMAGE,tif:Tt.LOAD_TYPE.IMAGE,tiff:Tt.LOAD_TYPE.IMAGE,webp:Tt.LOAD_TYPE.IMAGE,tga:Tt.LOAD_TYPE.IMAGE,svg:Tt.LOAD_TYPE.IMAGE,"svg+xml":Tt.LOAD_TYPE.IMAGE,mp3:Tt.LOAD_TYPE.AUDIO,ogg:Tt.LOAD_TYPE.AUDIO,wav:Tt.LOAD_TYPE.AUDIO,mp4:Tt.LOAD_TYPE.VIDEO,webm:Tt.LOAD_TYPE.VIDEO};Tt._xhrTypeMap={xhtml:Tt.XHR_RESPONSE_TYPE.DOCUMENT,html:Tt.XHR_RESPONSE_TYPE.DOCUMENT,htm:Tt.XHR_RESPONSE_TYPE.DOCUMENT,xml:Tt.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Tt.XHR_RESPONSE_TYPE.DOCUMENT,svg:Tt.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Tt.XHR_RESPONSE_TYPE.DOCUMENT,gif:Tt.XHR_RESPONSE_TYPE.BLOB,png:Tt.XHR_RESPONSE_TYPE.BLOB,bmp:Tt.XHR_RESPONSE_TYPE.BLOB,jpg:Tt.XHR_RESPONSE_TYPE.BLOB,jpeg:Tt.XHR_RESPONSE_TYPE.BLOB,tif:Tt.XHR_RESPONSE_TYPE.BLOB,tiff:Tt.XHR_RESPONSE_TYPE.BLOB,webp:Tt.XHR_RESPONSE_TYPE.BLOB,tga:Tt.XHR_RESPONSE_TYPE.BLOB,json:Tt.XHR_RESPONSE_TYPE.JSON,text:Tt.XHR_RESPONSE_TYPE.TEXT,txt:Tt.XHR_RESPONSE_TYPE.TEXT,ttf:Tt.XHR_RESPONSE_TYPE.BUFFER,otf:Tt.XHR_RESPONSE_TYPE.BUFFER};Tt.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function cC(e,t,n){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=n)}function Hy(e){return e.toString().replace("object ","")}var bie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function wie(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],a=0;a<r.length;++a)n<e.length?r[a]=e.charCodeAt(n++)&255:r[a]=0;i[0]=r[0]>>2,i[1]=(r[0]&3)<<4|r[1]>>4,i[2]=(r[1]&15)<<2|r[2]>>6,i[3]=r[2]&63;var o=n-(e.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)t+=bie.charAt(i[s])}return t}var fC=window.URL||window.webkitURL;function xie(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===Tt.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof e.data=="string"){var n=e.xhr.getResponseHeader("content-type");if(n&&n.indexOf("image")===0){e.data=new Image,e.data.src="data:"+n+";base64,"+wie(e.xhr.responseText),e.type=Tt.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var r=fC.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=r,e.type=Tt.TYPE.IMAGE,e.data.onload=function(){fC.revokeObjectURL(r),e.data.onload=null,t()};return}}t()}var _ie={caching:hie,parsing:xie},Gy=100,Sie=/(#[\w-]+)?$/,Yo=function(){function e(n,r){var i=this;n===void 0&&(n=""),r===void 0&&(r=10),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(s,u){return i._loadResource(s,u)},this._queue=fie(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new No,this.onError=new No,this.onLoad=new No,this.onStart=new No,this.onComplete=new No;for(var a=0;a<e._defaultBeforeMiddleware.length;++a)this.pre(e._defaultBeforeMiddleware[a]);for(var o=0;o<e._defaultAfterMiddleware.length;++o)this.use(e._defaultAfterMiddleware[o])}var t=e.prototype;return t.add=function(r,i,a,o){if(Array.isArray(r)){for(var s=0;s<r.length;++s)this.add(r[s]);return this}if(typeof r=="object"&&(o=i||r.callback||r.onComplete,a=r,i=r.url,r=r.name||r.key||r.url),typeof i!="string"&&(o=a,a=i,i=r),typeof i!="string")throw new Error("No url passed to add resource to loader.");if(typeof a=="function"&&(o=a,a=null),this.loading&&(!a||!a.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(i=this._prepareUrl(i),this.resources[r]=new Tt(r,i,a),typeof o=="function"&&this.resources[r].onAfterMiddleware.once(o),this.loading){for(var u=a.parentResource,l=[],c=0;c<u.children.length;++c)u.children[c].isComplete||l.push(u.children[c]);var h=u.progressChunk*(l.length+1),f=h/(l.length+2);u.children.push(this.resources[r]),u.progressChunk=f;for(var d=0;d<l.length;++d)l[d].progressChunk=f;this.resources[r].progressChunk=f}return this._queue.push(this.resources[r]),this},t.pre=function(r){return this._beforeMiddleware.push(r),this},t.use=function(r){return this._afterMiddleware.push(r),this},t.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var i=this.resources[r];i._onLoadBinding&&i._onLoadBinding.detach(),i.isLoading&&i.abort()}return this.resources={},this},t.load=function(r){if(typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=this._queue._tasks.length,a=Gy/i,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=a;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(r){var i=oB(r,{strictMode:!0}),a;if(i.protocol||!i.path||r.indexOf("//")===0?a=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?a=this.baseUrl+"/"+r:a=this.baseUrl+r,this.defaultQueryString){var o=Sie.exec(a)[0];a=a.substr(0,a.length-o.length),a.indexOf("?")!==-1?a+="&"+this.defaultQueryString:a+="?"+this.defaultQueryString,a+=o}return a},t._loadResource=function(r,i){var a=this;r._dequeue=i,sC(this._beforeMiddleware,function(o,s){o.call(a,r,function(){s(r.isComplete?{}:null)})},function(){r.isComplete?a._onLoad(r):(r._onLoadBinding=r.onComplete.once(a._onLoad,a),r.load())},!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=Gy,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(r){var i=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),sC(this._afterMiddleware,function(a,o){a.call(i,r,o)},function(){r.onAfterMiddleware.dispatch(r),i.progress=Math.min(Gy,i.progress+r.progressChunk),i.onProgress.dispatch(i,r),r.error?i.onError.dispatch(r.error,i,r):i.onLoad.dispatch(i,r),i._resourcesParsing.splice(i._resourcesParsing.indexOf(r),1),i._queue.idle()&&i._resourcesParsing.length===0&&i._onComplete()},!0)},sB(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r}}]),e}();Yo._defaultBeforeMiddleware=[];Yo._defaultAfterMiddleware=[];Yo.pre=function(t){return Yo._defaultBeforeMiddleware.push(t),Yo};Yo.use=function(t){return Yo._defaultAfterMiddleware.push(t),Yo};/*!
 * @pixi/loaders - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var uB=function(){};uB.use=function(t,n){t.data&&t.type===Tt.TYPE.IMAGE&&(t.texture=nn.fromLoader(t.data,t.url,t.name)),n()};var La=function(e){function t(r,i){var a=this;e.call(this,r,i),gl.call(this);for(var o=0;o<t._plugins.length;++o){var s=t._plugins[o],u=s.pre,l=s.use;u&&this.pre(u),l&&this.use(l)}this.onStart.add(function(c){return a.emit("start",c)}),this.onProgress.add(function(c,h){return a.emit("progress",c,h)}),this.onError.add(function(c,h,f){return a.emit("error",c,h,f)}),this.onLoad.add(function(c,h){return a.emit("load",c,h)}),this.onComplete.add(function(c,h){return a.emit("complete",c,h)}),this._protected=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={shared:{configurable:!0}};return t.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},n.shared.get=function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},Object.defineProperties(t,n),t}(Yo);Object.assign(La.prototype,gl.prototype);La._plugins=[];La.registerPlugin=function(t){return La._plugins.push(t),t.add&&t.add(),La};La.registerPlugin({use:_ie.parsing});La.registerPlugin(uB);var k2=function(){};k2.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?La.shared:new La};k2.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Yh=Tt;/*!
 * @pixi/particles - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yc=function(t,n,r){this.geometry=new Er,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var a=t[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||oi.FLOAT,offset:a.offset},n[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};Yc.prototype.initBuffers=function(){var t=this.geometry,n=0;this.indexBuffer=new Fr(_ne(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=n,n+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Fr(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var u=this.staticProperties[s];u.offset=o,o+=u.size,this.staticStride+=u.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=new Fr(this.staticData,!0,!1);for(var c=0;c<this.dynamicProperties.length;++c){var h=this.dynamicProperties[c];t.addAttribute(h.attributeName,this.dynamicBuffer,0,h.type===oi.UNSIGNED_BYTE,h.type,this.dynamicStride*4,h.offset*4)}for(var f=0;f<this.staticProperties.length;++f){var d=this.staticProperties[f];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===oi.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}};Yc.prototype.uploadDynamic=function(t,n,r){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(t,n,r,a.type===oi.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++};Yc.prototype.uploadStatic=function(t,n,r){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(t,n,r,a.type===oi.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++};Yc.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Eie=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Aie=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Cie=function(e){function t(n){e.call(this,n),this.shader=null,this.properties=null,this.tempMatrix=new un,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:oi.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=va.from(Eie,Aie,{})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(r){var i=r.children,a=r._maxSize,o=r._batchSize,s=this.renderer,u=i.length;if(u!==0){u>a&&!r.autoResize&&(u=a);var l=r._buffers;l||(l=r._buffers=this.generateBuffers(r));var c=i[0]._texture.baseTexture;this.renderer.state.setBlendMode(TF(r.blendMode,c.premultiplyAlpha));var h=s.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=wne(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,c.premultiplyAlpha),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var d=!1,v=0,g=0;v<u;v+=o,g+=1){var p=u-v;p>o&&(p=o),g>=l.length&&l.push(this._generateOneMoreBuffer(r));var y=l[g];y.uploadDynamic(i,v,p);var m=r._bufferUpdateIDs[g]||0;d=d||y._updateID<m,d&&(y._updateID=r._updateID,y.uploadStatic(i,v,p)),s.geometry.bind(y.geometry),h.drawElements(h.TRIANGLES,p*6,h.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var i=[],a=r._maxSize,o=r._batchSize,s=r._properties,u=0;u<a;u+=o)i.push(new Yc(this.properties,s,o));return i},t.prototype._generateOneMoreBuffer=function(r){var i=r._batchSize,a=r._properties;return new Yc(this.properties,a,i)},t.prototype.uploadVertices=function(r,i,a,o,s,u){for(var l=0,c=0,h=0,f=0,d=0;d<a;++d){var v=r[i+d],g=v._texture,p=v.scale.x,y=v.scale.y,m=g.trim,w=g.orig;m?(c=m.x-v.anchor.x*w.width,l=c+m.width,f=m.y-v.anchor.y*w.height,h=f+m.height):(l=w.width*(1-v.anchor.x),c=w.width*-v.anchor.x,h=w.height*(1-v.anchor.y),f=w.height*-v.anchor.y),o[u]=c*p,o[u+1]=f*y,o[u+s]=l*p,o[u+s+1]=f*y,o[u+s*2]=l*p,o[u+s*2+1]=h*y,o[u+s*3]=c*p,o[u+s*3+1]=h*y,u+=s*4}},t.prototype.uploadPosition=function(r,i,a,o,s,u){for(var l=0;l<a;l++){var c=r[i+l].position;o[u]=c.x,o[u+1]=c.y,o[u+s]=c.x,o[u+s+1]=c.y,o[u+s*2]=c.x,o[u+s*2+1]=c.y,o[u+s*3]=c.x,o[u+s*3+1]=c.y,u+=s*4}},t.prototype.uploadRotation=function(r,i,a,o,s,u){for(var l=0;l<a;l++){var c=r[i+l].rotation;o[u]=c,o[u+s]=c,o[u+s*2]=c,o[u+s*3]=c,u+=s*4}},t.prototype.uploadUvs=function(r,i,a,o,s,u){for(var l=0;l<a;++l){var c=r[i+l]._texture._uvs;c?(o[u]=c.x0,o[u+1]=c.y0,o[u+s]=c.x1,o[u+s+1]=c.y1,o[u+s*2]=c.x2,o[u+s*2+1]=c.y2,o[u+s*3]=c.x3,o[u+s*3+1]=c.y3,u+=s*4):(o[u]=0,o[u+1]=0,o[u+s]=0,o[u+s+1]=0,o[u+s*2]=0,o[u+s*2+1]=0,o[u+s*3]=0,o[u+s*3+1]=0,u+=s*4)}},t.prototype.uploadTint=function(r,i,a,o,s,u){for(var l=0;l<a;++l){var c=r[i+l],h=c._texture.baseTexture.premultiplyAlpha,f=c.alpha,d=f<1&&h?p2(c._tintRGB,f):c._tintRGB+(f*255<<24);o[u]=d,o[u+s]=d,o[u+s*2]=d,o[u+s*3]=d,u+=s*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(cs);/*!
 * @pixi/spritesheet - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Hi=function(t,n,r){r===void 0&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},lB={BATCH_SIZE:{configurable:!0}};lB.BATCH_SIZE.get=function(){return 1e3};Hi.prototype._updateResolution=function(t){var n=this.data.meta.scale,r=Hg(t,null);return r===null&&(r=n!==void 0?parseFloat(n):1),r!==1&&this.baseTexture.setResolution(r),r};Hi.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Hi.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()};Hi.prototype._processFrames=function(t){for(var n=t,r=Hi.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],a=this._frames[i],o=a.frame;if(o){var s=null,u=null,l=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,c=new tn(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a.rotated?s=new tn(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new tn(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(u=new tn(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new nn(this.baseTexture,s,c,u,a.rotated?2:0,a.anchor),nn.addToCache(this.textures[i],i)}n++}};Hi.prototype._processAnimations=function(){var t=this.data.animations||{};for(var n in t){this.animations[n]=[];for(var r=0;r<t[n].length;r++){var i=t[n][r];this.animations[n].push(this.textures[i])}}};Hi.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)};Hi.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Hi.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*Hi.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)};Hi.prototype.destroy=function(t){t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null};Object.defineProperties(Hi,lB);var Zg=function(){};Zg.use=function(t,n){var r=t.name+"_image";if(!t.data||t.type!==Yh.TYPE.JSON||!t.data.frames||this.resources[r]){n();return}var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=Zg.getResourcePath(t,this.baseUrl);this.add(r,a,i,function(s){if(s.error){n(s.error);return}var u=new Hi(s.texture.baseTexture,t.data,t.url);u.parse(function(){t.spritesheet=u,t.textures=u.textures,n()})})};Zg.getResourcePath=function(t,n){return t.isDataUrl?t.data.meta.image:ml.resolve(t.url.replace(n,""),t.data.meta.image)};/*!
 * @pixi/sprite-tiling - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */new Gn;var hC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Tie=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    gl_FragColor = sample * uColor;
}
`,Pie=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`,kv=new un,Oie=function(e){function t(n){e.call(this,n);var r={globals:this.renderer.globalUniforms};this.shader=va.from(hC,Tie,r),this.simpleShader=va.from(hC,Pie,r),this.quad=new $F}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(r){var i=this.renderer,a=this.quad,o=a.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&(o=a.uvs,o[0]=o[6]=-r.anchor.x,o[1]=o[3]=-r.anchor.y,o[2]=o[4]=1-r.anchor.x,o[5]=o[7]=1-r.anchor.y),a.invalidate();var s=r._texture,u=s.baseTexture,l=r.tileTransform.localTransform,c=r.uvMatrix,h=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;h&&(u._glTextures[i.CONTEXT_UID]?h=u.wrapMode!==dh.CLAMP:u.wrapMode===dh.CLAMP&&(u.wrapMode=dh.REPEAT));var f=h?this.simpleShader:this.shader,d=s.width,v=s.height,g=r._width,p=r._height;kv.set(l.a*d/g,l.b*d/p,l.c*v/g,l.d*v/p,l.tx/g,l.ty/p),kv.invert(),h?kv.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=kv.toArray(!0),f.uniforms.uColor=xne(r.tint,r.worldAlpha,f.uniforms.uColor,u.premultiplyAlpha),f.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),f.uniforms.uSampler=s,i.shader.bind(f),i.geometry.bind(a),i.state.setBlendMode(TF(r.blendMode,u.premultiplyAlpha)),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(cs);/*!
 * @pixi/text-bitmap - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cB=function(e){function t(r,i){var a=this;i===void 0&&(i={}),e.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:i.tint!==void 0?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=r,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new zi(function(){a.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=Nt.ROUND_PIXELS,this.updateText()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return t.prototype.updateText=function(){for(var i=t.fonts[this._font.name],a=this._font.size/i.size,o=new Gn,s=[],u=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=l.length,h=this._maxWidth*i.size/this._font.size,f=null,d=0,v=0,g=0,p=-1,y=0,m=0,w=0,b=0;b<c;b++){var x=l.charCodeAt(b),_=l.charAt(b);if(/(?:\s)/.test(_)&&(p=b,y=d),_==="\r"||_===`
`){u.push(d),v=Math.max(v,d),++g,++m,o.x=0,o.y+=i.lineHeight,f=null;continue}var S=i.chars[x];S&&(f&&S.kerning[f]&&(o.x+=S.kerning[f]),s.push({texture:S.texture,line:g,charCode:x,position:new Gn(o.x+S.xOffset+this._letterSpacing/2,o.y+S.yOffset)}),o.x+=S.xAdvance+this._letterSpacing,d=o.x,w=Math.max(w,S.yOffset+S.texture.height),f=x,p!==-1&&h>0&&o.x>h&&(++m,bc(s,1+p-m,1+b-p),b=p,p=-1,u.push(y),v=Math.max(v,y),g++,o.x=0,o.y+=i.lineHeight,f=null))}var P=l.charAt(l.length-1);P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(d=y),u.push(d),v=Math.max(v,d));for(var C=[],B=0;B<=g;B++){var T=0;this._font.align==="right"?T=v-u[B]:this._font.align==="center"&&(T=(v-u[B])/2),C.push(T)}for(var k=s.length,D=this.tint,O=0;O<k;O++){var N=this._glyphs[O];N?N.texture=s[O].texture:(N=new Va(s[O].texture),N.roundPixels=this.roundPixels,this._glyphs.push(N)),N.position.x=(s[O].position.x+C[s[O].line])*a,N.position.y=s[O].position.y*a,N.scale.x=N.scale.y=a,N.tint=D,N.parent||this.addChild(N)}for(var R=k;R<this._glyphs.length;++R)this.removeChild(this._glyphs[R]);if(this._textWidth=v*a,this._textHeight=(o.y+i.lineHeight)*a,this.anchor.x!==0||this.anchor.y!==0)for(var U=0;U<k;U++)this._glyphs[U].x-=this._textWidth*this.anchor.x,this._glyphs[U].y-=this._textHeight*this.anchor.y;this._maxLineHeight=w*a},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},n.tint.get=function(){return this._font.tint},n.tint.set=function(r){this._font.tint=typeof r=="number"&&r>=0?r:16777215,this.dirty=!0},n.align.get=function(){return this._font.align},n.align.set=function(r){this._font.align=r||"left",this.dirty=!0},n.anchor.get=function(){return this._anchor},n.anchor.set=function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},n.font.get=function(){return this._font},n.font.set=function(r){r&&(typeof r=="string"?(r=r.split(" "),this._font.name=r.length===1?r[0]:r.slice(1).join(" "),this._font.size=r.length>=2?parseInt(r[0],10):t.fonts[this._font.name].size):(this._font.name=r.name,this._font.size=typeof r.size=="number"?r.size:parseInt(r.size,10)),this.dirty=!0)},n.text.get=function(){return this._text},n.text.set=function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},n.maxWidth.get=function(){return this._maxWidth},n.maxWidth.set=function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},n.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},n.textWidth.get=function(){return this.validate(),this._textWidth},n.letterSpacing.get=function(){return this._letterSpacing},n.letterSpacing.set=function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},n.textHeight.get=function(){return this.validate(),this._textHeight},t.registerFont=function(i,a){var o={},s=i.getElementsByTagName("info")[0],u=i.getElementsByTagName("common")[0],l=i.getElementsByTagName("page"),c=Hg(l[0].getAttribute("file"),Nt.RESOLUTION),h={};o.font=s.getAttribute("face"),o.size=parseInt(s.getAttribute("size"),10),o.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/c,o.chars={},a instanceof nn&&(a=[a]);for(var f=0;f<l.length;f++){var d=l[f].getAttribute("id"),v=l[f].getAttribute("file");h[d]=a instanceof Array?a[f]:a[v]}for(var g=i.getElementsByTagName("char"),p=0;p<g.length;p++){var y=g[p],m=parseInt(y.getAttribute("id"),10),w=y.getAttribute("page")||0,b=new tn(parseInt(y.getAttribute("x"),10)/c+h[w].frame.x/c,parseInt(y.getAttribute("y"),10)/c+h[w].frame.y/c,parseInt(y.getAttribute("width"),10)/c,parseInt(y.getAttribute("height"),10)/c);o.chars[m]={xOffset:parseInt(y.getAttribute("xoffset"),10)/c,yOffset:parseInt(y.getAttribute("yoffset"),10)/c,xAdvance:parseInt(y.getAttribute("xadvance"),10)/c,kerning:{},texture:new nn(h[w].baseTexture,b),page:w}}for(var x=i.getElementsByTagName("kerning"),_=0;_<x.length;_++){var S=x[_],P=parseInt(S.getAttribute("first"),10)/c,C=parseInt(S.getAttribute("second"),10)/c,B=parseInt(S.getAttribute("amount"),10)/c;o.chars[C]&&(o.chars[C].kerning[P]=B)}return t.fonts[o.font]=o,o},Object.defineProperties(t.prototype,n),t}(yn);cB.fonts={};var $u=function(){};$u.parse=function(t,n){t.bitmapFont=cB.registerFont(t.data,n)};$u.add=function(){Yh.setExtensionXhrType("fnt",Yh.XHR_RESPONSE_TYPE.DOCUMENT)};$u.dirname=function(t){var n=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return n===t?".":n===""?"/":n};$u.use=function(t,n){if(!t.data||t.type!==Yh.TYPE.XML){n();return}if(t.data.getElementsByTagName("page").length===0||t.data.getElementsByTagName("info").length===0||t.data.getElementsByTagName("info")[0].getAttribute("face")===null){n();return}var r=t.isDataUrl?"":$u.dirname(t.url);t.isDataUrl&&(r==="."&&(r=""),this.baseUrl&&r&&this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(r+="/")),r=r.replace(this.baseUrl,""),r&&r.charAt(r.length-1)!=="/"&&(r+="/");for(var i=t.data.getElementsByTagName("page"),a={},o=function(v){a[v.metadata.pageFile]=v.texture,Object.keys(a).length===i.length&&($u.parse(t,a),n())},s=0;s<i.length;++s){var u=i[s].getAttribute("file"),l=r+u,c=!1;for(var h in this.resources){var f=this.resources[h];if(f.url===l){f.metadata.pageFile=u,f.texture?o(f):f.onAfterMiddleware.add(o),c=!0;break}}if(!c){var d={crossOrigin:t.crossOrigin,loadType:Yh.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},t.metadata.imageMetadata),parentResource:t};this.add(l,d,o)}}};/*!
 * @pixi/mixin-cache-as-bitmap - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fB=new un;Sr.prototype._cacheAsBitmap=!1;Sr.prototype._cacheData=!1;var Iie=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Sr.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var n;t?(this._cacheData||(this._cacheData=new Iie),n=this._cacheData,n.originalRender=this.render,n.originalRenderCanvas=this.renderCanvas,n.originalUpdateTransform=this.updateTransform,n.originalCalculateBounds=this.calculateBounds,n.originalGetLocalBounds=this.getLocalBounds,n.originalDestroy=this.destroy,n.originalContainsPoint=this.containsPoint,n.originalMask=this._mask,n.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(n=this._cacheData,n.sprite&&this._destroyCachedDisplayObject(),this.render=n.originalRender,this.renderCanvas=n.originalRenderCanvas,this.calculateBounds=n.originalCalculateBounds,this.getLocalBounds=n.originalGetLocalBounds,this.destroy=n.originalDestroy,this.updateTransform=n.originalUpdateTransform,this.containsPoint=n.originalContainsPoint,this._mask=n.originalMask,this.filterArea=n.originalFilterArea)}}}});Sr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Sr.prototype._initCachedDisplayObject=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds().clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(Nt.RESOLUTION);var a=t.renderTexture.current,o=t.renderTexture.sourceFrame,s=t.projection.transform,u=af.create(r.width,r.height),l="cacheAsBitmap_"+jc();this._cacheData.textureCacheId=l,Vn.addToCache(u.baseTexture,l),nn.addToCache(u,l);var c=fB;c.tx=-r.x,c.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,u,!0,c,!0),t.projection.transform=s,t.renderTexture.bind(a,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new Va(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};Sr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Sr.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;n.ceil(Nt.RESOLUTION);var a=af.create(n.width,n.height),o="cacheAsBitmap_"+jc();this._cacheData.textureCacheId=o,Vn.addToCache(a.baseTexture,o),nn.addToCache(a,o);var s=fB;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=n.x,s.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,a,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new Va(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};Sr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID};Sr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};Sr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Vn.removeFromCache(this._cacheData.textureCacheId),nn.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Sr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Sr.prototype.name=null;yn.prototype.getChildByName=function(t){for(var n=0;n<this.children.length;n++)if(this.children[n].name===t)return this.children[n];return null};/*!
 * @pixi/mixin-get-global-position - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Sr.prototype.getGlobalPosition=function(t,n){return t===void 0&&(t=new Gn),n===void 0&&(n=!1),this.parent?this.parent.toGlobal(this.position,t,n):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/mesh - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hB=function(t,n){this.uvBuffer=t,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};hB.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}};var Yy=new Gn,dC=new Rs,Xh=function(e){function t(r,i,a,o){o===void 0&&(o=Ms.TRIANGLES),e.call(this),this.geometry=r,r.refCount++,this.shader=i,this.state=a||ts.for2d(),this.drawMode=o,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=kt.NORMAL,this._roundPixels=Nt.ROUND_PIXELS,this.batchUvs=null}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return n.uvBuffer.get=function(){return this.geometry.buffers[1]},n.verticesBuffer.get=function(){return this.geometry.buffers[0]},n.material.set=function(r){this.shader=r},n.material.get=function(){return this.shader},n.blendMode.set=function(r){this.state.blendMode=r},n.blendMode.get=function(){return this.state.blendMode},n.roundPixels.set=function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},n.roundPixels.get=function(){return this._roundPixels},n.tint.get=function(){return this.shader.tint},n.tint.set=function(r){this.shader.tint=r},n.texture.get=function(){return this.shader.texture},n.texture.set=function(r){this.shader.texture=r},t.prototype._render=function(i){var a=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ms.TRIANGLES&&a.length<t.BATCHABLE_SIZE*2?this._renderToBatch(i):this._renderDefault(i)},t.prototype._renderDefault=function(i){var a=this.shader;a.alpha=this.worldAlpha,a.update&&a.update(),i.batch.flush(),a.program.uniformData.translationMatrix&&(a.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),i.shader.bind(a),i.state.set(this.state),i.geometry.bind(this.geometry,a),i.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(i){var a=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=a.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var o=this.material.pluginName;i.batch.setObjectRenderer(i.plugins[o]),i.plugins[o].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry,a=i.buffers[0].data;if(!(i.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==a.length&&(this.vertexData=new Float32Array(a.length));for(var o=this.transform.worldTransform,s=o.a,u=o.b,l=o.c,c=o.d,h=o.tx,f=o.ty,d=this.vertexData,v=0;v<d.length/2;v++){var g=a[v*2],p=a[v*2+1];d[v*2]=s*g+l*p+h,d[v*2+1]=u*g+c*p+f}if(this._roundPixels)for(var y=0;y<d.length;y++)d[y]=Math.round(d[y]);this.vertexDirty=i.vertexDirtyId}},t.prototype.calculateUvs=function(){var i=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=i.data:(this.batchUvs||(this.batchUvs=new hB(i,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(i){if(!this.getBounds().contains(i.x,i.y))return!1;this.worldTransform.applyInverse(i,Yy);for(var a=this.geometry.getBuffer("aVertexPosition").data,o=dC.points,s=this.geometry.getIndex().data,u=s.length,l=this.drawMode===4?3:1,c=0;c+2<u;c+=l){var h=s[c]*2,f=s[c+1]*2,d=s[c+2]*2;if(o[0]=a[h],o[1]=a[h+1],o[2]=a[f],o[3]=a[f+1],o[4]=a[d],o[5]=a[d+1],dC.contains(Yy.x,Yy.y))return!0}return!1},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(t.prototype,n),t}(yn);Xh.BATCHABLE_SIZE=100;/*!
 * pixi.js - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ja.registerPlugin("accessibility",di);ja.registerPlugin("extract",ns);ja.registerPlugin("interaction",Ure);ja.registerPlugin("particle",Cie);ja.registerPlugin("prepare",aie);ja.registerPlugin("batch",Lre);ja.registerPlugin("tilingSprite",Oie);La.registerPlugin($u);La.registerPlugin(Zg);po.registerPlugin(w2);po.registerPlugin(k2);function vC(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){n(l);return}s.done?t(u):Promise.resolve(u).then(r,i)}function Mie(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(u){vC(a,r,i,o,s,"next",u)}function s(u){vC(a,r,i,o,s,"throw",u)}o(void 0)})}}var On=Mie,Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Die(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pi(e,t,n){return n={path:t,exports:{},require:function(r,i){return Fie(r,i??n.path)}},e(n,n.exports),n.exports}function Fie(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Bie=pi(function(e){var t=function(n){var r=Object.prototype,i=r.hasOwnProperty,a,o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(U,V,z,j){var X=V&&V.prototype instanceof y?V:y,Q=Object.create(X.prototype),te=new O(j||[]);return Q._invoke=B(U,z,te),Q}n.wrap=c;function h(U,V,z){try{return{type:"normal",arg:U.call(V,z)}}catch(j){return{type:"throw",arg:j}}}var f="suspendedStart",d="suspendedYield",v="executing",g="completed",p={};function y(){}function m(){}function w(){}var b={};b[s]=function(){return this};var x=Object.getPrototypeOf,_=x&&x(x(N([])));_&&_!==r&&i.call(_,s)&&(b=_);var S=w.prototype=y.prototype=Object.create(b);m.prototype=S.constructor=w,w.constructor=m,w[l]=m.displayName="GeneratorFunction";function P(U){["next","throw","return"].forEach(function(V){U[V]=function(z){return this._invoke(V,z)}})}n.isGeneratorFunction=function(U){var V=typeof U=="function"&&U.constructor;return V?V===m||(V.displayName||V.name)==="GeneratorFunction":!1},n.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,w):(U.__proto__=w,l in U||(U[l]="GeneratorFunction")),U.prototype=Object.create(S),U},n.awrap=function(U){return{__await:U}};function C(U,V){function z(Q,te,he,fe){var ce=h(U[Q],U,te);if(ce.type==="throw")fe(ce.arg);else{var ee=ce.arg,Ue=ee.value;return Ue&&typeof Ue=="object"&&i.call(Ue,"__await")?V.resolve(Ue.__await).then(function(be){z("next",be,he,fe)},function(be){z("throw",be,he,fe)}):V.resolve(Ue).then(function(be){ee.value=be,he(ee)},function(be){return z("throw",be,he,fe)})}}var j;function X(Q,te){function he(){return new V(function(fe,ce){z(Q,te,fe,ce)})}return j=j?j.then(he,he):he()}this._invoke=X}P(C.prototype),C.prototype[u]=function(){return this},n.AsyncIterator=C,n.async=function(U,V,z,j,X){X===void 0&&(X=Promise);var Q=new C(c(U,V,z,j),X);return n.isGeneratorFunction(V)?Q:Q.next().then(function(te){return te.done?te.value:Q.next()})};function B(U,V,z){var j=f;return function(Q,te){if(j===v)throw new Error("Generator is already running");if(j===g){if(Q==="throw")throw te;return R()}for(z.method=Q,z.arg=te;;){var he=z.delegate;if(he){var fe=T(he,z);if(fe){if(fe===p)continue;return fe}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(j===f)throw j=g,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);j=v;var ce=h(U,V,z);if(ce.type==="normal"){if(j=z.done?g:d,ce.arg===p)continue;return{value:ce.arg,done:z.done}}else ce.type==="throw"&&(j=g,z.method="throw",z.arg=ce.arg)}}}function T(U,V){var z=U.iterator[V.method];if(z===a){if(V.delegate=null,V.method==="throw"){if(U.iterator.return&&(V.method="return",V.arg=a,T(U,V),V.method==="throw"))return p;V.method="throw",V.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var j=h(z,U.iterator,V.arg);if(j.type==="throw")return V.method="throw",V.arg=j.arg,V.delegate=null,p;var X=j.arg;if(!X)return V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,p;if(X.done)V[U.resultName]=X.value,V.next=U.nextLoc,V.method!=="return"&&(V.method="next",V.arg=a);else return X;return V.delegate=null,p}P(S),S[l]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"};function k(U){var V={tryLoc:U[0]};1 in U&&(V.catchLoc=U[1]),2 in U&&(V.finallyLoc=U[2],V.afterLoc=U[3]),this.tryEntries.push(V)}function D(U){var V=U.completion||{};V.type="normal",delete V.arg,U.completion=V}function O(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(k,this),this.reset(!0)}n.keys=function(U){var V=[];for(var z in U)V.push(z);return V.reverse(),function j(){for(;V.length;){var X=V.pop();if(X in U)return j.value=X,j.done=!1,j}return j.done=!0,j}};function N(U){if(U){var V=U[s];if(V)return V.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var z=-1,j=function X(){for(;++z<U.length;)if(i.call(U,z))return X.value=U[z],X.done=!1,X;return X.value=a,X.done=!0,X};return j.next=j}}return{next:R}}n.values=N;function R(){return{value:a,done:!0}}return O.prototype={constructor:O,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(D),!U)for(var V in this)V.charAt(0)==="t"&&i.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=a)},stop:function(){this.done=!0;var U=this.tryEntries[0],V=U.completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var V=this;function z(fe,ce){return Q.type="throw",Q.arg=U,V.next=fe,ce&&(V.method="next",V.arg=a),!!ce}for(var j=this.tryEntries.length-1;j>=0;--j){var X=this.tryEntries[j],Q=X.completion;if(X.tryLoc==="root")return z("end");if(X.tryLoc<=this.prev){var te=i.call(X,"catchLoc"),he=i.call(X,"finallyLoc");if(te&&he){if(this.prev<X.catchLoc)return z(X.catchLoc,!0);if(this.prev<X.finallyLoc)return z(X.finallyLoc)}else if(te){if(this.prev<X.catchLoc)return z(X.catchLoc,!0)}else if(he){if(this.prev<X.finallyLoc)return z(X.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(U,V){for(var z=this.tryEntries.length-1;z>=0;--z){var j=this.tryEntries[z];if(j.tryLoc<=this.prev&&i.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var X=j;break}}X&&(U==="break"||U==="continue")&&X.tryLoc<=V&&V<=X.finallyLoc&&(X=null);var Q=X?X.completion:{};return Q.type=U,Q.arg=V,X?(this.method="next",this.next=X.finallyLoc,p):this.complete(Q)},complete:function(U,V){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&V&&(this.next=V),p},finish:function(U){for(var V=this.tryEntries.length-1;V>=0;--V){var z=this.tryEntries[V];if(z.finallyLoc===U)return this.complete(z.completion,z.afterLoc),D(z),p}},catch:function(U){for(var V=this.tryEntries.length-1;V>=0;--V){var z=this.tryEntries[V];if(z.tryLoc===U){var j=z.completion;if(j.type==="throw"){var X=j.arg;D(z)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(U,V,z){return this.delegate={iterator:N(U),resultName:V,nextLoc:z},this.method==="next"&&(this.arg=a),p}},n}(e.exports);try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}}),Ct=Bie;function kie(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gb=kie;function Rie(e){if(Array.isArray(e))return Gb(e)}var Lie=Rie;function Nie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}var Uie=Nie;function $ie(e,t){if(e){if(typeof e=="string")return Gb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(e,t)}}var dB=$ie;function Vie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zie=Vie;function jie(e){return Lie(e)||Uie(e)||dB(e)||zie()}var lt=jie;function Hie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zs=Hie;function Gie(e){if(Array.isArray(e))return e}var Yie=Gie;function Xie(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(u){i=!0,a=u}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}var Wie=Xie;function Kie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qie=Kie;function Zie(e,t){return Yie(e)||Wie(e,t)||dB(e,t)||qie()}var me=Zie,Qie=1e-6,rl=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Xy(){var e=new rl(16);return rl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Jie(e){var t=new rl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Yb(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],d=t[11],v=t[12],g=t[13],p=t[14],y=t[15],m=n*s-r*o,w=n*u-i*o,b=n*l-a*o,x=r*u-i*s,_=r*l-a*s,S=i*l-a*u,P=c*g-h*v,C=c*p-f*v,B=c*y-d*v,T=h*p-f*g,k=h*y-d*g,D=f*y-d*p,O=m*D-w*k+b*T+x*B-_*C+S*P;return O?(O=1/O,e[0]=(s*D-u*k+l*T)*O,e[1]=(i*k-r*D-a*T)*O,e[2]=(g*S-p*_+y*x)*O,e[3]=(f*_-h*S-d*x)*O,e[4]=(u*B-o*D-l*C)*O,e[5]=(n*D-i*B+a*C)*O,e[6]=(p*b-v*S-y*w)*O,e[7]=(c*S-f*b+d*w)*O,e[8]=(o*k-s*B+l*P)*O,e[9]=(r*B-n*k-a*P)*O,e[10]=(v*_-g*b+y*m)*O,e[11]=(h*b-c*_-d*m)*O,e[12]=(s*C-o*T-u*P)*O,e[13]=(n*T-r*C+i*P)*O,e[14]=(g*w-v*x-p*m)*O,e[15]=(c*x-h*w+f*m)*O,e):null}function Ff(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],d=t[10],v=t[11],g=t[12],p=t[13],y=t[14],m=t[15],w=n[0],b=n[1],x=n[2],_=n[3];return e[0]=w*r+b*s+x*h+_*g,e[1]=w*i+b*u+x*f+_*p,e[2]=w*a+b*l+x*d+_*y,e[3]=w*o+b*c+x*v+_*m,w=n[4],b=n[5],x=n[6],_=n[7],e[4]=w*r+b*s+x*h+_*g,e[5]=w*i+b*u+x*f+_*p,e[6]=w*a+b*l+x*d+_*y,e[7]=w*o+b*c+x*v+_*m,w=n[8],b=n[9],x=n[10],_=n[11],e[8]=w*r+b*s+x*h+_*g,e[9]=w*i+b*u+x*f+_*p,e[10]=w*a+b*l+x*d+_*y,e[11]=w*o+b*c+x*v+_*m,w=n[12],b=n[13],x=n[14],_=n[15],e[12]=w*r+b*s+x*h+_*g,e[13]=w*i+b*u+x*f+_*p,e[14]=w*a+b*l+x*d+_*y,e[15]=w*o+b*c+x*v+_*m,e}function pC(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function eae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tae(e,t,n){var r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),s,u,l;return o<Qie?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(t),u=Math.cos(t),l=1-u,e[0]=r*r*l+u,e[1]=i*r*l+a*s,e[2]=a*r*l-i*s,e[3]=0,e[4]=r*i*l-a*s,e[5]=i*i*l+u,e[6]=a*i*l+r*s,e[7]=0,e[8]=r*a*l+i*s,e[9]=i*a*l-r*s,e[10]=a*a*l+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function nae(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function rae(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(u,l,c),e}function iae(){var e=new rl(4);return rl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Xb(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=iae();return function(t,n,r,i,a,o){var s,u;for(n||(n=4),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function aae(){var e=new rl(2);return rl!=Float32Array&&(e[0]=0,e[1]=0),e}function oae(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var u=(n*i+r*a)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}(function(){var e=aae();return function(t,n,r,i,a,o){var s,u;for(n||(n=2),r||(r=0),i?u=Math.min(i*n+r,t.length):u=t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();const sae=(e=[0,0],t=1,n=0,r=[0,0],i=[0,1/0])=>{const a=new Float32Array(16),o=new Float32Array(16),s=new Float32Array(16);let u=Xy(),l=[...r.slice(0,2),0,1];const c=[...i],h=()=>Math.acos(u[0]),f=()=>rae(a,u)[0],d=()=>[...c],v=()=>1/f(),g=()=>nae(a,u).slice(0,2),p=()=>Xb(a,l,Yb(s,u)).slice(0,2),y=()=>u,m=()=>l.slice(0,2),w=([T=0,k=0]=[],D=1,O=0)=>{u=Xy(),b([-T,-k]),_(O),x(1/D)},b=([T=0,k=0]=[])=>{a[0]=T,a[1]=k,a[2]=0;const D=pC(o,a);Ff(u,D,u)},x=(T,k)=>{if(T<=0)return;const D=f(),O=D*T;if(T=Math.max(c[0],Math.min(O,c[1]))/D,T===1)return;a[0]=T,a[1]=T,a[2]=1;const N=eae(o,a),R=k?[...k,0]:l,U=pC(a,R);Ff(u,U,Ff(u,N,Ff(u,Yb(s,U),u)))},_=T=>{const k=Xy();tae(k,T,[0,0,1]),Ff(u,k,u)},S=T=>{c[0]=T[0],c[1]=T[1]},P=T=>{!T||T.length<16||(u=T)},C=T=>{l=[...T.slice(0,2),0,1]},B=()=>{w(e,t,n)};return w(e,t,n),{get translation(){return g()},get target(){return p()},get scaling(){return f()},get scaleBounds(){return d()},get distance(){return v()},get rotation(){return h()},get view(){return y()},get viewCenter(){return m()},lookAt:w,translate:b,pan:b,rotate:_,scale:x,zoom:x,reset:B,set:(...T)=>(console.warn("Deprecated. Please use `setView()` instead."),P(...T)),setScaleBounds:S,setView:P,setViewCenter:C}},uae=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:a=!1,isPan:o=!0,panSpeed:s=1,isRotate:u=!0,rotateSpeed:l=1,isZoom:c=!0,zoomSpeed:h=1,viewCenter:f=null,scaleBounds:d=null,onKeyDown:v=()=>{},onKeyUp:g=()=>{},onMouseDown:p=()=>{},onMouseUp:y=()=>{},onMouseMove:m=()=>{},onWheel:w=()=>{}}={})=>{let b=sae(n,t,r,f,d),x=!1,_=0,S=0,P=0,C=0,B=!1,T=0,k=0,D=0,O=1,N=1,R=1,U=!1;const V=i?re=>re/O*2*R:re=>re,z=i?re=>re/N*2:re=>-re,j=i?re=>(-1+re/O*2)*R:re=>re,X=i?re=>1-re/N*2:re=>re,Q=()=>{if(a)return!1;if(x=!1,o&&B&&!U&&(b.pan([V(s*(_-P)),z(s*(C-S))]),x=!0),c&&T){const re=h*Math.exp(T/N),Le=j(_),Oe=X(S);b.scale(1/re,[Le,Oe]),x=!0}if(u&&B&&U){const re=O/2,Le=N/2,Oe=P-re,Ze=Le-C,Y=_-re,I=Le-S,F=oae([Oe,Ze],[Y,I]),W=Oe*I-Y*Ze;b.rotate(l*F*Math.sign(W)),x=!0}return T=0,P=_,C=S,x},te=({isFixed:re=null,isPan:Le=null,isRotate:Oe=null,isZoom:Ze=null,panSpeed:Y=null,rotateSpeed:I=null,zoomSpeed:F=null}={})=>{a=re!==null?re:a,o=Le!==null?Le:o,u=Oe!==null?Oe:u,c=Ze!==null?Ze:c,s=+Y>0?Y:s,l=+I>0?I:l,h=+F>0?F:h},he=()=>{const re=e.getBoundingClientRect();k=re.top,D=re.left,O=re.width,N=re.height,R=O/N},fe=re=>{U=!1,g(re)},ce=re=>{U=re.altKey,v(re)},ee=re=>{B=!1,y(re)},Ue=re=>{B=re.buttons===1,p(re)},be=re=>{P=_,C=S,_=re.clientX-D,S=re.clientY-k,m(re)},pe=re=>{re.preventDefault();const Le=re.deltaMode===1?12:1;T+=Le*(re.deltaY||0),w(re)},Ae=()=>{b=void 0,window.removeEventListener("keydown",ce),window.removeEventListener("keyup",fe),e.removeEventListener("mousedown",Ue),window.removeEventListener("mouseup",ee),window.removeEventListener("mousemove",be),e.removeEventListener("wheel",pe)};return window.addEventListener("keydown",ce,{passive:!0}),window.addEventListener("keyup",fe,{passive:!0}),e.addEventListener("mousedown",Ue,{passive:!0}),window.addEventListener("mouseup",ee,{passive:!0}),window.addEventListener("mousemove",be,{passive:!0}),e.addEventListener("wheel",pe,{passive:!1}),he(),b.config=te,b.dispose=Ae,b.refresh=he,b.tick=Q,b},vB=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),pB=e=>(t,n,r=1/0)=>(e[t]||(e[t]=[],e.__times__[t]=[]),e[t].push(n),e.__times__[t].push(+r||1/0),{event:t,handler:n}),R2=e=>(t,n)=>{if(typeof t=="object"&&(n=t.handler,t=t.event),!e[t])return;const r=e[t].indexOf(n);r===-1||r>=e[t].length||(e[t].splice(r,1),e.__times__[t].splice(r,1))},gB=(e,t)=>(n,r,i)=>{if(!e[n])return;const a=R2(e);if(e[n].forEach((o,s)=>{o(r),e.__times__[n][s]--,e.__times__[n][s]<1&&a(n,o)}),t&&!i)try{vB.postMessage({event:n,news:r})}catch(o){if(o instanceof DOMException)console.warn(`Could not broadcast '${n}' globally. Payload is not clonable.`);else throw o}},lae=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},mB=()=>({__times__:{}}),cae=(e=mB())=>(e.__times__||(e.__times__={}),{publish:gB(e),subscribe:pB(e),unsubscribe:R2(e),clear:lae(e),stack:e}),Rv=mB(),fae={publish:gB(Rv,!0),subscribe:pB(Rv),unsubscribe:R2(Rv),stack:Rv};vB.onmessage=({data:{event:e,news:t}})=>fae.publish(e,t,!0);const yB=(e,t,n=window.requestAnimationFrame)=>{let r=!1,i;return(...a)=>{if(i=a,!r)return r=!0,n(()=>{const o=e(...i);r=!1,t&&t(o)})}};var gC=pi(function(e,t){(function(n,r){e.exports=r()})(Xo,function(){function n(m,w,b,x,_){(function S(P,C,B,T,k){for(;T>B;){if(T-B>600){var D=T-B+1,O=C-B+1,N=Math.log(D),R=.5*Math.exp(2*N/3),U=.5*Math.sqrt(N*R*(D-R)/D)*(O-D/2<0?-1:1),V=Math.max(B,Math.floor(C-O*R/D+U)),z=Math.min(T,Math.floor(C+(D-O)*R/D+U));S(P,C,V,z,k)}var j=P[C],X=B,Q=T;for(r(P,B,C),k(P[T],j)>0&&r(P,B,T);X<Q;){for(r(P,X,Q),X++,Q--;k(P[X],j)<0;)X++;for(;k(P[Q],j)>0;)Q--}k(P[B],j)===0?r(P,B,Q):r(P,++Q,T),Q<=C&&(B=Q+1),C<=Q&&(T=Q-1)}})(m,w,b||0,x||m.length-1,_||i)}function r(m,w,b){var x=m[w];m[w]=m[b],m[b]=x}function i(m,w){return m<w?-1:m>w?1:0}var a=function(m){m===void 0&&(m=9),this._maxEntries=Math.max(4,m),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(m,w,b){if(!b)return w.indexOf(m);for(var x=0;x<w.length;x++)if(b(m,w[x]))return x;return-1}function s(m,w){u(m,0,m.children.length,w,m)}function u(m,w,b,x,_){_||(_=p(null)),_.minX=1/0,_.minY=1/0,_.maxX=-1/0,_.maxY=-1/0;for(var S=w;S<b;S++){var P=m.children[S];l(_,m.leaf?x(P):P)}return _}function l(m,w){return m.minX=Math.min(m.minX,w.minX),m.minY=Math.min(m.minY,w.minY),m.maxX=Math.max(m.maxX,w.maxX),m.maxY=Math.max(m.maxY,w.maxY),m}function c(m,w){return m.minX-w.minX}function h(m,w){return m.minY-w.minY}function f(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function d(m){return m.maxX-m.minX+(m.maxY-m.minY)}function v(m,w){return m.minX<=w.minX&&m.minY<=w.minY&&w.maxX<=m.maxX&&w.maxY<=m.maxY}function g(m,w){return w.minX<=m.maxX&&w.minY<=m.maxY&&w.maxX>=m.minX&&w.maxY>=m.minY}function p(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(m,w,b,x,_){for(var S=[w,b];S.length;)if(!((b=S.pop())-(w=S.pop())<=x)){var P=w+Math.ceil((b-w)/x/2)*x;n(m,P,w,b,_),S.push(w,P,P,b)}}return a.prototype.all=function(){return this._all(this.data,[])},a.prototype.search=function(m){var w=this.data,b=[];if(!g(m,w))return b;for(var x=this.toBBox,_=[];w;){for(var S=0;S<w.children.length;S++){var P=w.children[S],C=w.leaf?x(P):P;g(m,C)&&(w.leaf?b.push(P):v(m,C)?this._all(P,b):_.push(P))}w=_.pop()}return b},a.prototype.collides=function(m){var w=this.data;if(!g(m,w))return!1;for(var b=[];w;){for(var x=0;x<w.children.length;x++){var _=w.children[x],S=w.leaf?this.toBBox(_):_;if(g(m,S)){if(w.leaf||v(m,S))return!0;b.push(_)}}w=b.pop()}return!1},a.prototype.load=function(m){if(!m||!m.length)return this;if(m.length<this._minEntries){for(var w=0;w<m.length;w++)this.insert(m[w]);return this}var b=this._build(m.slice(),0,m.length-1,0);if(this.data.children.length)if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){var x=this.data;this.data=b,b=x}this._insert(b,this.data.height-b.height-1,!0)}else this.data=b;return this},a.prototype.insert=function(m){return m&&this._insert(m,this.data.height-1),this},a.prototype.clear=function(){return this.data=p([]),this},a.prototype.remove=function(m,w){if(!m)return this;for(var b,x,_,S=this.data,P=this.toBBox(m),C=[],B=[];S||C.length;){if(S||(S=C.pop(),x=C[C.length-1],b=B.pop(),_=!0),S.leaf){var T=o(m,S.children,w);if(T!==-1)return S.children.splice(T,1),C.push(S),this._condense(C),this}_||S.leaf||!v(S,P)?x?(b++,S=x.children[b],_=!1):S=null:(C.push(S),B.push(b),b=0,x=S,S=S.children[0])}return this},a.prototype.toBBox=function(m){return m},a.prototype.compareMinX=function(m,w){return m.minX-w.minX},a.prototype.compareMinY=function(m,w){return m.minY-w.minY},a.prototype.toJSON=function(){return this.data},a.prototype.fromJSON=function(m){return this.data=m,this},a.prototype._all=function(m,w){for(var b=[];m;)m.leaf?w.push.apply(w,m.children):b.push.apply(b,m.children),m=b.pop();return w},a.prototype._build=function(m,w,b,x){var _,S=b-w+1,P=this._maxEntries;if(S<=P)return s(_=p(m.slice(w,b+1)),this.toBBox),_;x||(x=Math.ceil(Math.log(S)/Math.log(P)),P=Math.ceil(S/Math.pow(P,x-1))),(_=p([])).leaf=!1,_.height=x;var C=Math.ceil(S/P),B=C*Math.ceil(Math.sqrt(P));y(m,w,b,B,this.compareMinX);for(var T=w;T<=b;T+=B){var k=Math.min(T+B-1,b);y(m,T,k,C,this.compareMinY);for(var D=T;D<=k;D+=C){var O=Math.min(D+C-1,k);_.children.push(this._build(m,D,O,x-1))}}return s(_,this.toBBox),_},a.prototype._chooseSubtree=function(m,w,b,x){for(;x.push(w),!w.leaf&&x.length-1!==b;){for(var _=1/0,S=1/0,P=void 0,C=0;C<w.children.length;C++){var B=w.children[C],T=f(B),k=(D=m,O=B,(Math.max(O.maxX,D.maxX)-Math.min(O.minX,D.minX))*(Math.max(O.maxY,D.maxY)-Math.min(O.minY,D.minY))-T);k<S?(S=k,_=T<_?T:_,P=B):k===S&&T<_&&(_=T,P=B)}w=P||w.children[0]}var D,O;return w},a.prototype._insert=function(m,w,b){var x=b?m:this.toBBox(m),_=[],S=this._chooseSubtree(x,this.data,w,_);for(S.children.push(m),l(S,x);w>=0&&_[w].children.length>this._maxEntries;)this._split(_,w),w--;this._adjustParentBBoxes(x,_,w)},a.prototype._split=function(m,w){var b=m[w],x=b.children.length,_=this._minEntries;this._chooseSplitAxis(b,_,x);var S=this._chooseSplitIndex(b,_,x),P=p(b.children.splice(S,b.children.length-S));P.height=b.height,P.leaf=b.leaf,s(b,this.toBBox),s(P,this.toBBox),w?m[w-1].children.push(P):this._splitRoot(b,P)},a.prototype._splitRoot=function(m,w){this.data=p([m,w]),this.data.height=m.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},a.prototype._chooseSplitIndex=function(m,w,b){for(var x,_,S,P,C,B,T,k=1/0,D=1/0,O=w;O<=b-w;O++){var N=u(m,0,O,this.toBBox),R=u(m,O,b,this.toBBox),U=(_=N,S=R,P=void 0,C=void 0,B=void 0,T=void 0,P=Math.max(_.minX,S.minX),C=Math.max(_.minY,S.minY),B=Math.min(_.maxX,S.maxX),T=Math.min(_.maxY,S.maxY),Math.max(0,B-P)*Math.max(0,T-C)),V=f(N)+f(R);U<k?(k=U,x=O,D=V<D?V:D):U===k&&V<D&&(D=V,x=O)}return x||b-w},a.prototype._chooseSplitAxis=function(m,w,b){var x=m.leaf?this.compareMinX:c,_=m.leaf?this.compareMinY:h;this._allDistMargin(m,w,b,x)<this._allDistMargin(m,w,b,_)&&m.children.sort(x)},a.prototype._allDistMargin=function(m,w,b,x){m.children.sort(x);for(var _=this.toBBox,S=u(m,0,w,_),P=u(m,b-w,b,_),C=d(S)+d(P),B=w;B<b-w;B++){var T=m.children[B];l(S,m.leaf?_(T):T),C+=d(S)}for(var k=b-w-1;k>=w;k--){var D=m.children[k];l(P,m.leaf?_(D):D),C+=d(P)}return C},a.prototype._adjustParentBBoxes=function(m,w,b){for(var x=b;x>=0;x--)l(w[x],m)},a.prototype._condense=function(m){for(var w=m.length-1,b=void 0;w>=0;w--)m[w].children.length===0?w>0?(b=m[w-1].children).splice(b.indexOf(m[w]),1):this.clear():s(m[w],this.toBBox)},a})}),mC=!1,Au,Wb,Kb,gp,mp,bB,yp,qb,Zb,Qb,wB,Jb,ew,xB,_B;function _i(){if(!mC){mC=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Jb=/\b(iPhone|iP[ao]d)/.exec(e),ew=/\b(iP[ao]d)/.exec(e),Qb=/Android/i.exec(e),xB=/FBAN\/\w+;/i.exec(e),_B=/Mobile/i.exec(e),wB=!!/Win64/.exec(e),t){Au=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Au&&document&&document.documentMode&&(Au=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);bB=r?parseFloat(r[1])+4:Au,Wb=t[2]?parseFloat(t[2]):NaN,Kb=t[3]?parseFloat(t[3]):NaN,gp=t[4]?parseFloat(t[4]):NaN,gp?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),mp=t&&t[1]?parseFloat(t[1]):NaN):mp=NaN}else Au=Wb=Kb=mp=gp=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);yp=i?parseFloat(i[1].replace("_",".")):!0}else yp=!1;qb=!!n[2],Zb=!!n[3]}else yp=qb=Zb=!1}}var tw={ie:function(){return _i()||Au},ieCompatibilityMode:function(){return _i()||bB>Au},ie64:function(){return tw.ie()&&wB},firefox:function(){return _i()||Wb},opera:function(){return _i()||Kb},webkit:function(){return _i()||gp},safari:function(){return tw.webkit()},chrome:function(){return _i()||mp},windows:function(){return _i()||qb},osx:function(){return _i()||yp},linux:function(){return _i()||Zb},iphone:function(){return _i()||Jb},mobile:function(){return _i()||Jb||ew||Qb||_B},nativeApp:function(){return _i()||xB},android:function(){return _i()||Qb},ipad:function(){return _i()||ew}},hae=tw,Lv=!!(typeof window<"u"&&window.document&&window.document.createElement),dae={canUseDOM:Lv,canUseWorkers:typeof Worker<"u",canUseEventListeners:Lv&&!!(window.addEventListener||window.attachEvent),canUseViewport:Lv&&!!window.screen,isInWorker:!Lv},SB=dae,EB;SB.canUseDOM&&(EB=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function vae(e,t){if(!SB.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&EB&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var pae=vae,yC=10,bC=40,wC=800;function AB(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*yC,i=n*yC,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=bC,i*=bC):(r*=wC,i*=wC)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}AB.getEventType=function(){return hae.firefox()?"DOMMouseScroll":pae("wheel")?"wheel":"mousewheel"};var gae=AB,mae=gae,yae="BATCHING_REDUCER.BATCH";function ys(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yae;return{type:t,meta:{batch:!0},payload:e}}function bae(e){return function t(n,r){return r&&r.meta&&r.meta.batch?r.payload.reduce(t,n):e(n,r)}}const CB=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,vh=e=>--e*e*e+1,Qg=(e,t,n)=>(n=Math.min(1,Math.max(0,n)),e*(1-n)+t*n),ph=(e,t,n)=>e.map((r,i)=>Qg(r,t[i],n)),gr=e=>e,xC=(e,t,n=6)=>Math.abs(e-t)<10**-n,TB=(e,t=gr)=>{const n=new Set,r=[];for(let i=0;i<e.length;i++){const a=t(e[i]);n.has(a)||(n.add(a),r.push(a))}return r},_C=Array.isArray,Yt=e=>!!(e&&e.constructor&&e.call&&e.apply),bp=e=>!!e&&e.constructor===Object,PB=e=>Math.sqrt(e.reduce((t,n)=>t+n**2,0)),SC=e=>e.reduce((t,n)=>n>t?n:t,-1/0),wae=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]>r?t[i]:r),new Array(e[0].length).fill(-1/0))}},Wl=e=>L2(e)/e.length,Bf=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]+r/e.length),new Array(e[0].length).fill(0))}},OB=e=>e[Math.floor(e.length/2)],xae=OB,_ae=e=>e.reduce((t,n)=>n<t?n:t,1/0),Sae=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]<r?t[i]:r),new Array(e[0].length).fill(1/0))}},Eae=e=>{const t=PB(e);return e.map(n=>n/t)},L2=e=>e.reduce((t,n)=>n?t+n:t,0),Aae=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]+r),new Array(e[0].length).fill(0))}},N2="http://www.w3.org/2000/svg",Wy=(e,t)=>{if(e.namespaceURI===N2){if(!nw(e,t)){const n=e.getAttribute("class")||"";e.setAttribute("class",`${n} ${t}`)}}else e.classList?e.classList.add(t):nw(e,t)||(e.className+=` ${t}`)},IB=e=>{const t=document.createElement("div");return t.insertAdjacentHTML("beforeend",e),t.firstChild},nw=(e,t)=>{if(e.namespaceURI===N2){const n=e.getAttribute("class");return n&&!!n.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))},Cae=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},EC=e=>{e.removeChild(e.lastChild)},Tae=(e,t)=>{const n=new RegExp(`(\\s|^)${t}(\\s|$)`);if(e.namespaceURI===N2){const r=e.getAttribute("class")||"";e.setAttribute("class",r.replace(n," "))}else e.classList?e.classList.remove(t):nw(e,t)&&(e.className=e.className.replace(n," "))},Jn=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,a)=>(i[a]=Object.getOwnPropertyDescriptor(n,a),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const a=Object.getOwnPropertyDescriptor(n,i);a.enumerable&&(r[i]=a)}),Object.defineProperties(e,r)}),e),MB=e=>{let t;return U2(t,e)},U2=(e,t)=>{if(t===null||typeof t!="object"||t.constructor!==Object&&t.constructor!==Array)return t;if(t.constructor===Date||t.constructor===RegExp||t.constructor===Function||t.constructor===String||t.constructor===Number||t.constructor===Boolean)return new t.constructor(t);const n=e||new t.constructor;return Object.keys(t).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);typeof n[r]>"u"&&(typeof i.value>"u"?Object.defineProperty(n,r,i):n[r]=U2(void 0,t[r]))}),n},DB=(e,t)=>{if(t===null||typeof t!="object")return t;if(t.constructor!==Object&&t.constructor!==Array)return new t.constructor(t);const n=new e.constructor;let r=!1;return Object.keys(t).forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);e[i]===void 0?typeof a.value>"u"?Object.defineProperty(n,i,a):n[i]=U2(void 0,t[i]):n[i]=DB(e[i],t[i]),r=r||n[i]!==e[i]}),r=r||Object.keys(e).filter(i=>typeof t[i]>"u").length,r?n:e},$2=e=>e.split(/(?=[A-Z])/).join("_").toUpperCase(),Jg=e=>`${e[0].toUpperCase()}${e.substr(1)}`,Pae=e=>t=>Array.prototype.forEach.call(t,e),qi=(...e)=>t=>e.reduce((n,r)=>r(n),t),_o=e=>t=>Jn({__proto__:{constructor:e}},t),AC=(e,t)=>n=>Jn(n,{[e](...r){return t.apply(this,r)}}),FB=(e,{initialValue:t=void 0,getter:n,setter:r,cloner:i=gr,transformer:a=gr,validator:o=()=>!0}={})=>s=>{let u=t;const l=n?()=>n():()=>i(u),c=r?h=>r(h):h=>{const f=a(h);u=o(f)?f:u};return Jn(s,{get[e](){return l()},[`set${Jg(e)}`](h){c(h)}})},Wo=(e,t)=>n=>Jn(n,{get[e](){return t()}}),_n=(e,t)=>n=>Jn(n,{get[e](){return t}}),Oae=(e,t,n,r)=>Math.abs(e-n)+Math.abs(t-r),Cu=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),Iae=e=>(t,n)=>{const r=n.minX-t.minX,i=n.minX-t.maxX,a=n.maxX-t.minX,o=n.maxX-t.maxX,s=r<0&&a>0||i<0&&o>0||r>0&&i<0||a>0&&o<0,u=n.minY-t.minY,l=n.minY-t.maxY,c=n.maxY-t.minY,h=n.maxY-t.maxY,f=u<0&&c>0||l<0&&h>0||u>0&&l<0||c>0&&h<0;if(s&&f)return 0;const d=Math.min(Math.abs(u),Math.abs(l),Math.abs(c),Math.abs(h));if(s)return d;const v=Math.min(Math.abs(r),Math.abs(i),Math.abs(a),Math.abs(o));return f?v:(v**e+d**e)**(1/e)},Nv=([e,t]=[],n=[])=>{let r,i,a,o,s=!1;for(let u=0,l=n.length-2;u<n.length;u+=2)r=n[u],i=n[u+1],a=n[l],o=n[l+1],i>t!=o>t&&e<(a-r)*(t-i)/(o-i)+r&&(s=!s),l=u;return s},Mae=(e,t)=>new Map(function*(){yield*e,yield*t}()),Dae=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),Vu=()=>{},BB=(e,t)=>e-t,Fae=(e,t)=>t-e,Bae=(e,{getter:t=gr,comparator:n=BB,ignoreNull:r=!1}={})=>Object.entries(e).map(r?([i,a])=>t(a)===null?void 0:[i,t(a)]:([i,a])=>[i,t(a)]).sort((i,a)=>n(i[1],a[1])).reduce((i,a,o)=>(a&&(i[a[0]]=o),i),new e.constructor),Ky=(e,t)=>{let n;const r=(...i)=>{const a=()=>{n=null,e(...i)};clearTimeout(n),n=setTimeout(a,t)};return r.cancel=()=>{clearTimeout(n)},r.now=(...i)=>e(...i),r},cc=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),kB=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const a=(...u)=>{const l=()=>{i>0&&(e(...u),i=0)};clearTimeout(r),r=setTimeout(l,n)};let o=!1;const s=(...u)=>{o?(i++,a(...u)):(e(...u),a(...u),o=!0,i=0,setTimeout(()=>{o=!1},t))};return s.reset=()=>{o=!1},s.cancel=()=>{clearTimeout(r)},s.now=(...u)=>e(...u),s},kae=e=>new Promise(t=>setTimeout(t,e));var V2=32,Rae=V2,Lae=2147483647,Nae=-1<<V2-1,Uae=function(e){return(e>0)-(e<0)},$ae=function(e){var t=e>>V2-1;return(e^t)-t},Vae=function(e,t){return t^(e^t)&-(e<t)},zae=function(e,t){return e^(e^t)&-(e<t)},jae=function(e){return!(e&e-1)&&!!e},Hae=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1},Gae=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},Yae=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function RB(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&(t-=1),t}var Xae=RB,Wae=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},Kae=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},qae=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1},Zf=new Array(256);(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=n&1,--i;e[t]=r<<i&255}})(Zf);var Zae=function(e){return Zf[e&255]<<24|Zf[e>>>8&255]<<16|Zf[e>>>16&255]<<8|Zf[e>>>24&255]},Qae=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1},Jae=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},eoe=function(e,t,n){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|n<<2},toe=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},noe=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>RB(e)+1},Ti={INT_BITS:Rae,INT_MAX:Lae,INT_MIN:Nae,sign:Uae,abs:$ae,min:Vae,max:zae,isPow2:jae,log2:Hae,log10:Gae,popCount:Yae,countTrailingZeros:Xae,nextPow2:Wae,prevPow2:Kae,parity:qae,reverse:Zae,interleave2:Qae,deinterleave2:Jae,interleave3:eoe,deinterleave3:toe,nextCombination:noe};function roe(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}var ioe=roe;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var aoe=function(e){return e!=null&&(LB(e)||ooe(e)||!!e._isBuffer)};function LB(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function ooe(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&LB(e.slice(0,0))}var soe=typeof Float64Array<"u";function uoe(e,t){return e[0]-t[0]}function loe(){var e=this.stride,t=new Array(e.length),n;for(n=0;n<t.length;++n)t[n]=[Math.abs(e[n]),n];t.sort(uoe);var r=new Array(t.length);for(n=0;n<r.length;++n)r[n]=t[n][1];return r}function coe(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var r=e==="generic";if(t===-1){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",g=new Function(i);return g()}else if(t===0){var i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",g=new Function("TrivialArray",i);return g(em[e][0])}var i=["'use strict'"],a=ioe(t),o=a.map(function(p){return"i"+p}),s="this.offset+"+a.map(function(p){return"this.stride["+p+"]*i"+p}).join("+"),u=a.map(function(p){return"b"+p}).join(","),l=a.map(function(p){return"c"+p}).join(",");i.push("function "+n+"(a,"+u+","+l+",d){this.data=a","this.shape=["+u+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map(function(p){return"this.shape["+p+"]"}).join("*"),"}})"),t===1?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+n+"_order(){"),t===2?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+o.join(",")+",v){"),r?i.push("return this.data.set("+s+",v)}"):i.push("return this.data["+s+"]=v}"),i.push("proto.get=function "+n+"_get("+o.join(",")+"){"),r?i.push("return this.data.get("+s+")}"):i.push("return this.data["+s+"]}"),i.push("proto.index=function "+n+"_index(",o.join(),"){return "+s+"}"),i.push("proto.hi=function "+n+"_hi("+o.join(",")+"){return new "+n+"(this.data,"+a.map(function(p){return["(typeof i",p,"!=='number'||i",p,"<0)?this.shape[",p,"]:i",p,"|0"].join("")}).join(",")+","+a.map(function(p){return"this.stride["+p+"]"}).join(",")+",this.offset)}");var c=a.map(function(p){return"a"+p+"=this.shape["+p+"]"}),h=a.map(function(p){return"c"+p+"=this.stride["+p+"]"});i.push("proto.lo=function "+n+"_lo("+o.join(",")+"){var b=this.offset,d=0,"+c.join(",")+","+h.join(","));for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'&&i"+f+">=0){d=i"+f+"|0;b+=c"+f+"*d;a"+f+"-=d}");i.push("return new "+n+"(this.data,"+a.map(function(p){return"a"+p}).join(",")+","+a.map(function(p){return"c"+p}).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+o.join(",")+"){var "+a.map(function(p){return"a"+p+"=this.shape["+p+"]"}).join(",")+","+a.map(function(p){return"b"+p+"=this.stride["+p+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'){d=i"+f+"|0;if(d<0){c+=b"+f+"*(a"+f+"-1);a"+f+"=ceil(-a"+f+"/d)}else{a"+f+"=ceil(a"+f+"/d)}b"+f+"*=d}");i.push("return new "+n+"(this.data,"+a.map(function(p){return"a"+p}).join(",")+","+a.map(function(p){return"b"+p}).join(",")+",c)}");for(var d=new Array(t),v=new Array(t),f=0;f<t;++f)d[f]="a[i"+f+"]",v[f]="b[i"+f+"]";i.push("proto.transpose=function "+n+"_transpose("+o+"){"+o.map(function(p,y){return p+"=("+p+"===undefined?"+y+":"+p+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+d.join(",")+","+v.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+o+"){var a=[],b=[],c=this.offset");for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'&&i"+f+">=0){c=(c+this.stride["+f+"]*i"+f+")|0}else{a.push(this.shape["+f+"]);b.push(this.stride["+f+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map(function(p){return"shape["+p+"]"}).join(",")+","+a.map(function(p){return"stride["+p+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",i.join(`
`));return g(em[e],loe)}function foe(e){if(aoe(e))return"buffer";if(soe)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var em={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function hoe(e,t,n,r){if(e===void 0){var l=em.array[0];return l([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var i=t.length;if(n===void 0){n=new Array(i);for(var a=i-1,o=1;a>=0;--a)n[a]=o,o*=t[a]}if(r===void 0){r=0;for(var a=0;a<i;++a)n[a]<0&&(r-=(t[a]-1)*n[a])}for(var s=foe(e),u=em[s];u.length<=i+1;)u.push(coe(s,u.length-1));var l=u[i+1];return l(e,t,n,r)}var ca=hoe;function doe(e,t){for(var n=1,r=e.length,i=e[0],a=e[0],o=1;o<r;++o)if(a=i,i=e[o],t(i,a)){if(o===n){n++;continue}e[n++]=i}return e.length=n,e}function voe(e){for(var t=1,n=e.length,r=e[0],i=e[0],a=1;a<n;++a,i=r)if(i=r,r=e[a],r!==i){if(a===t){t++;continue}e[t++]=r}return e.length=t,e}function poe(e,t,n){return e.length===0?e:t?(n||e.sort(t),doe(e,t)):(n||e.sort(),voe(e))}var rw=poe;function NB(e,t,n){var r=e.length,i=t.arrayArgs.length,a=t.indexArgs.length>0,o=[],s=[],u=0,l=0,c,h;for(c=0;c<r;++c)s.push(["i",c,"=0"].join(""));for(h=0;h<i;++h)for(c=0;c<r;++c)l=u,u=e[c],c===0?s.push(["d",h,"s",c,"=t",h,"p",u].join("")):s.push(["d",h,"s",c,"=(t",h,"p",u,"-s",l,"*t",h,"p",l,")"].join(""));for(s.length>0&&o.push("var "+s.join(",")),c=r-1;c>=0;--c)u=e[c],o.push(["for(i",c,"=0;i",c,"<s",u,";++i",c,"){"].join(""));for(o.push(n),c=0;c<r;++c){for(l=u,u=e[c],h=0;h<i;++h)o.push(["p",h,"+=d",h,"s",c].join(""));a&&(c>0&&o.push(["index[",l,"]-=s",l].join("")),o.push(["++index[",u,"]"].join(""))),o.push("}")}return o.join(`
`)}function goe(e,t,n,r){for(var i=t.length,a=n.arrayArgs.length,o=n.blockSize,s=n.indexArgs.length>0,u=[],l=0;l<a;++l)u.push(["var offset",l,"=p",l].join(""));for(var l=e;l<i;++l)u.push(["for(var j"+l+"=SS[",t[l],"]|0;j",l,">0;){"].join("")),u.push(["if(j",l,"<",o,"){"].join("")),u.push(["s",t[l],"=j",l].join("")),u.push(["j",l,"=0"].join("")),u.push(["}else{s",t[l],"=",o].join("")),u.push(["j",l,"-=",o,"}"].join("")),s&&u.push(["index[",t[l],"]=j",l].join(""));for(var l=0;l<a;++l){for(var c=["offset"+l],h=e;h<i;++h)c.push(["j",h,"*t",l,"p",t[h]].join(""));u.push(["p",l,"=(",c.join("+"),")"].join(""))}u.push(NB(t,n,r));for(var l=e;l<i;++l)u.push("}");return u.join(`
`)}function moe(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}function qy(e,t,n){for(var r=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),l="",c=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var h=t.offsetArgIndex.indexOf(o),f=t.offsetArgs[h];c=f.array,l="+q"+h;case"array":l="p"+c+l;var d="l"+o,v="a"+c;if(t.arrayBlockIndices[c]===0)s.count===1?n[c]==="generic"?s.lvalue?(i.push(["var ",d,"=",v,".get(",l,")"].join("")),r=r.replace(u,d),a.push([v,".set(",l,",",d,")"].join(""))):r=r.replace(u,[v,".get(",l,")"].join("")):r=r.replace(u,[v,"[",l,"]"].join("")):n[c]==="generic"?(i.push(["var ",d,"=",v,".get(",l,")"].join("")),r=r.replace(u,d),s.lvalue&&a.push([v,".set(",l,",",d,")"].join(""))):(i.push(["var ",d,"=",v,"[",l,"]"].join("")),r=r.replace(u,d),s.lvalue&&a.push([v,"[",l,"]=",d].join("")));else{for(var g=[s.name],p=[l],y=0;y<Math.abs(t.arrayBlockIndices[c]);y++)g.push("\\s*\\[([^\\]]+)\\]"),p.push("$"+(y+1)+"*t"+c+"b"+y);if(u=new RegExp(g.join(""),"g"),l=p.join("+"),n[c]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[v,"[",l,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+t.scalarArgs.indexOf(o));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape");break}}}return[i.join(`
`),r,a.join(`
`)].join(`
`).trim()}function yoe(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],a=i.match(/\d+/);a?a=a[0]:a="",i.charAt(0)===0?t[r]="u"+i.charAt(1)+a:t[r]=i.charAt(0)+a,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}function boe(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,r=new Array(e.arrayArgs.length),i=new Array(e.arrayArgs.length),a=0;a<e.arrayArgs.length;++a)i[a]=t[2*a],r[a]=t[2*a+1];for(var o=[],s=[],u=[],l=[],c=[],a=0;a<e.arrayArgs.length;++a){e.arrayBlockIndices[a]<0?(u.push(0),l.push(n),o.push(n),s.push(n+e.arrayBlockIndices[a])):(u.push(e.arrayBlockIndices[a]),l.push(e.arrayBlockIndices[a]+n),o.push(0),s.push(e.arrayBlockIndices[a]));for(var h=[],f=0;f<r[a].length;f++)u[a]<=r[a][f]&&r[a][f]<l[a]&&h.push(r[a][f]-u[a]);c.push(h)}for(var d=["SS"],v=["'use strict'"],g=[],f=0;f<n;++f)g.push(["s",f,"=SS[",f,"]"].join(""));for(var a=0;a<e.arrayArgs.length;++a){d.push("a"+a),d.push("t"+a),d.push("p"+a);for(var f=0;f<n;++f)g.push(["t",a,"p",f,"=t",a,"[",u[a]+f,"]"].join(""));for(var f=0;f<Math.abs(e.arrayBlockIndices[a]);++f)g.push(["t",a,"b",f,"=t",a,"[",o[a]+f,"]"].join(""))}for(var a=0;a<e.scalarArgs.length;++a)d.push("Y"+a);if(e.shapeArgs.length>0&&g.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var p=new Array(n),a=0;a<n;++a)p[a]="0";g.push(["index=[",p.join(","),"]"].join(""))}for(var a=0;a<e.offsetArgs.length;++a){for(var y=e.offsetArgs[a],m=[],f=0;f<y.offset.length;++f)y.offset[f]!==0&&(y.offset[f]===1?m.push(["t",y.array,"p",f].join("")):m.push([y.offset[f],"*t",y.array,"p",f].join("")));m.length===0?g.push("q"+a+"=0"):g.push(["q",a,"=",m.join("+")].join(""))}var w=rw([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));g=g.concat(w),g.length>0&&v.push("var "+g.join(","));for(var a=0;a<e.arrayArgs.length;++a)v.push("p"+a+"|=0");e.pre.body.length>3&&v.push(qy(e.pre,e,i));var b=qy(e.body,e,i),x=moe(c);x<n?v.push(goe(x,c[0],e,b)):v.push(NB(c[0],e,b)),e.post.body.length>3&&v.push(qy(e.post,e,i)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+v.join(`
`)+`
----------`);var _=[e.funcName||"unnamed","_cwise_loop_",r[0].join("s"),"m",x,yoe(i)].join(""),S=new Function(["function ",_,"(",d.join(","),"){",v.join(`
`),"} return ",_].join(""));return S()}var woe=boe;function xoe(e){var t=["'use strict'","var CACHED={}"],n=[],r=e.funcName+"_cwise_thunk";t.push(["return function ",r,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],s=[],u=[],l=0;l<e.arrayArgs.length;++l){var c=e.arrayArgs[l];n.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),i.push("t"+c),i.push("r"+c),a.push("t"+c),a.push("r"+c+".join()"),o.push("array"+c+".data"),o.push("array"+c+".stride"),o.push("array"+c+".offset|0"),l>0&&(s.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[l]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[l])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var l=0;l<e.scalarArgs.length;++l)o.push("scalar"+e.scalarArgs[l]);n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var h=new Function("compile",t.join(`
`));return h(woe.bind(void 0,e))}var _oe=xoe;function Soe(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function Eoe(e){var t=new Soe;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var r=0;r<n.length;++r){var i=n[r];if(i==="array"||typeof i=="object"&&i.blockIndices){if(t.argTypes[r]="array",t.arrayArgs.push(r),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array args");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array args")}else if(i==="scalar")t.scalarArgs.push(r),t.shimArgs.push("scalar"+r);else if(i==="index"){if(t.indexArgs.push(r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array index");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array index");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array index")}else if(i==="shape"){if(t.shapeArgs.push(r),r<t.pre.args.length&&t.pre.args[r].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array shape");if(r<t.post.args.length&&t.post.args[r].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof i=="object"&&i.offset)t.argTypes[r]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(r);else throw new Error("cwise: Unknown argument type "+n[r])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,_oe(t)}var Jr=Eoe,Gt=pi(function(e,t){var n={body:"",args:[],thisVars:[],localVars:[]};function r(f){if(!f)return n;for(var d=0;d<f.args.length;++d){var v=f.args[d];d===0?f.args[d]={name:v,lvalue:!0,rvalue:!!f.rvalue,count:f.count||1}:f.args[d]={name:v,lvalue:!1,rvalue:!0,count:1}}return f.thisVars||(f.thisVars=[]),f.localVars||(f.localVars=[]),f}function i(f){return Jr({args:f.args,pre:r(f.pre),body:r(f.body),post:r(f.proc),funcName:f.funcName})}function a(f){for(var d=[],v=0;v<f.args.length;++v)d.push("a"+v);var g=new Function("P",["return function ",f.funcName,"_ndarrayops(",d.join(","),") {P(",d.join(","),");return a0}"].join(""));return g(i(f))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var f in o){var d=o[f];t[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+d+"c"},funcName:f}),t[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+d+"=b"},rvalue:!0,funcName:f+"eq"}),t[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+d+"s"},funcName:f+"s"}),t[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+d+"=s"},rvalue:!0,funcName:f+"seq"})}})();var s={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var f in s){var d=s[f];t[f]=a({args:["array","array"],body:{args:["a","b"],body:"a="+d+"b"},funcName:f}),t[f+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+d+"a"},rvalue:!0,count:2,funcName:f+"eq"})}})();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var f in u){var d=u[f];t[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+d+"c"},funcName:f}),t[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+d+"s"},funcName:f+"s"}),t[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+d+"b"},rvalue:!0,count:2,funcName:f+"eq"}),t[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+d+"s"},rvalue:!0,count:2,funcName:f+"seq"})}})();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var f=0;f<l.length;++f){var d=l[f];t[d]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:d}),t[d+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"})}})();var c=["max","min","atan2","pow"];(function(){for(var f=0;f<c.length;++f){var d=c[f];t[d]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d}),t[d+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d+"s"}),t[d+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"}),t[d+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"seq"})}})();var h=["atan2","pow"];(function(){for(var f=0;f<h.length;++f){var d=h[f];t[d+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:d+"op"}),t[d+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:d+"ops"}),t[d+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opeq"}),t[d+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opseq"})}})(),t.any=Jr({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=Jr({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=Jr({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=Jr({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=Jr({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=Jr({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=Jr({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}),Aoe=pi(function(e,t){(function(n,r){r(t)})(Xo,function(n){var r,i,a,o,s,u,l,c,h,f,d,v,g,p,y,m,w,b;r={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},i={},i[r.BooleanLiteral]="Boolean",i[r.EOF]="<end>",i[r.Identifier]="Identifier",i[r.Keyword]="Keyword",i[r.NullLiteral]="Null",i[r.NumericLiteral]="Numeric",i[r.Punctuator]="Punctuator",i[r.StringLiteral]="String",i[r.RegularExpression]="RegularExpression",a=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],o={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},s={Data:1,Get:2,Set:4},u={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},l={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")};function x(A,L){if(!A)throw new Error("ASSERT: "+L)}function _(A){return A>=48&&A<=57}function S(A){return"0123456789abcdefABCDEF".indexOf(A)>=0}function P(A){return"01234567".indexOf(A)>=0}function C(A){return A===32||A===9||A===11||A===12||A===160||A>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(A)>=0}function B(A){return A===10||A===13||A===8232||A===8233}function T(A){return A===36||A===95||A>=65&&A<=90||A>=97&&A<=122||A===92||A>=128&&l.NonAsciiIdentifierStart.test(String.fromCharCode(A))}function k(A){return A===36||A===95||A>=65&&A<=90||A>=97&&A<=122||A>=48&&A<=57||A===92||A>=128&&l.NonAsciiIdentifierPart.test(String.fromCharCode(A))}function D(A){switch(A){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function O(A){switch(A){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function N(A){return A==="eval"||A==="arguments"}function R(A){if(f&&O(A))return!0;switch(A.length){case 2:return A==="if"||A==="in"||A==="do";case 3:return A==="var"||A==="for"||A==="new"||A==="try"||A==="let";case 4:return A==="this"||A==="else"||A==="case"||A==="void"||A==="with"||A==="enum";case 5:return A==="while"||A==="break"||A==="catch"||A==="throw"||A==="const"||A==="yield"||A==="class"||A==="super";case 6:return A==="return"||A==="typeof"||A==="delete"||A==="switch"||A==="export"||A==="import";case 7:return A==="default"||A==="finally"||A==="extends";case 8:return A==="function"||A==="continue"||A==="debugger";case 10:return A==="instanceof";default:return!1}}function U(A,L,K,ve,Te){var Xe;x(typeof K=="number","Comment must have valid position"),!(w.lastCommentStart>=K)&&(w.lastCommentStart=K,Xe={type:A,value:L},b.range&&(Xe.range=[K,ve]),b.loc&&(Xe.loc=Te),b.comments.push(Xe),b.attachComment&&(b.leadingComments.push(Xe),b.trailingComments.push(Xe)))}function V(A){var L,K,ve,Te;for(L=d-A,K={start:{line:v,column:d-g-A}};d<p;)if(ve=h.charCodeAt(d),++d,B(ve)){b.comments&&(Te=h.slice(L+A,d-1),K.end={line:v,column:d-g-1},U("Line",Te,L,d-1,K)),ve===13&&h.charCodeAt(d)===10&&++d,++v,g=d;return}b.comments&&(Te=h.slice(L+A,d),K.end={line:v,column:d-g},U("Line",Te,L,d,K))}function z(){var A,L,K,ve;for(b.comments&&(A=d-2,L={start:{line:v,column:d-g-2}});d<p;)if(K=h.charCodeAt(d),B(K))K===13&&h.charCodeAt(d+1)===10&&++d,++v,++d,g=d,d>=p&&De({},u.UnexpectedToken,"ILLEGAL");else if(K===42){if(h.charCodeAt(d+1)===47){++d,++d,b.comments&&(ve=h.slice(A+2,d-2),L.end={line:v,column:d-g},U("Block",ve,A,d,L));return}++d}else++d;De({},u.UnexpectedToken,"ILLEGAL")}function j(){var A,L;for(L=d===0;d<p;)if(A=h.charCodeAt(d),C(A))++d;else if(B(A))++d,A===13&&h.charCodeAt(d)===10&&++d,++v,g=d,L=!0;else if(A===47)if(A=h.charCodeAt(d+1),A===47)++d,++d,V(2),L=!0;else if(A===42)++d,++d,z();else break;else if(L&&A===45)if(h.charCodeAt(d+1)===45&&h.charCodeAt(d+2)===62)d+=3,V(3);else break;else if(A===60)if(h.slice(d+1,d+4)==="!--")++d,++d,++d,++d,V(4);else break;else break}function X(A){var L,K,ve,Te=0;for(K=A==="u"?4:2,L=0;L<K;++L)if(d<p&&S(h[d]))ve=h[d++],Te=Te*16+"0123456789abcdef".indexOf(ve.toLowerCase());else return"";return String.fromCharCode(Te)}function Q(){var A,L;for(A=h.charCodeAt(d++),L=String.fromCharCode(A),A===92&&(h.charCodeAt(d)!==117&&De({},u.UnexpectedToken,"ILLEGAL"),++d,A=X("u"),(!A||A==="\\"||!T(A.charCodeAt(0)))&&De({},u.UnexpectedToken,"ILLEGAL"),L=A);d<p&&(A=h.charCodeAt(d),!!k(A));)++d,L+=String.fromCharCode(A),A===92&&(L=L.substr(0,L.length-1),h.charCodeAt(d)!==117&&De({},u.UnexpectedToken,"ILLEGAL"),++d,A=X("u"),(!A||A==="\\"||!k(A.charCodeAt(0)))&&De({},u.UnexpectedToken,"ILLEGAL"),L+=A);return L}function te(){var A,L;for(A=d++;d<p;){if(L=h.charCodeAt(d),L===92)return d=A,Q();if(k(L))++d;else break}return h.slice(A,d)}function he(){var A,L,K;return A=d,L=h.charCodeAt(d)===92?Q():te(),L.length===1?K=r.Identifier:R(L)?K=r.Keyword:L==="null"?K=r.NullLiteral:L==="true"||L==="false"?K=r.BooleanLiteral:K=r.Identifier,{type:K,value:L,lineNumber:v,lineStart:g,start:A,end:d}}function fe(){var A=d,L=h.charCodeAt(d),K,ve=h[d],Te,Xe,Dt;switch(L){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++d,b.tokenize&&(L===40?b.openParenToken=b.tokens.length:L===123&&(b.openCurlyToken=b.tokens.length)),{type:r.Punctuator,value:String.fromCharCode(L),lineNumber:v,lineStart:g,start:A,end:d};default:if(K=h.charCodeAt(d+1),K===61)switch(L){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return d+=2,{type:r.Punctuator,value:String.fromCharCode(L)+String.fromCharCode(K),lineNumber:v,lineStart:g,start:A,end:d};case 33:case 61:return d+=2,h.charCodeAt(d)===61&&++d,{type:r.Punctuator,value:h.slice(A,d),lineNumber:v,lineStart:g,start:A,end:d}}}if(Dt=h.substr(d,4),Dt===">>>=")return d+=4,{type:r.Punctuator,value:Dt,lineNumber:v,lineStart:g,start:A,end:d};if(Xe=Dt.substr(0,3),Xe===">>>"||Xe==="<<="||Xe===">>=")return d+=3,{type:r.Punctuator,value:Xe,lineNumber:v,lineStart:g,start:A,end:d};if(Te=Xe.substr(0,2),ve===Te[1]&&"+-<>&|".indexOf(ve)>=0||Te==="=>")return d+=2,{type:r.Punctuator,value:Te,lineNumber:v,lineStart:g,start:A,end:d};if("<>=!+-*%&|^/".indexOf(ve)>=0)return++d,{type:r.Punctuator,value:ve,lineNumber:v,lineStart:g,start:A,end:d};De({},u.UnexpectedToken,"ILLEGAL")}function ce(A){for(var L="";d<p&&S(h[d]);)L+=h[d++];return L.length===0&&De({},u.UnexpectedToken,"ILLEGAL"),T(h.charCodeAt(d))&&De({},u.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt("0x"+L,16),lineNumber:v,lineStart:g,start:A,end:d}}function ee(A){for(var L="0"+h[d++];d<p&&P(h[d]);)L+=h[d++];return(T(h.charCodeAt(d))||_(h.charCodeAt(d)))&&De({},u.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt(L,8),octal:!0,lineNumber:v,lineStart:g,start:A,end:d}}function Ue(){var A,L;for(A=d+1;A<p;++A){if(L=h[A],L==="8"||L==="9")return!1;if(!P(L))return!0}return!0}function be(){var A,L,K;if(K=h[d],x(_(K.charCodeAt(0))||K===".","Numeric literal must start with a decimal digit or a decimal point"),L=d,A="",K!=="."){if(A=h[d++],K=h[d],A==="0"){if(K==="x"||K==="X")return++d,ce(L);if(P(K)&&Ue())return ee(L)}for(;_(h.charCodeAt(d));)A+=h[d++];K=h[d]}if(K==="."){for(A+=h[d++];_(h.charCodeAt(d));)A+=h[d++];K=h[d]}if(K==="e"||K==="E")if(A+=h[d++],K=h[d],(K==="+"||K==="-")&&(A+=h[d++]),_(h.charCodeAt(d)))for(;_(h.charCodeAt(d));)A+=h[d++];else De({},u.UnexpectedToken,"ILLEGAL");return T(h.charCodeAt(d))&&De({},u.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseFloat(A),lineNumber:v,lineStart:g,start:L,end:d}}function pe(){var A="",L,K,ve,Te,Xe,Dt,Kt=!1,Rn,Yn;for(Rn=v,Yn=g,L=h[d],x(L==="'"||L==='"',"String literal must starts with a quote"),K=d,++d;d<p;)if(ve=h[d++],ve===L){L="";break}else if(ve==="\\")if(ve=h[d++],!ve||!B(ve.charCodeAt(0)))switch(ve){case"u":case"x":Dt=d,Xe=X(ve),Xe?A+=Xe:(d=Dt,A+=ve);break;case"n":A+=`
`;break;case"r":A+="\r";break;case"t":A+="	";break;case"b":A+="\b";break;case"f":A+="\f";break;case"v":A+="\v";break;default:P(ve)?(Te="01234567".indexOf(ve),Te!==0&&(Kt=!0),d<p&&P(h[d])&&(Kt=!0,Te=Te*8+"01234567".indexOf(h[d++]),"0123".indexOf(ve)>=0&&d<p&&P(h[d])&&(Te=Te*8+"01234567".indexOf(h[d++]))),A+=String.fromCharCode(Te)):A+=ve;break}else++v,ve==="\r"&&h[d]===`
`&&++d,g=d;else{if(B(ve.charCodeAt(0)))break;A+=ve}return L!==""&&De({},u.UnexpectedToken,"ILLEGAL"),{type:r.StringLiteral,value:A,octal:Kt,startLineNumber:Rn,startLineStart:Yn,lineNumber:v,lineStart:g,start:K,end:d}}function Ae(A,L){var K;try{K=new RegExp(A,L)}catch{De({},u.InvalidRegExp)}return K}function re(){var A,L,K,ve,Te;for(A=h[d],x(A==="/","Regular expression literal must start with a slash"),L=h[d++],K=!1,ve=!1;d<p;)if(A=h[d++],L+=A,A==="\\")A=h[d++],B(A.charCodeAt(0))&&De({},u.UnterminatedRegExp),L+=A;else if(B(A.charCodeAt(0)))De({},u.UnterminatedRegExp);else if(K)A==="]"&&(K=!1);else if(A==="/"){ve=!0;break}else A==="["&&(K=!0);return ve||De({},u.UnterminatedRegExp),Te=L.substr(1,L.length-2),{value:Te,literal:L}}function Le(){var A,L,K,ve;for(L="",K="";d<p&&(A=h[d],!!k(A.charCodeAt(0)));)if(++d,A==="\\"&&d<p)if(A=h[d],A==="u"){if(++d,ve=d,A=X("u"),A)for(K+=A,L+="\\u";ve<d;++ve)L+=h[ve];else d=ve,K+="u",L+="\\u";Me({},u.UnexpectedToken,"ILLEGAL")}else L+="\\",Me({},u.UnexpectedToken,"ILLEGAL");else K+=A,L+=A;return{value:K,literal:L}}function Oe(){var A,L,K,ve;return m=null,j(),A=d,L=re(),K=Le(),ve=Ae(L.value,K.value),b.tokenize?{type:r.RegularExpression,value:ve,lineNumber:v,lineStart:g,start:A,end:d}:{literal:L.literal+K.literal,value:ve,start:A,end:d}}function Ze(){var A,L,K,ve;return j(),A=d,L={start:{line:v,column:d-g}},K=Oe(),L.end={line:v,column:d-g},b.tokenize||(b.tokens.length>0&&(ve=b.tokens[b.tokens.length-1],ve.range[0]===A&&ve.type==="Punctuator"&&(ve.value==="/"||ve.value==="/=")&&b.tokens.pop()),b.tokens.push({type:"RegularExpression",value:K.literal,range:[A,d],loc:L})),K}function Y(A){return A.type===r.Identifier||A.type===r.Keyword||A.type===r.BooleanLiteral||A.type===r.NullLiteral}function I(){var A,L;if(A=b.tokens[b.tokens.length-1],!A)return Ze();if(A.type==="Punctuator"){if(A.value==="]")return fe();if(A.value===")")return L=b.tokens[b.openParenToken-1],L&&L.type==="Keyword"&&(L.value==="if"||L.value==="while"||L.value==="for"||L.value==="with")?Ze():fe();if(A.value==="}"){if(b.tokens[b.openCurlyToken-3]&&b.tokens[b.openCurlyToken-3].type==="Keyword"){if(L=b.tokens[b.openCurlyToken-4],!L)return fe()}else if(b.tokens[b.openCurlyToken-4]&&b.tokens[b.openCurlyToken-4].type==="Keyword"){if(L=b.tokens[b.openCurlyToken-5],!L)return Ze()}else return fe();return a.indexOf(L.value)>=0?fe():Ze()}return Ze()}return A.type==="Keyword"&&A.value!=="this"?Ze():fe()}function F(){var A;return j(),d>=p?{type:r.EOF,lineNumber:v,lineStart:g,start:d,end:d}:(A=h.charCodeAt(d),T(A)?he():A===40||A===41||A===59?fe():A===39||A===34?pe():A===46?_(h.charCodeAt(d+1))?be():fe():_(A)?be():b.tokenize&&A===47?I():fe())}function W(){var A,L,K;return j(),A={start:{line:v,column:d-g}},L=F(),A.end={line:v,column:d-g},L.type!==r.EOF&&(K=h.slice(L.start,L.end),b.tokens.push({type:i[L.type],value:K,range:[L.start,L.end],loc:A})),L}function Z(){var A;return A=m,d=A.end,v=A.lineNumber,g=A.lineStart,m=typeof b.tokens<"u"?W():F(),d=A.end,v=A.lineNumber,g=A.lineStart,A}function ye(){var A,L,K;A=d,L=v,K=g,m=typeof b.tokens<"u"?W():F(),d=A,v=L,g=K}function we(A,L){this.line=A,this.column=L}function et(A,L,K,ve){this.start=new we(A,L),this.end=new we(K,ve)}c={name:"SyntaxTree",processComment:function(A){var L,K;if(!(A.type===o.Program&&A.body.length>0)){for(b.trailingComments.length>0?b.trailingComments[0].range[0]>=A.range[1]?(K=b.trailingComments,b.trailingComments=[]):b.trailingComments.length=0:b.bottomRightStack.length>0&&b.bottomRightStack[b.bottomRightStack.length-1].trailingComments&&b.bottomRightStack[b.bottomRightStack.length-1].trailingComments[0].range[0]>=A.range[1]&&(K=b.bottomRightStack[b.bottomRightStack.length-1].trailingComments,delete b.bottomRightStack[b.bottomRightStack.length-1].trailingComments);b.bottomRightStack.length>0&&b.bottomRightStack[b.bottomRightStack.length-1].range[0]>=A.range[0];)L=b.bottomRightStack.pop();L?L.leadingComments&&L.leadingComments[L.leadingComments.length-1].range[1]<=A.range[0]&&(A.leadingComments=L.leadingComments,delete L.leadingComments):b.leadingComments.length>0&&b.leadingComments[b.leadingComments.length-1].range[1]<=A.range[0]&&(A.leadingComments=b.leadingComments,b.leadingComments=[]),K&&(A.trailingComments=K),b.bottomRightStack.push(A)}},markEnd:function(A,L){return b.range&&(A.range=[L.start,d]),b.loc&&(A.loc=new et(L.startLineNumber===void 0?L.lineNumber:L.startLineNumber,L.start-(L.startLineStart===void 0?L.lineStart:L.startLineStart),v,d-g),this.postProcess(A)),b.attachComment&&this.processComment(A),A},postProcess:function(A){return b.source&&(A.loc.source=b.source),A},createArrayExpression:function(A){return{type:o.ArrayExpression,elements:A}},createAssignmentExpression:function(A,L,K){return{type:o.AssignmentExpression,operator:A,left:L,right:K}},createBinaryExpression:function(A,L,K){var ve=A==="||"||A==="&&"?o.LogicalExpression:o.BinaryExpression;return{type:ve,operator:A,left:L,right:K}},createBlockStatement:function(A){return{type:o.BlockStatement,body:A}},createBreakStatement:function(A){return{type:o.BreakStatement,label:A}},createCallExpression:function(A,L){return{type:o.CallExpression,callee:A,arguments:L}},createCatchClause:function(A,L){return{type:o.CatchClause,param:A,body:L}},createConditionalExpression:function(A,L,K){return{type:o.ConditionalExpression,test:A,consequent:L,alternate:K}},createContinueStatement:function(A){return{type:o.ContinueStatement,label:A}},createDebuggerStatement:function(){return{type:o.DebuggerStatement}},createDoWhileStatement:function(A,L){return{type:o.DoWhileStatement,body:A,test:L}},createEmptyStatement:function(){return{type:o.EmptyStatement}},createExpressionStatement:function(A){return{type:o.ExpressionStatement,expression:A}},createForStatement:function(A,L,K,ve){return{type:o.ForStatement,init:A,test:L,update:K,body:ve}},createForInStatement:function(A,L,K){return{type:o.ForInStatement,left:A,right:L,body:K,each:!1}},createFunctionDeclaration:function(A,L,K,ve){return{type:o.FunctionDeclaration,id:A,params:L,defaults:K,body:ve,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(A,L,K,ve){return{type:o.FunctionExpression,id:A,params:L,defaults:K,body:ve,rest:null,generator:!1,expression:!1}},createIdentifier:function(A){return{type:o.Identifier,name:A}},createIfStatement:function(A,L,K){return{type:o.IfStatement,test:A,consequent:L,alternate:K}},createLabeledStatement:function(A,L){return{type:o.LabeledStatement,label:A,body:L}},createLiteral:function(A){return{type:o.Literal,value:A.value,raw:h.slice(A.start,A.end)}},createMemberExpression:function(A,L,K){return{type:o.MemberExpression,computed:A==="[",object:L,property:K}},createNewExpression:function(A,L){return{type:o.NewExpression,callee:A,arguments:L}},createObjectExpression:function(A){return{type:o.ObjectExpression,properties:A}},createPostfixExpression:function(A,L){return{type:o.UpdateExpression,operator:A,argument:L,prefix:!1}},createProgram:function(A){return{type:o.Program,body:A}},createProperty:function(A,L,K){return{type:o.Property,key:L,value:K,kind:A}},createReturnStatement:function(A){return{type:o.ReturnStatement,argument:A}},createSequenceExpression:function(A){return{type:o.SequenceExpression,expressions:A}},createSwitchCase:function(A,L){return{type:o.SwitchCase,test:A,consequent:L}},createSwitchStatement:function(A,L){return{type:o.SwitchStatement,discriminant:A,cases:L}},createThisExpression:function(){return{type:o.ThisExpression}},createThrowStatement:function(A){return{type:o.ThrowStatement,argument:A}},createTryStatement:function(A,L,K,ve){return{type:o.TryStatement,block:A,guardedHandlers:L,handlers:K,finalizer:ve}},createUnaryExpression:function(A,L){return A==="++"||A==="--"?{type:o.UpdateExpression,operator:A,argument:L,prefix:!0}:{type:o.UnaryExpression,operator:A,argument:L,prefix:!0}},createVariableDeclaration:function(A,L){return{type:o.VariableDeclaration,declarations:A,kind:L}},createVariableDeclarator:function(A,L){return{type:o.VariableDeclarator,id:A,init:L}},createWhileStatement:function(A,L){return{type:o.WhileStatement,test:A,body:L}},createWithStatement:function(A,L){return{type:o.WithStatement,object:A,body:L}}};function yt(){var A,L,K,ve;return A=d,L=v,K=g,j(),ve=v!==L,d=A,v=L,g=K,ve}function De(A,L){var K,ve=Array.prototype.slice.call(arguments,2),Te=L.replace(/%(\d)/g,function(Xe,Dt){return x(Dt<ve.length,"Message reference must be in range"),ve[Dt]});throw typeof A.lineNumber=="number"?(K=new Error("Line "+A.lineNumber+": "+Te),K.index=A.start,K.lineNumber=A.lineNumber,K.column=A.start-g+1):(K=new Error("Line "+v+": "+Te),K.index=d,K.lineNumber=v,K.column=d-g+1),K.description=Te,K}function Me(){try{De.apply(null,arguments)}catch(A){if(b.errors)b.errors.push(A);else throw A}}function rt(A){if(A.type===r.EOF&&De(A,u.UnexpectedEOS),A.type===r.NumericLiteral&&De(A,u.UnexpectedNumber),A.type===r.StringLiteral&&De(A,u.UnexpectedString),A.type===r.Identifier&&De(A,u.UnexpectedIdentifier),A.type===r.Keyword){if(D(A.value))De(A,u.UnexpectedReserved);else if(f&&O(A.value)){Me(A,u.StrictReservedWord);return}De(A,u.UnexpectedToken,A.value)}De(A,u.UnexpectedToken,A.value)}function je(A){var L=Z();(L.type!==r.Punctuator||L.value!==A)&&rt(L)}function le(A){var L=Z();(L.type!==r.Keyword||L.value!==A)&&rt(L)}function ne(A){return m.type===r.Punctuator&&m.value===A}function ge(A){return m.type===r.Keyword&&m.value===A}function Be(){var A;return m.type!==r.Punctuator?!1:(A=m.value,A==="="||A==="*="||A==="/="||A==="%="||A==="+="||A==="-="||A==="<<="||A===">>="||A===">>>="||A==="&="||A==="^="||A==="|=")}function ze(){var A,L=d,K=v,ve=g,Te=m;if(h.charCodeAt(d)===59||ne(";")){Z();return}if(A=v,j(),v!==A){d=L,v=K,g=ve,m=Te;return}m.type!==r.EOF&&!ne("}")&&rt(m)}function st(A){return A.type===o.Identifier||A.type===o.MemberExpression}function Pe(){var A=[],L;for(L=m,je("[");!ne("]");)ne(",")?(Z(),A.push(null)):(A.push(nr()),ne("]")||je(","));return Z(),y.markEnd(y.createArrayExpression(A),L)}function Ot(A,L){var K,ve,Te;return K=f,Te=m,ve=To(),L&&f&&N(A[0].name)&&Me(L,u.StrictParamName),f=K,y.markEnd(y.createFunctionExpression(null,A,[],ve),Te)}function Zt(){var A,L;return L=m,A=Z(),A.type===r.StringLiteral||A.type===r.NumericLiteral?(f&&A.octal&&Me(A,u.StrictOctalLiteral),y.markEnd(y.createLiteral(A),L)):y.markEnd(y.createIdentifier(A.value),L)}function gt(){var A,L,K,ve,Te,Xe;if(A=m,Xe=m,A.type===r.Identifier)return K=Zt(),A.value==="get"&&!ne(":")?(L=Zt(),je("("),je(")"),ve=Ot([]),y.markEnd(y.createProperty("get",L,ve),Xe)):A.value==="set"&&!ne(":")?(L=Zt(),je("("),A=m,A.type!==r.Identifier?(je(")"),Me(A,u.UnexpectedToken,A.value),ve=Ot([])):(Te=[fr()],je(")"),ve=Ot(Te,A)),y.markEnd(y.createProperty("set",L,ve),Xe)):(je(":"),ve=nr(),y.markEnd(y.createProperty("init",K,ve),Xe));if(A.type===r.EOF||A.type===r.Punctuator)rt(A);else return L=Zt(),je(":"),ve=nr(),y.markEnd(y.createProperty("init",L,ve),Xe)}function Je(){var A=[],L,K,ve,Te,Xe={},Dt=String,Kt;for(Kt=m,je("{");!ne("}");)L=gt(),L.key.type===o.Identifier?K=L.key.name:K=Dt(L.key.value),Te=L.kind==="init"?s.Data:L.kind==="get"?s.Get:s.Set,ve="$"+K,Object.prototype.hasOwnProperty.call(Xe,ve)?(Xe[ve]===s.Data?f&&Te===s.Data?Me({},u.StrictDuplicateProperty):Te!==s.Data&&Me({},u.AccessorDataProperty):Te===s.Data?Me({},u.AccessorDataProperty):Xe[ve]&Te&&Me({},u.AccessorGetSet),Xe[ve]|=Te):Xe[ve]=Te,A.push(L),ne("}")||je(",");return je("}"),y.markEnd(y.createObjectExpression(A),Kt)}function ft(){var A;return je("("),A=Fn(),je(")"),A}function Bt(){var A,L,K,ve;if(ne("("))return ft();if(ne("["))return Pe();if(ne("{"))return Je();if(A=m.type,ve=m,A===r.Identifier)K=y.createIdentifier(Z().value);else if(A===r.StringLiteral||A===r.NumericLiteral)f&&m.octal&&Me(m,u.StrictOctalLiteral),K=y.createLiteral(Z());else if(A===r.Keyword){if(ge("function"))return Tl();ge("this")?(Z(),K=y.createThisExpression()):rt(Z())}else A===r.BooleanLiteral?(L=Z(),L.value=L.value==="true",K=y.createLiteral(L)):A===r.NullLiteral?(L=Z(),L.value=null,K=y.createLiteral(L)):ne("/")||ne("/=")?(typeof b.tokens<"u"?K=y.createLiteral(Ze()):K=y.createLiteral(Oe()),ye()):rt(Z());return y.markEnd(K,ve)}function jt(){var A=[];if(je("("),!ne(")"))for(;d<p&&(A.push(nr()),!ne(")"));)je(",");return je(")"),A}function Dn(){var A,L;return L=m,A=Z(),Y(A)||rt(A),y.markEnd(y.createIdentifier(A.value),L)}function mi(){return je("."),Dn()}function ba(){var A;return je("["),A=Fn(),je("]"),A}function Rr(){var A,L,K;return K=m,le("new"),A=yi(),L=ne("(")?jt():[],y.markEnd(y.createNewExpression(A,L),K)}function Ga(){var A,L,K,ve,Te=w.allowIn;for(ve=m,w.allowIn=!0,A=ge("new")?Rr():Bt();;){if(ne("."))K=mi(),A=y.createMemberExpression(".",A,K);else if(ne("("))L=jt(),A=y.createCallExpression(A,L);else if(ne("["))K=ba(),A=y.createMemberExpression("[",A,K);else break;y.markEnd(A,ve)}return w.allowIn=Te,A}function yi(){var A,L,K;for(x(w.allowIn,"callee of new expression always allow in keyword."),K=m,A=ge("new")?Rr():Bt();ne(".")||ne("[");)ne("[")?(L=ba(),A=y.createMemberExpression("[",A,L)):(L=mi(),A=y.createMemberExpression(".",A,L)),y.markEnd(A,K);return A}function bl(){var A,L,K=m;return A=Ga(),m.type===r.Punctuator&&(ne("++")||ne("--"))&&!yt()&&(f&&A.type===o.Identifier&&N(A.name)&&Me({},u.StrictLHSPostfix),st(A)||Me({},u.InvalidLHSInAssignment),L=Z(),A=y.markEnd(y.createPostfixExpression(L.value,A),K)),A}function Ya(){var A,L,K;return m.type!==r.Punctuator&&m.type!==r.Keyword?L=bl():ne("++")||ne("--")?(K=m,A=Z(),L=Ya(),f&&L.type===o.Identifier&&N(L.name)&&Me({},u.StrictLHSPrefix),st(L)||Me({},u.InvalidLHSInAssignment),L=y.createUnaryExpression(A.value,L),L=y.markEnd(L,K)):ne("+")||ne("-")||ne("~")||ne("!")?(K=m,A=Z(),L=Ya(),L=y.createUnaryExpression(A.value,L),L=y.markEnd(L,K)):ge("delete")||ge("void")||ge("typeof")?(K=m,A=Z(),L=Ya(),L=y.createUnaryExpression(A.value,L),L=y.markEnd(L,K),f&&L.operator==="delete"&&L.argument.type===o.Identifier&&Me({},u.StrictDelete)):L=bl(),L}function Xa(A,L){var K=0;if(A.type!==r.Punctuator&&A.type!==r.Keyword)return 0;switch(A.value){case"||":K=1;break;case"&&":K=2;break;case"|":K=3;break;case"^":K=4;break;case"&":K=5;break;case"==":case"!=":case"===":case"!==":K=6;break;case"<":case">":case"<=":case">=":case"instanceof":K=7;break;case"in":K=L?7:0;break;case"<<":case">>":case">>>":K=8;break;case"+":case"-":K=9;break;case"*":case"/":case"%":K=11;break}return K}function wa(){var A,L,K,ve,Te,Xe,Dt,Kt,Rn,Yn;if(A=m,Rn=Ya(),ve=m,Te=Xa(ve,w.allowIn),Te===0)return Rn;for(ve.prec=Te,Z(),L=[A,m],Dt=Ya(),Xe=[Rn,ve,Dt];(Te=Xa(m,w.allowIn))>0;){for(;Xe.length>2&&Te<=Xe[Xe.length-2].prec;)Dt=Xe.pop(),Kt=Xe.pop().value,Rn=Xe.pop(),K=y.createBinaryExpression(Kt,Rn,Dt),L.pop(),A=L[L.length-1],y.markEnd(K,A),Xe.push(K);ve=Z(),ve.prec=Te,Xe.push(ve),L.push(m),K=Ya(),Xe.push(K)}for(Yn=Xe.length-1,K=Xe[Yn],L.pop();Yn>1;)K=y.createBinaryExpression(Xe[Yn-1].value,Xe[Yn-2],K),Yn-=2,A=L.pop(),y.markEnd(K,A);return K}function wl(){var A,L,K,ve,Te;return Te=m,A=wa(),ne("?")&&(Z(),L=w.allowIn,w.allowIn=!0,K=nr(),w.allowIn=L,je(":"),ve=nr(),A=y.createConditionalExpression(A,K,ve),y.markEnd(A,Te)),A}function nr(){var A,L,K,ve,Te;return A=m,Te=m,ve=L=wl(),Be()&&(st(L)||Me({},u.InvalidLHSInAssignment),f&&L.type===o.Identifier&&N(L.name)&&Me(A,u.StrictLHSAssignment),A=Z(),K=nr(),ve=y.markEnd(y.createAssignmentExpression(A.value,L,K),Te)),ve}function Fn(){var A,L=m;if(A=nr(),ne(",")){for(A=y.createSequenceExpression([A]);d<p&&ne(",");)Z(),A.expressions.push(nr());y.markEnd(A,L)}return A}function fs(){for(var A=[],L;d<p&&!(ne("}")||(L=_a(),typeof L>"u"));)A.push(L);return A}function So(){var A,L;return L=m,je("{"),A=fs(),je("}"),y.markEnd(y.createBlockStatement(A),L)}function fr(){var A,L;return L=m,A=Z(),A.type!==r.Identifier&&rt(A),y.markEnd(y.createIdentifier(A.value),L)}function Eo(A){var L=null,K,ve;return ve=m,K=fr(),f&&N(K.name)&&Me({},u.StrictVarName),A==="const"?(je("="),L=nr()):ne("=")&&(Z(),L=nr()),y.markEnd(y.createVariableDeclarator(K,L),ve)}function Fi(A){var L=[];do{if(L.push(Eo(A)),!ne(","))break;Z()}while(d<p);return L}function nu(){var A;return le("var"),A=Fi(),ze(),y.createVariableDeclaration(A,"var")}function xl(A){var L,K;return K=m,le(A),L=Fi(A),ze(),y.markEnd(y.createVariableDeclaration(L,A),K)}function _l(){return je(";"),y.createEmptyStatement()}function Sl(){var A=Fn();return ze(),y.createExpressionStatement(A)}function bi(){var A,L,K;return le("if"),je("("),A=Fn(),je(")"),L=hr(),ge("else")?(Z(),K=hr()):K=null,y.createIfStatement(A,L,K)}function El(){var A,L,K;return le("do"),K=w.inIteration,w.inIteration=!0,A=hr(),w.inIteration=K,le("while"),je("("),L=Fn(),je(")"),ne(";")&&Z(),y.createDoWhileStatement(A,L)}function sf(){var A,L,K;return le("while"),je("("),A=Fn(),je(")"),K=w.inIteration,w.inIteration=!0,L=hr(),w.inIteration=K,y.createWhileStatement(A,L)}function Zi(){var A,L,K;return K=m,A=Z(),L=Fi(),y.markEnd(y.createVariableDeclaration(L,A.value),K)}function hs(){var A,L,K,ve,Te,Xe,Dt,Kt=w.allowIn;return A=L=K=null,le("for"),je("("),ne(";")?Z():(ge("var")||ge("let")?(w.allowIn=!1,A=Zi(),w.allowIn=Kt,A.declarations.length===1&&ge("in")&&(Z(),ve=A,Te=Fn(),A=null)):(w.allowIn=!1,A=Fn(),w.allowIn=Kt,ge("in")&&(st(A)||Me({},u.InvalidLHSInForIn),Z(),ve=A,Te=Fn(),A=null)),typeof ve>"u"&&je(";")),typeof ve>"u"&&(ne(";")||(L=Fn()),je(";"),ne(")")||(K=Fn())),je(")"),Dt=w.inIteration,w.inIteration=!0,Xe=hr(),w.inIteration=Dt,typeof ve>"u"?y.createForStatement(A,L,K,Xe):y.createForInStatement(ve,Te,Xe)}function uf(){var A=null,L;return le("continue"),h.charCodeAt(d)===59?(Z(),w.inIteration||De({},u.IllegalContinue),y.createContinueStatement(null)):yt()?(w.inIteration||De({},u.IllegalContinue),y.createContinueStatement(null)):(m.type===r.Identifier&&(A=fr(),L="$"+A.name,Object.prototype.hasOwnProperty.call(w.labelSet,L)||De({},u.UnknownLabel,A.name)),ze(),A===null&&!w.inIteration&&De({},u.IllegalContinue),y.createContinueStatement(A))}function Ao(){var A=null,L;return le("break"),h.charCodeAt(d)===59?(Z(),w.inIteration||w.inSwitch||De({},u.IllegalBreak),y.createBreakStatement(null)):yt()?(w.inIteration||w.inSwitch||De({},u.IllegalBreak),y.createBreakStatement(null)):(m.type===r.Identifier&&(A=fr(),L="$"+A.name,Object.prototype.hasOwnProperty.call(w.labelSet,L)||De({},u.UnknownLabel,A.name)),ze(),A===null&&!(w.inIteration||w.inSwitch)&&De({},u.IllegalBreak),y.createBreakStatement(A))}function ru(){var A=null;return le("return"),w.inFunctionBody||Me({},u.IllegalReturn),h.charCodeAt(d)===32&&T(h.charCodeAt(d+1))?(A=Fn(),ze(),y.createReturnStatement(A)):yt()?y.createReturnStatement(null):(ne(";")||!ne("}")&&m.type!==r.EOF&&(A=Fn()),ze(),y.createReturnStatement(A))}function Co(){var A,L;return f&&(j(),Me({},u.StrictModeWith)),le("with"),je("("),A=Fn(),je(")"),L=hr(),y.createWithStatement(A,L)}function Qi(){var A,L=[],K,ve;for(ve=m,ge("default")?(Z(),A=null):(le("case"),A=Fn()),je(":");d<p&&!(ne("}")||ge("default")||ge("case"));)K=hr(),L.push(K);return y.markEnd(y.createSwitchCase(A,L),ve)}function iu(){var A,L,K,ve,Te;if(le("switch"),je("("),A=Fn(),je(")"),je("{"),L=[],ne("}"))return Z(),y.createSwitchStatement(A,L);for(ve=w.inSwitch,w.inSwitch=!0,Te=!1;d<p&&!ne("}");)K=Qi(),K.test===null&&(Te&&De({},u.MultipleDefaultsInSwitch),Te=!0),L.push(K);return w.inSwitch=ve,je("}"),y.createSwitchStatement(A,L)}function Al(){var A;return le("throw"),yt()&&De({},u.NewlineAfterThrow),A=Fn(),ze(),y.createThrowStatement(A)}function ds(){var A,L,K;return K=m,le("catch"),je("("),ne(")")&&rt(m),A=fr(),f&&N(A.name)&&Me({},u.StrictCatchVariable),je(")"),L=So(),y.markEnd(y.createCatchClause(A,L),K)}function lf(){var A,L=[],K=null;return le("try"),A=So(),ge("catch")&&L.push(ds()),ge("finally")&&(Z(),K=So()),L.length===0&&!K&&De({},u.NoCatchOrFinally),y.createTryStatement(A,[],L,K)}function xa(){return le("debugger"),ze(),y.createDebuggerStatement()}function hr(){var A=m.type,L,K,ve,Te;if(A===r.EOF&&rt(m),A===r.Punctuator&&m.value==="{")return So();if(Te=m,A===r.Punctuator)switch(m.value){case";":return y.markEnd(_l(),Te);case"(":return y.markEnd(Sl(),Te)}if(A===r.Keyword)switch(m.value){case"break":return y.markEnd(Ao(),Te);case"continue":return y.markEnd(uf(),Te);case"debugger":return y.markEnd(xa(),Te);case"do":return y.markEnd(El(),Te);case"for":return y.markEnd(hs(),Te);case"function":return y.markEnd(Po(),Te);case"if":return y.markEnd(bi(),Te);case"return":return y.markEnd(ru(),Te);case"switch":return y.markEnd(iu(),Te);case"throw":return y.markEnd(Al(),Te);case"try":return y.markEnd(lf(),Te);case"var":return y.markEnd(nu(),Te);case"while":return y.markEnd(sf(),Te);case"with":return y.markEnd(Co(),Te)}return L=Fn(),L.type===o.Identifier&&ne(":")?(Z(),ve="$"+L.name,Object.prototype.hasOwnProperty.call(w.labelSet,ve)&&De({},u.Redeclaration,"Label",L.name),w.labelSet[ve]=!0,K=hr(),delete w.labelSet[ve],y.markEnd(y.createLabeledStatement(L,K),Te)):(ze(),y.markEnd(y.createExpressionStatement(L),Te))}function To(){var A,L=[],K,ve,Te,Xe,Dt,Kt,Rn,Yn;for(Yn=m,je("{");d<p&&!(m.type!==r.StringLiteral||(K=m,A=_a(),L.push(A),A.expression.type!==o.Literal));)ve=h.slice(K.start+1,K.end-1),ve==="use strict"?(f=!0,Te&&Me(Te,u.StrictOctalLiteral)):!Te&&K.octal&&(Te=K);for(Xe=w.labelSet,Dt=w.inIteration,Kt=w.inSwitch,Rn=w.inFunctionBody,w.labelSet={},w.inIteration=!1,w.inSwitch=!1,w.inFunctionBody=!0;d<p&&!(ne("}")||(A=_a(),typeof A>"u"));)L.push(A);return je("}"),w.labelSet=Xe,w.inIteration=Dt,w.inSwitch=Kt,w.inFunctionBody=Rn,y.markEnd(y.createBlockStatement(L),Yn)}function Cl(A){var L,K=[],ve,Te,Xe,Dt,Kt;if(je("("),!ne(")"))for(Xe={};d<p&&(ve=m,L=fr(),Dt="$"+ve.value,f?(N(ve.value)&&(Te=ve,Kt=u.StrictParamName),Object.prototype.hasOwnProperty.call(Xe,Dt)&&(Te=ve,Kt=u.StrictParamDupe)):A||(N(ve.value)?(A=ve,Kt=u.StrictParamName):O(ve.value)?(A=ve,Kt=u.StrictReservedWord):Object.prototype.hasOwnProperty.call(Xe,Dt)&&(A=ve,Kt=u.StrictParamDupe)),K.push(L),Xe[Dt]=!0,!ne(")"));)je(",");return je(")"),{params:K,stricted:Te,firstRestricted:A,message:Kt}}function Po(){var A,L=[],K,ve,Te,Xe,Dt,Kt,Rn,Yn;return Yn=m,le("function"),ve=m,A=fr(),f?N(ve.value)&&Me(ve,u.StrictFunctionName):N(ve.value)?(Dt=ve,Kt=u.StrictFunctionName):O(ve.value)&&(Dt=ve,Kt=u.StrictReservedWord),Xe=Cl(Dt),L=Xe.params,Te=Xe.stricted,Dt=Xe.firstRestricted,Xe.message&&(Kt=Xe.message),Rn=f,K=To(),f&&Dt&&De(Dt,Kt),f&&Te&&Me(Te,Kt),f=Rn,y.markEnd(y.createFunctionDeclaration(A,L,[],K),Yn)}function Tl(){var A,L=null,K,ve,Te,Xe,Dt=[],Kt,Rn,Yn;return Yn=m,le("function"),ne("(")||(A=m,L=fr(),f?N(A.value)&&Me(A,u.StrictFunctionName):N(A.value)?(ve=A,Te=u.StrictFunctionName):O(A.value)&&(ve=A,Te=u.StrictReservedWord)),Xe=Cl(ve),Dt=Xe.params,K=Xe.stricted,ve=Xe.firstRestricted,Xe.message&&(Te=Xe.message),Rn=f,Kt=To(),f&&ve&&De(ve,Te),f&&K&&Me(K,Te),f=Rn,y.markEnd(y.createFunctionExpression(L,Dt,[],Kt),Yn)}function _a(){if(m.type===r.Keyword)switch(m.value){case"const":case"let":return xl(m.value);case"function":return Po();default:return hr()}if(m.type!==r.EOF)return hr()}function Lr(){for(var A,L=[],K,ve,Te;d<p&&(K=m,!(K.type!==r.StringLiteral||(A=_a(),L.push(A),A.expression.type!==o.Literal)));)ve=h.slice(K.start+1,K.end-1),ve==="use strict"?(f=!0,Te&&Me(Te,u.StrictOctalLiteral)):!Te&&K.octal&&(Te=K);for(;d<p&&(A=_a(),!(typeof A>"u"));)L.push(A);return L}function au(){var A,L;return j(),ye(),L=m,f=!1,A=Lr(),y.markEnd(y.createProgram(A),L)}function vs(){var A,L,K,ve=[];for(A=0;A<b.tokens.length;++A)L=b.tokens[A],K={type:L.type,value:L.value},b.range&&(K.range=L.range),b.loc&&(K.loc=L.loc),ve.push(K);b.tokens=ve}function Wa(A,L){var K,ve,Te;K=String,typeof A!="string"&&!(A instanceof String)&&(A=K(A)),y=c,h=A,d=0,v=h.length>0?1:0,g=0,p=h.length,m=null,w={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},b={},L=L||{},L.tokens=!0,b.tokens=[],b.tokenize=!0,b.openParenToken=-1,b.openCurlyToken=-1,b.range=typeof L.range=="boolean"&&L.range,b.loc=typeof L.loc=="boolean"&&L.loc,typeof L.comment=="boolean"&&L.comment&&(b.comments=[]),typeof L.tolerant=="boolean"&&L.tolerant&&(b.errors=[]);try{if(ye(),m.type===r.EOF)return b.tokens;for(ve=Z();m.type!==r.EOF;)try{ve=Z()}catch(Xe){if(ve=m,b.errors){b.errors.push(Xe);break}else throw Xe}vs(),Te=b.tokens,typeof b.comments<"u"&&(Te.comments=b.comments),typeof b.errors<"u"&&(Te.errors=b.errors)}catch(Xe){throw Xe}finally{b={}}return Te}function Pl(A,L){var K,ve;ve=String,typeof A!="string"&&!(A instanceof String)&&(A=ve(A)),y=c,h=A,d=0,v=h.length>0?1:0,g=0,p=h.length,m=null,w={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},b={},typeof L<"u"&&(b.range=typeof L.range=="boolean"&&L.range,b.loc=typeof L.loc=="boolean"&&L.loc,b.attachComment=typeof L.attachComment=="boolean"&&L.attachComment,b.loc&&L.source!==null&&L.source!==void 0&&(b.source=ve(L.source)),typeof L.tokens=="boolean"&&L.tokens&&(b.tokens=[]),typeof L.comment=="boolean"&&L.comment&&(b.comments=[]),typeof L.tolerant=="boolean"&&L.tolerant&&(b.errors=[]),b.attachComment&&(b.range=!0,b.comments=[],b.bottomRightStack=[],b.trailingComments=[],b.leadingComments=[]));try{K=au(),typeof b.comments<"u"&&(K.comments=b.comments),typeof b.tokens<"u"&&(vs(),K.tokens=b.tokens),typeof b.errors<"u"&&(K.errors=b.errors)}catch(Te){throw Te}finally{b={}}return K}n.version="1.2.5",n.tokenize=Wa,n.parse=Pl,n.Syntax=function(){var A,L={};typeof Object.create=="function"&&(L=Object.create(null));for(A in o)o.hasOwnProperty(A)&&(L[A]=o[A]);return typeof Object.freeze=="function"&&Object.freeze(L),L}()})}),Coe=0;function Toe(e,t,n){this.name=e,this.lvalue=t,this.rvalue=n,this.count=0}function Poe(e,t,n,r){this.body=e,this.args=t,this.thisVars=n,this.localVars=r}function Ooe(e){if(e==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window<"u"?e in window:typeof Xo<"u"?e in Xo:typeof self<"u"?e in self:!1}function Ioe(e){for(var t=e.body[0].expression.callee.params,n=new Array(t.length),r=0;r<t.length;++r)n[r]=t[r].name;return n}function Moe(e){for(var t=["(",e,")()"].join(""),n=Aoe.parse(t,{range:!0}),r="_inline_"+Coe+++"_",i=Ioe(n),a=new Array(i.length),o=0;o<i.length;++o)a[o]=new Toe([r,"arg",o,"_"].join(""),!1,!1);for(var s=new Array(t.length),o=0,u=t.length;o<u;++o)s[o]=t.charAt(o);var l=[],c=[];function h(b){var x=r+b.replace(/\_/g,"__");return l.push(x),x}function f(b){var x="this_"+b.replace(/\_/g,"__");return c.push(x),x}function d(b,x){for(var _=b.range[0],S=b.range[1],P=_+1;P<S;++P)s[P]="";s[_]=x}function v(b){return"'"+b.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function g(b){return s.slice(b.range[0],b.range[1]).join("")}var p=1,y=2;function m(b){return b.parent.type==="AssignmentExpression"&&b.parent.left===b?b.parent.operator==="="?p:p|y:b.parent.type==="UpdateExpression"?p|y:y}(function b(x,_){if(x.parent=_,x.type==="MemberExpression")x.computed?(b(x.object,x),b(x.property,x)):x.object.type==="ThisExpression"?d(x,f(x.property.name)):b(x.object,x);else{if(x.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(x.type==="Identifier"){var S=x.name,P=i.indexOf(S);if(P>=0){var C=a[P],B=m(x);B&p&&(C.lvalue=!0),B&y&&(C.rvalue=!0),++C.count,d(x,C.name)}else Ooe(S)||d(x,h(S))}else if(x.type==="Literal")typeof x.value=="string"&&d(x,v(x.value));else{if(x.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var T=Object.keys(x),k=0,D=T.length;k<D;++k)if(T[k]!=="parent"){var O=x[T[k]];if(O)if(O instanceof Array)for(var N=0;N<O.length;++N)O[N]&&typeof O[N].type=="string"&&b(O[N],x);else typeof O.type=="string"&&b(O,x)}}}})(n.body[0].expression.callee.body,void 0),rw(l),rw(c);var w=new Poe(g(n.body[0].expression.callee.body),a,c,l);return w}var Zy=Moe,Uv=["args","body"],Doe=["pre","post","printCode","funcName","blockSize"];function Foe(e){for(var t in e)Uv.indexOf(t)<0&&Doe.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var n=0;n<Uv.length;++n)if(!e[Uv[n]])throw new Error("cwise: Missing argument: "+Uv[n]);return Jr({args:e.args,pre:Zy(e.pre||function(){}),body:Zy(e.body),post:Zy(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var gi=Foe;function Boe(e,t,n,r,i,a){Gt.add(e,n,i),Gt.add(t,r,a)}var koe=Boe;function Roe(e,t,n,r){Gt.addeq(e,n),Gt.addeq(t,r)}var Loe=Roe;function Noe(e,t,n,r,i,a){Gt.adds(e,n,i),Gt.adds(e,r,a)}var Uoe=Noe;function $oe(e,t,n,r){Gt.addseq(e,n),Gt.addseq(t,r)}var Voe=$oe;function zoe(e,t,n,r,i,a){Gt.sub(e,n,i),Gt.sub(t,r,a)}var joe=zoe;function Hoe(e,t,n,r){Gt.subeq(e,n),Gt.subeq(t,r)}var Goe=Hoe;function Yoe(e,t,n,r,i,a){Gt.subs(e,n,i),Gt.subs(t,r,a)}var Xoe=Yoe;function Woe(e,t,n,r){Gt.subseq(e,n),Gt.subseq(t,r)}var Koe=Woe;function qoe(e,t,n,r){Gt.neg(e,n),Gt.neg(t,r)}var Zoe=qoe;function Qoe(e,t){Gt.negeq(e),Gt.negeq(t)}var Joe=Qoe;function ese(e,t,n,r){Gt.assign(e,n),Gt.neg(t,r)}var tse=ese;function nse(e,t){Gt.negeq(t)}var rse=nse,ise=gi({args:["array","array","array","array","array","array"],body:function(t,n,r,i,a,o){}}),ase=gi({args:["array","array","array","array"],body:function(t,n,r,i){}}),ose=gi({args:["array","array","array","array","scalar","scalar"],pre:function(e,t,n,r,i,a){this.u=i+a,this.v=a-i},body:function(t,n,r,i,a,o){var s=r,u=i,l=a*(s+u);l-u*this.u,l+s*this.v}}),sse=gi({args:["array","array","scalar","scalar"],pre:function(e,t,n,r){this.u=n+r,this.v=r-n},body:function(t,n,r,i){var a=t,o=n,s=r*(a+o);t=s-o*this.u,n=s+a*this.v}}),use=gi({args:["array","array","array","array","array","array"],body:function(t,n,r,i,a,o){}}),lse=gi({args:["array","array","array","array"],body:function(t,n,r,i){}}),cse=gi({args:["array","array","array","array","scalar","scalar"],pre:function(e,t,n,r,i,a){var o=i*i+a*a;i/=o,a/=-o,this.c=i,this.u=i+a,this.v=a-i},body:function(t,n,r,i,a,o){var s=r,u=i,l=this.c*(s+u);l-u*this.u,l+s*this.v}}),fse=gi({args:["array","array","scalar","scalar"],pre:function(e,t,n,r){var i=n*n+r*r;n/=i,r/=-i,this.c=n,this.u=n+r,this.v=r-n},body:function(t,n,r,i){var a=t,o=n,s=this.c*(a+o);t=s-o*this.u,n=s+a*this.v}}),hse=gi({args:["array","array","array","array"],body:function(t,n,r,i){}}),dse=gi({args:["array","array"],body:function(t,n){}}),vse=gi({args:["array","array","array","array"],pre:function(){this.exp=Math.exp,this.cos=Math.cos,this.sin=Math.sin},body:function(t,n,r,i){var a=this.exp(r);a*this.cos(i),a*this.sin(i)}}),pse=gi({args:["array","array"],pre:function(){this.exp=Math.exp,this.cos=Math.cos,this.sin=Math.sin},body:function(t,n){var r=this.exp(t),i=out_ir;t=r*this.cos(i),r*this.sin(i)}}),gse=gi({args:["array","array","array"],body:function(t,n,r){}}),mse=gi({args:["array","array","array"],pre:function(){this.sqrt=Math.sqrt},body:function(t,n,r){this.sqrt(n*n+r*r)}}),yse=Gt.atan2,bse={add:koe,addeq:Loe,adds:Uoe,addseq:Voe,sub:joe,subeq:Goe,subs:Xoe,subseq:Koe,neg:Zoe,negeq:Joe,conj:tse,conjeq:rse,mul:ise,muleq:ase,muls:ose,mulseq:sse,div:use,diveq:lse,divs:cse,divseq:fse,recip:hse,recipeq:dse,exp:vse,expeq:pse,mag:gse,abs:mse,arg:yse},wse=Ase,xse=Tse,_se=Ise,to=[],aa=[],Sse=typeof Uint8Array<"u"?Uint8Array:Array,Qy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Kl=0,Ese=Qy.length;Kl<Ese;++Kl)to[Kl]=Qy[Kl],aa[Qy.charCodeAt(Kl)]=Kl;aa["-".charCodeAt(0)]=62;aa["_".charCodeAt(0)]=63;function UB(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Ase(e){var t=UB(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Cse(e,t,n){return(t+n)*3/4-n}function Tse(e){var t,n=UB(e),r=n[0],i=n[1],a=new Sse(Cse(e,r,i)),o=0,s=i>0?r-4:r,u;for(u=0;u<s;u+=4)t=aa[e.charCodeAt(u)]<<18|aa[e.charCodeAt(u+1)]<<12|aa[e.charCodeAt(u+2)]<<6|aa[e.charCodeAt(u+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=aa[e.charCodeAt(u)]<<2|aa[e.charCodeAt(u+1)]>>4,a[o++]=t&255),i===1&&(t=aa[e.charCodeAt(u)]<<10|aa[e.charCodeAt(u+1)]<<4|aa[e.charCodeAt(u+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function Pse(e){return to[e>>18&63]+to[e>>12&63]+to[e>>6&63]+to[e&63]}function Ose(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Pse(r));return i.join("")}function Ise(e){for(var t,n=e.length,r=n%3,i=[],a=16383,o=0,s=n-r;o<s;o+=a)i.push(Ose(e,o,o+a>s?s:o+a));return r===1?(t=e[n-1],i.push(to[t>>2]+to[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(to[t>>10]+to[t>>4&63]+to[t<<2&63]+"=")),i.join("")}var Jy={byteLength:wse,toByteArray:xse,fromByteArray:_se},Mse=function(e,t,n,r,i){var a,o,s=i*8-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=a*256+e[t+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=o*256+e[t+h],h+=f,c-=8);if(a===0)a=1-l;else{if(a===u)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-l}return(d?-1:1)*o*Math.pow(2,a-r)},Dse=function(e,t,n,r,i,a){var o,s,u,l=a*8-i-1,c=(1<<l)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,v=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+h>=1?t+=f/u:t+=f*Math.pow(2,1-h),t*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o=o+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=s&255,d+=v,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+d]=o&255,d+=v,o/=256,l-=8);e[n+d-v]|=g*128},ql={read:Mse,write:Dse},Fse={}.toString,CC=Array.isArray||function(e){return Fse.call(e)=="[object Array]"},TC=pi(function(e,t){t.Buffer=a,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=Xo.TYPED_ARRAY_SUPPORT!==void 0?Xo.TYPED_ARRAY_SUPPORT:n(),t.kMaxLength=r();function n(){try{var Y=new Uint8Array(1);return Y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Y.foo()===42&&typeof Y.subarray=="function"&&Y.subarray(1,1).byteLength===0}catch{return!1}}function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(Y,I){if(r()<I)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(Y=new Uint8Array(I),Y.__proto__=a.prototype):(Y===null&&(Y=new a(I)),Y.length=I),Y}function a(Y,I,F){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(Y,I,F);if(typeof Y=="number"){if(typeof I=="string")throw new Error("If encoding is specified then the first argument must be a string");return l(this,Y)}return o(this,Y,I,F)}a.poolSize=8192,a._augment=function(Y){return Y.__proto__=a.prototype,Y};function o(Y,I,F,W){if(typeof I=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&I instanceof ArrayBuffer?f(Y,I,F,W):typeof I=="string"?c(Y,I,F):d(Y,I)}a.from=function(Y,I,F){return o(null,Y,I,F)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function s(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be a number');if(Y<0)throw new RangeError('"size" argument must not be negative')}function u(Y,I,F,W){return s(I),I<=0?i(Y,I):F!==void 0?typeof W=="string"?i(Y,I).fill(F,W):i(Y,I).fill(F):i(Y,I)}a.alloc=function(Y,I,F){return u(null,Y,I,F)};function l(Y,I){if(s(I),Y=i(Y,I<0?0:v(I)|0),!a.TYPED_ARRAY_SUPPORT)for(var F=0;F<I;++F)Y[F]=0;return Y}a.allocUnsafe=function(Y){return l(null,Y)},a.allocUnsafeSlow=function(Y){return l(null,Y)};function c(Y,I,F){if((typeof F!="string"||F==="")&&(F="utf8"),!a.isEncoding(F))throw new TypeError('"encoding" must be a valid string encoding');var W=p(I,F)|0;Y=i(Y,W);var Z=Y.write(I,F);return Z!==W&&(Y=Y.slice(0,Z)),Y}function h(Y,I){var F=I.length<0?0:v(I.length)|0;Y=i(Y,F);for(var W=0;W<F;W+=1)Y[W]=I[W]&255;return Y}function f(Y,I,F,W){if(I.byteLength,F<0||I.byteLength<F)throw new RangeError("'offset' is out of bounds");if(I.byteLength<F+(W||0))throw new RangeError("'length' is out of bounds");return F===void 0&&W===void 0?I=new Uint8Array(I):W===void 0?I=new Uint8Array(I,F):I=new Uint8Array(I,F,W),a.TYPED_ARRAY_SUPPORT?(Y=I,Y.__proto__=a.prototype):Y=h(Y,I),Y}function d(Y,I){if(a.isBuffer(I)){var F=v(I.length)|0;return Y=i(Y,F),Y.length===0||I.copy(Y,0,0,F),Y}if(I){if(typeof ArrayBuffer<"u"&&I.buffer instanceof ArrayBuffer||"length"in I)return typeof I.length!="number"||Ze(I.length)?i(Y,0):h(Y,I);if(I.type==="Buffer"&&CC(I.data))return h(Y,I.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(Y){if(Y>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return Y|0}function g(Y){return+Y!=Y&&(Y=0),a.alloc(+Y)}a.isBuffer=function(I){return!!(I!=null&&I._isBuffer)},a.compare=function(I,F){if(!a.isBuffer(I)||!a.isBuffer(F))throw new TypeError("Arguments must be Buffers");if(I===F)return 0;for(var W=I.length,Z=F.length,ye=0,we=Math.min(W,Z);ye<we;++ye)if(I[ye]!==F[ye]){W=I[ye],Z=F[ye];break}return W<Z?-1:Z<W?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,F){if(!CC(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);var W;if(F===void 0)for(F=0,W=0;W<I.length;++W)F+=I[W].length;var Z=a.allocUnsafe(F),ye=0;for(W=0;W<I.length;++W){var we=I[W];if(!a.isBuffer(we))throw new TypeError('"list" argument must be an Array of Buffers');we.copy(Z,ye),ye+=we.length}return Z};function p(Y,I){if(a.isBuffer(Y))return Y.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Y)||Y instanceof ArrayBuffer))return Y.byteLength;typeof Y!="string"&&(Y=""+Y);var F=Y.length;if(F===0)return 0;for(var W=!1;;)switch(I){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":case void 0:return pe(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return Le(Y).length;default:if(W)return pe(Y).length;I=(""+I).toLowerCase(),W=!0}}a.byteLength=p;function y(Y,I,F){var W=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,I>>>=0,F<=I))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return U(this,I,F);case"utf8":case"utf-8":return k(this,I,F);case"ascii":return N(this,I,F);case"latin1":case"binary":return R(this,I,F);case"base64":return T(this,I,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,I,F);default:if(W)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),W=!0}}a.prototype._isBuffer=!0;function m(Y,I,F){var W=Y[I];Y[I]=Y[F],Y[F]=W}a.prototype.swap16=function(){var I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<I;F+=2)m(this,F,F+1);return this},a.prototype.swap32=function(){var I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<I;F+=4)m(this,F,F+3),m(this,F+1,F+2);return this},a.prototype.swap64=function(){var I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<I;F+=8)m(this,F,F+7),m(this,F+1,F+6),m(this,F+2,F+5),m(this,F+3,F+4);return this},a.prototype.toString=function(){var I=this.length|0;return I===0?"":arguments.length===0?k(this,0,I):y.apply(this,arguments)},a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:a.compare(this,I)===0},a.prototype.inspect=function(){var I="",F=t.INSPECT_MAX_BYTES;return this.length>0&&(I=this.toString("hex",0,F).match(/.{2}/g).join(" "),this.length>F&&(I+=" ... ")),"<Buffer "+I+">"},a.prototype.compare=function(I,F,W,Z,ye){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");if(F===void 0&&(F=0),W===void 0&&(W=I?I.length:0),Z===void 0&&(Z=0),ye===void 0&&(ye=this.length),F<0||W>I.length||Z<0||ye>this.length)throw new RangeError("out of range index");if(Z>=ye&&F>=W)return 0;if(Z>=ye)return-1;if(F>=W)return 1;if(F>>>=0,W>>>=0,Z>>>=0,ye>>>=0,this===I)return 0;for(var we=ye-Z,et=W-F,yt=Math.min(we,et),De=this.slice(Z,ye),Me=I.slice(F,W),rt=0;rt<yt;++rt)if(De[rt]!==Me[rt]){we=De[rt],et=Me[rt];break}return we<et?-1:et<we?1:0};function w(Y,I,F,W,Z){if(Y.length===0)return-1;if(typeof F=="string"?(W=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,isNaN(F)&&(F=Z?0:Y.length-1),F<0&&(F=Y.length+F),F>=Y.length){if(Z)return-1;F=Y.length-1}else if(F<0)if(Z)F=0;else return-1;if(typeof I=="string"&&(I=a.from(I,W)),a.isBuffer(I))return I.length===0?-1:b(Y,I,F,W,Z);if(typeof I=="number")return I=I&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(Y,I,F):Uint8Array.prototype.lastIndexOf.call(Y,I,F):b(Y,[I],F,W,Z);throw new TypeError("val must be string, number or Buffer")}function b(Y,I,F,W,Z){var ye=1,we=Y.length,et=I.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(Y.length<2||I.length<2)return-1;ye=2,we/=2,et/=2,F/=2}function yt(le,ne){return ye===1?le[ne]:le.readUInt16BE(ne*ye)}var De;if(Z){var Me=-1;for(De=F;De<we;De++)if(yt(Y,De)===yt(I,Me===-1?0:De-Me)){if(Me===-1&&(Me=De),De-Me+1===et)return Me*ye}else Me!==-1&&(De-=De-Me),Me=-1}else for(F+et>we&&(F=we-et),De=F;De>=0;De--){for(var rt=!0,je=0;je<et;je++)if(yt(Y,De+je)!==yt(I,je)){rt=!1;break}if(rt)return De}return-1}a.prototype.includes=function(I,F,W){return this.indexOf(I,F,W)!==-1},a.prototype.indexOf=function(I,F,W){return w(this,I,F,W,!0)},a.prototype.lastIndexOf=function(I,F,W){return w(this,I,F,W,!1)};function x(Y,I,F,W){F=Number(F)||0;var Z=Y.length-F;W?(W=Number(W),W>Z&&(W=Z)):W=Z;var ye=I.length;if(ye%2!==0)throw new TypeError("Invalid hex string");W>ye/2&&(W=ye/2);for(var we=0;we<W;++we){var et=parseInt(I.substr(we*2,2),16);if(isNaN(et))return we;Y[F+we]=et}return we}function _(Y,I,F,W){return Oe(pe(I,Y.length-F),Y,F,W)}function S(Y,I,F,W){return Oe(Ae(I),Y,F,W)}function P(Y,I,F,W){return S(Y,I,F,W)}function C(Y,I,F,W){return Oe(Le(I),Y,F,W)}function B(Y,I,F,W){return Oe(re(I,Y.length-F),Y,F,W)}a.prototype.write=function(I,F,W,Z){if(F===void 0)Z="utf8",W=this.length,F=0;else if(W===void 0&&typeof F=="string")Z=F,W=this.length,F=0;else if(isFinite(F))F=F|0,isFinite(W)?(W=W|0,Z===void 0&&(Z="utf8")):(Z=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-F;if((W===void 0||W>ye)&&(W=ye),I.length>0&&(W<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var we=!1;;)switch(Z){case"hex":return x(this,I,F,W);case"utf8":case"utf-8":return _(this,I,F,W);case"ascii":return S(this,I,F,W);case"latin1":case"binary":return P(this,I,F,W);case"base64":return C(this,I,F,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,I,F,W);default:if(we)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),we=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(Y,I,F){return I===0&&F===Y.length?Jy.fromByteArray(Y):Jy.fromByteArray(Y.slice(I,F))}function k(Y,I,F){F=Math.min(Y.length,F);for(var W=[],Z=I;Z<F;){var ye=Y[Z],we=null,et=ye>239?4:ye>223?3:ye>191?2:1;if(Z+et<=F){var yt,De,Me,rt;switch(et){case 1:ye<128&&(we=ye);break;case 2:yt=Y[Z+1],(yt&192)===128&&(rt=(ye&31)<<6|yt&63,rt>127&&(we=rt));break;case 3:yt=Y[Z+1],De=Y[Z+2],(yt&192)===128&&(De&192)===128&&(rt=(ye&15)<<12|(yt&63)<<6|De&63,rt>2047&&(rt<55296||rt>57343)&&(we=rt));break;case 4:yt=Y[Z+1],De=Y[Z+2],Me=Y[Z+3],(yt&192)===128&&(De&192)===128&&(Me&192)===128&&(rt=(ye&15)<<18|(yt&63)<<12|(De&63)<<6|Me&63,rt>65535&&rt<1114112&&(we=rt))}}we===null?(we=65533,et=1):we>65535&&(we-=65536,W.push(we>>>10&1023|55296),we=56320|we&1023),W.push(we),Z+=et}return O(W)}var D=4096;function O(Y){var I=Y.length;if(I<=D)return String.fromCharCode.apply(String,Y);for(var F="",W=0;W<I;)F+=String.fromCharCode.apply(String,Y.slice(W,W+=D));return F}function N(Y,I,F){var W="";F=Math.min(Y.length,F);for(var Z=I;Z<F;++Z)W+=String.fromCharCode(Y[Z]&127);return W}function R(Y,I,F){var W="";F=Math.min(Y.length,F);for(var Z=I;Z<F;++Z)W+=String.fromCharCode(Y[Z]);return W}function U(Y,I,F){var W=Y.length;(!I||I<0)&&(I=0),(!F||F<0||F>W)&&(F=W);for(var Z="",ye=I;ye<F;++ye)Z+=be(Y[ye]);return Z}function V(Y,I,F){for(var W=Y.slice(I,F),Z="",ye=0;ye<W.length;ye+=2)Z+=String.fromCharCode(W[ye]+W[ye+1]*256);return Z}a.prototype.slice=function(I,F){var W=this.length;I=~~I,F=F===void 0?W:~~F,I<0?(I+=W,I<0&&(I=0)):I>W&&(I=W),F<0?(F+=W,F<0&&(F=0)):F>W&&(F=W),F<I&&(F=I);var Z;if(a.TYPED_ARRAY_SUPPORT)Z=this.subarray(I,F),Z.__proto__=a.prototype;else{var ye=F-I;Z=new a(ye,void 0);for(var we=0;we<ye;++we)Z[we]=this[we+I]}return Z};function z(Y,I,F){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+I>F)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(I,F,W){I=I|0,F=F|0,W||z(I,F,this.length);for(var Z=this[I],ye=1,we=0;++we<F&&(ye*=256);)Z+=this[I+we]*ye;return Z},a.prototype.readUIntBE=function(I,F,W){I=I|0,F=F|0,W||z(I,F,this.length);for(var Z=this[I+--F],ye=1;F>0&&(ye*=256);)Z+=this[I+--F]*ye;return Z},a.prototype.readUInt8=function(I,F){return F||z(I,1,this.length),this[I]},a.prototype.readUInt16LE=function(I,F){return F||z(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUInt16BE=function(I,F){return F||z(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUInt32LE=function(I,F){return F||z(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},a.prototype.readUInt32BE=function(I,F){return F||z(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readIntLE=function(I,F,W){I=I|0,F=F|0,W||z(I,F,this.length);for(var Z=this[I],ye=1,we=0;++we<F&&(ye*=256);)Z+=this[I+we]*ye;return ye*=128,Z>=ye&&(Z-=Math.pow(2,8*F)),Z},a.prototype.readIntBE=function(I,F,W){I=I|0,F=F|0,W||z(I,F,this.length);for(var Z=F,ye=1,we=this[I+--Z];Z>0&&(ye*=256);)we+=this[I+--Z]*ye;return ye*=128,we>=ye&&(we-=Math.pow(2,8*F)),we},a.prototype.readInt8=function(I,F){return F||z(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},a.prototype.readInt16LE=function(I,F){F||z(I,2,this.length);var W=this[I]|this[I+1]<<8;return W&32768?W|4294901760:W},a.prototype.readInt16BE=function(I,F){F||z(I,2,this.length);var W=this[I+1]|this[I]<<8;return W&32768?W|4294901760:W},a.prototype.readInt32LE=function(I,F){return F||z(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,F){return F||z(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readFloatLE=function(I,F){return F||z(I,4,this.length),ql.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,F){return F||z(I,4,this.length),ql.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,F){return F||z(I,8,this.length),ql.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,F){return F||z(I,8,this.length),ql.read(this,I,!1,52,8)};function j(Y,I,F,W,Z,ye){if(!a.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>Z||I<ye)throw new RangeError('"value" argument is out of bounds');if(F+W>Y.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(I,F,W,Z){if(I=+I,F=F|0,W=W|0,!Z){var ye=Math.pow(2,8*W)-1;j(this,I,F,W,ye,0)}var we=1,et=0;for(this[F]=I&255;++et<W&&(we*=256);)this[F+et]=I/we&255;return F+W},a.prototype.writeUIntBE=function(I,F,W,Z){if(I=+I,F=F|0,W=W|0,!Z){var ye=Math.pow(2,8*W)-1;j(this,I,F,W,ye,0)}var we=W-1,et=1;for(this[F+we]=I&255;--we>=0&&(et*=256);)this[F+we]=I/et&255;return F+W},a.prototype.writeUInt8=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,1,255,0),a.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),this[F]=I&255,F+1};function X(Y,I,F,W){I<0&&(I=65535+I+1);for(var Z=0,ye=Math.min(Y.length-F,2);Z<ye;++Z)Y[F+Z]=(I&255<<8*(W?Z:1-Z))>>>(W?Z:1-Z)*8}a.prototype.writeUInt16LE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[F]=I&255,this[F+1]=I>>>8):X(this,I,F,!0),F+2},a.prototype.writeUInt16BE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[F]=I>>>8,this[F+1]=I&255):X(this,I,F,!1),F+2};function Q(Y,I,F,W){I<0&&(I=4294967295+I+1);for(var Z=0,ye=Math.min(Y.length-F,4);Z<ye;++Z)Y[F+Z]=I>>>(W?Z:3-Z)*8&255}a.prototype.writeUInt32LE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[F+3]=I>>>24,this[F+2]=I>>>16,this[F+1]=I>>>8,this[F]=I&255):Q(this,I,F,!0),F+4},a.prototype.writeUInt32BE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[F]=I>>>24,this[F+1]=I>>>16,this[F+2]=I>>>8,this[F+3]=I&255):Q(this,I,F,!1),F+4},a.prototype.writeIntLE=function(I,F,W,Z){if(I=+I,F=F|0,!Z){var ye=Math.pow(2,8*W-1);j(this,I,F,W,ye-1,-ye)}var we=0,et=1,yt=0;for(this[F]=I&255;++we<W&&(et*=256);)I<0&&yt===0&&this[F+we-1]!==0&&(yt=1),this[F+we]=(I/et>>0)-yt&255;return F+W},a.prototype.writeIntBE=function(I,F,W,Z){if(I=+I,F=F|0,!Z){var ye=Math.pow(2,8*W-1);j(this,I,F,W,ye-1,-ye)}var we=W-1,et=1,yt=0;for(this[F+we]=I&255;--we>=0&&(et*=256);)I<0&&yt===0&&this[F+we+1]!==0&&(yt=1),this[F+we]=(I/et>>0)-yt&255;return F+W},a.prototype.writeInt8=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,1,127,-128),a.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),I<0&&(I=255+I+1),this[F]=I&255,F+1},a.prototype.writeInt16LE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[F]=I&255,this[F+1]=I>>>8):X(this,I,F,!0),F+2},a.prototype.writeInt16BE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[F]=I>>>8,this[F+1]=I&255):X(this,I,F,!1),F+2},a.prototype.writeInt32LE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[F]=I&255,this[F+1]=I>>>8,this[F+2]=I>>>16,this[F+3]=I>>>24):Q(this,I,F,!0),F+4},a.prototype.writeInt32BE=function(I,F,W){return I=+I,F=F|0,W||j(this,I,F,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),a.TYPED_ARRAY_SUPPORT?(this[F]=I>>>24,this[F+1]=I>>>16,this[F+2]=I>>>8,this[F+3]=I&255):Q(this,I,F,!1),F+4};function te(Y,I,F,W,Z,ye){if(F+W>Y.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function he(Y,I,F,W,Z){return Z||te(Y,I,F,4),ql.write(Y,I,F,W,23,4),F+4}a.prototype.writeFloatLE=function(I,F,W){return he(this,I,F,!0,W)},a.prototype.writeFloatBE=function(I,F,W){return he(this,I,F,!1,W)};function fe(Y,I,F,W,Z){return Z||te(Y,I,F,8),ql.write(Y,I,F,W,52,8),F+8}a.prototype.writeDoubleLE=function(I,F,W){return fe(this,I,F,!0,W)},a.prototype.writeDoubleBE=function(I,F,W){return fe(this,I,F,!1,W)},a.prototype.copy=function(I,F,W,Z){if(W||(W=0),!Z&&Z!==0&&(Z=this.length),F>=I.length&&(F=I.length),F||(F=0),Z>0&&Z<W&&(Z=W),Z===W||I.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),I.length-F<Z-W&&(Z=I.length-F+W);var ye=Z-W,we;if(this===I&&W<F&&F<Z)for(we=ye-1;we>=0;--we)I[we+F]=this[we+W];else if(ye<1e3||!a.TYPED_ARRAY_SUPPORT)for(we=0;we<ye;++we)I[we+F]=this[we+W];else Uint8Array.prototype.set.call(I,this.subarray(W,W+ye),F);return ye},a.prototype.fill=function(I,F,W,Z){if(typeof I=="string"){if(typeof F=="string"?(Z=F,F=0,W=this.length):typeof W=="string"&&(Z=W,W=this.length),I.length===1){var ye=I.charCodeAt(0);ye<256&&(I=ye)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof I=="number"&&(I=I&255);if(F<0||this.length<F||this.length<W)throw new RangeError("Out of range index");if(W<=F)return this;F=F>>>0,W=W===void 0?this.length:W>>>0,I||(I=0);var we;if(typeof I=="number")for(we=F;we<W;++we)this[we]=I;else{var et=a.isBuffer(I)?I:pe(new a(I,Z).toString()),yt=et.length;for(we=0;we<W-F;++we)this[we+F]=et[we%yt]}return this};var ce=/[^+\/0-9A-Za-z-_]/g;function ee(Y){if(Y=Ue(Y).replace(ce,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function Ue(Y){return Y.trim?Y.trim():Y.replace(/^\s+|\s+$/g,"")}function be(Y){return Y<16?"0"+Y.toString(16):Y.toString(16)}function pe(Y,I){I=I||1/0;for(var F,W=Y.length,Z=null,ye=[],we=0;we<W;++we){if(F=Y.charCodeAt(we),F>55295&&F<57344){if(!Z){if(F>56319){(I-=3)>-1&&ye.push(239,191,189);continue}else if(we+1===W){(I-=3)>-1&&ye.push(239,191,189);continue}Z=F;continue}if(F<56320){(I-=3)>-1&&ye.push(239,191,189),Z=F;continue}F=(Z-55296<<10|F-56320)+65536}else Z&&(I-=3)>-1&&ye.push(239,191,189);if(Z=null,F<128){if((I-=1)<0)break;ye.push(F)}else if(F<2048){if((I-=2)<0)break;ye.push(F>>6|192,F&63|128)}else if(F<65536){if((I-=3)<0)break;ye.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((I-=4)<0)break;ye.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return ye}function Ae(Y){for(var I=[],F=0;F<Y.length;++F)I.push(Y.charCodeAt(F)&255);return I}function re(Y,I){for(var F,W,Z,ye=[],we=0;we<Y.length&&!((I-=2)<0);++we)F=Y.charCodeAt(we),W=F>>8,Z=F%256,ye.push(Z),ye.push(W);return ye}function Le(Y){return Jy.toByteArray(ee(Y))}function Oe(Y,I,F,W){for(var Z=0;Z<W&&!(Z+F>=I.length||Z>=Y.length);++Z)I[Z+F]=Y[Z];return Z}function Ze(Y){return Y!==Y}});function $B(e,t,n){var r=e[n]|0;if(r<=0)return[];var i=new Array(r),a;if(n===e.length-1)for(a=0;a<r;++a)i[a]=t;else for(a=0;a<r;++a)i[a]=$B(e,t,n+1);return i}function Bse(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function kse(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return Bse(e|0,t);break;case"object":if(typeof e.length=="number")return $B(e,t,0);break}return[]}var Bi=kse,Ta=pi(function(e,t){Xo.__TYPEDARRAY_POOL||(Xo.__TYPEDARRAY_POOL={UINT8:Bi([32,0]),UINT16:Bi([32,0]),UINT32:Bi([32,0]),INT8:Bi([32,0]),INT16:Bi([32,0]),INT32:Bi([32,0]),FLOAT:Bi([32,0]),DOUBLE:Bi([32,0]),DATA:Bi([32,0]),UINT8C:Bi([32,0]),BUFFER:Bi([32,0])});var n=typeof Uint8ClampedArray<"u",r=Xo.__TYPEDARRAY_POOL;r.UINT8C||(r.UINT8C=Bi([32,0])),r.BUFFER||(r.BUFFER=Bi([32,0]));var i=r.DATA,a=r.BUFFER;t.free=function(x){if(TC.Buffer.isBuffer(x))a[Ti.log2(x.length)].push(x);else{if(Object.prototype.toString.call(x)!=="[object ArrayBuffer]"&&(x=x.buffer),!x)return;var _=x.length||x.byteLength,S=Ti.log2(_)|0;i[S].push(x)}};function o(b){if(b){var x=b.length||b.byteLength,_=Ti.log2(x);i[_].push(b)}}function s(b){o(b.buffer)}t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=s,t.freeArrayBuffer=o,t.freeBuffer=function(x){a[Ti.log2(x.length)].push(x)},t.malloc=function(x,_){if(_===void 0||_==="arraybuffer")return u(x);switch(_){case"uint8":return l(x);case"uint16":return c(x);case"uint32":return h(x);case"int8":return f(x);case"int16":return d(x);case"int32":return v(x);case"float":case"float32":return g(x);case"double":case"float64":return p(x);case"uint8_clamped":return y(x);case"buffer":return w(x);case"data":case"dataview":return m(x);default:return null}return null};function u(x){var x=Ti.nextPow2(x),_=Ti.log2(x),S=i[_];return S.length>0?S.pop():new ArrayBuffer(x)}t.mallocArrayBuffer=u;function l(b){return new Uint8Array(u(b),0,b)}t.mallocUint8=l;function c(b){return new Uint16Array(u(2*b),0,b)}t.mallocUint16=c;function h(b){return new Uint32Array(u(4*b),0,b)}t.mallocUint32=h;function f(b){return new Int8Array(u(b),0,b)}t.mallocInt8=f;function d(b){return new Int16Array(u(2*b),0,b)}t.mallocInt16=d;function v(b){return new Int32Array(u(4*b),0,b)}t.mallocInt32=v;function g(b){return new Float32Array(u(4*b),0,b)}t.mallocFloat32=t.mallocFloat=g;function p(b){return new Float64Array(u(8*b),0,b)}t.mallocFloat64=t.mallocDouble=p;function y(b){return n?new Uint8ClampedArray(u(b),0,b):l(b)}t.mallocUint8Clamped=y;function m(b){return new DataView(u(b),0,b)}t.mallocDataView=m;function w(b){b=Ti.nextPow2(b);var x=Ti.log2(b),_=a[x];return _.length>0?_.pop():new TC.Buffer(b)}t.mallocBuffer=w,t.clearCache=function(){for(var x=0;x<32;++x)r.UINT8[x].length=0,r.UINT16[x].length=0,r.UINT32[x].length=0,r.INT8[x].length=0,r.INT16[x].length=0,r.INT32[x].length=0,r.FLOAT[x].length=0,r.DOUBLE[x].length=0,r.UINT8C[x].length=0,i[x].length=0,a[x].length=0}});function Rse(e,t,n,r,i,a,o){e|=0,t|=0,n|=0,i|=0,a|=0,Ti.isPow2(n)?wp(e,t,n,r,i,a):Use(e,t,n,r,i,a,o)}var iw=Rse;function Lse(e){return Ti.isPow2(e)?0:2*e+4*Ti.nextPow2(2*e+1)}var Nse=Lse;function wp(e,t,n,r,i,a){e|=0,t|=0,n|=0,i|=0,a|=0;var o,s,u,l,c,h,f,d,v,g,p,y,m,w,b,x,_,S,P,C,B,T,k,D,O;for(o=n,s=Ti.log2(o),S=0;S<t;++S){for(f=o>>1,c=0,u=0;u<o-1;u++){for(u<c&&(m=r[i+u],r[i+u]=r[i+c],r[i+c]=m,m=r[a+u],r[a+u]=r[a+c],r[a+c]=m),h=f;h<=c;)c-=h,h>>=1;c+=h}for(p=-1,y=0,g=1,d=0;d<s;d++){for(v=g,g<<=1,x=1,_=0,c=0;c<v;c++){for(u=c;u<o;u+=g)l=u+v,P=r[i+l],C=r[a+l],B=r[i+u],T=r[a+u],k=x*(P+C),D=P*(_-x),O=C*(x+_),w=k-O,b=k+D,r[i+l]=B-w,r[a+l]=T-b,r[i+u]+=w,r[a+u]+=b;k=p*(x+_),D=x*(y-p),O=_*(p+y),x=k-O,_=k+D}y=Math.sqrt((1-p)/2),e<0&&(y=-y),p=Math.sqrt((1+p)/2)}if(e<0){var N=1/o;for(u=0;u<o;u++)r[i+u]*=N,r[a+u]*=N}i+=n,a+=n}}function Use(e,t,n,r,i,a,o){e|=0,t|=0,n|=0,i|=0,a|=0,o|=0;var s=Ti.nextPow2(2*n+1),u=o,l=u+n,c=l+n,h=c+s,f=h+s,d=f+s,v=-e*Math.PI/n,g,p,y,m,w,b,x,_,S;for(S=0;S<n;++S)p=v*(S*S%(n*2)),m=Math.cos(p),w=Math.sin(p),r[f+(s-S)]=r[f+S]=r[u+S]=m,r[d+(s-S)]=r[d+S]=r[l+S]=w;for(S=n;S<=s-n;++S)r[f+S]=0;for(S=n;S<=s-n;++S)r[d+S]=0;for(wp(1,1,s,r,f,d),e<0?v=1/n:v=1,g=0;g<t;++g){for(S=0;S<n;++S)p=r[i+S],y=r[a+S],m=r[u+S],w=-r[l+S],b=m*(p+y),x=p*(w-m),_=y*(m+w),r[c+S]=b-_,r[h+S]=b+x;for(S=n;S<s;++S)r[c+S]=0;for(S=n;S<s;++S)r[h+S]=0;for(wp(1,1,s,r,c,h),S=0;S<s;++S)p=r[c+S],y=r[h+S],m=r[f+S],w=r[d+S],b=m*(p+y),x=p*(w-m),_=y*(m+w),r[c+S]=b-_,r[h+S]=b+x;for(wp(-1,1,s,r,c,h),S=0;S<n;++S)p=r[c+S],y=r[h+S],m=r[u+S],w=-r[l+S],b=m*(p+y),x=p*(w-m),_=y*(m+w),r[i+S]=v*(b-_),r[a+S]=v*(b+x);i+=n,a+=n}}iw.scratchMemory=Nse;function $se(e,t,n){var r=t.shape,i=r.length,a=1,o=new Array(i),s=0,u,l;for(u=i-1;u>=0;--u)if(o[u]=a,a*=r[u],s=Math.max(s,iw.scratchMemory(r[u])),t.shape[u]!==n.shape[u])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var c=4*a+s,h;t.dtype==="array"||t.dtype==="float64"||t.dtype==="custom"?h=Ta.mallocDouble(c):h=Ta.mallocFloat(c);var f=ca(h,r.slice(0),o,0),d=ca(h,r.slice(0),o.slice(0),a),v=ca(h,r.slice(0),o.slice(0),2*a),g=ca(h,r.slice(0),o.slice(0),3*a),p,y,m,w,b=4*a;for(Gt.assign(f,t),Gt.assign(d,n),u=i-1;u>=0&&(iw(e,a/r[u],r[u],h,f.offset,d.offset,b),u!==0);--u){for(y=1,m=v.stride,w=g.stride,l=u-1;l<i;++l)w[l]=m[l]=y,y*=r[l];for(l=u-2;l>=0;--l)w[l]=m[l]=y,y*=r[l];Gt.assign(v,f),Gt.assign(g,d),p=f,f=v,v=p,p=d,d=g,g=p}Gt.assign(t,f),Gt.assign(n,d),Ta.free(h)}var e1=$se,Vse=pi(function(e){var t=gi({args:["array","array","array","array"],body:function(r,i,a,o){}});function n(r,i,a,o,s,u,l,c){if(a.shape.length!==s.shape.length||r.shape.length!==a.shape.length)throw new Error("ndarray-convolve: Dimension mismatch");var h=a.shape.length,f=1,d=new Array(h),v=new Array(h),g;if(c)for(g=h-1;g>=0;--g)v[g]=a.shape[g],d[g]=f,f*=v[g];else for(g=h-1;g>=0;--g)v[g]=Ti.nextPow2(a.shape[g]+s.shape[g]-1),d[g]=f,f*=v[g];var p=Ta.mallocDouble(f),y=ca(p,v,d,0);Gt.assigns(y,0),Gt.assign(y.hi.apply(y,a.shape),a);var m=Ta.mallocDouble(f),w=ca(m,v,d,0);Gt.assigns(w,0),o&&Gt.assign(w.hi.apply(w,o.shape),o),e1(1,y,w);var b=Ta.mallocDouble(f),x=ca(b,v,d,0);Gt.assigns(x,0),Gt.assign(x.hi.apply(x,s.shape),s);var _=Ta.mallocDouble(f),S=ca(_,v,d,0);Gt.assigns(S,0),u&&Gt.assign(S.hi.apply(w,u.shape),u),e1(1,x,S),l?t(y,w,x,S):bse.muleq(y,w,x,S),e1(-1,y,w);var P=new Array(h),C=new Array(h),B=!1;for(g=0;g<h;++g)r.shape[g]>v[g]&&(B=!0),c?C[g]=0:C[g]=Math.max(0,Math.min(v[g]-r.shape[g],Math.floor(s.shape[g]/2))),P[g]=Math.min(r.shape[g],v[g]-C[g]);var T,k;B&&Gt.assign(r,0),T=y.lo.apply(y,C),T=T.hi.apply(T,P),Gt.assign(r.hi.apply(r,P),T),i&&(B&&Gt.assign(i,0),k=w.lo.apply(w,C),k=k.hi.apply(k,P),Gt.assign(i.hi.apply(i,P),k)),Ta.freeDouble(p),Ta.freeDouble(m),Ta.freeDouble(b),Ta.freeDouble(_)}e.exports=function(i,a,o,s,u,l){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!1,!1);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!1,!1);else if(arguments.length===4)n(i,a,i,a,o,s,!1,!1);else if(arguments.length===6)n(i,a,o,s,u,l,!1,!1);else throw new Error("ndarray-convolve: Invalid arguments for convolve");return i},e.exports.wrap=function(i,a,o,s,u,l){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!1,!0);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!1,!0);else if(arguments.length===4)n(i,a,i,a,o,s,!1,!0);else if(arguments.length===6)n(i,a,o,s,u,l,!1,!0);else throw new Error("ndarray-convolve: Invalid arguments for convolve");return i},e.exports.correlate=function(i,a,o,s,u,l){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!0,!1);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!0,!1);else if(arguments.length===4)n(i,a,i,a,o,s,!0,!1);else if(arguments.length===6)n(i,a,o,s,u,l,!0,!1);else throw new Error("ndarray-convolve: Invalid arguments for correlate");return i},e.exports.correlate.wrap=function(i,a,o,s,u,l){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!0,!0);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!0,!0);else if(arguments.length===4)n(i,a,i,a,o,s,!0,!0);else if(arguments.length===6)n(i,a,o,s,u,l,!0,!0);else throw new Error("ndarray-convolve: Invalid arguments for correlate");return i}}),PC=100,zse=function(t,n){var r=new Set,i=[],a=!1,o=function(){r.size?h():(s(),a&&n.publish("animationEnd"),a=!1)},s=function(){i.forEach(function(p){return p.onDone()}),i=[]},u=function(){var p=i.slice(0,PC);i.splice(0,PC),p.forEach(function(y){return y.onDone()})},l=kB(u,50),c=function(){a=!0,r.forEach(function(p){p.update()&&i.push(p)}),t(),i.forEach(function(p){return r.delete(p)}),l()},h=yB(c,o),f=function(p){r.add(p),p.register(),h()},d=function(p){p.forEach(function(y){r.add(y),y.register()}),h()},v=function(p){r.delete(p)};return{add:f,addBatch:d,cancel:v}},VB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return Jn(i,{clone:function(){return i.constructor.apply(i,n)}})}},xp=function(t){var n;return t.isSprite?(n=new Va(t.texture),n.interactive=t.interactive,n.x=t.x,n.y=t.y,n.anchor=t.anchor,n.width=t.width,n.height=t.height,n.angle=t.angle):t instanceof Xh&&(n=new Xh(t.geometry,t.shader,t.state),n.interactive=t.interactive,n.x=t.x,n.y=t.y,n.anchor=t.anchor,n.width=t.width,n.height=t.height,n.angle=t.angle),n},fc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(typeof t=="string"||t instanceof String){if(t[0]==="#")return[parseInt(t.substr(1),16),n];if(t.substring(0,3)==="rgb"){var r=t.match(/(\d+),\s*(\d+),\s*(\d+),?\s*([\d.]+)?/);return[r.slice(1,4).map(function(i,a){return+i<<8*(2-a)}).reduce(function(i,a){return a+i},0),Number.isNaN(+r[4])?1:+r[4]]}return[t.match(/(\d+),\s*(\d+),\s*(\d+)/).slice(1).map(function(i,a){return+i<<8*(2-a)}).reduce(function(i,a){return a+i},0),n]}return[parseInt(t,10),n]};pi(function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},t(n,r)}e.exports=t});var jse=pi(function(e){function t(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e.exports=t=function(i){return typeof i}:e.exports=t=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t(n)}e.exports=t});pi(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},t(n)}e.exports=t});var Hse=function(t,n){switch(n){case"Infinity":return 1/0;case"-Infinity":return-1/0;default:return n}},Gse=function(t){return JSON.parse(t,Hse)},Ci=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t===null?n:t},Yse=function(t){return bp(t)&&t.data&&(t.data.constructor===Float32Array||t.data.constructor===Uint8Array)&&t.shape},Xse=function(t){for(var n=1/0,r=-1/0,i=1/0,a=-1/0,o=0;o<t.length;o+=2)n=t[o]<n?t[o]:n,r=t[o]>r?t[o]:r,i=t[o+1]<i?t[o+1]:i,a=t[o+1]>a?t[o+1]:a;return{minX:n,minY:i,maxX:r,maxY:a}},Iu=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Yt(t)?t(n,n.id,r):t},ia=function(t,n){return Yt(t)?t(n):t},Wse=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t=new Set(t);var r=[],i=n.filter(function(o){return t.has(o)?(t.delete(o),!0):(r.push(o),!1)}),a=Array.from(t);return[a,r,i]},Zl=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h},n=1,r=Math.log10(n),i=10,a=Math.log10(i),o=a-r,s=0,u=1,l=1,c=function(f){return Math.min(u,Math.max(s,u-(a-t(f))/o*l))};return c.domain=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(h.length===0)return[n,i];var f=me(h,2),d=f[0],v=f[1];return n=d,r=t(d),i=v,a=t(v),o=a-r||1,c},c.range=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(h.length===0)return[s,u];var f=me(h,2),d=f[0],v=f[1];return s=d,u=v,l=u-s,c},c},Kse=["left","center","right"],qse=["top","center","bottom"],aw=1e-9,ow=0,tm=16777215,Zse=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),OC="cubic-bezier(0.645, 0.045, 0.355, 1)",z2=!1,IC={passive:!1},Si={passive:!0},Xc="inherit",Qse="index",Jse={property:function(t,n){return n},isCustom:!0},zB=.85,jB=.15,HB=!0,GB=.1,YB=.8,XB=1,eue=2,MC=10,tue=2500,nue=250,j2="auto",WB="panZoom",KB="scroll",rue=[j2,WB,KB],iue=1,aue=0,oue=16777215,sue=["top","right"],uue=Xc,lue=Xc,DC=["#E69F00","#56B4E9","#009E73","#F0E442","#0072B2","#D55E00","#CC79A7"],FC={color:"#808080"},cue=100,fue=function(t){var n=["top","left"],r=_C(t)?t[1]:t,i=_C(t)?t[0]:t;return qse.indexOf(i)>=0&&(n[0]=i),Kse.indexOf(r)>=0&&(n[1]=r),n},qB=function(t){var n=t;return!(n instanceof nn)&&!(n instanceof Ra)&&!(n instanceof Xh)&&(Yse(t)?n=nn.fromBuffer(t.data,t.shape[0],t.shape[1]):n=nn.from(t)),n},BC=function(t,n){return[t,n,0,1]},hue=function(t,n){switch(n){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return n}},due=function(t){return JSON.stringify(t,hue)},kC=function(t){return TB(t).join("-")},vue=function(){var t=document.createElement("fake-element"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(var r in n)if(t.style[r]!==void 0)return n[r];return"transitionEnd"},pue=function(t){return Math.pow(2,t)},gue=`
varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = vec4(color.rgb + (1.0 - color.rgb) * vColor.rgb * color.w, color.w);
}
`,mue=Cd.create({fragment:gue});ja.registerPlugin("brighten-tint",mue);var yue=`
varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = vColor * vec4(color.a - color.rgb, color.a);
}
`,bue=Cd.create({fragment:yue});ja.registerPlugin("invert",bue);var ZB=function(t){return function(n){var r=0;return Jn(n,{brightness:function(a){if(r=a,a===0)t.tint=16777215,t.pluginName="batch";else{var o=parseInt((a<0?1+a:a)*255,10);t.tint=L2(new Array(3).fill().map(function(s,u){return o<<8*(2-u)})),t.pluginName=a<0?"batch":"brighten-tint"}},invert:function(a){t.pluginName=a?"invert":"batch"},tint:function(a){if(+r==0){var o=typeof a>"u"||a===null?16777215:fc(a,null)[0];t.tint=o}}})}},QB=function(t){return function(n){return Jn(n,{destroy:function(){t.destroy({baseTexture:!0,children:!0,texture:!0})}})}},JB=function(t,n,r){return function(i){return Jn(i,{scale:function(o){i.scaleFactor=o,i.scaleX(o),i.scaleY(o)},scaleX:function(o){i.scaleXFactor=o,t.width=n*o},scaleY:function(o){i.scaleYFactor=o,t.height=r*o}})}},ek=function(t,n,r){return function(i){return Jn(i,{get aspectRatio(){return t.width/t.height},get height(){return t.height},get center(){return[t.width/2,t.height/2]},get originalHeight(){return r},get size(){return Math.max(t.width,t.height)},get width(){return t.width},get originalWidth(){return n}})}},sw=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.anchor,i=r===void 0?[.5,.5]:r,a=qB(t),o;if(a instanceof nn){var s;o=new Va(a),(s=o.anchor).set.apply(s,lt(i))}else o=a;return qi(_o(e),_n("displayObject",o),_n("sprite",o),VB(a,{anchor:i}),ZB(o),JB(o,a.width,a.height),ek(o,a.width,a.height),QB(o))({})},wue=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.backgroundFactory,i=n.fontSize,a=i===void 0?8:i,o=n.darkMode,s=o===void 0?!1:o,u=n.onDestroy,l=u===void 0?Vu:u,c=new yn,h=t;if(!(t instanceof nn)){var f=new s0(t,{fontFamily:"sans-serif",fontSize:a*window.devicePixelRatio,fill:16777215,align:"center"});f.updateText(),h=f.texture}var d=sw(h),v;r&&(v=r.create(),c.addChild(v)),c.addChild(d.displayObject),d.displayObject.width/=window.devicePixelRatio,d.displayObject.height/=window.devicePixelRatio;var g=!1,p=function(){return function(w){return Jn(w,{destroy:function(){g||(g=!0,l())}})}},y=function(w){d.invert(w),r.setColor(w?[1,1,1,1]:[0,0,0,1])};return y(s),qi(_o(e),_n("displayObject",c),_n("background",v),_n("image",d),VB(h,{backgroundFactory:r,fontSize:a,darkMode:s,onDestroy:l}),p())({setDarkMode:y})},xue=[0,0,0,1],_ue=.5,Sue=[0,0],Eue=[.5,.5],Aue=[-1,-1,1,-1,1,1,-1,1],Cue=[0,1,2,0,3,2],Tue=`precision mediump float;
// From PIXI
uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;

attribute vec2 aVertexPosition;

varying vec2 vTexPos;

void main() {
  gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
  vTexPos = aVertexPosition;
}
`,Pue=`precision mediump float;
float udRoundBox(vec2 p, vec2 b, float r) {
  return length(max(abs(p) - b, 0.0)) - r;
}

uniform vec2 uRectPos;
uniform vec2 uRectSize;
uniform vec4 uColor;
uniform float uRounding;
uniform float uSize;

varying vec2 vTexPos;

void main() {
  float texel = 1.0 / uSize;
  float dist = udRoundBox(vTexPos - uRectPos, uRectSize, uRounding);

  gl_FragColor = vec4(uColor.rgb, uColor.a * max(0.0, 1.0 - (dist * uSize * 2.0)));
}`,H2=new Er;H2.addAttribute("aVertexPosition",Aue,2);H2.addIndex(Cue);var Oue=new ts,Iue=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.color,r=n===void 0?xue:n,i=t.rounding,a=i===void 0?_ue:i,o=t.size,s=o===void 0?1:o,u={uColor:r,uRounding:a,uRectPos:Sue,uRectSize:Eue,uSize:s},l=new ji(u),c=va.from(Tue,Pue,l),h=function(){var y=new Xh(H2,c,Oue);return y.width=u.uSize/window.devicePixelRatio,y.height=u.uSize/window.devicePixelRatio,y},f=h(),d=function(y){u.uColor=y},v=function(){f.destroy(),u={}},g=function(y){u.uSize=y*window.devicePixelRatio};return qi(_o(e))({create:h,destroy:v,setColor:d,setSize:g})},Mue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.fontSize,r=n===void 0?8:n,i=new Map,a={},o=Iue({size:r*window.devicePixelRatio*1.5}),s=function(h){return function(){a[h]=Math.max(0,a[h]-1),a[h]===0&&(i.get(h).image.destroy(),i.delete(h),delete a[h])}},u=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=f.darkMode;if(i.has(h))return++a[h],i.get(h).clone();var v=wue(h,{backgroundFactory:o,darkMode:d,fontSize:r,onDestroy:s(h)});return a[h]=1,i.set(h,v),v},l=function(){i.forEach(function(h){return h.destroy()}),i.clear(),a={}};return{clear:l,create:u,destroy:l}},Due=function(){var t=document.createElement("style");document.head.appendChild(t);var n=t.sheet,r=function(s){var u=n.length;return n.insertRule(s,u),u},i=function(s){n.deleteRule(s)},a=function(){document.head.removeChild(t)};return{addRule:r,destroy:a,removeRule:i}},Ir="pilingjs-breadcrumbs-button",Fue=[".".concat(Ir,` {
  position: relative;
  display: flex;
  align-items: center;
  line-height: 1em;
  height: 2em;
  margin-right: -0.25em;
  padding: 0 0.5em 0 1em;
  border-radius: 0 0.25em 0.25em 0;
  text-color: black;
  box-shadow: inset 0 0 0 1px #ccc;
  background: white;
}`),".pilingjs-darkmode .".concat(Ir,` {
  text-color: white;
  box-shadow: inset 0 0 0 1px #333;
  background: black;
}`),"li:first-child .".concat(Ir,` {
  padding: 0.5em;
  border-radius: 0.25em;
}`),".".concat(Ir,`:focus {
  outline: none;
}`),".".concat(Ir,".").concat(Ir,`-right-arrow {
  position: relative;
  display: block;
  border-radius: 0;
  border-left-color: #ccc;
  background: #ccc;
}`),".pilingjs-darkmode .".concat(Ir,".").concat(Ir,`-right-arrow {
  border-left-color: #333;
  background: #333;
}`),".".concat(Ir,".").concat(Ir,"-right-arrow:hover, .pilingjs-darkmode .").concat(Ir,".").concat(Ir,`-right-arrow:hover {
  color: black;
  border-left-color: #ff7ff6;
  box-shadow: inset 0 0 0 1px #ff7ff6;
  background: #ff7ff6;
}`),".".concat(Ir,".").concat(Ir,`-right-arrow:after {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: '';
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
  border-color: rgba(0, 0, 0, 0);
  border-left-color: inherit;
  border-width: 0.5em;
  margin-top: -0.5em;
}`)],Bue=function e(t){var n=t.element,r=t.store,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.darkMode;var a=i.maxDepth,o=a===void 0?3:a,s=i.onEnter,u=s===void 0?Vu:s,l=i.onLeave,c=l===void 0?Vu:l,h=o,f=document.createElement("nav");f.className="pilingjs-breadcrumbs",f.style.position="absolute",f.style.top=0,f.style.left=0;var d=document.createElement("ol");d.className="pilingjs-breadcrumbs-list",d.style.display="flex",d.style.margin=0,d.style.padding=0,d.style.listStyle="none",f.appendChild(d);var v=Due();Fue.forEach(v.addRule);var g=[],p=[],y=[],m=function(){Pae(function(R,U,V){U+1===V.length?(R.style.zIndex=1,R.className="".concat(Ir)):(R.style.zIndex=V.length-U,R.className="".concat(Ir," ").concat(Ir,"-right-arrow"))})(d.querySelectorAll("button"))},w=function(){return y[y.length-1]},b=function(R){var U=r.state.piles;return R.flatMap(function(V){return U[V].items}).sort().join("-")},x=function(R){var U=r.export(),V=new Set;return R.forEach(function(z){U.piles[z].items.forEach(function(j){return V.add(j)})}),Object.keys(U.piles).filter(function(z){return!V.has(z)}).forEach(function(z){U.piles[z].items=[]}),U},_=function(R){return Object.values(R.piles).filter(function(U){return U.items.length}).reduce(function(U,V){return U+V.items.length},0)},S=function(R,U){var V=U===0?"Root":"".concat(U,". Level"),z=_(R);return"<li><button><span><strong>".concat(V,"</strong> (").concat(z,")</span></button></li>")},P=function(R){return function(){if(R===0){k();return}for(var U=g.length;g.length>R+1;)EC(d),y.pop(),g.pop();U>R&&T()}},C=function(R,U){var V=S(R,U),z=IB(V);z.querySelector("button").addEventListener("click",P(U)),d.appendChild(z),m()},B=function(R){var U=b(R),V=w();if(g.length>=h){console.warn("Not allowed! You reached the maximum depth (".concat(h,")"));return}if(U===V){console.warn("Not allowed! You're already on this level.");return}var z=r.export();g=[].concat(lt(g),[z]);var j=n.getBoundingClientRect(),X=j.width,Q=j.height;p=[].concat(lt(p),[{width:X,height:Q}]),g.length===1&&C(z,0);var te=x(R);r.import(te),y=[].concat(lt(y),[U]),C(te,g.length),u()},T=function(){if(!g.length){console.warn("Not allowed! You're already on the root level.");return}EC(d),m(),y.pop();var R=g.pop();r.import(R);var U=p.pop();c(U)},k=function(){if(!g.length){console.warn("Not allowed! You're already on the root level.");return}Cae(d),r.import(g[0]),c(p[0]),y=[],g=[],p=[]},D=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R.darkMode;var U=R.maxDepth,V=U===void 0?null:U;h=Ci(V,h),m()},O=function(){v.destroy()};return m(),qi(_n("nav",f),Wo("size",function(){return g.length}),_o(e))({destroy:O,enter:B,leave:T,leaveAll:k,set:D})},kue=`/*! skmeans 2020-01-29 */
"use strict";

!function e(i, f, s) {
  function u(n, r) {
    if (!f[n]) {
      if (!i[n]) {
        var t = "function" == typeof require && require;
        if (!r && t) return t(n, !0);
        if (v) return v(n, !0);
        var o = new Error("Cannot find module '" + n + "'");
        throw o.code = "MODULE_NOT_FOUND", o;
      }

      var a = f[n] = {
        exports: {}
      };
      i[n][0].call(a.exports, function (r) {
        return u(i[n][1][r] || r);
      }, a, a.exports, e, i, f, s);
    }

    return f[n].exports;
  }

  for (var v = "function" == typeof require && require, r = 0; r < s.length; r++) u(s[r]);

  return u;
}({
  1: [function (n, t, o) {
    (function () {
      this.skmeans;
      var r = n("./main.js");
      void 0 !== o && (void 0 !== t && t.exports && (o = t.exports = r), o.skmeans = r), "undefined" != typeof window && (window.skmeans = r);
    }).call(this);
  }, {
    "./main.js": 4
  }],
  2: [function (r, n, t) {
    n.exports = {
      eudist: function (r, n) {
        for (var t = r.length, o = 0, a = 0; a < t; a++) {
          var e = (r[a] || 0) - (n[a] || 0);
          o += e * e;
        }

        return o;
      },
      mandist: function (r, n) {
        for (var t = r.length, o = 0, a = 0, e = 0; e < t; e++) o += 0 <= (a = (r[e] || 0) - (n[e] || 0)) ? a : -a;

        return o;
      },
      dist: function (r, n, t) {
        var o = Math.abs(r - n);
        return t ? o : o * o;
      }
    };
  }, {}],
  3: [function (r, n, t) {
    var o = r("./distance.js"),
        j = o.eudist,
        w = o.dist;
    n.exports = {
      kmrand: function (r, n) {
        for (var t = {}, o = [], a = n << 2, e = r.length, i = 0 < r[0].length; o.length < n && 0 < a--;) {
          var f = r[Math.floor(Math.random() * e)],
              s = i ? f.join("_") : "".concat(f);
          t[s] || (t[s] = !0, o.push(f));
        }

        if (o.length < n) throw new Error("Error initializating clusters");
        return o;
      },
      kmpp: function (r, n, t) {
        var o = t || (r[0].length ? j : w),
            a = [],
            e = r.length,
            i = 0 < r[0].length,
            f = r[Math.floor(Math.random() * e)];
        i ? f.join("_") : "".concat(f);

        for (a.push(f); a.length < n;) {
          for (var s = [], u = a.length, v = 0, c = [], h = 0; h < e; h++) {
            for (var d = 1 / 0, l = 0; l < u; l++) {
              var p = o(r[h], a[l]);
              p <= d && (d = p);
            }

            s[h] = d;
          }

          for (var m = 0; m < e; m++) v += s[m];

          for (var g = 0; g < e; g++) c[g] = {
            i: g,
            v: r[g],
            pr: s[g] / v,
            cs: 0
          };

          c.sort(function (r, n) {
            return r.pr - n.pr;
          }), c[0].cs = c[0].pr;

          for (var k = 1; k < e; k++) c[k].cs = c[k - 1].cs + c[k].pr;

          for (var x = Math.random(), M = 0; M < e - 1 && c[M++].cs < x;);

          a.push(c[M - 1].v);
        }

        return a;
      }
    };
  }, {
    "./distance.js": 2
  }],
  4: [function (r, n, t) {
    var o = r("./distance.js"),
        a = r("./kinit.js"),
        H = o.eudist,
        I = (o.mandist, o.dist, a.kmrand),
        J = a.kmpp;

    function K(r, n, t) {
      t = t || [];

      for (var o = 0; o < r; o++) t[o] = n;

      return t;
    }

    function P(r, n) {
      for (var t = Array.isArray(r), o = this.centroids, a = o.length, e = 1 / 0, i = 0, f = 0; f < a; f++) {
        var s = n ? n(r, o[f]) : t ? H(r, o[f]) : Math.abs(r - o[f]);
        s <= e && (e = s, i = f);
      }

      return {
        idx: i,
        centroid: o[i]
      };
    }

    n.exports = function (r, n, t, o, a) {
      var e = [],
          i = [],
          f = [],
          s = [],
          u = !1,
          v = o || 1e4,
          c = r.length,
          h = r[0].length,
          d = 0 < h,
          l = [];
      if (t) e = "kmrand" == t ? I(r, n) : "kmpp" == t ? J(r, n, a) : t;else for (var p = {}, m = 0; e.length < n;) {
        var g = Math.floor(Math.random() * c);
        p[g] || (p[g] = !0, e[m++] = r[g]);
      }

      do {
        K(n, 0, l);

        for (var k = 0; k < c; k++) {
          for (var x = 1 / 0, M = 0, j = 0; j < n; j++) (s = a ? a(r[k], e[j]) : d ? H(r[k], e[j]) : Math.abs(r[k] - e[j])) <= x && (x = s, M = j);

          l[f[k] = M]++;
        }

        var w = [];
        if (i = [], d) for (var b = 0; b < n; b++) w[b] = K(h, 0, w[b]), i[b] = e[b];else for (var y = 0; y < n; y++) w[y] = 0, i[y] = e[y];

        if (d) {
          for (var q = 0; q < n; q++) e[q] = [];

          for (var E = 0; E < c; E++) for (var _ = w[f[E]], O = r[E], A = 0; A < h; A++) _[A] += O[A];

          u = !0;

          for (var D = 0; D < n; D++) {
            for (var N = e[D], U = w[D], z = i[D], C = l[D], F = 0; F < h; F++) N[F] = U[F] / C || 0;

            if (u) for (var L = 0; L < h; L++) if (z[L] != N[L]) {
              u = !1;
              break;
            }
          }
        } else {
          for (var T = 0; T < c; T++) w[f[T]] += r[T];

          for (var B = 0; B < n; B++) e[B] = w[B] / l[B] || 0;

          u = !0;

          for (var G = 0; G < n; G++) if (i[G] != e[G]) {
            u = !1;
            break;
          }
        }

        u = u || --v <= 0;
      } while (!u);

      return {
        it: (o || 1e4) - v,
        k: n,
        idxs: f,
        centroids: e,
        test: P
      };
    };
  }, {
    "./distance.js": 2,
    "./kinit.js": 3
  }]
}, {}, [1]);`,Rue=function(){var t=function(i){return{error:new Error(i)}},n=function(i){return i};self.onmessage=function(i){var a=i.data,o=a.initialization,s=a.k,u=a.maxIterations,l=a.items,c=a.scripts;try{c.forEach(function(v){importScripts(v)})}catch(v){self.postMessage(t("Failed to import skmeans: ".concat(v)));return}var h;try{h=l.map(self.valueGetter||n)}catch(v){self.postMessage(t("Failed to load features: ".concat(v)));return}if(h.length<=s)self.postMessage(t("Need at least ".concat(s," items!")));else try{var f=self.skmeans(h,s,o||"kmpp",u||1e3*Math.log10(h.length),self.distanceFunction||null),d=self.postProcessing&&self.postProcessing(f,h,l);self.postMessage({centroids:f.centroids,labels:f.idxs,postProcessing:d})}catch(v){self.postMessage(t("Failed to run k-means++: ".concat(v)))}}},$v=function(t){return window.URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},RC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.distanceFunction,i=r===void 0?null:r,a=n.initialization,o=a===void 0?"kmpp":a,s=n.maxIterations,u=s===void 0?null:s,l=n.valueGetter,c=l===void 0?null:l,h=n.postProcessing,f=h===void 0?null:h,d=[$v(kue.replace(/window/g,"self"))];return c&&d.push($v("(() => { self.valueGetter = ".concat(c.toString(),"; })();"))),i&&d.push($v("(() => { self.distanceFunction = ".concat(i.toString(),"; })();"))),f&&d.push($v("(() => { self.postProcessing = ".concat(f.toString(),"; })();"))),function(v){return new Promise(function(g,p){var y=Dae(Rue);y.onmessage=function(m){m.data.error?p(m.data.error):g(m.data),y.terminate()},y.postMessage({initialization:o,k:t,maxIterations:u,items:v,scripts:d})})}},LC=Object.prototype.toString,tk=function(t){var n=LC.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&LC.call(t.callee)==="[object Function]"),r},nk;if(!Object.keys){var Vv=Object.prototype.hasOwnProperty,NC=Object.prototype.toString,Lue=tk,UC=Object.prototype.propertyIsEnumerable,Nue=!UC.call({toString:null},"toString"),Uue=UC.call(function(){},"prototype"),zv=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t1=function(e){var t=e.constructor;return t&&t.prototype===e},$ue={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Vue=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!$ue["$"+e]&&Vv.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{t1(window[e])}catch{return!0}}catch{return!0}return!1}(),zue=function(e){if(typeof window>"u"||!Vue)return t1(e);try{return t1(e)}catch{return!1}};nk=function(t){var n=t!==null&&typeof t=="object",r=NC.call(t)==="[object Function]",i=Lue(t),a=n&&NC.call(t)==="[object String]",o=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var s=Uue&&r;if(a&&t.length>0&&!Vv.call(t,0))for(var u=0;u<t.length;++u)o.push(String(u));if(i&&t.length>0)for(var l=0;l<t.length;++l)o.push(String(l));else for(var c in t)!(s&&c==="prototype")&&Vv.call(t,c)&&o.push(String(c));if(Nue)for(var h=zue(t),f=0;f<zv.length;++f)!(h&&zv[f]==="constructor")&&Vv.call(t,zv[f])&&o.push(zv[f]);return o}}var jue=nk,Hue=Array.prototype.slice,$C=Object.keys,_p=$C?function(t){return $C(t)}:jue,VC=Object.keys;_p.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return tk(r)?VC(Hue.call(r)):VC(r)})}else Object.keys=_p;return Object.keys||_p};var uw=_p,Gue=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",lw=Object.prototype.toString,u0=function(t){return Gue&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:lw.call(t)==="[object Arguments]"},rk=function(t){return u0(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&lw.call(t)!=="[object Array]"&&lw.call(t.callee)==="[object Function]"},Yue=function(){return u0(arguments)}();u0.isLegacyArguments=rk;var zC=Yue?u0:rk,jC=function(e){return e!==e},HC=function(t,n){return t===0&&n===0?1/t===1/n:t===n?!0:!!(jC(t)&&jC(n))},Xue="Function.prototype.bind called on incompatible ",n1=Array.prototype.slice,Wue=Object.prototype.toString,Kue="[object Function]",que=function(t){var n=this;if(typeof n!="function"||Wue.call(n)!==Kue)throw new TypeError(Xue+n);for(var r=n1.call(arguments,1),i,a=function(){if(this instanceof i){var c=n.apply(this,r.concat(n1.call(arguments)));return Object(c)===c?c:this}else return n.apply(t,r.concat(n1.call(arguments)))},o=Math.max(0,n.length-r.length),s=[],u=0;u<o;u++)s.push("$"+u);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i},Zue=Function.prototype.bind||que,Que=Zue.call(Function.call,Object.prototype.hasOwnProperty),Jue=RegExp.prototype.exec,ele=Object.getOwnPropertyDescriptor,tle=function(t){try{var n=t.lastIndex;return t.lastIndex=0,Jue.call(t),!0}catch{return!1}finally{t.lastIndex=n}},nle=Object.prototype.toString,rle="[object RegExp]",ile=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",GC=function(t){if(!t||typeof t!="object")return!1;if(!ile)return nle.call(t)===rle;var n=ele(t,"lastIndex"),r=n&&Que(n,"value");return r?tle(t):!1},ale=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",ole=Object.prototype.toString,sle=Array.prototype.concat,G2=Object.defineProperty,ule=function(e){return typeof e=="function"&&ole.call(e)==="[object Function]"},lle=function(){var e={};try{G2(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch{return!1}},ik=G2&&lle(),cle=function(e,t,n,r){t in e&&(!ule(r)||!r())||(ik?G2(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},ak=function(e,t){var n=arguments.length>2?arguments[2]:{},r=uw(t);ale&&(r=sle.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)cle(e,r[i],t[r[i]],n[r[i]])};ak.supportsDescriptors=!!ik;var Y2=ak,fle=Object,hle=TypeError,X2=function(){if(this!=null&&this!==fle(this))throw new hle("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},dle=Y2.supportsDescriptors,vle=Object.getOwnPropertyDescriptor,ple=TypeError,ok=function(){if(!dle)throw new ple("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if(/a/mig.flags==="gim"){var t=vle(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof/a/.dotAll=="boolean")return t.get}return X2},gle=Y2.supportsDescriptors,mle=Object.getOwnPropertyDescriptor,yle=Object.defineProperty,ble=TypeError,YC=Object.getPrototypeOf,wle=/a/,xle=function(){if(!gle||!YC)throw new ble("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=ok(),n=YC(wle),r=mle(n,"flags");return(!r||r.get!==t)&&yle(n,"flags",{configurable:!0,enumerable:!1,get:t}),t},sk=Function.call.bind(X2);Y2(sk,{getPolyfill:ok,implementation:X2,shim:xle});var XC=sk,_le=Date.prototype.getDay,Sle=function(t){try{return _le.call(t),!0}catch{return!1}},Ele=Object.prototype.toString,Ale="[object Date]",Cle=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",WC=function(t){return typeof t!="object"||t===null?!1:Cle?Sle(t):Ele.call(t)===Ale},KC=Date.prototype.getTime;function uk(e,t,n){var r=n||{};return(r.strict?HC(e,t):e===t)?!0:!e||!t||typeof e!="object"&&typeof t!="object"?r.strict?HC(e,t):e==t:Tle(e,t,r)}function qC(e){return e==null}function ZC(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function Tle(e,t,n){var r,i;if(typeof e!=typeof t||qC(e)||qC(t)||e.prototype!==t.prototype||zC(e)!==zC(t))return!1;var a=GC(e),o=GC(t);if(a!==o)return!1;if(a||o)return e.source===t.source&&XC(e)===XC(t);if(WC(e)&&WC(t))return KC.call(e)===KC.call(t);var s=ZC(e),u=ZC(t);if(s!==u)return!1;if(s||u){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var l=uw(e),c=uw(t)}catch{return!1}if(l.length!==c.length)return!1;for(l.sort(),c.sort(),r=l.length-1;r>=0;r--)if(l[r]!=c[r])return!1;for(r=l.length-1;r>=0;r--)if(i=l[r],!uk(e[i],t[i],n))return!1;return!0}var Ple=uk;pi(function(e){var t=e.exports={},n,r;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function o(p){if(n===setTimeout)return setTimeout(p,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(p,0);try{return n(p,0)}catch{try{return n.call(null,p,0)}catch{return n.call(this,p,0)}}}function s(p){if(r===clearTimeout)return clearTimeout(p);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(p);try{return r(p)}catch{try{return r.call(null,p)}catch{return r.call(this,p)}}}var u=[],l=!1,c,h=-1;function f(){!l||!c||(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var p=o(f);l=!0;for(var y=u.length;y;){for(c=u,u=[];++h<y;)c&&c[h].run();h=-1,y=u.length}c=null,l=!1,s(p)}}t.nextTick=function(p){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];u.push(new v(p,y)),u.length===1&&!l&&o(d)};function v(p,y){this.fun=p,this.array=y}v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(p){return[]},t.binding=function(p){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(p){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}});var QC=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function Ole(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var rc;typeof self<"u"?rc=self:typeof window<"u"?rc=window:typeof QC<"u"?rc=QC:typeof module<"u"?rc=module:rc=Function("return this")();var JC=Ole(rc),r1=function(){return Math.random().toString(36).substring(7).split("").join(".")},gh={INIT:"@@redux/INIT"+r1(),REPLACE:"@@redux/REPLACE"+r1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r1()}};function Ile(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function lk(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(lk)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function h(g){if(typeof g!="function")throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var p=!0;return l(),s.push(g),function(){if(p){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");p=!1,l();var m=s.indexOf(g);s.splice(m,1),o=null}}}function f(g){if(!Ile(g))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof g.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=i(a,g)}finally{u=!1}for(var p=o=s,y=0;y<p.length;y++){var m=p[y];m()}return g}function d(g){if(typeof g!="function")throw new Error("Expected the nextReducer to be a function.");i=g,f({type:gh.REPLACE})}function v(){var g,p=h;return g={subscribe:function(m){if(typeof m!="object"||m===null)throw new TypeError("Expected the observer to be an object.");function w(){m.next&&m.next(c())}w();var b=p(w);return{unsubscribe:b}}},g[JC]=function(){return this},g}return f({type:gh.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[JC]=v,r}function Mle(e,t){var n=t&&t.type,r=n&&'action "'+String(n)+'"'||"an action";return"Given "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function Dle(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:gh.INIT});if(typeof r>"u")throw new Error('Reducer "'+t+`" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof n(void 0,{type:gh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+gh.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function Fle(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var a=Object.keys(n),o;try{Dle(n)}catch(s){o=s}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,h={},f=0;f<a.length;f++){var d=a[f],v=n[d],g=u[d],p=v(g,l);if(typeof p>"u"){var y=Mle(d,l);throw new Error(y)}h[d]=p,c=c||p!==g}return c=c||a.length!==Object.keys(u).length,c?h:u}}var Sp="0.10.0",Ble=function(){var t=function(r){return function(i){return[Math.floor(i/r),i%r]}};return{rowMajor:t}};function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){zs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ck=function(t,n){switch(jse(t)){case"object":return Ple(t,n)?n:MB(t);default:return t}},kle=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r="SET_".concat($2(t));return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r:return ck(a.payload[t],i);default:return i}}},Rle=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;n=new Set(n);var i="SET_".concat($2(t));return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case i:return n.has(o.payload[t])?ck(o.payload[t],a):a;default:return a}}},fk=function(t){var n="SET_".concat($2(t));return function(r){return{type:n,payload:zs({},t,r)}}},Ne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return[kle(t,n),fk(t)]},Lle=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return[Rle(t,n,r),fk(t)]},Nle=function(){return{type:"RESET",payload:{}}},Ule=function(t,n){return{type:"OVERWRITE",payload:{newState:t,debug:n}}},$le=function(t,n){return{type:"SOFT_OVERWRITE",payload:{newState:t,debug:n}}},Vle=Ne("arrangementType"),hk=me(Vle,2),zle=hk[0],jle=hk[1],Hle=Ne("arrangementObjective"),dk=me(Hle,2),Gle=dk[0],Yle=dk[1],Xle=Ne("arrangeOnGrouping",!1),vk=me(Xle,2),Wle=vk[0],Kle=vk[1],qle=Ne("arrangementOptions",{}),pk=me(qle,2),Zle=pk[0],Qle=pk[1],Jle=Ne("groupingType"),gk=me(Jle,2),ece=gk[0],tce=gk[1],nce=Ne("groupingObjective"),mk=me(nce,2),rce=mk[0],ice=mk[1],ace=Ne("groupingOptions",{}),yk=me(ace,2),oce=yk[0],sce=yk[1],uce=Ne("splittingType"),bk=me(uce,2),lce=bk[0],cce=bk[1],fce=Ne("splittingObjective"),wk=me(fce,2),hce=wk[0],dce=wk[1],vce=Ne("splittingOptions",{}),xk=me(vce,2),pce=xk[0],gce=xk[1],mce=Ne("backgroundColor",0),_k=me(mce,2),yce=_k[0],bce=_k[1],wce=Ne("darkMode",z2),Sk=me(wce,2),xce=Sk[0],_ce=Sk[1],Sce=Ne("dimensionalityReducer"),Ek=me(Sce,2),Ece=Ek[0],Ace=Ek[1],Cce=Ne("gridColor",7895160),Ak=me(Cce,2),Tce=Ak[0],Pce=Ak[1],Oce=Ne("gridOpacity",1),Ck=me(Oce,2),Ice=Ck[0],Mce=Ck[1],Dce=Ne("showGrid",!1),Tk=me(Dce,2),Fce=Tk[0],Bce=Tk[1],kce=Ne("popupBackgroundOpacity",zB),Pk=me(kce,2),Rce=Pk[0],Lce=Pk[1],Nce=Ne("lassoFillColor"),Ok=me(Nce,2),Uce=Ok[0],$ce=Ok[1],Vce=Ne("lassoFillOpacity",jB),Ik=me(Vce,2),zce=Ik[0],jce=Ik[1],Hce=Ne("lassoShowStartIndicator",HB),Mk=me(Hce,2),Gce=Mk[0],Yce=Mk[1],Xce=Ne("lassoStartIndicatorOpacity",GB),Dk=me(Xce,2),Wce=Dk[0],Kce=Dk[1],qce=Ne("lassoStrokeColor"),Fk=me(qce,2),Zce=Fk[0],Qce=Fk[1],Jce=Ne("lassoStrokeOpacity",YB),Bk=me(Jce,2),efe=Bk[0],tfe=Bk[1],nfe=Ne("lassoStrokeSize",XB),kk=me(nfe,2),rfe=kk[0],ife=kk[1],afe=Ne("itemRenderer"),Rk=me(afe,2),ofe=Rk[0],sfe=Rk[1],ufe=Ne("previewRenderer"),Lk=me(ufe,2),lfe=Lk[0],cfe=Lk[1],ffe=Ne("coverRenderer"),Nk=me(ffe,2),hfe=Nk[0],dfe=Nk[1],vfe=Ne("previewAggregator"),Uk=me(vfe,2),pfe=Uk[0],gfe=Uk[1],mfe=Ne("coverAggregator"),$k=me(mfe,2),yfe=$k[0],bfe=$k[1],wfe=Ne("orderer",Ble().rowMajor),Vk=me(wfe,2),xfe=Vk[0],_fe=Vk[1],Sfe=Ne("itemSize"),zk=me(Sfe,2),Efe=zk[0],Afe=zk[1],Cfe=Ne("itemSizeRange",[.5,1]),jk=me(Cfe,2),Tfe=jk[0],Pfe=jk[1],Ofe=Ne("columns",10),Hk=me(Ofe,2),Ife=Hk[0],Mfe=Hk[1],Dfe=Ne("rowHeight"),Gk=me(Dfe,2),Ffe=Gk[0],Bfe=Gk[1],kfe=Ne("cellAspectRatio",1),Yk=me(kfe,2),Rfe=Yk[0],Lfe=Yk[1],Nfe=Ne("cellPadding",12),Xk=me(Nfe,2),Ufe=Xk[0],$fe=Xk[1],Vfe=Ne("cellSize"),Wk=me(Vfe,2),zfe=Wk[0],jfe=Wk[1],Hfe=Ne("pileCoverScale",iue),Kk=me(Hfe,2),Gfe=Kk[0],Yfe=Kk[1],Xfe=Ne("pileCoverInvert",!1),qk=me(Xfe,2),Wfe=qk[0],Kfe=qk[1],qfe=Ne("pileItemBrightness",aue),Zk=me(qfe,2),Zfe=Zk[0],Qfe=Zk[1],Jfe=Ne("pileItemInvert",!1),Qk=me(Jfe,2),ehe=Qk[0],the=Qk[1],nhe=Ne("pileItemOffset",[5,5]),Jk=me(nhe,2),rhe=Jk[0],ihe=Jk[1],ahe=Ne("pileItemOpacity",1),e5=me(ahe,2),ohe=e5[0],she=e5[1],uhe=Ne("pileOrderItems"),t5=me(uhe,2),lhe=t5[0],che=t5[1],fhe=Ne("pileItemRotation",0),n5=me(fhe,2),hhe=n5[0],dhe=n5[1],vhe=Ne("pileItemTint",oue),r5=me(vhe,2),phe=r5[0],ghe=r5[1],mhe=Ne("focusedPiles",[]),i5=me(mhe,2),yhe=i5[0],bhe=i5[1],whe=Ne("magnifiedPiles",[]),a5=me(whe,2),xhe=a5[0],_he=a5[1],She=Ne("depileMethod","originalPos"),o5=me(She,2),Ehe=o5[0],Ahe=o5[1],Che=Ne("depiledPile",[]),s5=me(Che,2),The=s5[0],Phe=s5[1],Ohe=Ne("temporaryDepiledPiles",[]),u5=me(Ohe,2),Ihe=u5[0],Mhe=u5[1],Dhe=Ne("tempDepileDirection","horizontal"),l5=me(Dhe,2),Fhe=l5[0],Bhe=l5[1],khe=Ne("tempDepileOneDNum",6),c5=me(khe,2),Rhe=c5[0],Lhe=c5[1],Nhe=Ne("easing",CB),f5=me(Nhe,2),Uhe=f5[0],$he=f5[1],Vhe=Lle("navigationMode",rue,j2),h5=me(Vhe,2),zhe=h5[0],jhe=h5[1],Hhe=Ne("previewItemOffset"),d5=me(Hhe,2),Ghe=d5[0],Yhe=d5[1],Xhe=Ne("previewAlignment","top"),v5=me(Xhe,2),Whe=v5[0],Khe=v5[1],qhe=Ne("previewPadding",2),p5=me(qhe,2),Zhe=p5[0],Qhe=p5[1],Jhe=Ne("previewScaling",[1,1]),g5=me(Jhe,2),ede=g5[0],tde=g5[1],nde=Ne("previewScaleToCover",[!1,!1]),m5=me(nde,2),rde=m5[0],ide=m5[1],ade=Ne("previewSpacing",2),y5=me(ade,2),ode=y5[0],sde=y5[1],ude=Ne("previewOffset",2),b5=me(ude,2),lde=b5[0],cde=b5[1],fde=Ne("previewBackgroundColor",uue),w5=me(fde,2),hde=w5[0],dde=w5[1],vde=Ne("previewBackgroundOpacity",lue),x5=me(vde,2),pde=x5[0],gde=x5[1],mde=Ne("previewBorderColor"),_5=me(mde,2),yde=_5[0],bde=_5[1],wde=Ne("previewBorderOpacity",.85),S5=me(wde,2),xde=S5[0],_de=S5[1],Sde=Ne("pileBackgroundColor"),E5=me(Sde,2),Ede=E5[0],Ade=E5[1],Cde=Ne("pileBackgroundOpacity",0),A5=me(Cde,2),Tde=A5[0],Pde=A5[1],Ode=Ne("pileBackgroundColorHover"),C5=me(Ode,2),Ide=C5[0],Mde=C5[1],Dde=Ne("pileBackgroundOpacityHover",.85),T5=me(Dde,2),Fde=T5[0],Bde=T5[1],kde=Ne("pileBackgroundColorFocus"),P5=me(kde,2),Rde=P5[0],Lde=P5[1],Nde=Ne("pileBackgroundOpacityFocus"),O5=me(Nde,2),Ude=O5[0],$de=O5[1],Vde=Ne("pileBackgroundColorActive"),I5=me(Vde,2),zde=I5[0],jde=I5[1],Hde=Ne("pileBackgroundOpacityActive"),M5=me(Hde,2),Gde=M5[0],Yde=M5[1],Xde=Ne("pileBorderColor",8421504),D5=me(Xde,2),Wde=D5[0],Kde=D5[1],qde=Ne("pileBorderOpacity",1),F5=me(qde,2),Zde=F5[0],Qde=F5[1],Jde=Ne("pileBorderColorHover",8421504),B5=me(Jde,2),eve=B5[0],tve=B5[1],nve=Ne("pileBorderOpacityHover",1),k5=me(nve,2),rve=k5[0],ive=k5[1],ave=Ne("pileBorderColorFocus",15656034),R5=me(ave,2),ove=R5[0],sve=R5[1],uve=Ne("pileBorderOpacityFocus",1),L5=me(uve,2),lve=L5[0],cve=L5[1],fve=Ne("pileBorderColorActive",16754138),N5=me(fve,2),hve=N5[0],dve=N5[1],vve=Ne("pileBorderOpacityActive",1),U5=me(vve,2),pve=U5[0],gve=U5[1],mve=Ne("pileBorderSize",0),$5=me(mve,2),yve=$5[0],bve=$5[1],wve=Ne("pileCellAlignment","topLeft"),V5=me(wve,2),xve=V5[0],_ve=V5[1],Sve=Ne("pileContextMenuItems",[]),z5=me(Sve,2),Eve=z5[0],Ave=z5[1],Cve=Ne("pileSizeBadge",!1),j5=me(Cve,2),Tve=j5[0],Pve=j5[1],Ove=Ne("pileSizeBadgeAlign",sue),H5=me(Ove,2),Ive=H5[0],Mve=H5[1],Dve=Ne("pileVisibilityItems",!0),G5=me(Dve,2),Fve=G5[0],Bve=G5[1],kve=Ne("pileOpacity",1),Y5=me(kve,2),Rve=Y5[0],Lve=Y5[1],Nve=Ne("pileScale",1),X5=me(Nve,2),Uve=X5[0],$ve=X5[1],Vve=Ne("zoomScale",1),W5=me(Vve,2),zve=W5[0],jve=W5[1],Hve=Ne("pileLabel"),K5=me(Hve,2),Gve=K5[0],Yve=K5[1],Xve=Ne("pileLabelColor"),q5=me(Xve,2),Wve=q5[0],Kve=q5[1],qve=Ne("pileLabelText",!1),Z5=me(qve,2),Zve=Z5[0],Qve=Z5[1],Jve=Ne("pileLabelTextMapping",!1),Q5=me(Jve,2),epe=Q5[0],tpe=Q5[1],npe=Ne("pileLabelTextColor",0),J5=me(npe,2),rpe=J5[0],ipe=J5[1],ape=Ne("pileLabelTextOpacity",1),eR=me(ape,2),ope=eR[0],spe=eR[1],upe=Ne("pileLabelTextDropShadow",{}),tR=me(upe,2),lpe=tR[0],cpe=tR[1],fpe=Ne("pileLabelAlign","bottom"),nR=me(fpe,2),hpe=nR[0],dpe=nR[1],vpe=Ne("pileLabelStackAlign","horizontal"),rR=me(vpe,2),ppe=rR[0],gpe=rR[1],mpe=Ne("pileLabelFontSize",7),iR=me(mpe,2),ype=iR[0],bpe=iR[1],wpe=Ne("pileLabelHeight",2),aR=me(wpe,2),xpe=aR[0],_pe=aR[1],Spe=Ne("pileLabelSizeTransform"),oR=me(Spe,2),Epe=oR[0],Ape=oR[1],Cpe=Ne("projector"),sR=me(Cpe,2),Tpe=sR[0],Ppe=sR[1],Ope=Ne("zoomBounds",[-1/0,1/0]),uR=me(Ope,2),Ipe=uR[0],Mpe=uR[1],Dpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ITEMS":{var r=n.payload.items.length?typeof n.payload.items[0].id<"u":!1;return n.payload.items.reduce(function(i,a,o){var s=r?a.id:o;return i[s]=vr({id:s,index:o},a),i},{})}default:return t}},Fpe=function(t){return{type:"SET_ITEMS",payload:{items:t}}},Bpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_PILES":return Object.entries(n.payload.piles).reduce(function(g,p,y){var m=me(p,2),w=m[0],b=m[1];return g[w]=vr(vr({},b),{},{id:w,index:Number.isNaN(+b.index)?y:+b.index}),g},{});case"INIT_PILES":{var r=n.payload.newItems.length?typeof n.payload.newItems[0].id<"u":!1,i=n.payload.newItems.reduce(function(g,p,y){var m=p.id===void 0?y.toString():p.id;return g.add(m),g},new Set);return n.payload.newItems.reduce(function(g,p,y){var m=r?p.id:y.toString(),w=t[m],b=vr({id:m,index:y,items:[m],x:null,y:null},w);if(w){if(w.items.length)b.items=w.items.filter(function(_){return i.has(_)});else if(i.has(m)){var x=Object.values(t).filter(function(_){return _.items.includes(m)&&i.has(_.id)}).length;x||(b.items=[m])}}return g[m]=b,g},{})}case"MERGE_PILES":{var a=vr({},t),o;n.payload.targetPileId===void 0&&isNaN(n.payload.pileIds[0])?o=n.payload.pileIds[0]:o=n.payload.targetPileId!==void 0?n.payload.targetPileId:Math.min.apply([],n.payload.pileIds).toString();var s=n.payload.pileIds.filter(function(g){return g!==o}),u=me(n.payload.targetPos,2),l=u[0],c=u[1];return a[o]=vr(vr({},a[o]),{},{items:lt(a[o].items),x:l,y:c}),s.forEach(function(g){var p;(p=a[o].items).push.apply(p,lt(a[g].items)),a[g]=vr(vr({},a[g]),{},{items:[],x:null,y:null})}),a}case"MOVE_PILES":{var h=vr({},t);return n.payload.movingPiles.forEach(function(g){var p=g.id,y=g.x,m=g.y;h[p]=vr(vr({},h[p]),{},{x:y,y:m})}),h}case"SCATTER_PILES":{var f=n.payload.piles.filter(function(g){return g.items.length>1});if(!f.length)return t;var d=vr({},t);return f.forEach(function(g){g.items.forEach(function(p){d[p]=vr(vr({},d[p]),{},{items:[p],x:g.x,y:g.y})})}),d}case"SPLIT_PILES":{if(!Object.values(n.payload.piles).length)return t;var v=vr({},t);return Object.entries(n.payload.piles).filter(function(g){return g[1].length>1}).forEach(function(g){var p=me(g,2),y=p[0],m=p[1];m.forEach(function(w){v[w[0]]=vr(vr({},v[w[0]]),{},{x:v[y].x,y:v[y].y,items:lt(w)})})}),v}default:return t}},kpe=function(t){return{type:"INIT_PILES",payload:{newItems:t}}},Rpe=function(t,n,r){return{type:"MERGE_PILES",payload:{pileIds:t,targetPos:n,targetPileId:r}}},Lpe=function(t){return{type:"MOVE_PILES",payload:{movingPiles:t}}},Npe=function(t){return{type:"SCATTER_PILES",payload:{piles:t}}},Upe=function(t){return{type:"SPLIT_PILES",payload:{piles:t}}},$pe=function(t){return{type:"SET_PILES",payload:{piles:t}}},Vpe=Ne("showSpatialIndex",!1),lR=me(Vpe,2),zpe=lR[0],jpe=lR[1],Hpe=function(){var t=null,n={arrangementObjective:Gle,arrangementOptions:Zle,arrangementType:zle,arrangeOnGrouping:Wle,backgroundColor:yce,coverRenderer:hfe,cellAspectRatio:Rfe,cellPadding:Ufe,cellSize:zfe,columns:Ife,coverAggregator:yfe,depiledPile:The,depileMethod:Ehe,dimensionalityReducer:Ece,easing:Uhe,focusedPiles:yhe,gridColor:Tce,gridOpacity:Ice,groupingObjective:rce,groupingOptions:oce,groupingType:ece,darkMode:xce,popupBackgroundOpacity:Rce,itemRenderer:ofe,items:Dpe,itemSize:Efe,itemSizeRange:Tfe,lassoFillColor:Uce,lassoFillOpacity:zce,lassoShowStartIndicator:Gce,lassoStartIndicatorOpacity:Wce,lassoStrokeColor:Zce,lassoStrokeOpacity:efe,lassoStrokeSize:rfe,magnifiedPiles:xhe,navigationMode:zhe,orderer:xfe,pileBackgroundColor:Ede,pileBackgroundColorActive:zde,pileBackgroundColorFocus:Rde,pileBackgroundColorHover:Ide,pileBackgroundOpacity:Tde,pileBackgroundOpacityActive:Gde,pileBackgroundOpacityFocus:Ude,pileBackgroundOpacityHover:Fde,pileBorderColor:Wde,pileBorderColorActive:hve,pileBorderColorFocus:ove,pileBorderColorHover:eve,pileBorderOpacity:Zde,pileBorderOpacityActive:pve,pileBorderOpacityFocus:lve,pileBorderOpacityHover:rve,pileBorderSize:yve,pileCellAlignment:xve,pileContextMenuItems:Eve,pileCoverInvert:Wfe,pileCoverScale:Gfe,pileItemOffset:rhe,pileItemBrightness:Zfe,pileItemInvert:ehe,pileItemOpacity:ohe,pileOrderItems:lhe,pileItemRotation:hhe,pileItemTint:phe,pileLabel:Gve,pileLabelAlign:hpe,pileLabelColor:Wve,pileLabelFontSize:ype,pileLabelHeight:xpe,pileLabelStackAlign:ppe,pileLabelSizeTransform:Epe,pileLabelText:Zve,pileLabelTextColor:rpe,pileLabelTextMapping:epe,pileLabelTextOpacity:ope,pileLabelTextStyle:lpe,pileOpacity:Rve,piles:Bpe,pileScale:Uve,pileSizeBadge:Tve,pileSizeBadgeAlign:Ive,pileVisibilityItems:Fve,previewAggregator:pfe,previewAlignment:Whe,previewBackgroundColor:hde,previewBackgroundOpacity:pde,previewBorderColor:yde,previewBorderOpacity:xde,previewItemOffset:Ghe,previewOffset:lde,previewPadding:Zhe,previewRenderer:lfe,previewScaleToCover:rde,previewScaling:ede,previewSpacing:ode,projector:Tpe,rowHeight:Ffe,splittingObjective:hce,splittingOptions:pce,splittingType:lce,showGrid:Fce,showSpatialIndex:zpe,tempDepileDirection:Fhe,tempDepileOneDNum:Rhe,temporaryDepiledPiles:Ihe,zoomBounds:Ipe,zoomScale:zve},r=Fle(n),i=function(h){var f=Object.keys(h).reduce(function(d,v){return n[v]===void 0&&d.push('"'.concat(v,'"')),d},[]).join(", ");f&&console.warn("The following state properties are not understood and will not imported: ".concat(f))},a=function(h,f){return t=f,f.type==="RESET"?h=void 0:f.type==="OVERWRITE"?(f.payload.debug&&i(f.payload.newState),h=f.payload.newState):f.type==="SOFT_OVERWRITE"&&(f.payload.debug&&i(f.payload.newState),h=DB(h,f.payload.newState)),r(h,f)},o=lk(bae(a));o.lastAction=function(){return t},Object.defineProperty(o,"lastAction",{get:function(){return t}});var s=function(){var h=MB(o.getState());return h.version=Sp,h},u=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=f.overwriteState,v=d===void 0?!1:d,g=f.debug,p=g===void 0?!1:g;h.version!==Sp&&console.warn('The version of the imported state "'.concat(h.version,`" doesn't match the library version "`).concat(Sp,'". Use at your own risk!')),h.version&&delete h.version,v?o.dispatch(Ule(h,p)):o.dispatch($le(h,p))},l=function(){o.dispatch(Nle())};return qi(_n("reduxStore",o),Wo("lastAction",function(){return t}),Wo("state",o.getState),AC("dispatch",o.dispatch),AC("subscribe",o.subscribe))({export:s,import:u,reset:l})},At={initPiles:kpe,mergePiles:Rpe,movePiles:Lpe,scatterPiles:Npe,setPiles:$pe,setCoverRenderer:dfe,setArrangementObjective:Yle,setArrangeOnGrouping:Kle,setArrangementOptions:Qle,setArrangementType:jle,setBackgroundColor:bce,setCellAspectRatio:Lfe,setCellPadding:$fe,setCellSize:jfe,setColumns:Mfe,setCoverAggregator:bfe,setDepiledPile:Phe,setDepileMethod:Ahe,setDimensionalityReducer:Ace,setEasing:$he,setFocusedPiles:bhe,setGridColor:Pce,setGridOpacity:Mce,setGroupingObjective:ice,setGroupingOptions:sce,setGroupingType:tce,setDarkMode:_ce,setPopupBackgroundOpacity:Lce,setItemRenderer:sfe,setItems:Fpe,setItemSize:Afe,setItemSizeRange:Pfe,setLassoFillColor:$ce,setLassoFillOpacity:jce,setLassoShowStartIndicator:Yce,setLassoStartIndicatorOpacity:Kce,setLassoStrokeColor:Qce,setLassoStrokeOpacity:tfe,setLassoStrokeSize:ife,setMagnifiedPiles:_he,setNavigationMode:jhe,setOrderer:_fe,setPileBackgroundColor:Ade,setPileBackgroundColorActive:jde,setPileBackgroundColorFocus:Lde,setPileBackgroundColorHover:Mde,setPileBackgroundOpacity:Pde,setPileBackgroundOpacityActive:Yde,setPileBackgroundOpacityFocus:$de,setPileBackgroundOpacityHover:Bde,setPileBorderColor:Kde,setPileBorderColorActive:dve,setPileBorderColorFocus:sve,setPileBorderColorHover:tve,setPileBorderOpacity:Qde,setPileBorderOpacityActive:gve,setPileBorderOpacityFocus:cve,setPileBorderOpacityHover:ive,setPileBorderSize:bve,setPileCellAlignment:_ve,setPileContextMenuItems:Ave,setPileCoverInvert:Kfe,setPileCoverScale:Yfe,setPileItemOffset:ihe,setPileOrderItems:che,setPileItemBrightness:Qfe,setPileItemInvert:the,setPileItemOpacity:she,setPileItemRotation:dhe,setPileItemTint:ghe,setPileLabel:Yve,setPileLabelAlign:dpe,setPileLabelColor:Kve,setPileLabelFontSize:bpe,setPileLabelHeight:_pe,setPileLabelStackAlign:gpe,setPileLabelSizeTransform:Ape,setPileLabelText:Qve,setPileLabelTextColor:ipe,setPileLabelTextMapping:tpe,setPileLabelTextOpacity:spe,setPileLabelTextStyle:cpe,setPileVisibilityItems:Bve,setPileOpacity:Lve,setPileScale:$ve,setPileSizeBadge:Pve,setPileSizeBadgeAlign:Mve,setPreviewAggregator:gfe,setPreviewAlignment:Khe,setPreviewBackgroundColor:dde,setPreviewBackgroundOpacity:gde,setPreviewBorderColor:bde,setPreviewBorderOpacity:_de,setPreviewItemOffset:Yhe,setPreviewOffset:cde,setPreviewPadding:Qhe,setPreviewRenderer:cfe,setPreviewScaleToCover:ide,setPreviewScaling:tde,setPreviewSpacing:sde,setProjector:Ppe,setRowHeight:Bfe,setSplittingObjective:dce,setSplittingOptions:gce,setSplittingType:cce,setShowGrid:Bce,setShowSpatialIndex:jpe,setTempDepileDirection:Bhe,setTempDepileOneDNum:Lhe,setTemporaryDepiledPiles:Mhe,setZoomBounds:Mpe,setZoomScale:jve,splitPiles:Upe},Gpe=65280,Ype=.2,Xpe=0,Wpe=function(t){var n=t.background,r=t.backgroundColor,i=t.backgroundOpacity;return function(a){return Jn(a,{get backgroundColor(){return n.tint},setBackgroundColor:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r;n.tint=s},get backgroundOpacity(){return n.alpha},setBackgroundOpacity:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i;n.alpha=s},rescaleBackground:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=a.width+a.padding*s,l=a.height+a.padding*s;n.x=-u/2,n.y=-l/2,n.width=u,n.height=l}})}},Kpe=function(t){return function(n){var r=t;return Jn(n,{get padding(){return r},setPadding:function(a){r=Number.isNaN(+a)?+a:r}})}},qpe=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.anchor,i=r===void 0?[.5,.5]:r,a=n.backgroundColor,o=a===void 0?Gpe:a,s=n.backgroundOpacity,u=s===void 0?Ype:s,l=n.padding,c=l===void 0?Xpe:l,h=new yn,f=new Va(nn.WHITE),d=qB(t),v;if(d instanceof nn){var g;v=new Va(d),(g=v.anchor).set.apply(g,lt(i))}else v=d;return h.addChild(f),h.addChild(v),qi(_n("displayObject",h),_n("sprite",v),ZB(v),JB(v,d.width,d.height),ek(v,d.width,d.height),Kpe(c),Wpe({background:f,backgroundColor:o,backgroundOpacity:u}),QB(v),_o(e))({})};function Zpe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Qpe=Zpe;function Jpe(e,t){if(e==null)return{};var n=Qpe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ege=Jpe;function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){zs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.minX,i=r===void 0?0:r,a=n.minY,o=a===void 0?0:a,s=n.maxX,u=s===void 0?1:s,l=n.maxY,c=l===void 0?1:l,h=ege(n,["minX","minY","maxX","maxY"]);return qi.apply(void 0,[_n("minX",i),_n("minY",o),_n("maxX",u),_n("maxY",c),_n("width",u-i),_n("height",c-o),_n("cX",i+(u-i)/2),_n("cY",o+(c-o)/2)].concat(lt(Object.entries(nT(nT({},t),h)).map(function(f){var d=me(f,2),v=d[0],g=d[1];return _n(v,g)}))))({})}},nge=0,rge=250,Fs=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.duration,r=n===void 0?rge:n,i=t.delay,a=i===void 0?nge:i,o=t.interpolator,s=t.easing,u=s===void 0?CB:s,l=t.endValue,c=t.getter,h=t.setter,f=t.onDone,d=f===void 0?Vu:f,v,g,p,y,m=l,w=function(){v=c(),y=v!==null,y||console.warn("Invalid start value for animation: ".concat(v))},b=function(){a?setTimeout(w,a):w()},x=function(){return y?(g||(g=performance.now()),p=performance.now()-g,p>=r?(h(m),!0):(h(o(v,m,u(p/r))),!1)):!1},_=function(C){u=C},S=function(C){m=C};return{get dt(){return p},get duration(){return r},onDone:d,register:b,update:x,updateEndValue:S,setEasing:_}},ige=function(t){var n=t.name,r=t.pubSub,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.duration,o=i.delay,s=i.eps,u=s===void 0?1e-6:s;return function(l){var c=function(){return l[n]},h=function(v){l["set".concat(Jg(n))](v)},f;return Jn(l,zs({},"animate".concat(Jg(n)),function(v){var g=Math.abs(v-c());if(g<u){h(v);return}var p=a;f&&(r.publish("cancelAnimation",f),f.dt<f.duration&&(p=f.dt)),f=Fs({delay:o,duration:p,interpolator:Qg,endValue:v,getter:c,setter:h}),r.publish("startAnimation",f)}))}},age=function(t){var n=t.name,r=t.pubSub,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.initialValue,o=i.getter,s=i.setter,u=i.cloner,l=i.transformer,c=i.validator,h=i.duration,f=i.delay;return function(d){return qi(FB(n,{initialValue:a,getter:o,setter:s,cloner:u,transformer:l,validator:c}),ige({name:n,pubSub:r},{duration:h,delay:f}))(d)}},oge=function(t){return function(n){return Jn(n,{destroy:function(){return t.destroy()}})}},sge=function(){return function(t){return Jn(t,{moveTo:function(r,i){!Number.isNaN(+r)&&!Number.isNaN(+i)&&(t.displayObject.x=r,t.displayObject.y=i)}})}},uge=function(t){return function(n){return Jn(n,{pointerOverHandler:function(){t.publish("itemOver",{item:n})},pointerOutHandler:function(){t.publish("itemOut",{item:n})},disableInteractivity:function(){n.displayObject.interactive=!1,n.displayObject.buttonMode=!1,n.displayObject.off("pointerover",n.pointerOverHandler),n.displayObject.off("pointerout",n.pointerOutHandler)},enableInteractivity:function(){n.displayObject.interactive=!0,n.displayObject.buttonMode=!0,n.displayObject.on("pointerover",n.pointerOverHandler),n.displayObject.on("pointerout",n.pointerOutHandler)}})}},jv=function e(t){var n=t.image,r=t.item,i=t.pubSub,a=new yn;a.__pilingjs__item=r;var o=function(c){n=c,a.removeChildren(),a.addChild(n.displayObject)},s=function(){return function(c){return Jn(c,{replaceImage:o})}},u=function(c){return c.displayObject.addChild(c.image.displayObject),c.enableInteractivity(),c};return u(qi(_n("displayObject",a),Wo("x",function(){return a.x}),Wo("y",function(){return a.y}),_n("id",r.id),Wo("image",function(){return n}),_n("item",r),age({name:"opacity",pubSub:i},{getter:function(){return a.alpha},setter:function(c){a.alpha=c}}),oge(a),sge(),uge(i),s(),_o(e))({}))},i1=3,Ep=Symbol("Normal"),Ap=Symbol("Hover"),Cp=Symbol("Focus"),Tp=Symbol("Active"),Bs=new Map;Bs.set(Ep,"");Bs.set(Ap,"Hover");Bs.set(Cp,"Focus");Bs.set(Tp,"Active");var lge=function(t){switch(t){case"left":return 0;case"right":return 1;default:return .5}},cge=function(t){switch(t){case"top":return 0;case"bottom":return 1;default:return .5}},fge=function(t){var n=t.render,r=t.id,i=t.pubSub,a=t.store,o=t.badgeFactory,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.x,l=u===void 0?0:u,c=s.y,h=c===void 0?0:c,f=[],d=new Map,v=new Map,g=new Map,p=new Map,y=new Set,m=new yn,w=new Ra,b=new yn,x=new yn,_=new yn,S=new yn,P=new yn,C=new yn,B=new yn,T=new yn,k=tge({id:r}),D=k(),O=k(),N,R,U=!1,V=!1,z=!1,j=!1,X=!1,Q=-1,te=[0,0],he=Ep,fe=1,ce=1,ee=1,Ue=[],be,pe,Ae=function(){ye&&ye.destroy(),m.destroy(),Ue.forEach(function(ie){i.unsubscribe(ie)})},re=function(ie){var _e=xp(ie.item.image.displayObject);return N?(_e.x=P.x,_e.y=P.y):(_e.x=ie.displayObject.x,_e.y=ie.displayObject.y),_e.angle=ie.displayObject.angle,_e},Le=function(ie){var _e=ie.item;if(U&&!m.isDragging){var Fe=re(_e);if(C.addChild(Fe),P.visible=!1,Co(_e)){var ke=a.state,We=ke.previewBorderColor,Qt=ke.previewBorderOpacity,It=ke.items,Lt=f.indexOf(_e),rn=Iu(We,It[_e.id],Lt),fn=Iu(Qt,It[_e.id],Lt);_e.image.setBackgroundColor(Ze(rn)),_e.image.setBackgroundOpacity(fn),_e.image.rescaleBackground(!0),T.addChild(_e.displayObject)}n()}},Oe=function(){var ie=a.state,_e=ie.pileBackgroundColor,Fe=ie.piles,ke=ie.darkMode,We=ia(_e,Fe[r]);return We!==null?We:ke?ow:tm},Ze=function(ie){return ie!==null?ie:a.state.darkMode?tm:ow},Y=function(ie){var _e=ie.item;if(U){for(P.visible=!0;C.children.length;)C.removeChildAt(0);if(Co(_e)){var Fe=a.state,ke=Fe.previewBackgroundColor,We=Fe.previewBackgroundOpacity,Qt=Fe.pileBackgroundOpacity,It=Fe.items,Lt=Fe.piles,rn=f.indexOf(_e),fn=Oe(),ln=ke===Xc?fn:Iu(ke,It[_e.id],rn),dn=We===Xc?ia(Qt,Lt[r]):Iu(We,It[_e.id],rn);_e.image.setBackgroundColor(ln),_e.image.setBackgroundOpacity(dn),S.addChild(_e.displayObject)}n()}},I={drawCall:-1},F=0,W=function(){if(I.drawCall===F)return I;var ie=w.getBounds(),_e=b.getBounds();return I={drawCall:F,x:_e.x-ie.x,y:_e.y-ie.y,width:_e.width,height:_e.height},I},Z,ye,we=function(){if(!z){var ie=a.state,_e=ie.darkMode,Fe=ie.piles,ke=ie.pileSizeBadgeAlign,We=Yt(ke)?ke(Fe[r]):ke,Qt=me(We,2),It=Qt[0],Lt=Qt[1],rn=lge(Lt),fn=cge(It),ln=f.length,dn=ln!==Z,cn=ye;dn&&(cn=o.create(ln,{darkMode:_e}),Z!==void 0&&(m.removeChild(ye.displayObject),ye.destroy()));var Ln=function(){var Xn=W();cn.displayObject.x=Xn.x-De+(Xn.width+2*De)*rn,cn.displayObject.y=Xn.y-De+(Xn.height+2*De)*fn,dn&&m.addChild(cn.displayObject),ye=cn,Z=ln,n()};_.children.length||P.children.length?Ln():R&&R.then(Ln)}},et=!1,yt=function(ie){et=ie,et?we():ye&&(m.removeChild(ye.displayObject),ye.destroy(),Z=void 0)},De=0,Me=function(ie){De=+ie,R?(le(),R.then(function(){le()})):le()},rt=function(){switch(he){case Ap:case Cp:return De||1;case Tp:return De||2;case Ep:default:return De}},je=function(){var ie=a.state,_e=ie.pileBackgroundOpacityHover,Fe=ie.piles,ke=ia(a.state["pileBackgroundOpacity".concat(Bs.get(he)||"")],Fe[r]);return ke===null&&(ke=ia(_e,Fe[r])),ke},le=function Ke(){++F;var ie=rt(),_e=je();if(!ie&&!_e){w.clear();return}if(z){Xa.set("drawBorder",function(){Ke()});return}w.clear();var Fe=W(),ke=a.state,We=Math.ceil(ie/2),Qt=ia(ke["pileBackgroundColor".concat(Bs.get(he)||"")],ke.piles[r]);Qt===null&&(Qt=Oe()),w.beginFill(Qt,_e),w.drawRect(Fe.x-We,Fe.y-We,Fe.width+2*We,Fe.height+2*We),w.endFill();var It=ke["pileBorderColor".concat(Bs.get(he)||"")],Lt=ia(ke["pileBorderOpacity".concat(Bs.get(he)||"")],ke.piles[r]);It=Yt(It)?fc(It(ke.piles[r]))[0]:It,w.lineStyle(ie,It,Lt),w.drawRect(Fe.x-We,Fe.y-We,Fe.width+2*We,Fe.height+2*We),et&&we(),n()},ne=function(){he=Ep,le()},ge=function(){he!==Ap&&(he=Ap,le())},Be=function(){he!==Cp&&(he=Cp,le())},ze=function(){he!==Tp&&(he=Tp,le())},st=!1,Pe=function(ie){st=!0,i.publish("pileEnter",{target:a.state.piles[r],event:ie}),U?V?ze():Be():ge(),be||(be=i.subscribe("itemOver",Le),Ue.push(be)),pe||(pe=i.subscribe("itemOut",Y),Ue.push(pe))},Ot=function(ie){m.isDragging||(st=!1,i.publish("pileLeave",{target:a.state.piles[r],event:ie}),U||ne(),be&&(i.unsubscribe(be),be=void 0),pe&&(i.unsubscribe(pe),pe=void 0),C.removeChildren(),n())},Zt,gt=function(ie){ie.data.button!==2&&(m.draggingMouseOffset=[ie.data.getLocalPosition(m.parent).x-m.x,ie.data.getLocalPosition(m.parent).y-m.y],m.alpha=1,m.isDragging=!0,m.beforeDragX=m.x,m.beforeDragY=m.y,Zt=!1,i.publish("pileDragStart",{target:a.state.piles[r],event:ie}))},Je=function(ie){ie.data.button!==2&&m.isDragging&&(m.alpha=1,m.isDragging=!1,m.draggingMouseOffset=null,Zt&&i.publish("pileDragEnd",{target:a.state.piles[r],event:ie}))},ft=function(ie){if(ie.data.button!==2&&m.isDragging){Zt=!0,i.publish("pileDragMove",{target:a.state.piles[r],event:ie});var _e=ie.data.getLocalPosition(m.parent),Fe=_e.x,ke=_e.y;Fe-=m.draggingMouseOffset[0],ke-=m.draggingMouseOffset[1];var We=rt();We%2===1&&(Fe=Math.floor(Fe)+.5,ke=Math.floor(ke)+.5),X?bi.updateEndValue([Fe,ke]):(m.x=Fe,m.y=ke),V?ze():ge(),n()}},Bt=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=arguments.length>2?arguments[2]:void 0,ke,We=0,Qt=0;if(R)if(P.children.length)ke=P.getBounds(!Fe);else return O;else if(ke=_.getBounds(!Fe),f.length>1){var It=f[0].displayObject.getBounds(!Fe);We=ke.x-It.x,Qt=ke.y-It.y}return k({localXOffset:We,localYOffset:Qt,minX:ke.x-ie,minY:ke.y-_e,maxX:ke.x+ke.width-ie,maxY:ke.y+ke.height-_e})},jt=function(ie,_e,Fe){O=Bt(ie,_e,Fe)},Dn=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=arguments.length>2?arguments[2]:void 0,ke=x.getBounds(!Fe);return k({minX:ke.x-ie,minY:ke.y-_e,maxX:ke.x+ke.width-ie,maxY:ke.y+ke.height-_e})},mi=function(ie,_e,Fe){D=Dn(ie,_e,Fe)},ba=function(ie,_e,Fe){jt(ie,_e,Fe),mi(ie,_e,Fe)},Rr=function(){return m.alpha},Ga=function(ie){m.alpha=ie},yi,bl=function(ie){var _e=Math.abs(ie-Rr());if(_e<1/100){Ga(ie);return}var Fe=vh(_e)*250;yi&&(i.publish("cancelAnimation",yi),yi.dt<yi.duration&&(Fe=yi.dt)),yi=Fs({duration:Fe,delay:0,interpolator:Qg,endValue:ie,getter:Rr,setter:Ga}),i.publish("startAnimation",yi)},Ya=function(ie){_.visible=ie,S.visible=ie},Xa=new Map,wa=function(ie,_e,Fe,ke,We,Qt){var It=ie.tmpTargetScale||ie.scale.x;ie.tmpTargetScale=void 0,delete ie.tmpTargetScale;var Lt=Fs({duration:250,interpolator:ph,endValue:[_e,Fe,It,ke],getter:function(){return[ie.x,ie.y,ie.scale.x,ie.angle]},setter:function(fn){ie.x=fn[0],ie.y=fn[1],ie.scale.x=fn[2],ie.scale.y=fn[2],ie.angle=fn[3]},onDone:function(){ie.tmpTargetScale=void 0,Qt&&(z=!1,le(),A(),Xa.forEach(function(fn){fn()}),Xa.clear(),i.publish("updatePileBounds",{id:r}),K&&Te())}});We.add(Lt)},wl=function(ie){var _e=new Map;ie.forEach(function(ke,We){_e.set(ke.toString(),We)});var Fe=function(We){return function(Qt,It){var Lt=We.get(Qt),rn=We.get(It);return _e.get(Lt)-_e.get(rn)}};_.children.sort(Fe(g)),S.children.sort(Fe(p)),f.sort(function(ke,We){return _e.get(ke.id)-_e.get(We.id)})},nr=function(ie,_e){var Fe=a.state,ke=Fe.piles,We=Fe.previewScaleToCover,Qt=ke[r],It=Yt(We)?We(Qt):We,Lt=me(It,2),rn=Lt[0],fn=Lt[1],ln=function(cn){if(rn===!0){var Ln=cn.width/ie.width;ie.scale.x*=Ln,fn==="auto"&&(ie.scale.y*=Ln)}else if(fn===!0){var Cr=cn.height/ie.height;ie.scale.y*=Cr,rn==="auto"&&(ie.scale.x*=Cr)}else rn===!0&&fn===!0&&(ie.scale.x*=cn.width/ie.width,ie.scale.y*=cn.height/ie.height)};_e?ln(_e):R?R.then(ln):ln(W())},Fn=function(ie){var _e=a.state,Fe=_e.piles,ke=_e.previewAlignment,We=_e.previewItemOffset,Qt=_e.previewOffset,It=_e.previewSpacing,Lt=Fe[r];R.then(function(rn){var fn=Yt(ke)?ke(Lt):ke,ln=Yt(Qt)?Qt(Lt):Qt,dn=Yt(It)?It(Lt):It;ln=ln!==null?ln:dn/2;var cn=dn/2,Ln=rn.width/2,Cr=rn.height/2;z=S.children.length>0;var Xn=[0,0],Tn=[0,0];S.children.forEach(function(or,Nr){var Ji=or.__pilingjs__item,ou=a.state.items[Ji.id];nr(or,rn);var sr;if(Yt(We))sr=We(ou,Nr,Lt),sr[0]=sr[0]*rn.scaleFactor-Ln,sr[1]=sr[1]*rn.scaleFactor-Cr;else{switch(fn){case"left":sr=[(Nr===0)*(-Ln-ln)+Xn[0]-Tn[0]/2-or.width/2-cn,0];break;case"right":sr=[(Nr===0)*(Ln+ln)+Xn[0]+Tn[0]/2+or.width/2+cn,0];break;case"bottom":sr=[0,(Nr===0)*(Cr+ln)+Xn[1]+Tn[1]/2+or.height/2+cn];break;default:case"top":sr=[0,(Nr===0)*(-Cr-ln)+Xn[1]-Tn[1]/2-or.height/2-cn];break}Xn=lt(sr),Tn=[or.width,or.height]}Ji.preview.setBackgroundOpacity(0),wa(or,sr[0],sr[1],0,ie,Nr===S.children.length-1)})})},fs=function(ie,_e){var Fe=_e.all,ke=Fe===void 0?!1:Fe,We=a.state,Qt=We.piles,It=We.pileItemOffset,Lt=We.pileItemRotation,rn=Qt[r];if(R&&S.children.length)Fn(ie);else if(_.children.length>1)if(ke)z=!0,_.children.forEach(function(ln,dn){var cn=ln.__pilingjs__item,Ln=d.get(cn.id),Cr=a.state.items[cn.id],Xn=f.indexOf(Ln),Tn=Yt(It)?It(Cr,Xn,rn):It.map(function(Nr){return Nr*Xn}),or=Yt(Lt)?Lt(Cr,Xn,rn):Lt;wa(ln,Tn[0],Tn[1],or,ie,dn===_.children.length-1)});else if(y.size){z=!0;var fn=0;y.forEach(function(ln){fn++;var dn=ln.item,cn=ln.displayObject,Ln=fr();if(cn.tmpTargetScale=cn.scale.x,!Number.isNaN(+dn.tmpRelScale)){var Cr=dn.tmpRelScale/Ln;cn.scale.x*=Cr,cn.scale.y=cn.scale.x,delete dn.tmpRelScale}!Number.isNaN(+dn.tmpAbsX)&&!Number.isNaN(+dn.tmpAbsY)&&(ln.moveTo((ln.x+dn.tmpAbsX-m.x)/Ln,(ln.y+dn.tmpAbsY-m.y)/Ln),delete dn.tmpAbsX,delete dn.tmpAbsY);var Xn=a.state.items[dn.id],Tn=f.indexOf(ln),or=Yt(It)?It(Xn,Tn,rn):It.map(function(Ji){return Ji*Tn}),Nr=Yt(Lt)?Lt(Xn,Tn,rn):Lt;wa(cn,or[0],or[1],Nr,ie,fn===y.size)})}else K&&Te();else K&&Te();y.clear()},So=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fe;b.scale.x=ie*ce,b.scale.y=ie*ce},fr=function(){return b.scale.x/ce},Eo=function(ie){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.isMagnification,ke=Fe===void 0?!1:Fe;ke||(fe=ie),So(ie)},Fi,nu=function(ie){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.isMagnification,ke=Fe===void 0?!1:Fe,We=_e.onDone,Qt=We===void 0?Vu:We,It=xC(fr(),ie*ce,9),Lt=function(){le(),A(),It||i.publish("updatePileBounds",{id:r,forceUpdate:!0}),Qt()},rn=function(){Eo(ie,{isMagnification:ke}),Lt()};if(xC(fr(),ie*ce,3)){rn();return}ke||(fe=ie);var fn=Math.max(D.width,D.height),ln=Math.abs(ie/fr()*fn-fn);if(ln<2){rn();return}j=!0;var dn=vh(Math.min(ln,50)/50)*250;Fi&&(i.publish("cancelAnimation",Fi),Fi.dt<Fi.duration&&(dn=Fi.dt)),Fi=Fs({duration:dn,delay:0,interpolator:Qg,endValue:ie,getter:fr,setter:function(Ln){Eo(Ln,{isMagnification:ke}),le()},onDone:function(){j=!1,Xa.forEach(function(Ln){return Ln()}),Xa.clear(),Lt()}}),i.publish("startAnimation",Fi)},xl=function(ie){var _e=Math.log(Math.abs(ie)+1),Fe=-Math.sign(ie)*_e,ke=fr(),We=Math.min(Math.max(1,ke*(1+.075*Fe)),fe*i1);return ee=We/fe,Eo(We,{isMagnification:!0}),ke!==We},_l=function(){ee=i1,nu(fe*i1,{isMagnification:!0})},Sl=function(){ee=1,nu(fe,{isMagnification:!0})},bi,El=function(ie,_e){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ke=Fe.easing,We=Fe.onDone,Qt=We===void 0?Vu:We,It=Cu(ie,_e,m.x,m.y);if(It<3)return hs(ie,_e),It>aw&&i.publish("updatePileBounds",{id:r}),Qt(),null;X=!0;var Lt=vh(Math.min(It,250)/250)*250;return bi&&(i.publish("cancelAnimation",bi),bi.dt<bi.duration&&(Lt=bi.dt)),Fs({duration:Lt,delay:0,easing:ke,interpolator:ph,endValue:[ie,_e],getter:function(){return[m.x,m.y]},setter:function(fn){return hs(fn[0],fn[1])},onDone:function(){X=!1,i.publish("updatePileBounds",{id:r}),Qt()}})},sf=function(ie,_e){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ke=Fe.easing,We=Fe.onDone,Qt=We===void 0?Vu:We;return new Promise(function(It){var Lt=function(){It(a.state.piles[r]),Rn(),Qt()};Kt(),bi=El(ie,_e,{easing:ke,onDone:Lt}),bi&&i.publish("startAnimation",bi)})},Zi=function(){var ie=f[0].item.image;ie.scaleFactor!==Q&&(Q=ie.scaleFactor,te=ie.center)},hs=function(ie,_e){return m.x=Math.round(ie),m.y=Math.round(_e),Math.hypot(m.x-ie,m.y-_e)>aw},uf=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(ie!==null){var _e=Ao(ie);if(ru(_e)){var Fe=_e.item.image;_e.replaceImage(Fe)}else if(Co(_e)){var ke=_e.item.preview;ke?_e.replaceImage(ke):iu(_e.item)}}else d.forEach(function(We){We.replaceImage(We.item.image)}),v.forEach(function(We){We.item.preview?We.replaceImage(We.item.preview):iu(We.item)})},Ao=function(ie){return d.get(ie)||v.get(ie)},ru=function(ie){return d.has(ie.id)},Co=function(ie){return v.has(ie.id)},Qi=function(ie){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,ke=Fe===void 0?null:Fe;return ke===!1?ru(ie):ke===!0?Co(ie):ru(ie)||Co(ie)},iu=function(ie){if(!Qi(ie,{asPreview:!1})){var _e=Ao(ie.id),Fe=jv({image:ie.image,item:ie,pubSub:i}),ke=f.indexOf(_e);f.splice(ke,1,Fe),p.delete(v.get(ie.id).displayObject),g.set(Fe.displayObject,ie.id),v.delete(ie.id),d.set(ie.id,Fe),S.removeChildAt(S.getChildIndex(_e.displayObject)),_.addChild(Fe.displayObject)}},Al=function(ie){if(!(Qi(ie,{asPreview:!0})||!ie.preview)){var _e=Ao(ie.id),Fe=jv({image:ie.preview,item:ie,pubSub:i}),ke=f.indexOf(_e);f.splice(ke,1,Fe),g.delete(d.get(ie.id).displayObject),p.set(Fe.displayObject,ie.id),d.delete(ie.id),v.set(ie.id,Fe),_.removeChildAt(_.getChildIndex(_e.displayObject)),nr(Fe.displayObject),S.addChild(Fe.displayObject)}},ds=function(ie){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,ke=Fe===void 0?!1:Fe;ke===!0?Al(ie):iu(ie)},lf=function(ie){var _e=jv({image:ie.image,item:ie,pubSub:i}),Fe=f.push(_e);Fe>1&&y.add(_e),d.set(_e.id,_e),g.set(_e.displayObject,_e.id),_.addChild(_e.displayObject)},xa=function(ie){if(ie.preview){var _e=jv({image:ie.preview,item:ie,pubSub:i});f.push(_e),y.add(_e),v.set(_e.id,_e),p.set(_e.displayObject,_e.id),nr(_e.displayObject),S.addChild(_e.displayObject)}},hr=function(ie){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,ke=Fe===void 0?!1:Fe;if(Qi(ie)){Qi(ie,{asPreview:!ke})&&ds(ie,{asPreview:ke});return}ke?xa(ie):lf(ie),f.length===1&&Zi()},To=function(ie){var _e=Ao(ie.id),Fe=f.indexOf(_e);Fe>=0&&f.splice(Fe,1),Qi(ie,{asPreview:!1})&&(_.removeChildAt(_.getChildIndex(_e.displayObject)),g.delete(_e.displayObject)),Qi(ie,{asPreview:!0})&&(S.removeChildAt(S.getChildIndex(_e.displayObject)),p.delete(_e.displayObject)),d.delete(ie.id),v.delete(ie.id)},Cl=function(){_.removeChildren(),S.removeChildren(),f.splice(0,f.length),d.clear(),v.clear(),g.clear(),p.clear()},Po=function(ie){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,ke=Fe===void 0?!1:Fe,We=_e.shouldDrawPlaceholder,Qt=We===void 0?!1:We;Qt&&ve();var It=Mae(d,v);ie.forEach(function(Lt){Qi(Lt)?(It.delete(Lt.id),ds(Lt,{asPreview:ke})):hr(Lt,{asPreview:ke})}),It.forEach(function(Lt){To(Lt)})},Tl=function(ie){ie?(R=ie,R.then(function(_e){for(N=_e;P.children.length;)P.removeChildAt(0);P.addChild(N.displayObject),i.publish("updatePileBounds",{id:r,forceUpdate:!0}),le()})):_a()},_a=function(){if(N){for(;P.children.length;)P.removeChildAt(0);N=void 0,R=void 0}},Lr,au=[],vs=[],Wa=[],Pl=[],A=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:au,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vs,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wa,ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Pl;if(!ie.length){Lr&&(au=[],vs=[],Wa=[],Lr.clear(),Lr.removeChildren(),n());return}if(au=ie,vs=_e,Wa=Fe,Pl=ke,!(z||j)){Lr?(Lr.clear(),Lr.removeChildren()):(Lr=new Ra,m.addChild(Lr));var We=a.state,Qt=We.pileLabelHeight,It=We.pileLabelAlign,Lt=We.pileLabelFontSize,rn=We.pileLabelStackAlign,fn=We.pileLabelText,ln=We.pileLabelTextOpacity,dn=We.piles,cn=ia(It,dn[r]),Ln=ia(Lt,dn[r]),Cr=ia(rn,dn[r]),Xn=ia(Qt,dn[r]),Tn=W(),or=Yt(fn)?fn(dn[r]):fn,Nr=Tn.width/ie.length,Ji=Wa.length?Math.max(or*(Ln+1),Xn):Xn,ou=cn==="top"?Tn.y-Ji:Tn.y+Tn.height,sr=1+(ou<0)*-2;if(ie.forEach(function(Pd,Ka){var Ur,cf,ff=ou+sr,su=Ji;switch(Cr){case"vertical":Nr=Tn.width*ke[Ka],cf=-Tn.width/2,ff+=(su+1)*Ka*sr;break;case"horizontal":default:cf=Nr*Ka-Tn.width/2,su=Ji*ke[Ka],cn==="top"&&(ff+=Ji-su);break}var l0=_e[Ka];(Ur=Lr).beginFill.apply(Ur,lt(l0)),Lr.drawRect(cf,ff,Nr,su),Lr.endFill()}),or){var Td=Tn.width/Wa.length;Wa.forEach(function(Pd,Ka){var Ur=new Va(Pd);switch(Ur.y=ou+sr,Cr){case"vertical":Ur.anchor.set(0,0),Ur.x=-Tn.width/2+2,Ur.y+=(Ji+1)*Ka*sr;break;case"horizontal":default:Ur.anchor.set(.5,0),Ur.x=Td*Ka-Tn.width/2+Td/2;break}Ur.width/=2*window.devicePixelRatio,Ur.height/=2*window.devicePixelRatio,Ur.alpha=ln,Lr.addChild(Ur)})}n()}},L,K=!1,ve=function(){L||(L=new Ra,b.addChild(L));var ie=O.width/fe/ce,_e=O.height/fe/ce,Fe=ie/12,ke=a.state.darkMode?16777215:0;L.lineStyle(0).beginFill(ke,1).drawCircle(-ie/4,0,Fe).drawCircle(0,0,Fe).drawCircle(ie/4,0,Fe).endFill(),L.beginFill(ke,.1).drawRect(-ie/2,-_e/2,ie,_e).endFill(),K=!0,n()},Te=function(){L.clear(),K=!1,n()},Xe=function(ie){ce=ie,So()},Dt=!1,Kt=function(){Dt&&(f.forEach(function(ie){return ie.disableInteractivity()}),m.interactive=!1,m.buttonMode=!1,B.interactive=!1,m.off("pointerover",Pe).off("pointerout",Ot).off("pointerdown",gt).off("pointerup",Je).off("pointerupoutside",Je).off("pointermove",ft),Dt=!1)},Rn=function(){Dt||(f.forEach(function(ie){return ie.enableInteractivity()}),m.interactive=!0,m.buttonMode=!0,B.interactive=!0,m.on("pointerover",Pe).on("pointerout",Ot).on("pointerdown",gt).on("pointerup",Je).on("pointerupoutside",Je).on("pointermove",ft),Dt=!0)},Yn=function(){m.addChild(x),x.addChild(w),x.addChild(b),b.addChild(_),b.addChild(S),b.addChild(P),b.addChild(C),b.addChild(B),b.addChild(T),m.x=l,m.y=h,Rn()};return Yn(),{get anchorBox(){return O},get baseScale(){return fe},get bBox(){return D},get cover(){return N},get graphics(){return m},get contentContainer(){return b},get height(){return x.height},get isFocus(){return U},set isFocus(Ke){U=!!Ke},get isHover(){return st},get isInteractive(){return Dt},get isMagnified(){return ee>1},get isTempDepiled(){return V},set isTempDepiled(Ke){V=!!Ke},get normalItemContainer(){return _},get offset(){return[(te[0]-O.localXOffset)*fe,(te[1]-O.localYOffset)*fe]},get previewItemContainer(){return S},get items(){return[].concat(f)},get magnification(){return ee},get size(){return f.length},get tempDepileContainer(){return B},get width(){return x.width},get x(){return m.x},get y(){return m.y},id:r,animateMoveTo:sf,animateOpacity:bl,animateScale:nu,blur:ne,disableInteractivity:Kt,enableInteractivity:Rn,hover:ge,focus:Be,active:ze,addItem:hr,animatePositionItems:wa,calcBBox:Dn,destroy:Ae,drawBorder:le,drawPlaceholder:ve,drawSizeBadge:we,getMoveToTweener:El,getItemById:Ao,hasItem:Qi,magnifyByWheel:xl,magnify:_l,moveTo:hs,positionItems:fs,removeAllItems:Cl,removePlaceholder:Te,setBorderSize:Me,setItems:Po,drawLabel:A,setCover:Tl,setScale:Eo,setOpacity:Ga,setVisibilityItems:Ya,setItemOrder:wl,setZoomScale:Xe,showSizeBadge:yt,updateBounds:ba,updateOffset:Zi,replaceItemsImage:uf,unmagnify:Sl}};/**
 * @preserve
 * Fast, destructive implemetation of Liang-Barsky line clipping algorithm.
 * It clips a 2D segment by a rectangle.
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 */var cw=1e-6,rT=1,hge=0;function Hv(e,t,n){var r=n[0],i=n[1];if(Math.abs(t)<cw)return e<0;var a=e/t;if(t>0){if(a>i)return 0;a>r&&(n[0]=a)}else{if(a<r)return 0;a<i&&(n[1]=a)}return 1}function dge(e,t,n,r,i){var a=e[0],o=e[1],s=t[0],u=t[1],l=s-a,c=u-o;if(r===void 0||i===void 0?(r=e,i=t):(r[0]=e[0],r[1]=e[1],i[0]=t[0],i[1]=t[1]),Math.abs(l)<cw&&Math.abs(c)<cw&&a>=n[0]&&a<=n[2]&&o>=n[1]&&o<=n[3])return rT;var h=[0,1];if(Hv(n[0]-a,l,h)&&Hv(a-n[2],-l,h)&&Hv(n[1]-o,c,h)&&Hv(o-n[3],-c,h)){var f=h[0],d=h[1];return d<1&&(i[0]=a+d*l,i[1]=o+d*c),f>0&&(r[0]+=f*l,r[1]+=f*c),rT}return hge}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){zs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Gv=function(t){var n=t.width,r=t.height,i=t.orderer,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.cellSize,s=o===void 0?null:o,u=a.columns,l=u===void 0?10:u,c=a.rowHeight,h=c===void 0?null:c,f=a.cellAspectRatio,d=f===void 0?1:f,v=a.pileCellAlignment,g=v===void 0?"topLeft":v,p=a.cellPadding,y=p===void 0?0:p,m=l;!+s&&!+l&&(m=10);var w=n/m,b=w-y*2,x=null;+s&&(w=s+y*2,m=Math.floor(n/w),b=s),+h?d=w/h:(+d||(d=1),h=w/d),x=h-y*2;var _=w/2,S=h/2,P=PB([_,S]),C=Math.ceil(r/h),B=function(z,j){return z*m+j},T=i(m),k=function(z,j){return[Math.floor(j/h),Math.floor(z/w)]},D=function(z,j,X,Q,te){var he=z*h+y,fe=j*w+y;if(!X||!Q)return[fe,he];switch(fe+=te[0],he+=te[1],g){case"topRight":return[fe+b-X,he];case"bottomLeft":return[fe,he+x-Q];case"bottomRight":return[fe+b-X,he+x-Q];case"center":return[fe+(b-X)/2,he+(x-Q)/2];case"topLeft":default:return[fe,he]}},O=function(z,j,X,Q){return D.apply(void 0,lt(T(z)).concat([j,X,Q]))},N=function(z,j){return[z*n,j*r]},R=function(z){var j="minX",X="minY";switch(g){case"topRight":j="maxX";break;case"bottomLeft":X="maxY";break;case"bottomRight":j="maxX",X="maxY";break;case"center":j="cX",X="cY";break}return[z.anchorBox[j],z.anchorBox[X]]},U=function(z){var j=[],X=[],Q=new Map;z.forEach(function(fe){var ce=R(fe),ee=me(ce,2),Ue=ee[0],be=ee[1];Q.set(fe.id,Ql(Ql({id:fe.id},fe.anchorBox),{},{x:Ue,y:be,offset:fe.offset}))});var te=function(ce){var ee=(ce.minY+1)/h,Ue=(ce.minX+1)/w,be=(ce.maxY-1)/h,pe=(ce.maxX-1)/w,Ae,re;switch(g){case"topRight":re=Math.floor(pe);break;case"bottomLeft":Ae=Math.floor(be);break;case"bottomRight":Ae=Math.floor(be),re=Math.floor(pe);break;case"center":Ae=Math.floor(ee+(be-ee)/2),re=Math.floor(Ue+(pe-Ue)/2);break;case"topLeft":default:Ae=Math.floor(ee),re=Math.floor(Ue);break}var Le=B(Ae,re);return j[Le]||(j[Le]=new Set),j[Le].size===1&&X.push(Le),j[Le].add(ce.id),[Ae,re]};Q.forEach(function(fe){var ce=te(fe),ee=me(ce,2),Ue=ee[0],be=ee[1];Q.set(fe.id,Ql(Ql({},fe),{},{i:Ue,j:be}))});for(var he=function(){var ce=X.shift(),ee=D.apply(void 0,lt(T(ce))),Ue=[ee[0],ee[1],ee[0]+w,ee[1]+h];ee[0]+=_,ee[1]+=S;var be=new Set(j[ce]),pe=Oae,Ae=ce-m,re=Ae<0||j[Ae]&&j[Ae].size,Le=ce-1,Oe=Le<0||ce%m===0||j[Le]&&j[Le].size,Ze=ce+1,Y=Ze%m===0||j[Ze]&&j[Ze].size,I=function(we){return we},F=function(we){return we};re&&(ee[1]-=S,F=function(we){return Math.max(0,we)}),Oe&&(ee[0]-=_,I=function(we){return Math.max(0,we)}),Y&&(ee[0]+=_,I=Oe?function(){return 0}:function(ye){return Math.min(0,ye)}),Oe&&Y&&(F=function(){return re?1:-1},re&&(pe=function(we,et,yt,De){return Math.abs(et-De)})),re&&Oe&&Y&&(F=function(){return re?1:-1});var W=1/0,Z=void 0;be.forEach(function(ye){var we=Q.get(ye),et=pe(we.x,we.y,ee[0],ee[1]);et<W&&(Z=ye,W=et)}),be.forEach(function(ye){ye!==Z&&j[ce].delete(ye)}),be.forEach(function(ye){if(ye!==Z){var we=Q.get(ye),et=[we.x-Q.get(Z).x,we.y-Q.get(Z).y];et[0]+=(Math.sign(et[0])||1)*Math.random(),et[1]+=(Math.sign(et[1])||1)*Math.random(),et=Eae([I(et[0]),F(et[1])]);var yt=[we.x+P*et[0],we.y+P*et[1]],De=[].concat(yt);dge([we.x,we.y],De,Ue),De[0]+=Math.sign(et[0])*.1,De[1]+=Math.sign(et[1])*.1;var Me=De[0]-we.x,rt=De[1]-we.y;we.minX+=Me,we.minY+=rt,we.maxX+=Me,we.maxY+=rt,we.cX+=Me,we.cY+=rt,we.x+=Me,we.y+=rt;var je=te(we),le=me(je,2),ne=le[0],ge=le[1];Q.set(ye,Ql(Ql({},we),{},{i:ne,j:ge}))}})};X.length;)he();return Array.from(Q.entries(),function(fe){var ce=me(fe,2),ee=ce[0],Ue=ce[1],be=Ue.i,pe=Ue.j,Ae=D(be,pe,Q.get(ee).width,Q.get(ee).height,Q.get(ee).offset),re=me(Ae,2),Le=re[0],Oe=re[1];return{id:ee,x:Le,y:Oe}})};return{get numRows(){return C},set numRows(V){Number.isNaN(+V)||(C=V)},numColumns:m,columnWidth:w,rowHeight:h,cellWidth:b,cellHeight:x,cellAspectRatio:d,cellPadding:y,width:n,height:r,align:U,getPilePosByCellAlignment:R,ijToXy:D,ijToIdx:B,idxToIj:T,idxToXy:O,uvToXy:N,xyToIj:k}},vge=function e(t){var n=t.id,r=t.image,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.preview,o=a===void 0?null:a,s=i.originalPosition,u=s===void 0?[0,0]:s,l=function(){return function(d){return Jn(d,{destroy:function(){r&&r.destroy(),o&&o.destroy()}})}},c=function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r.destroy(),r=d,o&&(o.destroy(),o=null),o=v},h=function(){return function(d){return Jn(d,{replaceImage:c})}};return qi(_n("id",n),Wo("image",function(){return r}),Wo("preview",function(){return o}),FB("originalPosition",{initialValue:u,cloner:function(d){return lt(d)}}),l(),h(),_o(e))({})},cR=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(i,a){const o=RegExp(i,"g");return s=>{if(typeof s!="string")throw new TypeError("expected an argument of type string, but got ".concat(typeof styleObj));return s.match(o)?s.replace(o,a):s}}var r=n;t.default=r}),fR=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.snakeToKebab=t.camelToKebab=void 0;var n=r(cR);function r(o){return o&&o.__esModule?o:{default:o}}const i=(0,n.default)(/[A-Z]/,o=>"-".concat(o.toLowerCase()));t.camelToKebab=i;const a=(0,n.default)(/_/,()=>"-");t.snakeToKebab=a}),pge=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(i,a=fR.camelToKebab){if(!i||typeof i!="object"||Array.isArray(i))throw new TypeError("expected an argument of type object, but got ".concat(typeof i));return Object.keys(i).map(s=>"".concat(a(s),": ").concat(i[s],";")).join(`
`)}var r=n;t.default=r}),gge=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createParser",{enumerable:!0,get:function(){return r.default}}),t.parsers=t.default=void 0;var n=o(pge),r=o(cR),i=a(fR);t.parsers=i;function a(c){if(c&&c.__esModule)return c;var h={};if(c!=null){for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(c,f):{};d.get||d.set?Object.defineProperty(h,f,d):h[f]=c[f]}}return h.default=c,h}function o(c){return c&&c.__esModule?c:{default:c}}function s(c){for(var h=1;h<arguments.length;h++){var f=arguments[h]!=null?arguments[h]:{},d=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(f).filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable}))),d.forEach(function(v){u(c,v,f[v])})}return c}function u(c,h,f){return h in c?Object.defineProperty(c,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[h]=f,c}var l=n.default;t.default=l,e.exports=n.default,e.exports.createParser=r.default,e.exports.parsers=s({},i)}),mge=Die(gge),yge={position:"absolute",zIndex:2,display:"none"},bge={listStyle:"none",padding:0,margin:0,borderRadius:"0.25rem",backgroundColor:"white",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.25), 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 2px 6px 0 rgba(0, 0, 0, 0.075)"},wge={width:"100%",height:"1.5rem",margin:0,padding:"0.25rem 0.5rem",fontSize:"0.85rem",color:"black",border:"none",backgroundColor:"transparent",cursor:"pointer",outline:"none",whiteSpace:"nowrap"},xge={backgroundColor:"#ff7ff6"},_ge={backgroundColor:"#dd33ff"},Sge={cursor:"default",opacity:.3,backgroundColor:"transparent !important"},Ege={borderRadius:"0.25rem 0.25rem 0 0"},Age={borderRadius:"0 0 0.25rem 0.25rem"},Cge={root:yge,ul:bge,button:wge,"button:hover":xge,"button:active":_ge,"button.inactive":Sge,"li:first-child > button":Ege,"li:last-child > button":Age},Tge=`<ul id="piling-js-context-menu-list">
  <li>
    <button id="depile-button">Depile</button>
  </li>
  <li>
    <button id="temp-depile-button">Temp. Depile</button>
  </li>
  <li>
    <button id="browse-separately">Browse Separately</button>
  </li>
  <li>
    <button id="grid-button">Show Grid</button>
  </li>
  <li>
    <button id="align-button">Align by Grid</button>
  </li>
  <li>
    <button id="magnify-button">Magnify</button>
  </li>
</ul>`,Pge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.template,r=n===void 0?Tge:n,i=t.styles,a=i===void 0?Cge:i,o=t.customItems,s=o===void 0?[]:o,u=document.createElement("nav");u.id="piling-js-context-menu";var l=document.createElement("style");l.setAttribute("type","text/css");var c="";Object.entries(a).forEach(function(f){var d=me(f,2),v=d[0],g=d[1],p=v==="root"?"":" ".concat(v);c+="#piling-js-context-menu".concat(p," { ").concat(mge(g),` }
`)}),l.textContent=c,u.appendChild(l),u.insertAdjacentHTML("beforeend",r);var h=u.querySelector("#piling-js-context-menu-list");return s.forEach(function(f,d){var v=document.createElement("li"),g=document.createElement("button");g.textContent=f.label,f.id?g.id=f.id:g.id="piling-js-context-menu-custom-item-".concat(d),v.appendChild(g),h.appendChild(v)}),u},Oge=function(){return IB(`<svg class="pilingjs-spinner" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" width="40" height="40">
  <circle
    class="pilingjs-spinner-circle"
    cx="20"
    cy="20"
    r="18"
    stroke-width="4"
    fill="none"
    stroke="black" />
  <g class="pilingjs-spinner-block-offset" transform="translate(20, 20)">
    <g class="pilingjs-spinner-blocks">
      <animateTransform
        attributeName="transform"
        attributeType="XML"
        dur="1.5s"
        from="0"
        repeatCount="indefinite"
        to="360"z
        type="rotate" />
      <path
        class="pilingjs-spinner-block-one"
        d="M0-20c1.104,0,2,0.896,2,2s-0.896,2-2,2V0l-4,21h25v-42H0V-20z"
        fill="white">
        <animateTransform
          attributeName="transform"
          attributeType="XML"
          calcMode="spline"
          dur="1.5s"
          from="0"
          values="0; 360"
          keyTimes="0; 1"
          keySplines="0.2 0.2 0.15 1"
          repeatCount="indefinite"
          to="360"
          type="rotate" />
      </path>
      <path
        class="pilingjs-spinner-block-two"
        d="M0-20c-1.104,0-2,0.896-2,2s0.896,2,2,2V0l4,21h-25v-42H0V-20z"
        fill="white">
        <animateTransform
          attributeName="transform"
          attributeType="XML"
          calcMode="spline"
          dur="1.5s"
          from="0"
          values="0; 360"
          keyTimes="0; 1"
          keySplines="0.1 0.15 0.8 0.8"
          repeatCount="indefinite"
          to="360"
          type="rotate" />
      </path>
    </g>
  </g>
</svg>
`)},Ige=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=Oge(),r=function(){var o=t?"white":"black",s=t?"black":"white";n.querySelector(".pilingjs-spinner-circle").setAttribute("stroke",o),n.querySelector(".pilingjs-spinner-block-one").setAttribute("fill",s),n.querySelector(".pilingjs-spinner-block-two").setAttribute("fill",s)},i=function(o){var s=o.darkMode,u=s===void 0?null:s;t=Ci(u,t),r()};return r(),qi(_n("element",n),_o(e))({set:i})},aT=vue(),Mge=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.backgroundOpacity,r=n===void 0?zB:n,i=t.isDarkMode,a=i===void 0?z2:i,o=r,s=a,u=function(){return s?"black":"white"},l=function(){return s?"white":"black"},c=function(){return s?"rgba(0, 0, 0, ".concat(o,")"):"rgba(255, 255, 255, ".concat(o,")")},h=document.createElement("div");h.className="pilingjs-popup-background",h.style.position="absolute",h.style.top=0,h.style.left=0,h.style.zIndex=-1,h.style.display="flex",h.style.flexDirection="column",h.style.justifyContent="center",h.style.width="100%",h.style.height="0px",h.style.background=c(),h.style.opacity=0,h.style.transition="opacity 250ms ".concat(OC);var f=document.createElement("div");h.className="pilingjs-popup-wrapper",f.style.position="relative",f.style.display="flex",f.style.margin="2rem",f.style.maxHeight="100%",h.appendChild(f);var d=document.createElement("div");h.className="pilingjs-popup-window",d.style.position="relative",d.style.minwidth="4rem",d.style.maxWidth="100%",d.style.maxHeight="100%",d.style.margin="2rem auto",d.style.color=u(),d.style.borderRadius="0.5rem",d.style.background=l(),d.style.transform="scale(0)",d.style.transition="transform 250ms ".concat(OC),f.appendChild(d);var v=document.createElement("div");h.className="pilingjs-popup-content",v.style.position="relative",v.style.display="flex",v.style.flexDirection="column",v.style.alignItems="center",v.style.padding="1rem",v.style.maxHeight="calc(100vh - 4rem)",v.style.overflow="auto",d.appendChild(v);var g=document.createElement("div");h.className="pilingjs-popup-icon",v.appendChild(g);var p=Ige(!s);g.appendChild(p.element);var y=document.createElement("p");y.style.margin="0",v.appendChild(y);var m=!1,w=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=P.text,B=C===void 0?null:C,T=P.showSpinner,k=T===void 0?!0:T;return new Promise(function(D){h.addEventListener(aT,D,{once:!0}),m=!0,h.style.zIndex=99,h.style.height="100%",h.style.opacity=1,d.style.transform="scale(1)",g.style.display=k?"block":"none",g.style.margin=B?"0 0 0.5rem 0":"0",y.textContent=B})},b=function(){return new Promise(function(P){m=!1,h.addEventListener(aT,On(Ct.mark(function C(){return Ct.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return h.style.zIndex=-1,h.style.height="0px",y.textContent=null,T.next=5,cc();case 5:P();case 6:case"end":return T.stop()}},C)})),{once:!0}),h.style.opacity=0,d.style.transform="scale(0)"})},x=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=P.backgroundOpacity,B=C===void 0?null:C,T=P.darkMode,k=T===void 0?null:T;o=Ci(B,o),s=Ci(k,s),d.style.color=u(),d.style.background=l(),h.style.background=c(),p.set({darkMode:!s})},_=function(){return function(P){return Jn(P,{close:b,open:w,set:x})}};return qi(Wo("isOpen",function(){return m}),_n("element",h),_(),_o(e))({})},hR=document.createElement("style");document.head.appendChild(hR);var fw=hR.sheet,oT=function(t){var n=fw.length;return fw.insertRule(t,n),n},sT=function(t){fw.deleteRule(t)},Dge="".concat(tue,"ms ease scaleInFadeOut 0s 1 normal backwards"),Fge=function(t,n){return`
@keyframes scaleInFadeOut {
  0% {
    opacity: `.concat(t,`;
    transform: translate(-50%,-50%) scale(`).concat(n,`);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9);
  }
}
`)},a1=null,Bge="".concat(nue,"ms ease fadeScaleOut 0s 1 normal backwards"),kge=function(t,n){return`
@keyframes fadeScaleOut {
  0% {
    opacity: `.concat(t,`;
    transform: translate(-50%,-50%) scale(`).concat(n,`);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0);
  }
}
`)},o1=null,Rge=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.fillColor,r=n===void 0?null:n,i=t.fillOpacity,a=i===void 0?jB:i,o=t.isShowStartIndicator,s=o===void 0?HB:o,u=t.isDarkMode,l=u===void 0?z2:u,c=t.onDraw,h=c===void 0?gr:c,f=t.onStart,d=f===void 0?gr:f,v=t.startIndicatorOpacity,g=v===void 0?GB:v,p=t.strokeColor,y=p===void 0?null:p,m=t.strokeOpacity,w=m===void 0?YB:m,b=t.strokeSize,x=b===void 0?XB:b,_=r,S=a,P=s,C=l,B=g,T=y,k=w,D=x,O=h,N=d,R=new yn,U=new yn,V=new Ra,z=new Ra;R.addChild(V),U.addChild(z);var j=function(){return _||C?16777215:0},X=function(){return _||C?16777215:0},Q=function(){return C?"rgba(255, 255, 255, ".concat(B,")"):"rgba(0, 0, 0, ".concat(B,")")},te=document.createElement("div");te.id="lasso-start-indicator",te.style.position="absolute",te.style.zIndex=1,te.style.width="4rem",te.style.height="4rem",te.style.borderRadius="4rem",te.style.opacity=.5,te.style.transform="translate(-50%,-50%) scale(0)";var he=!1,fe=!1,ce=[],ee=[],Ue,be=function(){he=!1},pe=function(Me){var rt=Me.target.parentElement;if(rt){var je=rt.getBoundingClientRect();Ze([Me.clientX-je.left,Me.clientY-je.top])}},Ae=function(){he=!0,fe=!0,Z(),N()},re=function(){Y()};window.addEventListener("mouseup",be);var Le=function(){te.style.opacity=.5,te.style.transform="translate(-50%,-50%) scale(0)"},Oe=function(){var Me=getComputedStyle(te),rt=+Me.opacity,je=Me.transform.match(/([0-9.-]+)+/g),le=je?+je[0]:1;return{opacity:rt,scale:le}},Ze=function(){var De=On(Ct.mark(function Me(rt){var je,le,ne,ge,Be,ze;return Ct.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return je=me(rt,2),le=je[0],ne=je[1],Pe.next=3,kae(0);case 3:if(!he){Pe.next=5;break}return Pe.abrupt("return");case 5:return ge=.5,Be=0,P&&(ze=Oe(),ge=ze.opacity,Be=ze.scale,te.style.opacity=ge,te.style.transform="translate(-50%,-50%) scale(".concat(Be,")")),te.style.animation="none",Pe.next=11,cc(2);case 11:return te.style.top="".concat(ne,"px"),te.style.left="".concat(le,"px"),a1!==null&&sT(a1),a1=oT(Fge(ge,Be)),te.style.animation=Dge,Pe.next=18,cc();case 18:Le();case 19:case"end":return Pe.stop()}},Me)}));return function(rt){return De.apply(this,arguments)}}(),Y=function(){var De=On(Ct.mark(function Me(){var rt,je,le;return Ct.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return rt=Oe(),je=rt.opacity,le=rt.scale,te.style.opacity=je,te.style.transform="translate(-50%,-50%) scale(".concat(le,")"),te.style.animation="none",ge.next=6,cc(2);case 6:return o1!==null&&sT(o1),o1=oT(kge(je,le)),te.style.animation=Bge,ge.next=11,cc();case 11:Le();case 12:case"end":return ge.stop()}},Me)}));return function(){return De.apply(this,arguments)}}(),I=function(){V.clear(),z.clear(),ce.length&&(V.lineStyle(D,X(),k),V.moveTo.apply(V,lt(ce[0])),ce.forEach(function(Me){V.lineTo.apply(V,lt(Me)),V.moveTo.apply(V,lt(Me))}),z.beginFill(j(),S),z.drawPolygon(ee)),O()},F=function(Me){if(!Ue)fe||(fe=!0,N()),ce=[Me],ee=[Me[0],Me[1]],Ue=Me;else{var rt=Cu(Me[0],Me[1],Ue[0],Ue[1]);rt>eue&&(ce.push(Me),ee.push(Me[0],Me[1]),Ue=Me,ce.length>1&&I())}},W=kB(F,MC,MC),Z=function(){ce=[],ee=[],Ue=void 0,I()},ye=function(){fe=!1;var Me=lt(ce);return W.cancel(),Z(),Me},we=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=Me.fillColor,je=rt===void 0?null:rt,le=Me.fillOpacity,ne=le===void 0?null:le,ge=Me.onDraw,Be=ge===void 0?null:ge,ze=Me.onStart,st=ze===void 0?null:ze,Pe=Me.showStartIndicator,Ot=Pe===void 0?null:Pe,Zt=Me.startIndicatorOpacity,gt=Zt===void 0?null:Zt,Je=Me.strokeColor,ft=Je===void 0?null:Je,Bt=Me.strokeOpacity,jt=Bt===void 0?null:Bt,Dn=Me.strokeSize,mi=Dn===void 0?null:Dn,ba=Me.darkMode,Rr=ba===void 0?null:ba;_=Ci(je,_),S=Ci(ne,S),O=Ci(Be,O),N=Ci(st,N),C=Ci(Rr,C),P=Ci(Ot,P),B=Ci(gt,B),T=Ci(ft,T),k=Ci(jt,k),D=Ci(mi,D),te.style.background=Q(),P?(te.addEventListener("click",pe),te.addEventListener("mousedown",Ae),te.addEventListener("mouseleave",re)):(te.removeEventListener("mousedown",Ae),te.removeEventListener("mouseleave",re))},et=function(){window.removeEventListener("mouseup",be),te.removeEventListener("click",pe),te.removeEventListener("mousedown",Ae),te.removeEventListener("mouseleave",re)},yt=function(){return function(Me){return Jn(Me,{clear:Z,destroy:et,end:ye,extend:F,extendDb:W,set:we,showStartIndicator:Ze})}};return we({fillColor:_,fillOpacity:S,isShowStartIndicator:P,isDarkMode:C,onDraw:O,onStart:N,startIndicatorOpacity:B,strokeColor:T,strokeOpacity:k,strokeSize:D}),qi(_n("startIndicator",te),_n("fillContainer",U),_n("lineContainer",R),yt(),_o(e))({})};function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){zs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lge(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=Nge(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function Nge(e,t){if(e){if(typeof e=="string")return lT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(e,t)}}function lT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uge=3,cT=Iae(2),$ge=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=document.createElement("div");r.className="pilingjs-scroll-container";var i=document.createElement("div");i.className="pilingjs-scroll-element";var a=document.createElement("canvas");a.className="pilingjs-canvas";var o=cae(),s=Hpe(),u=Mue(),l=s.state,c=tm,h,f,d,v,g,p=!1,y=new Float32Array(16),m=new Map,w=t.getBoundingClientRect(),b=w.width,x=w.height,_=!1,S=new ja({width:b,height:x,view:a,antialias:!0,transparent:!0,resolution:window.devicePixelRatio,autoDensity:!0,preserveDrawingBuffer:!1,legacy:!1,powerPreference:"high-performance"}),P=!0,C=null,B=!1,T=Promise.resolve(),k=new yn,D=new yn;k.addChild(D);var O=new Ra,N=new Ra,R=new Va(nn.WHITE);k.addChild(R),D.mask=R;var U=function(E,M){return function($){if(Yt($))return[At[E]($)];var H=fc($,null),q=me(H,2),J=q[0],oe=q[1],de=[At[E](J)];return oe!==null&&de.push(At[M](oe)),de}},V={center:{get:function(){return g.target},set:function(E){g.lookAt(E,g.scaling,g.rotation)},noAction:!0},gridColor:{set:U("setGridColor","setGridOpacity")},items:{get:function(){return Object.values(l.items)},set:function(E){return[At.setItems(E),At.initPiles(E)]},batchActions:!0},lassoFillColor:{set:U("setLassoFillColor","setLassoFillOpacity")},lassoStrokeColor:{set:U("setLassoStrokeColor","setLassoStrokeOpacity")},layout:{get:function(){return{cellAspectRatio:Pe.cellAspectRatio,cellHeight:Pe.cellHeight,cellPadding:Pe.cellPadding,cellSize:Pe.cellSize,cellWidth:Pe.cellWidth,columnWidth:Pe.columnWidth,height:Pe.height,itemSize:Pe.itemSize,numColumns:Pe.numColumns,numRows:Pe.numRows,rowHeight:Pe.rowHeight,width:Pe.width}}},pileBorderColor:{set:U("setPileBorderColor","setPileBorderOpacity")},pileBorderColorHover:{set:U("setPileBorderColorHover","setPileBorderOpacityHover")},pileBorderColorFocus:{set:U("setPileBorderColorFocus","setPileBorderOpacityFocus")},pileBorderColorActive:{set:U("setPileBorderColorActive","setPileBorderOpacityActive")},pileBackgroundColor:{set:U("setPileBackgroundColor","setPileBackgroundOpacity")},pileBackgroundColorHover:{set:U("setPileBackgroundColorHover","setPileBackgroundOpacityHover")},pileBackgroundColorFocus:{set:U("setPileBackgroundColorFocus","setPileBackgroundOpacityFocus")},pileBackgroundColorActive:{set:U("setPileBackgroundColorActive","setPileBackgroundOpacityActive")},pileLabel:{set:function(E){var M=XR(E),$=[At.setPileLabel(M)];return $}},pileLabelSizeTransform:{set:function(E){var M=WR(E),$=[At.setPileLabelSizeTransform(M)];return $}},pileLabelTextColor:{set:U("setPileLabelTextColor","setPileLabelTextOpacity")},pileSizeBadgeAlign:{set:function(E){return[At.setPileSizeBadgeAlign(Yt(E)?E:fue(E))]}},previewBackgroundColor:{set:U("setPreviewBackgroundColor","setPreviewBackgroundOpacity")},previewBorderColor:{set:U("setPreviewBorderColor","setPreviewBorderOpacity")},renderer:{get:function(){return l.itemRenderer},set:function(E){return[At.setItemRenderer(E)]}},rowHeight:!0,scale:{get:function(){return g.scaling},set:function(E){g.scale(E,[S.width/2,S.height/2])},noAction:!0}},z=function(E){if(V[E]&&V[E].get)return V[E].get();if(l[E]!==void 0)return l[E];console.warn('Unknown property "'.concat(E,'"'))},j=function(E,M){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,H=V[E],q=[];if(H?H.set?q=H.set(M):console.warn('Property "'.concat(E,'" is not settable')):l[E]!==void 0?q=[At["set".concat(Jg(E))](M)]:console.warn('Unknown property "'.concat(E,'"')),$||H&&H.noAction)return q;H&&H.batchActions?s.dispatch(ys(q)):q.forEach(function(J){return s.dispatch(J)})},X=function(E){return E.items?new Promise(function(M){o.subscribe("itemUpdate",M,1)}):Promise.resolve()},Q=function(E,M){if(typeof E=="string"||E instanceof String){var $=X(zs({},E,M));return j(E,M),$}var H=X(E);return s.dispatch(ys(Object.entries(E).flatMap(function(q){var J=me(q,2),oe=J[0],de=J[1];return j(oe,de,!0)}))),H},te=function(){S.render(k),o.publish("render")},he=yB(te),fe=zse(te,o),ce=new Map,ee=new Map,Ue=new yn,be=new yn,pe=new Va(nn.WHITE);pe.alpha=0;var Ae=function(){Ue.children.length&&(be.addChild(Ue.getChildAt(0)),Ue.removeChildren())},re=function(E){Ae(),Ue.addChild(E)},Le=Mge(),Oe=!1,Ze=function(){Oe&&(D.interactive=!1,D.interactiveChildren=!1,ee.forEach(function(E){E.disableInteractivity()}),Oe=!1)},Y=function(){Oe||(D.interactive=!0,D.interactiveChildren=!0,ee.forEach(function(E){E.enableInteractivity()}),Oe=!0)},I=!1,F=!1,W=Rge({onStart:function(){Ze(),F=!0,I=!0},onDraw:function(){he()}});D.addChild(O),D.addChild(N),D.addChild(W.fillContainer),D.addChild(be),D.addChild(pe),D.addChild(Ue),D.addChild(W.lineContainer);var Z=new gC,ye=function(E,M){if(s.state.showSpatialIndex&&(N.clear(),N.beginFill(65280,.5),Z.all().forEach(function(H){N.drawRect(H.minX,H.minY,H.width,H.height)}),N.endFill(),E&&(N.beginFill(16711680,1),N.drawRect(E[0]-1,E[1]-1,3,3),N.endFill()),M)){N.lineStyle(1,16711680,1),N.moveTo(M[0],M[1]);for(var $=0;$<M.length;$+=2)N.lineTo(M[$],M[$+1]),N.moveTo(M[$],M[$+1])}},we=function(){Z.clear();var E=[];ee&&(ee.forEach(function(M){M.updateBounds.apply(M,lt(yt()).concat([!0])),E.push(M.bBox)}),Z.load(E),ye())},et=function(E){var M=ee.get(E);Z.remove(M.bBox,function($,H){return $.id===H.id}),ye()},yt=function(){return C?g.translation:[0,D.y]},De=function(E){var M;return(M=ee.get(E)).calcBBox.apply(M,lt(yt()))},Me=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=M.forceUpdate,H=$===void 0?!1:$,q=ee.get(E);Z.remove(q.bBox,function(J,oe){return J.id===oe.id}),q.updateBounds.apply(q,lt(yt()).concat([H])),Z.insert(q.bBox),ye(),o.publish("pileBoundsUpdate",E)},rt=function(E){var M=E.id,$=E.forceUpdate;return Me(M,{forceUpdate:$})},je=function(){m.forEach(function(E,M){fs(ee.get(M),E[0],E[1])}),he()},le=function(){var E=s.state.zoomScale,M=Yt(E)?E(g.scaling):E;ee.forEach(function($){$.setZoomScale(M),$.drawBorder()}),he()},ne=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;g.tick(),je(),le(),B=!0,E&&lf(),o.publish("zoom",g)},ge=1,Be=function(){if(g){var E=s.state,M=E.groupingType,$=E.groupingObjective,H=E.groupingOptions,q=E.splittingType,J=E.splittingObjective,oe=E.splittingOptions,de=g.scaling,ue=de/ge;M&&ue<1&&Ur(M,$,H),q&&ue>1&&W2(q,J,oe),ge=de}},ze=Ky(Be,250),st=function(){B&&(B=!1,g.tick(),je(),o.publish("zoom",g))},Pe,Ot=function(){var E=a.getBoundingClientRect().height,M=Math.round(Pe.rowHeight)*(Pe.numRows+Uge);i.style.height="".concat(Math.max(0,M-E),"px"),s.state.showGrid&&Bt()},Zt=function(){return C===!1?!1:(ft(),C=!1,f=gr,d=gr,v=gr,D.y=0,r.style.overflowY="auto",r.scrollTop=0,r.addEventListener("scroll",y0,Si),window.addEventListener("mousedown",Fd,Si),window.addEventListener("mouseup",Bd,Si),window.addEventListener("mousemove",kd,Si),a.addEventListener("wheel",Ld,IC),!0)},gt=function(){C===!1&&(D.y=0,r.style.overflowY="hidden",r.scrollTop=0,r.removeEventListener("scroll",y0),window.removeEventListener("mousedown",Fd),window.removeEventListener("mouseup",Bd),window.removeEventListener("mousemove",kd),a.removeEventListener("wheel",Ld))},Je=function(){return C===!0?!1:(gt(),C=!0,f=Qi,d=iu,v=Al,g=uae(a,{isNdc:!1,onMouseDown:Fd,onMouseUp:Bd,onMouseMove:kd,onWheel:Ld,viewCenter:[b/2,x/2],scaleBounds:s.state.zoomBounds.map(pue)}),g.setView(Jie(Zse)),!0)},ft=function(){C===!0&&(g.dispose(),g=void 0)},Bt=function(){var E=i.getBoundingClientRect().height+a.getBoundingClientRect().height,M=a.getBoundingClientRect(),$=M.width,H=Math.ceil($/Pe.columnWidth),q=Math.ceil(E/Pe.rowHeight),J=s.state,oe=J.gridColor,de=J.gridOpacity;O.clear(),O.lineStyle(1,oe,de);for(var ue=1;ue<H;ue++)O.moveTo(ue*Pe.columnWidth,0),O.lineTo(ue*Pe.columnWidth,E);for(var Ie=1;Ie<q;Ie++)O.moveTo(0,Ie*Pe.rowHeight),O.lineTo($,Ie*Pe.rowHeight)},jt=function(){O.clear()},Dn=function(){var E=s.state.orderer;Pe=Gv({width:b,height:x,orderer:E},s.state),Ot()},mi=function(){var E=s.state.orderer,M=Pe;Pe=Gv({width:b,height:x,orderer:E},s.state),Fi(M),Ot(),s.state.showGrid&&Bt()},ba=function(E){var M=E.width,$=E.height;o.subscribe("animationEnd",function(){(Pe.width!==M||Pe.height!==$)&&(Pe=Gv({width:M,height:$,orderer:s.state.orderer},s.state),mi())},1)},Rr=Bue({element:a,pubSub:o,store:s},{onLeave:ba}),Ga=function(){var se=On(Ct.mark(function E(M){return Ct.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,Le.open(M);case 2:C?g.config({isFixed:!0}):r.style.overflowY="hidden";case 3:case"end":return H.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),yi=function(){Le.close(),C?g.config({isFixed:!1}):r.style.overflowY="auto"},bl=function(){var E=s.state,M=E.darkMode,$=E.haltBackgroundOpacity;Le.set({backgroundOpacity:$,darkMode:M})},Ya=function(){var E=s.state.darkMode;Rr.set({darkMode:E})},Xa=function(){var E=s.state,M=E.darkMode,$=E.lassoFillColor,H=E.lassoFillOpacity,q=E.lassoShowStartIndicator,J=E.lassoStartIndicatorOpacity,oe=E.lassoStrokeColor,de=E.lassoStrokeOpacity,ue=E.lassoStrokeSize;W.set({fillColor:$,fillOpacity:H,showStartIndicator:q,startIndicatorOpacity:J,strokeColor:oe,strokeOpacity:de,strokeSize:ue,darkMode:M})},wa=Zl(),wl=Zl(),nr=function(E){return E.aspectRatio>Pe.cellAspectRatio?wa(E.originalWidth)/E.originalWidth:wl(E.originalHeight)/E.originalHeight},Fn=function(){if(ce.size){var E=1/0,M=0,$=1/0,H=0;ce.forEach(function(Ce){var Ve=Ce.image.originalWidth,He=Ce.image.originalHeight;Ve>M&&(M=Ve),Ve<E&&(E=Ve),He>H&&(H=He),He<$&&($=He)});var q=s.state,J=q.itemSizeRange,oe=q.itemSize,de=q.piles,ue=q.previewScaling,Ie=oe||Pe.cellWidth,Ee=oe||Pe.cellHeight,xe,Se;J[0]>0&&J[0]<=1&&J[1]>0&&J[1]<=1?(xe=[Ie*J[0],Ie*J[1]],Se=[Ee*J[0],Ee*J[1]]):(xe=[0,Ie],Se=[0,Ee]),wa=Zl().domain([E,M]).range(xe),wl=Zl().domain([$,H]).range(Se),Object.values(de).forEach(function(Ce){var Ve=Yt(ue)?ue(Ce):ue;Ce.items.forEach(function(He){var qe=ce.get(He);if(qe){var $e=nr(qe.image);if(qe.image.scale($e),qe.preview){var mt=1+($e*Ve[0]-1),Vt=1+($e*Ve[1]-1);qe.preview.scaleX(mt),qe.preview.scaleY(Vt),qe.preview.rescaleBackground()}}})}),ee.forEach(function(Ce){if(Ce.cover){var Ve=nr(Ce.cover);Ce.cover.scale(Ve)}Ce.updateOffset(),Ce.drawBorder()})}},fs=function(E,M,$){return E.moveTo.apply(E,lt(f([M,$])))},So=function(E,M,$){fs(E,M,$)&&Me(E.id)},fr=function(E,M,$,H){return E.getMoveToTweener.apply(E,lt(f([M,$])).concat([H]))},Eo=function(E,M,$,H){return E.animateMoveTo.apply(E,lt(f([M,$])).concat([H]))},Fi=function(E){var M=s.state,$=M.arrangementType,H=M.items;if(Fn(),$===null&&!C){var q=[];Pe.numRows=Math.ceil(ce.size/Pe.numColumns),ee.forEach(function(J){var oe=E.getPilePosByCellAlignment(J),de=E.xyToIj(oe[0],oe[1]),ue=me(de,2),Ie=ue[0],Ee=ue[1];J.updateOffset(),Me(J.id,{forceUpdate:!0});var xe=E.ijToIdx(Ie,Ee),Se=Pe.idxToXy(xe,J.anchorBox.width,J.anchorBox.height,J.offset),Ce=me(Se,2),Ve=Ce[0],He=Ce[1];q.push({id:J.id,x:Ve,y:He})}),ee.forEach(function(J){J.cover&&xa(J.id)}),s.dispatch(At.movePiles(q)),ce.forEach(function(J){J.setOriginalPosition(Pe.idxToXy(H[J.id].index,J.image.width,J.image.height,J.image.center))})}else ds();we(),s.state.focusedPiles.filter(function(J){return ee.has(J)}).forEach(function(J){ee.get(J).focus()}),Ot(),he()},nu=function(E){var M=ia(s.state.pileBackgroundColor,E);return M!==null?M:c},xl=function(E){var M=s.state,$=M.itemRenderer,H=M.previewBackgroundColor,q=M.previewBackgroundOpacity,J=M.pileBackgroundOpacity,oe=M.previewAggregator,de=M.previewRenderer,ue=M.previewPadding,Ie=M.piles,Ee=Object.values(E),xe=$(Ee.map(function(qe){var $e=qe.src;return $e})).then(function(qe){return qe.map(sw)}),Se=function($e,mt){if($e===null)return null;var Vt=Ee[mt],it=Ie[Vt.id],An=nu(it),Re={backgroundColor:H===Xc?An:Iu(H,Vt),backgroundOpacity:q===Xc?ia(J,it):Iu(q,Vt),padding:Iu(ue,Vt)};return qpe($e,Re)},Ce=function(){var qe=On(Ct.mark(function $e(mt){return Ct.wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return it.abrupt("return",mt.map(function(An){return An.src}));case 1:case"end":return it.stop()}},$e)}));return function(mt){return qe.apply(this,arguments)}}(),Ve=de?oe||Ce:null,He=Ve?Promise.resolve(Ve(Ee)).then(function(qe){return new Promise(function($e){var mt=[];de(qe.filter(function(Vt){return Vt!==null})).then(function(Vt){var it=0;qe.forEach(function(An){An===null?mt.push(null):mt.push(Vt[it++])}),$e(mt)})})}).then(function(qe){return qe.map(Se)}):Promise.resolve([]);return[xe,He]},_l=function(){var se=On(Ct.mark(function E(){var M,$,H,q,J=arguments;return Ct.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return M=J.length>0&&J[0]!==void 0?J[0]:null,$=s.state,H=$.items,q=$.piles,M||(M=H),de.next=5,Ga();case 5:return de.abrupt("return",Promise.all(xl(M)).then(function(ue){var Ie=me(ue,2),Ee=Ie[0],xe=Ie[1],Se=Object.keys(M);Ee.forEach(function(Ce,Ve){var He=Se[Ve],qe=xe[He];ce.has(He)&&ce.get(He).replaceImage(Ce,qe)}),Se.forEach(function(Ce){if(ee.has(Ce)){var Ve=ee.get(Ce),He=q[Ce];Ve.replaceItemsImage(),Ve.blur(),To(He,Ce),hr(He,Ce),Ae()}else Object.values(q).forEach(function(qe){if(qe.items.includes(Ce)){var $e=ee.get(qe.id);$e.replaceItemsImage(Ce),$e.blur()}})}),ee.forEach(function(Ce){_a(q[Ce.id],Ce)}),Fn(),he(),yi()}));case 6:case"end":return de.stop()}},E)}));return function(){return se.apply(this,arguments)}}(),Sl=function(){var se=On(Ct.mark(function E(M){var $;return Ct.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if($=Object.keys(M),$.length){q.next=3;break}return q.abrupt("return",Promise.resolve());case 3:return q.next=5,Ga();case 5:return q.abrupt("return",Promise.all(xl(M)).then(function(J){var oe=me(J,2),de=oe[0],ue=oe[1],Ie=s.state.piles;de.forEach(function(Ee,xe){var Se=ue[xe],Ce=$[xe],Ve=vge({id:Ce,image:Ee,pubSub:o},{preview:Se});ce.set(Ce,Ve)}),de.forEach(function(Ee,xe){var Se=$[xe],Ce=Ie[Se];Ce.items.length&&ln(Se,Ce)}),Fn(),he(),yi()}));case 6:case"end":return q.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),bi=function(E){return E.x===null||E.y===null},El=function(E){var M=ee.get(E),$=Pe.idxToXy(uu[0][E],M.width,M.height,M.offset);return Promise.resolve($)},sf=function(E){return Promise.resolve(Id.map(function(M,$){return M(Sa[E][$])}))},Zi=new Map,hs=0,uf=function(){var se=On(Ct.mark(function E(M){var $,H,q,J,oe;return Ct.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(H=s.state.dimensionalityReducer,!(Zi.has(M)&&Md===hs)){ue.next=3;break}return ue.abrupt("return",Zi.get(M));case 3:return hs=Md,ue.next=6,H.transform([Sa[M].flat()]);case 6:return q=ue.sent,J=($=Pe).uvToXy.apply($,lt(q[0])),oe=ee.get(M),oe.size===1&&!Zi.has(M)&&oe.items[0].item.setOriginalPosition(J),Zi.set(M,J),ue.abrupt("return",J);case 12:case"end":return ue.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),Ao=function(E,M){var $=s.state,H=$.arrangementObjective,q=$.arrangementOptions,J=$.dimensionalityReducer;return H.length>2||q.forceDimReduction?J?uf(E):Promise.resolve([M.x,M.y]):H.length>1?sf(E):H.length?El(E):(console.warn("Can't arrange pile by data. No arrangement objective available."),Promise.resolve([M.x,M.y]))},ru=function(E,M){if(M.isCustom)return M.property(E,E.index);var $=s.state.items;return M.aggregator(E.items.map(function(H){return M.property($[H])}))},Co=function(){var se=On(Ct.mark(function E(M,$){var H,q,J,oe,de,ue,Ie,Ee,xe,Se,Ce,Ve,He;return Ct.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(q=s.state,J=q.arrangementType,oe=q.arrangementObjective,de=q.piles,ue=q.projector,Ie=ee.get(M),Ee=de[M],xe=bi(Ee),Se=$||xe?J||Qse:J,Ce=$||xe?oe||Jse:oe,Ve=function(Vt,it){return Pe.ijToXy(Vt,it,Ie.width,Ie.height,Ie.offset)},Se!=="data"){$e.next=9;break}return $e.abrupt("return",Ao(M,Ee));case 9:He=Se&&ru(Ee,Ce),$e.t0=Se,$e.next=$e.t0==="index"?13:$e.t0==="ij"?14:$e.t0==="xy"?15:$e.t0==="uv"?16:$e.t0==="custom"?17:19;break;case 13:return $e.abrupt("return",Ve.apply(void 0,lt(Pe.idxToIj(He))));case 14:return $e.abrupt("return",Ve.apply(void 0,lt(He)));case 15:return $e.abrupt("return",He);case 16:return $e.abrupt("return",(H=Pe).uvToXy.apply(H,lt(He)));case 17:if(!ue){$e.next=19;break}return $e.abrupt("return",ue(He));case 19:return $e.abrupt("return",Promise.resolve([Ee.x,Ee.y]));case 20:case"end":return $e.stop()}},E)}));return function(M,$){return se.apply(this,arguments)}}(),Qi=function(E){var M=BC(E[0],E[1]);return Xb(M,M,g.view),M.slice(0,2)},iu=function(E){var M=BC(E[0],E[1]);return Xb(M,M,Yb(y,g.view)),M.slice(0,2)},Al=function(E){return[E[0]-g.translation[0],E[1]-g.translation[1]]},ds=function(){var se=On(Ct.mark(function E(){var M,$,H,q,J,oe,de,ue,Ie,Ee,xe,Se,Ce,Ve,He,qe,$e,mt,Vt,it=arguments;return Ct.wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(M=it.length>0&&it[0]!==void 0?it[0]:[],$=it.length>1&&it[1]!==void 0?it[1]:{},H=$.immideate,q=H===void 0?!1:H,J=s.state,oe=J.arrangeOnGrouping,de=J.arrangementType,ue=J.items,Ie=!M.length,Ie&&(M=Object.keys(s.state.piles)),Object.keys(ue).length!==0){Re.next=10;break}return we(),Ot(),he(),Re.abrupt("return");case 10:if(Ee=[],xe=M.filter(function(bt){return ee.has(bt)}).map(function(bt){return ee.get(bt)}),xe.length){Re.next=14;break}return Re.abrupt("return");case 14:return Re.next=16,T;case 16:Se=Lge(xe),Re.prev=17,Se.s();case 19:if((Ce=Se.n()).done){Re.next=32;break}return Ve=Ce.value,Re.next=23,Co(Ve.id,P);case 23:He=Re.sent,m.set(Ve.id,He),qe=me(He,2),$e=qe[0],mt=qe[1],(q||P)&&So(Ve,$e,mt),Ee.push({id:Ve.id,x:$e,y:mt}),Pe.numRows=Math.max(Pe.numRows,Math.ceil(mt/Pe.rowHeight)),(P||bi(Ve)||de&&!oe)&&ce.get(Ve.id).setOriginalPosition([$e,mt]);case 30:Re.next=19;break;case 32:Re.next=37;break;case 34:Re.prev=34,Re.t0=Re.catch(17),Se.e(Re.t0);case 37:return Re.prev=37,Se.f(),Re.finish(37);case 40:P=!1,Vt=oe?[]:PR(),s.dispatch(ys([At.movePiles(Ee)].concat(lt(Vt)))),Ie&&we(),Ot(),he();case 46:case"end":return Re.stop()}},E,null,[[17,34,37,40]])}));return function(){return se.apply(this,arguments)}}(),lf=Ky(ds,cue),xa=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=M.all,H=$===void 0?!1:$,q=s.state,J=q.piles,oe=q.pileOrderItems,de=ee.get(E);if(de){if(Yt(oe)){var ue=J[E];de.setItemOrder(oe(ue))}de.positionItems(fe,{all:H})}},hr=function(E,M){var $=s.state,H=$.items,q=$.pileItemBrightness,J=$.pileItemInvert,oe=$.pileItemOpacity,de=$.pileItemTint,ue=ee.get(M);ue.items.forEach(function(Ie,Ee){var xe=H[Ie.id];Ie.animateOpacity(Yt(oe)?oe(xe,Ee,E):oe),Ie.image.invert(Yt(J)?J(xe,Ee,E):J),J||(Ie.image.brightness(Yt(q)?q(xe,Ee,E):q),q||Ie.image.tint(Yt(de)?de(xe,Ee,E):de))})},To=function(E,M){var $=ee.get(M);if($){var H=s.state,q=H.pileOpacity,J=H.pileBorderSize,oe=H.pileScale,de=H.pileSizeBadge,ue=H.pileVisibilityItems;$.animateOpacity(Yt(q)?q(E):q),$.animateScale(Yt(oe)?oe(E):oe),$.setBorderSize(Yt(J)?J(E):J),$.showSizeBadge(Yt(de)?de(E):de),$.setVisibilityItems(Yt(ue)?ue(E):ue),he()}},Cl=function(E){var M=sw(E);return M.scale(nr(M)),M},Po=function(E){var M=s.state,$=M.previewRenderer,H=M.previewScaling;if($){var q=Yt(H)?H(E):H;E.items.forEach(function(J){var oe=ce.get(J);if(oe.preview){var de=nr(oe.image),ue=1+(de*q[0]-1),Ie=1+(de*q[1]-1);oe.preview.scaleX(ue),oe.preview.scaleY(Ie)}})}},Tl=function(E,M){var $=s.state,H=$.items,q=$.coverRenderer,J=$.coverAggregator,oe=$.pileCoverInvert,de=$.pileCoverScale,ue=$.previewAggregator,Ie=$.previewRenderer,Ee=[],xe=[];if(E.items.forEach(function(Ce){Ee.push(H[Ce]),xe.push(ce.get(Ce))}),M.setItems(xe,{asPreview:!!(ue||Ie),shouldDrawPlaceholder:!0}),!q){M.setCover(null),xa(M.id,{all:!0});return}var Se=Promise.resolve(J(Ee)).then(function(Ce){return q([Ce])}).then(function(Ce){var Ve=me(Ce,1),He=Ve[0],qe=Cl(He);qe.invert(Yt(oe)?oe(E):oe);var $e=Yt(de)?de(E):de;return qe.scale(qe.scaleFactor*$e),qe});M.setCover(Se),Se.then(function(){xa(M.id),Me(M.id),he()})},_a=function(E,M){E.items.length===1?(M.setCover(null),xa(M.id),M.setItems([ce.get(E.items[0])])):(Po(E),Tl(E,M))},Lr=function(){var E=s.state,M=E.arrangementObjective,$=E.arrangementOptions;return M&&(M.length>2||$.forceDimReduction)},au=function(E,M){if(ee.has(M)){var $=ee.get(M);if(E.items.length===0)dn(M);else{Zi.delete(M);var H=E.items.map(function(q){return ce.get(q)});s.state.coverAggregator?_a(E,$):(s.state.previewRenderer&&Po(E),$.setItems(H),xa(M)),H.length===1&&Lr()&&Zi.set(M,H[0].originalPosition),Me(M,{forceUpdate:!0}),hr(E,M)}}else ln(M,E)},vs=function(E,M){var $=ee.get(M);return $?(m.set(M,[E.x,E.y]),Promise.all([Eo($,E.x,E.y),new Promise(function(H){function q(J){J===M&&(o.unsubscribe("pileBoundsUpdate",this),H())}o.subscribe("pileBoundsUpdate",q)})])):Promise.resolve()},Wa=function(E){var M=ca(new Uint16Array(new Array(Pe.numColumns*Pe.numRows).fill(0)),[Pe.numRows,Pe.olNum]);h=M,ee.forEach(function($){if($.id!==E){var H=Math.floor($.bBox.minX/Pe.columnWidth),q=Math.floor($.bBox.minY/Pe.rowHeight),J=Math.floor($.bBox.maxX/Pe.columnWidth),oe=Math.floor($.bBox.maxY/Pe.rowHeight);h.set(q,H,1),h.set(q,J,1),h.set(oe,H,1),h.set(oe,J,1)}})},Pl=function(E,M){var $,H=1/0;M[0]-1>=0&&E.get(M[0]-1,M[1])<H&&(H=E.get(M[0]-1,M[1]),$=[M[0]-1,M[1]]),M[1]-1>=0&&E.get(M[0],M[1]-1)<H&&(H=E.get(M[0],M[1]-1),$=[M[0],M[1]-1]),M[0]+1<E.shape[0]&&E.get(M[0]+1,M[1])<H&&(H=E.get(M[0]+1,M[1]),$=[M[0]+1,M[1]]),M[1]+1<E.shape[1]&&E.get(M[0],M[1]+1)<H&&(H=E.get(M[0],M[1]+1),$=[M[0],M[1]+1]);var q=E.data.length;if(E.set(M[0],M[1],q),H===E.data.length)for(var J=0;J<E.shape[0];J++)for(var oe=0;oe<E.shape[1];oe++)E.get(J,oe)<H&&E.get(J,oe)>0&&(H=E.get(J,oe)),$=[J,oe];return $},A=function(E,M,$,H){if(E.get(M,$)===-1){var q=Cu(M,$,H[0],H[1]);E.set(M,$,q)}},L=function(E,M,$,H){for(var q=lt($),J,oe=0;!J&&oe<E.data.length;)M.get(q[0],q[1])<1&&(J=q),J||(q[0]-1>=0&&A(E,q[0]-1,q[1],$),q[1]-1>=0&&A(E,q[0],q[1]-1,$),q[0]+1<E.shape[0]&&A(E,q[0]+1,q[1],$),q[1]+1<E.shape[1]&&A(E,q[0],q[1]+1,$),q=Pl(E,q),oe++);return J||(J=[M.shape[0]+1,Math.floor(H/2)],Pe.numRows+=H,Ot()),J},K=function(E,M){var $=ca(new Float32Array(new Array(E*M).fill(1)),[M,E]),H=ca(new Float32Array((Pe.numRows-M+1)*(Pe.numColumns-E+1)),[Pe.numRows-M+1,Pe.olNum-E+1]);return Vse(H,h,$),H},ve=function(E,M,$){var H=K(M,$),q=ca(new Float32Array(new Array((Pe.numRows-$+1)*(Pe.numColumns-M+1)).fill(-1)),[Pe.numRows-$+1,Pe.numColumns-M+1]),J=L(q,H,E,$),oe=Cu(J[0],J[1],E[0],E[1]);return{depilePos:J,distance:oe}},Te=function(E,M){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(H){var q=s.state.easing,J=[],oe=ee.get(E);oe.blur(),oe.drawBorder();var de=M.map(function(xe){return ee.get(xe)}).filter(gr),ue=function(){J.forEach(function(Se){Me(Se.id)}),s.dispatch(At.movePiles(J)),H()},Ie=0,Ee=function(){Ie++,Ie===de.length&&ue()};fe.addBatch(de.map(function(xe,Se){var Ce=xe.getItemById(xe.id);J.push({id:xe.id,x:Ce.item.originalPosition[0],y:Ce.item.originalPosition[1]});var Ve=$.length>0?$[Se]:f(Ce.item.originalPosition),He=Cu.apply(void 0,lt(Ve).concat([xe.x,xe.y])),qe=vh(Math.min(He,250)/250)*250;return Fs({duration:qe,easing:q,interpolator:ph,endValue:[].concat(lt($.length>0?$[Se]:f(Ce.item.originalPosition)),[0]),getter:function(){return[xe.x,xe.y,Ce.displayObject.angle]},setter:function(mt){xe.moveTo(mt[0],mt[1]),Ce.displayObject.angle=mt[2]},onDone:Ee})}))})},Xe=function(E){var M=ee.get(E).size;if(M!==1){Wa(E);var $=ee.get(E).bBox,H=Math.floor(($.minX+$.maxX)/(Pe.columnWidth*2)),q=Math.floor(($.minY+$.maxY)/(Pe.rowHeight*2)),J=[q,H],oe=Math.ceil(Math.sqrt(M)),de=Math.ceil(M/oe),ue,Ie,Ee;if(oe!==de){var xe=ve(J,oe,de),Se=ve(J,de,oe);ue=xe.distance>Se.distance?Se.depilePos:xe.depilePos,Ee=xe.distance>Se.distance?de:oe,Ie=xe.distance>Se.distance?oe:de}else ue=ve(J,oe,de).depilePos,Ee=oe,Ie=de;for(var Ce=s.state.piles,Ve=[],He=lt(Ce[E].items),qe=[],$e=0;$e<He.length;$e++){var mt=Math.floor($e/Ee)+ue[0]-Math.floor((Ie-1)/2),Vt=$e%Ee+ue[1]-Math.floor((Ee-1)/2);qe.push([Vt*Pe.columnWidth,mt*Pe.rowHeight])}var it={items:He,x:Ce[E].x,y:Ce[E].y};Ve.push(it),s.dispatch(At.scatterPiles(Ve)),Te(E,He,qe),s.dispatch(At.setDepiledPile([]))}},Dt=function(E){var M=s.state.piles,$=lt(M[E].items),H={items:$,x:M[E].x,y:M[E].y};s.dispatch(At.scatterPiles([H])),m0(),s.state.arrangementType||Te(E,$)},Kt=function(E,M,$){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},q=H.onDone,J=q===void 0?gr:q;fe.add(Fs({interpolator:ph,endValue:[M,$],getter:function(){return[E.x,E.y]},setter:function(de){E.x=de[0],E.y=de[1]},onDone:function(){J()}}))},Rn=function(){pe.tint=s.state.darkMode?0:16777215,pe.width=b,pe.height=x,pe.alpha=.9},Yn=function(){pe.alpha=0},Ke=function(E){var M=s.state.piles;E.forEach(function($){var H=ee.get($);Ae(),Yn();var q=function(){H.tempDepileContainer.removeChildren(),H.isTempDepiled=!1,H.focus(),s.dispatch(At.setFocusedPiles([H.id])),Me($)};H.tempDepileContainer.children.forEach(function(J,oe){var de=oe===H.tempDepileContainer.children.length-1?{onDone:q}:void 0;Kt(J,-H.tempDepileContainer.x,-H.tempDepileContainer.y,de)})}),o.publish("pileInactive",{targets:E.map(function($){return M[$]})}),he()},ie=function(E){var M=E.pile,$=E.tempDepileDirection,H=E.items,q=function(){M.isTempDepiled=!0,s.dispatch(At.setFocusedPiles([])),s.dispatch(At.setFocusedPiles([M.id]))},J=g?g.scaling:1,oe=function(Ee){return Ee?{onDone:q}:void 0};if($==="horizontal"){M.tempDepileContainer.x=M.bBox.width/J,M.tempDepileContainer.y=0,M.tempDepileContainer.interactive=!0;var de=0;H.forEach(function(Ie,Ee){var xe=xp(ce.get(Ie).image.sprite);xe.x=-M.tempDepileContainer.x,M.tempDepileContainer.addChild(xe);var Se=oe(Ee===H.length-1);Kt(xe,Ee*5+de,0,Se),de+=xe.width})}else if($==="vertical"){M.tempDepileContainer.x=0,M.tempDepileContainer.x=M.bBox.height/J,M.tempDepileContainer.interactive=!0;var ue=0;H.forEach(function(Ie,Ee){var xe=xp(ce.get(Ie).image.sprite);xe.y=-M.tempDepileContainer.y,M.tempDepileContainer.addChild(xe);var Se=oe(Ee===H.length-1);Kt(xe,0,Ee*5+ue,Se),ue+=xe.height})}},_e=function(E){var M=E.pile,$=E.items,H=E.orderer,q=g?g.scaling:1;M.tempDepileContainer.x=M.bBox.width/q,M.tempDepileContainer.y=0;var J=Math.ceil(Math.sqrt($.length)),oe=function(){M.isTempDepiled=!0,s.dispatch(At.setFocusedPiles([])),s.dispatch(At.setFocusedPiles([M.id]))},de=function(Ee){return Ee?{onDone:oe}:void 0},ue=H(J);$.forEach(function(Ie,Ee){var xe=xp(ce.get(Ie).image.sprite);xe.x=-M.tempDepileContainer.x,M.tempDepileContainer.addChild(xe);var Se=ue(Ee),Ce=me(Se,2),Ve=Ce[0],He=Ce[1],qe=Ve*(Pe.cellWidth+6),$e=He*(Pe.cellHeight+6),mt=de(Ee===$.length-1);Kt(xe,qe,$e,mt)})},Fe=function(E){var M=s.state,$=M.piles,H=M.tempDepileDirection,q=M.tempDepileOneDNum,J=M.orderer;E.forEach(function(oe){var de=ee.get(oe);re(de.graphics),Rn(),de.enableInteractivity();var ue=lt($[oe].items);ue.length<q?ie({pile:de,tempDepileDirection:H,items:ue}):_e({pile:de,items:ue,orderer:J}),Me(oe)}),o.publish("pileActive",{targets:E.map(function(oe){return $[oe]})}),he()},ke=function(E){var M=a.getBoundingClientRect();return[E.clientX-M.left,E.clientY-M.top-D.y]},We=function(E){var M=Xse(E),$=Z.search(M),H=[];return $.forEach(function(q){(Nv([q.minX,q.minY],E)||Nv([q.minX,q.maxY],E)||Nv([q.maxX,q.minY],E)||Nv([q.maxX,q.maxY],E))&&H.push(q.id)}),H},Qt=function(){var se=On(Ct.mark(function E(){var M,$,H,q;return Ct.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return M=Promise.resolve(),F=!1,$=W.end(),H=$.flatMap(v),ye([H.length-2,H.length-1],H),s.state.temporaryDepiledPiles.length||(q=We(H),p0(q),q.length>1&&(s.dispatch(At.setFocusedPiles([])),M=It([q]))),oe.next=8,M;case 8:Y();case 9:case"end":return oe.stop()}},E)}));return function(){return se.apply(this,arguments)}}(),It=function(E,M){var $=function(ue){return function(Ie,Ee){return Ie+Ee/ue}},H=function(){return function(ue,Ie){return Math.min(ue,Ie)}},q=function(){return function(ue,Ie){return Math.max(ue,Ie)}},J={x:$,y:$},oe={x:0,y:0};switch(M){case"top":J.y=H,oe.y=1/0;break;case"bottom":J.y=q,oe.y=-1/0;break;case"left":J.x=H,oe.x=1/0;break;case"right":J.x=q,oe.x=-1/0;break}return Promise.all(E.map(function(de){return new Promise(function(ue,Ie){var Ee=s.state,xe=Ee.easing,Se=Ee.piles,Ce=oe.x,Ve=oe.y,He=J.x(de.length),qe=J.y(de.length);de.forEach(function(it){Ce=He(Ce,Se[it].x),Ve=qe(Ve,Se[it].y)});var $e=function(){Me(de[0]),ue(At.mergePiles(de,[Ce,Ve]))},mt=function(){++Vt===de.length&&$e()},Vt=0;fe.addBatch(de.map(function(it){var An=ee.get(it);return An||Ie(new Error("Pile #".concat(it," not ready"))),fr(ee.get(it),Ce,Ve,{easing:xe,onDone:mt})}).filter(function(it){return it===null&&mt(),it}))})})).then(function(de){s.dispatch(ys(de))})},Lt=function(E,M){var $=ee.get(E);$.magnifyByWheel(M)&&(Me(E,{forceUpdate:!0}),$.drawBorder()),he()},rn=function(E){ce.has(E)&&ce.get(E).destroy(),ce.delete(E),dn(E)},fn=function(E){return Object.keys(E).forEach(rn),Promise.resolve()},ln=function(E,M){var $=f([M.x,M.y]),H=me($,2),q=H[0],J=H[1],oe=M.items.length?M.items.map(function(ue){return ce.get(ue)}):[ce.get(E)],de=fge({render:he,id:E,pubSub:o,store:s,badgeFactory:u},{x:q,y:J});ee.set(E,de),s.state.coverAggregator?_a(M,de):(s.state.previewRenderer&&Po(M),de.setItems(oe),xa(E)),be.addChild(de.graphics),Me(E,{forceUpdate:!0}),hr(M,E),m.set(E,[M.x,M.y])},dn=function(E){ee.has(E)&&(ee.get(E).destroy(),et(E)),ee.delete(E),m.delete(E),delete Sa[E]},cn=function(E){var M=E.bBoxifier,$=E.absComparator,H=E.relComparator;return function(){var q=On(Ct.mark(function J(oe){var de,ue,Ie,Ee,xe,Se,Ce,Ve,He,qe,$e,mt,Vt,it=arguments;return Ct.wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:for(de=it.length>1&&it[1]!==void 0?it[1]:{},ue=de.conditions,Ie=ue===void 0?[]:ue,Ee=de.centerAggregator,xe=Ee===void 0?Bf:Ee,Se=s.state.piles,Ce=new Map,Ve={},He={},qe=function(Qe,pt,Wt){if(!Ve[Qe.id]){Ve[Qe.id]=zs({},Qe.id,!0),Ce.set(Qe.id,[Qe.id,1]);var St=Qe.maxX-Qe.minX,Pn=Qe.maxY-Qe.minY;He[Qe.id]={w:St,h:Pn,c:[[Qe.minX+St/2,Qe.minY+Pn/2]]}}if(Ve[Qe.id][pt.id])return!1;Ve[Qe.id][pt.id]=!0,Ce.set(pt.id,[Qe.id,H(Wt,Qe)[0]]);var Tr=pt.maxX-pt.minX,wn=pt.maxY-pt.minY;return He[Qe.id].w=Math.max(He[Qe.id].w,Tr),He[Qe.id].h=Math.max(He[Qe.id].h,wn),He[Qe.id].c.push([pt.minX+Tr/2,pt.minY+wn/2]),!0},$e=function(Qe){var pt=Z.search(M(Qe,oe)),Wt=0;return pt.length===1||pt.forEach(function(St){if(St.id!==Qe.id){var Pn=$(Qe,St,oe),Tr=me(Pn,2),wn=Tr[0],Pr=Tr[1],dr=Pr&&Ie.every(function(b0){return b0(Se[Qe.id],Se[St.id])});if(dr){if(Ce.has(St.id)&&!(Ve[Qe.id]&&Ve[Qe.id][St.id])){var Ea=Ce.get(St.id),ps=me(Ea,2),gs=ps[0],Ol=ps[1];if(!H(wn,Qe,Ol)[1])return;delete Ve[gs][St.id]}Wt+=qe(Qe,St,wn)}}}),Wt},Z.all().forEach(function(bt){Ce.has(bt.id)||$e(bt)}),mt=!1;!mt;)Vt=Object.keys(Ve).reduce(function(bt,Qe){var pt=He[Qe],Wt=pt.w,St=pt.h,Pn=pt.c,Tr=xe(Pn),wn=me(Tr,2),Pr=wn[0],dr=wn[1],Ea={id:Qe,minX:Pr-Wt/2,maxX:Pr+Wt/2,minY:dr-St/2,maxY:dr+St/2};return bt+$e(Ea)},0),mt=Vt===0;return Re.abrupt("return",Object.values(Ve).map(Object.keys));case 11:case"end":return Re.stop()}},J)}));return function(J){return q.apply(this,arguments)}}()},Ln=function(E,M,$){var H=Math.max(E.minX,M.minX),q=Math.max(E.minY,M.minY),J=Math.min(E.maxX,M.maxX),oe=Math.min(E.maxY,M.maxY),de=(J-H)*(oe-q);return[de,de>=$]},Cr=function(E,M,$){var H=E/((M.maxX-M.minX)*(M.maxY-M.minY));return[H,$!==void 0&&H>$]},Xn=cn({bBoxifier:gr,absComparator:Ln,relComparator:Cr}),Tn=function(E,M){return{minX:E.minX-M,minY:E.minY-M,maxX:E.maxX+M,maxY:E.maxY+M}},or=function(E,M,$){var H=cT(E,M);return[H,H<$]},Nr=function(E,M,$){return[E,$===void 0&&E<$]},Ji=cn({bBoxifier:Tn,absComparator:or,relComparator:Nr}),ou=function(){var se=On(Ct.mark(function E(M){var $,H,q,J;return Ct.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return $=s.state,H=$.orderer,q=$.piles,J=M?Gv({width:b,height:x,orderer:H},M):Pe,de.abrupt("return",Object.entries(q).reduce(function(ue,Ie){var Ee=me(Ie,2),xe=Ee[0],Se=Ee[1];if(!Se.items.length)return ue;var Ce=J.xyToIj(Se.x,Se.y),Ve=J.ijToIdx.apply(J,lt(Ce));return ue[Ve]||(ue[Ve]=[]),ue[Ve].push(xe),ue},[]));case 3:case"end":return de.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),sr=function(){var se=On(Ct.mark(function E(){return Ct.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",Object.entries(s.state.piles).reduce(function(H,q){var J=me(q,2),oe=J[0],de=J[1];if(de.items.length){var ue=Pe.xyToIj(de.x,de.y);H[ue[1]]||(H[ue[1]]=[]),H[ue[1]].push(oe)}return H},[]));case 1:case"end":return $.stop()}},E)}));return function(){return se.apply(this,arguments)}}(),Td=function(){var se=On(Ct.mark(function E(){return Ct.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",Object.entries(s.state.piles).reduce(function(H,q){var J=me(q,2),oe=J[0],de=J[1];if(de.items.length){var ue=Pe.xyToIj(de.x,de.y);H[ue[0]]||(H[ue[0]]=[]),H[ue[0]].push(oe)}return H},[]));case 1:case"end":return $.stop()}},E)}));return function(){return se.apply(this,arguments)}}(),Pd=function(){var se=On(Ct.mark(function E(M){return Ct.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",Object.values(Object.entries(s.state.piles).reduce(function(q,J){var oe=me(J,2),de=oe[0],ue=oe[1];if(!ue.items.length)return q;var Ie=M.map(function(Ee){return Ee.aggregator(ue.items.map(function(xe,Se){return Ee.property(s.state.items[xe],xe,Se,ce.get(xe))}))}).join("|");return q[Ie]?q[Ie].push(de):q[Ie]=[de],q},{})));case 1:case"end":return H.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),Ka=function(){var se=On(Ct.mark(function E(M){var $,H,q,J,oe,de,ue,Ie=arguments;return Ct.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return $=Ie.length>1&&Ie[1]!==void 0?Ie[1]:{},H=Object.entries(s.state.piles).reduce(function(Se,Ce){var Ve=me(Ce,2),He=Ve[0],qe=Ve[1];return qe.items.length&&Se.push({id:He,data:M.flatMap(function($e){return $e.aggregator(qe.items.map(function(mt,Vt){return $e.property(s.state.items[mt],mt,Vt,ce.get(mt))}))})}),Se},[]),q=$.clusterer,q||(J=$.clustererOptions||{},oe=J.k,J.valueGetter=function(Se){return Se.data},oe||(oe=Math.max(2,Math.ceil(Math.sqrt(H.length/2)))),q=RC(oe,J)),xe.next=6,q(H);case 6:return de=xe.sent,ue=de.labels,xe.abrupt("return",Object.values(Array.from(ue).reduce(function(Se,Ce,Ve){return Ce===-1||(Se[Ce]||(Se[Ce]=[]),Se[Ce].push(H[Ve].id)),Se},{})));case 9:case"end":return xe.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),Ur=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H,q="mean";switch(E){case"overlap":H=Xn(M,$);break;case"distance":H=Ji(M,$);break;case"grid":H=ou(M);break;case"column":q=M,H=sr(M);break;case"row":q=M,H=Td(M);break;case"category":H=Pd(M);break;case"cluster":H=Ka(M,$);break;default:H=Promise.reject(new Error("Unknown group by type: ".concat(E)));break}return H.then(function(J){return s.dispatch(At.setFocusedPiles([])),p0(J.flatMap(gr)),It(J.filter(function(oe){return oe.length>1}),q)})},cf=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=HR(E,M),q=Ur(E,H,$);return(E==="distance"||E==="overlap")&&$.onZoom&&(delete $.onZoom,s.dispatch(ys([].concat(lt(j("groupingObjective",H,!0)),lt(j("groupingOptions",$,!0)),lt(j("groupingType",E,!0)))))),q},ff=function(E,M){var $=M==="uv"?function(de){return de*b}:gr,H=M==="uv"?function(de){return de*x}:gr,q=new gC,J=new Map,oe=E.map(function(de){var ue=Al(f([$(de.cX),H(de.cY)])),Ie=me(ue,2),Ee=Ie[0],xe=Ie[1],Se={id:de.id,minX:Ee-de.width/2,maxX:Ee+de.width/2,minY:xe-de.height/2,maxY:xe+de.height/2};return J.set(de.id,Se),Se});return q.load(oe),[q,J]},su=function(E){var M=E.toBBox,$=E.compare,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=H.coordType,J=q===void 0?"uv":q;return function(){var oe=On(Ct.mark(function de(ue){var Ie,Ee,xe,Se,Ce,Ve,He,qe,$e,mt,Vt,it,An,Re,bt=arguments;return Ct.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return Ie=bt.length>1&&bt[1]!==void 0?bt[1]:{},Ee=Ie.conditions,xe=Ee===void 0?[]:Ee,Se=s.state.piles,Ce=ff(ue.basedOn,J),Ve=me(Ce,2),He=Ve[0],qe=Ve[1],$e={},mt=function(St,Pn,Tr){var wn=-1,Pr=1/0;return St.forEach(function(dr,Ea){var ps={minX:dr.centroid[0]-dr.width/2,maxX:dr.centroid[0]+dr.width/2,minY:dr.centroid[1]-dr.height/2,maxY:dr.centroid[1]+dr.height/2},gs=$(ps,Pn,Tr),Ol=me(gs,2),b0=Ol[0],s_=Ol[1];b0&&s_<Pr&&(Pr=s_,wn=Ea)}),wn},Vt=function(St){$e[St.id]={keep:[St.id],split:[]}},it=function(St,Pn){$e[St.id].keep.push(Pn.id)},An=function(St,Pn){var Tr=Pn.maxX-Pn.minX,wn=Pn.maxY-Pn.minY,Pr=[Pn.minX+Tr/2,Pn.minY+wn/2];if(!$e[St.id].split.length)$e[St.id].split.push({centroid:Pr,width:Tr,height:wn,items:[Pn.id]});else{var dr=mt($e[St.id].split,Pn,ue.threshold);if(dr===-1)$e[St.id].split.push({centroid:Pr,width:Tr,height:wn,items:[Pn.id]});else{var Ea=$e[St.id].split[dr],ps=Ea.items.length,gs=ps+1,Ol=[Ea.centroid[0]*ps/gs+Pr[0]/gs,Ea.centroid[1]*ps/gs+Pr[1]/gs];Ea.centroid=Ol,Ea.items.push(Pn.id)}}},Re=function(St){if(!(Se[St.id].items.length<2)){var Pn=He.search(M(St,ue.threshold)),Tr=new Set;Tr.add(St.id),Vt(St),Pn.forEach(function(wn){if(Se[St.id].items.indexOf(wn.id)!==-1&&wn.id!==St.id){var Pr=$(St,wn,ue.threshold)[0]&&xe.every(function(dr){return dr(Se[St.id],Se[wn.id])});Pr?it(St,wn):An(St,wn),Tr.add(wn.id)}}),Se[St.id].items.forEach(function(wn){if(!Tr.has(wn)){var Pr=qe.get(wn);wn===St.id?it(St,Pr):An(St,Pr)}})}},Z.all().forEach(Re),Object.keys($e).forEach(function(Wt){var St=[];$e[Wt].keep.length&&St.push($e[Wt].keep),$e[Wt].split.length&&St.push.apply(St,lt($e[Wt].split.map(function(Pn){return Pn.items}))),St.length>1?$e[Wt]=St:delete $e[Wt]}),pt.abrupt("return",$e);case 12:case"end":return pt.stop()}},de)}));return function(de){return oe.apply(this,arguments)}}()},l0=function(E,M,$){var H=Math.max(E.minX,M.minX),q=Math.max(E.minY,M.minY),J=Math.min(E.maxX,M.maxX),oe=Math.min(E.maxY,M.maxY),de=(J-H)*(oe-q);return[de>=$,de]},gR=su({toBBox:gr,compare:l0}),mR=function(E,M){return{minX:E.minX-M,minY:E.minY-M,maxX:E.maxX+M,maxY:E.maxY+M}},yR=function(E,M,$){var H=cT(E,M);return[H<$,H]},bR=su({toBBox:mR,compare:yR}),wR=function(){var se=On(Ct.mark(function E(M){return Ct.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",Object.entries(s.state.piles).filter(function(q){return q[1].items.length>1}).reduce(function(q,J){var oe=me(J,2),de=oe[0],ue=oe[1],Ie=ue.items.reduce(function(Ee,xe,Se){var Ce=M.map(function(Ve){return Ve(s.state.items[xe],xe,Se,ce.get(xe))}).join("|");return Ee[Ce]?Ee[Ce].push(xe):Ee[Ce]=[xe],Ee},{});return Object.keys(Ie).length>1&&(q[de]=Object.values(Ie)),q},{}));case 1:case"end":return H.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),xR=function(){var se=On(Ct.mark(function E(M){var $,H,q,J,oe,de,ue,Ie,Ee=arguments;return Ct.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return $=Ee.length>1&&Ee[1]!==void 0?Ee[1]:{},H=new Map,q=Object.entries(s.state.items).map(function(Ce,Ve){var He=me(Ce,2),qe=He[0],$e=He[1];return H.set(qe,Ve),{id:qe,data:M.flatMap(function(mt){return mt.property($e,qe,0,ce.get(qe))})}}),J=$.clusterer,J||(oe=$.clustererOptions||{},de=oe.k,oe.valueGetter=function(Ce){return Ce.data},de||(de=Math.max(2,Math.ceil(Math.sqrt(q.length/2)))),J=RC(de,oe)),Se.next=7,J(q);case 7:return ue=Se.sent,Ie=ue.labels,Se.abrupt("return",Object.entries(s.state.piles).reduce(function(Ce,Ve){var He=me(Ve,2),qe=He[0],$e=He[1];if(!$e.items.length)return Ce;var mt=$e.items.reduce(function(Vt,it){var An=Ie[H.get(it)];return Vt[An]?Vt[An].push(it):Vt[An]=[it],Vt},{});return Object.keys(mt).length>1&&(Ce[qe]=Object.values(mt)),Ce},{}));case 10:case"end":return Se.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),c0=!1,Od=Promise.resolve(),W2=function(E,M){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(c0)return Od;c0=!0;var H;switch(E){case"overlap":H=gR(M,$);break;case"distance":H=bR(M,$);break;case"category":H=wR(M);break;case"cluster":H=xR(M,$);break}return Od=H.then(function(q){return Object.keys(q).length?(s.dispatch(ys([At.setFocusedPiles([]),At.splitPiles(q)])),Promise.all(Object.entries(q).filter(function(J){return J[1].length>1}).map(function(J){var oe=me(J,2),de=oe[0],ue=oe[1],Ie=ue.map(function(Ee){return Ee[0]});return Te(de,Ie)}))):Promise.resolve()}),Od.then(function(){c0=!1}),Od},K2=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=YR(E,M),q=W2(E,H,$);return(E==="distance"||E==="overlap")&&$.onZoom&&(delete $.onZoom,s.dispatch(ys([].concat(lt(j("splittingObjective",H,!0)),lt(j("splittingOptions",$,!0)),lt(j("splittingType",E,!0)))))),q},_R=function(){return K2("category","id")},q2=function(){var E=s.state,M=E.arrangementType,$=E.arrangementObjective,H=E.arrangementOptions,q=E.navigationMode,J=!1;switch(q){case WB:J=Je();break;case KB:J=Zt();break;case j2:default:switch(M){case"data":$.length>1||H.forceDimReduction?J=Je():J=Zt();break;case"xy":case"uv":J=Je();break;case"index":case"ij":J=Zt();break}break}J&&(je(),Ot())},Sa={},uu=[],hf=[],df=[],SR=function(E){var M=s.state,$=M.arrangementObjective,H=M.arrangementOptions,q=M.items,J=M.piles,oe=E.length>=ee.size;$.forEach(function(de,ue){var Ie=typeof hf[ue]>"u"||oe?1/0:hf[ue],Ee=typeof df[ue]>"u"||oe?-1/0:df[ue],xe=oe;if(!oe&&uu[ue]&&$.length<3&&!H.forceDimReduction){var Se=0,Ce=ee.size,Ve=!1,He=!1;if(E.forEach(function(Re){var bt=uu[ue][Re];bt===Se&&(Se++,Ve=!0,xe=!0),bt===Ce&&(Ce--,He=!0,xe=!0)}),Ve){var qe=Object.entries(uu[ue]).find(function(Re){return Re[1]===Se}),$e=me(qe,1),mt=$e[0];Ie=Sa[mt][ue]}if(He){var Vt=Object.entries(uu[ue]).find(function(Re){return Re[1]===Ce}),it=me(Vt,1),An=it[0];Ee=Sa[An][ue]}}E.forEach(function(Re){var bt=J[Re].items.map(function(pt,Wt){return de.property(q[pt],pt,Wt,ce.get(pt))}),Qe=de.aggregator(bt);Qe<Ie&&(Ie=Qe,xe=!0),Qe>Ee&&(Ee=Qe,xe=!0),Sa[Re]||(Sa[Re]=[]),Sa[Re][ue]=Number.isNaN(Qe)?null:Qe,Sa[Re].splice($.length)}),uu[ue]=Bae(Sa,{getter:function(bt){return bt[ue]},comparator:de.inverse?Fae:BB,ignoreNull:!0}),xe&&(hf[ue]=Ie,df[ue]=Ee)}),uu.splice($.length),hf.splice($.length),df.splice($.length)},Id=[],ER=function(){var E=s.state.arrangementObjective,M=[b,x];return Id=E.map(function($,H){var q=Id[H],J=hf[H],oe=df[H];if(q){var de=q.domain(),ue=me(de,2),Ie=ue[0],Ee=ue[1];if(J===Ie&&oe===Ee)return Id[H]}var xe=$.inverted?[oe,J]:[J,oe],Se=Wl(wa.range()),Ce=Wl(wa.range());return $.scale().domain(xe).range([Se/2,M[H]-Ce/2])}),Promise.resolve()},Md=0,AR=function(){var se=On(Ct.mark(function E(M){var $,H,q,J,oe,de,ue;return Ct.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if($=s.state,H=$.arrangementObjective,q=$.arrangementOptions,J=$.dimensionalityReducer,oe=$.items,J){Ee.next=4;break}return console.warn("No dimensionality reducer provided. Unable to arrange piles by multiple dimensions."),Ee.abrupt("return",Promise.resolve());case 4:if(!(Md&&!M&&!q.runDimReductionOnPiles)){Ee.next=6;break}return Ee.abrupt("return",Promise.resolve());case 6:return Ga(),Ee.next=9,cc();case 9:return de=q.runDimReductionOnPiles===!0?Object.values(Sa).filter(function(xe){return xe[0]!==null}):Object.entries(oe).map(function(xe){var Se=me(xe,2),Ce=Se[0],Ve=Se[1];return H.flatMap(function(He){return He.property(Ve,Ce,0,ce.get(Ce))})}),ue=J.fit(de),Zi.clear(),ue.then(function(){Md++,yi()}),Ee.abrupt("return",ue);case 14:case"end":return Ee.stop()}},E)}));return function(M){return se.apply(this,arguments)}}(),CR=function(E,M){var $=s.state,H=$.arrangementObjective,q=$.arrangementOptions;return SR(E),H.length>2||q.forceDimReduction?AR(M):H.length>1?ER():Promise.resolve()},TR=function(){var se=On(Ct.mark(function E(M,$){var H,q,J,oe;return Ct.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(H=s.state,q=H.arrangementType,J=H.piles,oe=M.length?M:Object.keys(J),q!=="data"){ue.next=6;break}return T=CR(oe,$),ue.next=6,T;case 6:q2();case 7:case"end":return ue.stop()}},E)}));return function(M,$){return se.apply(this,arguments)}}(),PR=function(){return s.state.arrangementType===null?[]:[].concat(lt(j("arrangeOnGrouping",!1,!0)),lt(j("arrangementOptions",{},!0)),lt(j("arrangementObjective",null,!0)),lt(j("arrangementType",null,!0)))},Oo=new Map,f0=new Map,OR=function(){var E=s.state,M=E.items,$=E.piles,H=E.pileLabel,q=E.pileLabelColor,J=E.pileLabelText,oe=E.pileLabelTextMapping,de=E.pileLabelTextColor,ue=E.pileLabelFontSize,Ie=E.pileLabelTextStyle;Oo.forEach(function(xe){xe.pixiText&&xe.pixiText.destroy()}),Oo.clear(),f0.clear();var Ee=new Set;Object.values(M).forEach(function(xe){var Se=H.flatMap(function(Ce){return Ce(xe)}).join("-");f0.set(xe.id,Se),!Ee.has(Se)&&Se&&(Oo.set(Se,{text:Se,index:Ee.size}),Ee.add(Se))}),Oo.forEach(function(xe){var Se;if(q!==null)if(Yt(q))Se=fc(q(xe.text,Oo));else{var Ce=q;Array.isArray(q)||(Ce=[q]);var Ve=Ce.length;Se=fc(Ce[xe.index%Ve])}else{var He=DC.length;Se=fc(DC[xe.index%He])}xe.color=Se;var qe=Yt(J)?Object.values($).some(function(Vt){return J(Vt)}):J;if(qe){var $e=xe.text;Yt(oe)?$e=oe(xe.text,Oo):Array.isArray(J)&&($e=J[xe.index]);var mt=new s0($e,pu({fill:de,fontSize:ue*2*window.devicePixelRatio,align:"center"},Ie||{}));mt.updateText(),xe.texture=mt.texture,xe.pixiText=mt}})},IR=function(E,M){var $=s.state.pileLabelSizeTransform,H=E.reduce(function(q,J){return q[J]=+!$,q},{});return $?(M.forEach(function(q){H[q]++}),$(Object.values(H),Object.keys(H))):Object.values(H)},h0=function(E,M){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,H=ee.get(M);if(H){if(!s.state.pileLabel){H.drawLabel([]);return}var q=s.state,J=q.pileLabel,oe=q.items;(!f0.size||$)&&OR();var de=E.items.flatMap(function(xe){return J.map(function(Se){return Se(oe[xe])}).join("-")}).filter(function(xe){return xe.length}),ue=TB(de);ue.sort(function(xe,Se){return(Oo.get(xe.toString()).index||1/0)-(Oo.get(Se.toString()).index||1/0)});var Ie=ue.length>1?IR(ue,de):[1],Ee=ue.reduce(function(xe,Se){var Ce=Se&&Se.toString&&Oo.get(Se.toString())||FC;return xe[0].push(Ce.text),xe[1].push(Ce.color),xe[2].push(Ce.texture),xe},[[],[],[]]);H.drawLabel.apply(H,lt(Ee).concat([Ie]))}},vf=[],pf=[],Z2=0,MR=function(E){if(E.length){vf.push.apply(vf,lt(E));var M=++Z2;Promise.all(vf).then(function(){if(M===Z2)return Promise.all(pf.map(function($){return $()}))}).then(function(){pf.splice(0,pf.length),vf.splice(0,vf.length),S.textureGC.run(),o.publish("itemUpdate")})}},DR=function(){if(!_){var E=s.state,M=new Set,$=[],H=[];if(l.items!==E.items&&l.itemRenderer){var q=pu({},l.items),J={},oe={},de={};Object.entries(E.items).forEach(function(Re){var bt=me(Re,2),Qe=bt[0],pt=bt[1];l.items[Qe]?pt.src!==l.items[Qe].src&&(oe[Qe]=pt,Object.values(E.piles).forEach(function(Wt){Wt.items.length>1&&Wt.items.includes(Qe)&&(de[Wt.id]=Wt)})):J[Qe]=pt,delete q[Qe]});var ue=Object.keys(J).length,Ie=Object.keys(oe).length,Ee=Object.keys(q).length,xe=Object.keys(de).length;ue&&$.push(Sl(J)),Ie&&$.push(_l(oe)),Ee&&$.push(fn(q)),xe&&$.push(Object.entries(de).forEach(function(Re){var bt=me(Re,2),Qe=bt[0],pt=bt[1],Wt=ee.get(Qe);Wt.cover&&Tl(pt,Wt),h0(pt,Qe)})),(ue||Ee)&&(M.add("grid"),M.add("layout"))}if(Object.values(E.items).length&&(l.itemRenderer!==E.itemRenderer||l.previewRenderer!==E.previewRenderer||l.coverRenderer!==E.coverRenderer||l.previewAggregator!==E.previewAggregator||l.coverAggregator!==E.coverAggregator)&&(ce.size?$.push(_l()):$.push(Sl(E.items))),l.itemSizeRange!==E.itemSizeRange&&M.add("layout"),l.piles!==E.piles&&Object.keys(l.piles).length){var Se={},Ce=[];Object.entries(E.piles).forEach(function(Re){var bt=me(Re,2),Qe=bt[0],pt=bt[1];l.piles[Qe]&&pt!==l.piles[Qe]&&(Se[Qe]=pt)}),Object.entries(Se).forEach(function(Re){var bt=me(Re,2),Qe=bt[0],pt=bt[1],Wt=pt.items.length!==l.piles[Qe].items.length,St=(pt.x!==l.piles[Qe].x||pt.y!==l.piles[Qe].y)&&pt.items.length!==0;Wt&&(au(pt,Qe),H.push(Qe)),St&&Ce.push(vs(pt,Qe)),(Wt||St)&&(To(pt,Qe),h0(pt,Qe))}),Ce.length?(p=!1,Promise.all(Ce).then(function(Re){o.publish("pilesPositionEnd",{targets:Re})})):p&&(p=!1,o.publish("pilesPositionEnd",{targets:Ce}))}if(ee.size&&(l.pileLabel!==E.pileLabel||l.pileLabelColor!==E.pileLabelColor||l.pileLabelText!==E.pileLabelText||l.pileLabelAlign!==E.pileLabelAlign||l.pileLabelFontSize!==E.pileLabelFontSize||l.pileLabelHeight!==E.pileLabelHeight||l.pileLabelStackAlign!==E.pileLabelStackAlign)&&Object.entries(E.piles).filter(function(Re){return Re[1].items.length}).forEach(function(Re,bt){var Qe=me(Re,2),pt=Qe[0],Wt=Qe[1];h0(Wt,pt,!bt)}),ee.size&&(l.pileItemOpacity!==E.pileItemOpacity||l.pileItemBrightness!==E.pileItemBrightness||l.pileItemInvert!==E.pileItemInvert||l.pileItemTint!==E.pileItemTint)&&Object.entries(E.piles).forEach(function(Re){var bt=me(Re,2),Qe=bt[0],pt=bt[1];hr(pt,Qe)}),ee.size&&(l.pileOpacity!==E.pileOpacity||l.pileBorderSize!==E.pileBorderSize||l.pileScale!==E.pileScale||l.pileSizeBadge!==E.pileSizeBadge||l.pileSizeBadgeAlign!==E.pileSizeBadgeAlign||l.pileVisibilityItems!==E.pileVisibilityItems)&&(Object.entries(E.piles).forEach(function(Re){var bt=me(Re,2),Qe=bt[0],pt=bt[1];To(pt,Qe)}),E.pileSizeBadge===!1&&u.clear()),l.orderer!==E.orderer&&M.add("layout"),(l.itemSize!==E.itemSize||l.columns!==E.columns||l.rowHeight!==E.rowHeight||l.cellAspectRatio!==E.cellAspectRatio||l.cellPadding!==E.cellPadding||l.cellSize!==E.cellSize||l.orderer!==E.orderer||l.pileCellAlignment!==E.pileCellAlignment)&&(M.add("grid"),M.add("layout")),(l.itemSize!==E.itemSize||l.pileItemOffset!==E.pileItemOffset||l.pileItemRotation!==E.pileItemRotation||l.previewPadding!==E.previewPadding||l.previewSpacing!==E.previewSpacing||l.previewScaleToCover!==E.previewScaleToCover||l.previewOffset!==E.previewOffset||l.previewItemOffset!==E.previewItemOffset)&&M.add("positionItems"),ee.size&&l.previewScaling!==E.previewScaling&&Object.values(E.piles).forEach(function(Re){Po(Re)}),(l.tempDepileDirection!==E.tempDepileDirection||l.tempDepileOneDNum!==E.tempDepileOneDNum)&&M.add("layout"),l.temporaryDepiledPiles!==E.temporaryDepiledPiles&&(l.temporaryDepiledPiles.length&&Ke(l.temporaryDepiledPiles),E.temporaryDepiledPiles.length?(ee.forEach(function(Re){Re.disableInteractivity()}),Fe(E.temporaryDepiledPiles)):ee.forEach(function(Re){Re.enableInteractivity()}),he()),l.focusedPiles!==E.focusedPiles){var Ve=Wse(l.focusedPiles,E.focusedPiles),He=me(Ve,2),qe=He[0],$e=He[1];qe.filter(function(Re){return ee.has(Re)}).forEach(function(Re){var bt=ee.get(Re);bt.isTempDepiled||(bt.blur(),bt.isFocus=!1)}),$e.filter(function(Re){return ee.has(Re)}).forEach(function(Re){var bt=ee.get(Re);bt.isTempDepiled?bt.active():bt.focus(),bt.isFocus=!0});var mt=s.state.piles;$e.length&&o.publish("pileFocus",{targets:$e.map(function(Re){return mt[Re]})}),qe.length&&o.publish("pileBlur",{targets:qe.map(function(Re){return mt[Re]})}),he()}if(l.magnifiedPiles!==E.magnifiedPiles&&(l.magnifiedPiles.map(function(Re){return ee.get(Re)}).filter(function(Re){return Re}).forEach(function(Re){Re.unmagnify(),delete Re.magnifiedByWheel,Me(Re.id),Ae()}),E.magnifiedPiles.map(function(Re){return ee.get(Re)}).filter(function(Re){return Re}).forEach(function(Re){Re.magnifiedByWheel||Re.magnify(),re(Re.graphics)}),he()),l.depileMethod!==E.depileMethod&&M.add("layout"),l.depiledPile!==E.depiledPile&&E.depiledPile.length!==0&&Xe(E.depiledPile[0]),l.showGrid!==E.showGrid&&(E.showGrid?Bt():jt()),Object.keys(E.items).length&&E.arrangementType&&(l.arrangementType!==E.arrangementType||l.arrangementObjective!==E.arrangementObjective||$.length||H.length||E.arrangementObjective.length>2&&l.dimensionalityReducer!==E.dimensionalityReducer)){M.add("layout");var Vt=function(Re,bt){return On(Ct.mark(function Qe(){return Ct.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return Wt.abrupt("return",TR(Re,bt));case 1:case"end":return Wt.stop()}},Qe)}))}([].concat(H),l.arrangementObjective!==E.arrangementObjective);$.length?pf.push(Vt):Vt()}if(l.navigationMode!==E.navigationMode&&M.add("navigation"),(l.darkMode!==E.darkMode||l.haltBackgroundOpacity!==E.haltBackgroundOpacity)&&bl(),l.darkMode!==E.darkMode&&(Ya(),E.darkMode?(c=ow,Wy(t,"pilingjs-darkmode")):(c=tm,Tae(t,"pilingjs-darkmode"))),(l.darkMode!==E.darkMode||l.lassoFillColor!==E.lassoFillColor||l.lassoFillOpacity!==E.lassoFillOpacity||l.lassoShowStartIndicator!==E.lassoShowStartIndicator||l.lassoStartIndicatorOpacity!==E.lassoStartIndicatorOpacity||l.lassoStrokeColor!==E.lassoStrokeColor||l.lassoStrokeOpacity!==E.lassoStrokeOpacity||l.lassoStrokeSize!==E.lassoStrokeSize)&&Xa(),l=E,o.publish("update",{action:s.lastAction}),M.has("grid")&&mi(),M.has("layout")||$.length>0||H.length>0){var it=l.arrangeOnGrouping?[]:[].concat(H),An=function(Re){return On(Ct.mark(function bt(){return Ct.wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.abrupt("return",ds(Re));case 1:case"end":return pt.stop()}},bt)}))}(it);$.length?pf.push(An):An()}M.has("navigation")&&q2(),M.has("positionItems")&&Object.values(l.piles).filter(function(Re){return Re.items.length>1}).forEach(function(Re){xa(Re.id,{all:!0})}),MR($)}},FR=function(){ee.forEach(function(E){E&&E.blur()})},BR=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=E.serialize,$=M===void 0?!1:M;return $?due(s.export()):s.export()},kR=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=M.deserialize,H=$===void 0?!1:$,q=M.overwriteState,J=q===void 0?!1:q,oe=M.debug,de=oe===void 0?!1:oe;P=!1;var ue,Ie=new Promise(function(Ee){ue=o.subscribe("update",function(xe){var Se=xe.action;Se.type.indexOf("OVERWRITE")>=0&&Ee()})});return s.import(H?Gse(E):E,{overwriteState:J,debug:de}),FR(),Ie.then(function(){o.unsubscribe(ue)}),Ie},ea=function(E){return Yt(E)?E:function(M){return M[E]}},d0=function(E){if(Yt(E.aggregator))return E.aggregator;switch(E.aggregator){case"max":return E.propertyIsVector?wae:SC;case"median":return E.propertyIsVector?xae:OB;case"min":return E.propertyIsVector?Sae:_ae;case"sum":return E.propertyIsVector?Aae:L2;case"mean":default:return E.propertyIsVector?Bf:Wl}},RR=function(E){if(Yt(E))return E;switch(E){case"linear":default:return Zl}},LR=function(E){Array.isArray(E)||(E=[E]);var M=[];return E.forEach(function($){var H={};$.constructor!==Object?(H.property=ea($),H.aggregator=$.propertyIsVector?Bf:Wl,H.scale=Zl,H.inverse=!1):(H.property=ea($.property),H.aggregator=d0($),H.scale=RR($.scale),H.inverse=!!$.inverse),M.push(H)}),M},Q2=function(E,M){var $={};return E.constructor!==Object?($.property=ea(E),$.isCustom=Yt(E),$.aggregator=M?Bf:Wl):($.property=ea(E.property),$.aggregator=d0(E)),$},NR=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=M;switch(E){case"data":H=LR(M);break;case"xy":case"ij":case"uv":case"custom":H=Q2(M,!0);break;case"index":H=Q2(M);break}var q=!!$.onGrouping;return delete $.onGrouping,p=!0,s.dispatch(ys([].concat(lt(j("arrangeOnGrouping",q,!0)),lt(j("arrangementOptions",$,!0)),lt(j("arrangementObjective",H,!0)),lt(j("arrangementType",E,!0))))),new Promise(function(J){o.subscribe("pilesPositionEnd",J,1)})},UR=function(E){return E||1},$R=function(E){return E||1},VR=function(E){var M=null;return bp(E)?M=pu(pu({},M),E):+E&&(M.columns={columns:+E,cellAspectRatio:Pe.cellAspectRatio}),M},zR=function(E){var M=Array.isArray(E)?E:[E];return M.map(function($){var H={};return bp(E)?(H.property=ea($.property),H.aggregator=Yt($.aggregator)?$.aggregator:kC):(H.property=ea($),H.aggregator=kC),H})},jR=function(E){var M=Array.isArray(E)?E:[E];return M.map(function($){var H={};return $.constructor!==Object?(H.property=ea($),H.aggregator=E.propertyIsVector?Bf:Wl):(H.property=ea($.property),H.aggregator=d0($)),H})},HR=function(E,M){switch(E){case"overlap":return $R(M);case"grid":return VR(M);case"distance":return UR(M);case"category":return zR(M);case"cluster":return jR(M);default:return M}},GR=function(){var E=s.state.piles,M=Z.all().reduce(function($,H){var q=H.maxX-H.minX,J=H.maxY-H.minY;return $[H.id]={cX:(H.minX+q/2)/b,cY:(H.minY+q/2)/x,width:q,height:J,id:H.id},$},{});return Object.entries(E).forEach(function($){var H=me($,2),q=H[0],J=H[1];J.items.forEach(function(oe){M[oe]||(M[oe]=pu(pu({},M[q]),{},{id:oe}))})}),Object.values(M)},J2=function(E){var M={};if(bp(E)?(M.threshold=E.threshold,E.basedOn&&(M.basedOn=ea(E.basedOn))):Array.isArray(E)?(M.threshold=E[0],E.length>1&&(M.basedOn=ea(E[1]))):M.threshold=E,M.basedOn){var $=s.state,H=$.items,q=$.piles;M.basedOn=Object.values(q).flatMap(function(J){return J.items.map(function(oe,de){var ue=ce.get(oe),Ie=M.basedOn(H[oe],oe,de,ue),Ee=me(Ie,2),xe=Ee[0],Se=Ee[1];return{id:oe,cX:xe,cY:Se,width:ue.image.width,height:ue.image.height}})})}else M.basedOn=GR();return M},e_=function(E){var M=Array.isArray(E)?E:[E];return M.map(function($){return ea($)})},YR=function(E,M){switch(E){case"overlap":return J2(M);case"distance":return J2(M);case"category":return e_(M);case"cluster":return e_(M);default:return M}},XR=function(E){if(E===null)return null;var M=Array.isArray(E)?E:[E];return M.map(function($){return ea($)})},WR=function(E){if(Yt(E))return E;switch(E){case"histogram":return function(M){var $=Object.values(M),H=SC($);return $.map(function(q){return q/H})};default:return function(M){return M.map(function(){return 1})}}},v0=!1,t_=function(E,M){if(!v0){v0=!0;var $=s.state.piles,H=$[E].x,q=$[E].y,J=function(){v0=!1,s.dispatch(At.mergePiles([E].concat(lt(M)),[H,q],E))},oe=function(){++de===M.length&&J()},de=0;fe.addBatch(M.map(function(ue){return fr(ee.get(ue),H,q,{onDone:oe})}))}},Dd,p0=function(E){var M=s.state.piles;E.filter(function($){return ee.has($)&&ee.get($).size===1}).forEach(function($){ce.get($).setOriginalPosition([M[$].x,M[$].y])})},KR=function(E){var M=E.target;Dd=!1,Me(M.id);var $=ee.get(M.id),H=$.graphics;if(!$.isTempDepiled){if($.x!==H.beforeDragX||$.y!==H.beforeDragY){var q=De(M.id),J=Z.search(q).filter(function(qe){return qe.id!==M.id});if(J.length===1){if(!$.isTempDepiled){var oe=J[0].id,de=ee.get(oe),ue=s.state.piles[oe];if(Dd=!de.isTempDepiled,Dd){$.items.forEach(function(qe){qe.item.tmpAbsX=H.x,qe.item.tmpAbsY=H.y,qe.item.tmpRelScale=$.scale}),p0([oe,M.id]);var Ie=s.state,Ee=Ie.previewAggregator,xe=Ie.previewRenderer;Ee||xe?t_(oe,[M.id]):s.dispatch(At.mergePiles([M.id,oe],[ue.x,ue.y],oe))}}}else{var Se=d([$.x,$.y]),Ce=me(Se,2),Ve=Ce[0],He=Ce[1];s.dispatch(At.movePiles([{id:M.id,x:Ve,y:He}]))}}Dd||Ae(),m0()}},g0=[],m0=function(){g0.map(function(E){return ee.get(E.id)}).filter(gr).forEach(function(E){E.blur()}),g0=[]},qR=function(E){if(!s.state.temporaryDepiledPiles.length){var M=Z.search(De(E)).filter(function($){return $.id!==E});m0(),M.map(function($){return ee.get($.id)}).filter(gr).forEach(function($){$.hover()}),g0=lt(M)}},ZR=function(E){var M=E.target,$=E.event,H=ee.get(M.id);if(H&&H.isMagnified){var q=$.data.getLocalPosition(H.graphics.parent);H.graphics.draggingMouseOffset[0]/=H.magnification,H.graphics.draggingMouseOffset[1]/=H.magnification,Eo(H,q.x-H.graphics.draggingMouseOffset[0],q.y-H.graphics.draggingMouseOffset[1])}s.dispatch(At.setMagnifiedPiles([])),re(H.graphics)},QR=function(E){var M=E.target;qR(M.id)},JR=function(E){var M=E.target,$=ee.get(M.id);re($.graphics)},e6=function(E){var M=E.target,$=ee.get(M.id);(!$||!$.isTempDepiled)&&Ae()},gf=function(E){E.style.display="none",t.removeChild(E)},t6=function(E,M){return function(){var $=s.state.depileMethod;$==="originalPos"?Dt(M):$==="cloestPos"&&s.dispatch(At.setDepiledPile([M])),s.dispatch(At.setFocusedPiles([])),gf(E)}},n6=function(E,M){return function(){var $=s.state,H=$.piles,q=$.temporaryDepiledPiles;if(H[M].items.length>1){var J=lt(q);J.includes(M)?J=J.filter(function(oe){return oe!==M}):J=[M],s.dispatch(At.setTemporaryDepiledPiles(lt(J)))}gf(E)}},r6=function(E){return function(){var M=s.state.showGrid;s.dispatch(At.setShowGrid(!M)),gf(E),he()}},i6=function(E,M){return function(){var $=ee.get(M);$.isMagnified?s.dispatch(At.setMagnifiedPiles([])):s.dispatch(At.setMagnifiedPiles([M])),gf(E)}},mf=[0,0],Fd=function(E){if(E.button===0){he(),mf=ke(E);var M=v(mf);I=!Z.collides({minX:M[0],minY:M[1],maxX:M[0]+1,maxY:M[1]+1}),ye(M)}},Bd=function(){I&&(I=!1,F?Qt():C&&st())},kd=function(E){I&&(E.shiftKey||F?W.extendDb(ke(E)):C&&ne(!1))},Rd=!1,n_=function(E){if(Rd){Rd=!1;return}Rd=!0,setTimeout(function(){Rd=!1},300);var M=t.querySelector("#piling-js-context-menu"),$=!!M;$&&t.removeChild(M);var H=ke(E);if(H[0]===mf[0]&&H[1]===mf[1]){var q=v(H),J=Z.search({minX:q[0],minY:q[1],maxX:q[0]+1,maxY:q[1]+1});if(J.length!==0)if(E.shiftKey){var oe=s.state.focusedPiles,de=J[0].id;oe.includes(de)?r_(de):s.dispatch(At.setFocusedPiles([].concat(lt(oe),[de])))}else if(E.altKey){var ue=s.state.depileMethod;ue==="originalPos"?Dt(J[0].id):ue==="cloestPos"&&s.dispatch(At.setDepiledPile([J[0].id])),s.dispatch(At.setFocusedPiles([]))}else J.forEach(function(Se){var Ce=ee.get(Se.id);Ce.isHover&&s.dispatch(At.setFocusedPiles([Se.id]))});else{var Ie=s.state,Ee=Ie.focusedPiles,xe=Ie.magnifiedPiles;Ee.length&&s.dispatch(At.setFocusedPiles([])),xe.length&&s.dispatch(At.setMagnifiedPiles([])),!$&&!Ee.length&&!xe.length&&W.showStartIndicator(mf)}}},r_=function(E){var M=s.state.focusedPiles,$=M.filter(function(H){return H!==E});$.length&&(s.dispatch(At.setFocusedPiles([E])),t_(E,$))},i_=function(E){var M=ke(E),$=v(M),H=s.state,q=H.temporaryDepiledPiles,J=H.piles,oe=Z.search({minX:$[0],minY:$[1],maxX:$[0]+1,maxY:$[1]+1});if(oe.length!==0&&!q.length){var de=oe[0].id;if(E.shiftKey)r_(de);else if(J[de].items.length>1){var ue=lt(q);ue.includes(de)?ue=ue.filter(function(Ie){return Ie!==de}):ue=[de],s.dispatch(At.setTemporaryDepiledPiles(lt(ue)))}}else s.dispatch(At.setTemporaryDepiledPiles([])),s.dispatch(At.setFocusedPiles([]))},Ld=function(E){if(E.altKey){var M=ke(E),$=v(M),H=Z.search({minX:$[0],minY:$[1],maxX:$[0]+1,maxY:$[1]+1});if(H.length!==0){var q=ee.get(H[0].id);E.preventDefault(),q.isMagnified?(q.magnifiedByWheel=!0,s.dispatch(At.setMagnifiedPiles([q.id]))):(delete q.magnifiedByWheel,s.dispatch(At.setMagnifiedPiles([]))),Lt(H[0].id,mae(E).pixelY)}}else C&&(ne(),ze())},y0=function(){D.y=-r.scrollTop,he()},a_=function(){var E=t.getBoundingClientRect(),M=E.width,$=E.height;b=M,x=$,S.resize(b,x),g&&g.setViewCenter([b/2,x/2]),R.width=M,R.height=$,mi(),o.publish("resize",{width:M,height:$})},Nd=Ky(a_,500),a6=function(){var E=Pe.align(ee),M=[];E.filter(function($){var H=$.id,q=$.x,J=$.y,oe=ee.get(H),de=Cu(q,J,oe.x,oe.y);return de<3?(fs(oe,q,J),de>aw&&Me(oe.id),!1):!0}).forEach(function($,H,q){var J=$.id,oe=$.x,de=$.y,ue=ee.get(J),Ie=Cu(oe,de,ue.x,ue.y);M.push(Fs({duration:Math.max(125,vh(Math.min(Ie,250)/250)*250),interpolator:ph,endValue:[oe,de],getter:function(){return[ue.x,ue.y]},setter:function(xe){fs(ue,xe[0],xe[1])},onDone:function(){Me(ue.id),H===q.length-1&&(s.dispatch(At.movePiles(E)),we(),Ot(),he())}}))}),fe.addBatch(M)},Ud=function(){var E=t.querySelector("#piling-js-context-menu");E&&t.removeChild(E)},o6=function(){a6(),Ud()},s6=function(E,M){return function(){Rr.enter([M]),Dt(M),gf(E)}},o_=function(E){Ud();var M=ke(E),$=v(M);if(!E.altKey){var H=s.state,q=H.pileContextMenuItems,J=H.showGrid;E.preventDefault();var oe=Z.search({minX:$[0],minY:$[1],maxX:$[0]+1,maxY:$[1]+1}),de=oe.length>0,ue=Pge({customItems:q.filter(function(it){return it.label&&it.callback})});t.appendChild(ue);var Ie=ue.querySelector("#depile-button"),Ee=ue.querySelector("#temp-depile-button"),xe=ue.querySelector("#browse-separately"),Se=ue.querySelector("#grid-button"),Ce=ue.querySelector("#align-button"),Ve=ue.querySelector("#magnify-button");if(de){Se.style.display="none",Ce.style.display="none";var He;oe.forEach(function(it){ee.get(it.id).isHover&&(He=ee.get(it.id))}),He&&He.size===1?(Ie.setAttribute("disabled",""),Ie.setAttribute("class","inactive"),Ee.setAttribute("disabled",""),Ee.setAttribute("class","inactive"),xe.setAttribute("disabled",""),xe.setAttribute("class","inactive")):He.isTempDepiled&&(Ie.setAttribute("disabled",""),Ie.setAttribute("class","inactive"),Ve.setAttribute("disabled",""),Ve.setAttribute("class","inactive"),xe.setAttribute("disabled",""),xe.setAttribute("class","inactive"),Ee.innerHTML="Close Temp. Depile"),He.isMagnified&&(Ve.innerHTML="Unmagnify"),ue.style.display="block";var qe=ue.getBoundingClientRect(),$e=qe.width;M[0]>a.getBoundingClientRect().width-$e?ue.style.left="".concat(M[0]-$e,"px"):ue.style.left="".concat(M[0],"px"),ue.style.top="".concat(M[1]+D.y,"px"),Ie.addEventListener("click",t6(ue,He.id),Si),Ee.addEventListener("click",n6(ue,He.id),Si),xe.addEventListener("click",s6(ue,He.id),Si),Ve.addEventListener("click",i6(ue,He.id),Si),q.forEach(function(it,An){var Re=it.id?ue.querySelector("#".concat(it.id)):ue.querySelector("#piling-js-context-menu-custom-item-".concat(An));Re.addEventListener("click",function(){it.callback(pu({id:He.id},s.state.piles[He.id])),it.keepOpen||Ud()},{once:!it.keepOpen,passive:!0})})}else{Ie.style.display="none",Ee.style.display="none",xe.style.display="none",Ve.style.display="none",J&&(Se.innerHTML="Hide Grid"),ue.style.display="block";var mt=ue.getBoundingClientRect(),Vt=mt.width;M[0]>a.getBoundingClientRect().width-Vt?ue.style.left="".concat(M[0]-Vt,"px"):ue.style.left="".concat(M[0],"px"),ue.style.top="".concat(M[1]+D.y,"px"),Se.addEventListener("click",r6(ue),Si),Ce.addEventListener("click",o6,Si),q.forEach(function(it,An){var Re=it.id?ue.querySelector("#".concat(it.id)):ue.querySelector("#piling-js-context-menu-custom-item-".concat(An));Re.addEventListener("click",function(){it.callback(),it.keepOpen||Ud()},{once:!it.keepOpen,passive:!0})})}}},u6=function(E){E.setEasing(s.state.easing),fe.add(E)},l6=function(E){fe.cancel(E)},$d,c6=function(){window.addEventListener("resize",Nd,Si),window.addEventListener("orientationchange",Nd,Si),a.addEventListener("contextmenu",o_,IC),a.addEventListener("click",n_,Si),a.addEventListener("dblclick",i_,Si),o.subscribe("pileDragStart",ZR),o.subscribe("pileDragMove",QR),o.subscribe("pileDragEnd",KR),o.subscribe("pileEnter",JR),o.subscribe("pileLeave",e6),o.subscribe("startAnimation",u6),o.subscribe("cancelAnimation",l6),o.subscribe("updatePileBounds",rt),$d=s.subscribe(DR),t.appendChild(r),t.appendChild(Rr.nav),t.appendChild(Le.element),Wy(t,"pilingjs"),s.state.darkMode&&Wy(t,"pilingjs-darkmode"),t.style.overflow="hidden",r.appendChild(a),r.appendChild(i),r.appendChild(W.startIndicator),r.style.position="absolute",r.style.overflowX="hidden",r.style.top=0,r.style.right=0,r.style.bottom=0,r.style.left=0,a.style.position="sticky",a.style.display="block",a.style.top="0px",a.style.left="0px",a_(),Dn(),Zt(),Y();var E=Q(n);return!n.piles&&n.items&&s.dispatch(At.initPiles(n.items)),E},f6=function(){for(_=!0,window.removeEventListener("mousedown",Fd),window.removeEventListener("mouseup",Bd),window.removeEventListener("mousemove",kd),window.removeEventListener("resize",Nd),window.removeEventListener("orientationchange",Nd),r.removeEventListener("scroll",y0),a.removeEventListener("contextmenu",o_),a.removeEventListener("click",n_),a.removeEventListener("dblclick",i_),a.removeEventListener("wheel",Ld),s.reset(),k.destroy(!0),k=null,S.destroy(!0),S=null,W.destroy(),u.destroy(),$d&&($d(),$d=void 0);t.firstChild;)t.firstChild.remove();o.clear()},h6=c6();return{get renderer(){return S},get version(){return Sp},arrangeBy:NR,destroy:f6,exportState:BR,get:z,groupBy:cf,halt:Ga,importState:kR,render:he,resume:yi,set:Q,splitAll:_R,splitBy:K2,subscribe:o.subscribe,unsubscribe:o.unsubscribe,whenInit:h6}},Vge=function(){var e=On(Ct.mark(function t(n){var r,i,a,o,s,u,l,c,h,f,d,v=arguments;return Ct.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(r=v.length>1&&v[1]!==void 0?v[1]:{},i=r.width,a=i===void 0?128:i,o=r.height,s=o===void 0?128:o,u=r.color,l=u===void 0?"black":u,c=r.background,h=c===void 0?null:c,f=typeof n=="string"||n instanceof String?n:new XMLSerializer().serializeToString(n),f[0]==="<"){p.next=9;break}return p.next=5,fetch(f);case 5:return d=p.sent,p.next=8,d.text();case 8:f=p.sent;case 9:return p.abrupt("return",new Promise(function(y,m){var w=new Image,b=l&&"color: ".concat(l),x=h&&"background: ".concat(h),_=[b,x].filter(function(j){return j}),S='style="'.concat(_.join("; "),'"'),P=a&&'width="'.concat(a,'"'),C=s&&'height="'.concat(s,'"'),B=[P,C].filter(function(j){return j}).join(" ");f=f.slice(f.indexOf("<svg"));var T=f.indexOf(">"),k=f.slice(0,T+1),D=k.indexOf('width="');if(D>=0){var O=k.indexOf('"',D+7);k=k.slice(0,D)+k.slice(O+1)}var N=k.indexOf('height="');if(N>=0){var R=k.indexOf('"',N+8);k=k.slice(0,N)+k.slice(R+1)}var U=k.indexOf('style="');if(U>=0){var V=k.indexOf('"',U+7);k=k.slice(0,U)+k.slice(V+1)}f=[[k.slice(0,5),B,S,k.slice(5)].join(" "),f.slice(T+1)].join("");var z="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(f))));w.onload=function(){y(w)},w.onerror=function(j){j.message="SVG Renderer: Could not render SVG as an image.",m(j)},w.src=z}));case 10:case"end":return p.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),zge=function(t){return function(n){return Promise.all(n.map(function(r){return Vge(r,t)}))}},jge=function(t,n){var r=zge(n);return function(i){return r(i.map(function(a){var o=t(a);return Yt(o.node)?o.node():o}))}};const fT=0,Hge={__name:"PilingView",props:["data"],setup(e){const n=go(e.data),r=ot(null),i=Array.from(new Set(n.map(s=>s.pathList[fT]))),a=s=>Vm(i.indexOf(s)/i.length);pa(()=>{setTimeout(()=>{o(r.value)},1e3)});function o(s){s.innerHTML="";const u=s.getBoundingClientRect().width,l=s.getBoundingClientRect().height,c=Math.ceil(Math.sqrt(n.length*(u/l))),h=n.map(d=>({id:d.id,src:d})),f=jge(d=>{const v=d.pathList[fT],g=pP("svg").attr("viewBox",[0,0,24,24]);return g.append("path").attr("d",oq).attr("fill",a(v)),g.append("text").attr("x",12).attr("y",Math.ceil(u/c/6)).attr("text-anchor","middle").attr("paint-order","stroke").attr("stroke","white").attr("stroke-width",2).attr("font-size",Math.ceil(u/c/6)).text(d.name),g.node()});$ge(s,{items:h,itemRenderer:f,pileItemOffset:[2,2]})}return(s,u)=>(mn(),sa("div",{ref_key:"pilingElement",ref:r,class:"piling-container"},null,512))}},hT=0,Gge={__name:"D3View",props:["data"],setup(e){const n=e.data,r=ot();Ec(n,o=>o.pathList.length),pa(()=>{setTimeout(()=>{i(r.value)},100)});function i(o){const s=gn(o),u=o.getBoundingClientRect().width,l=o.getBoundingClientRect().height;s.selectAll("*").remove();const c=16,h=20,f=16,d=16,v=16,g=16,p=Array.from(new Set(n.map(R=>R.pathList[hT]))),y=n.map(R=>({id:R.path,name:R.name,text:R.text,group:R.pathList[hT],x:a(g,u-d-c),y:a(f,l-v-h),r:Math.max(c,h)})),m=R=>Vm(p.indexOf(R)/p.length),w=s.append("g").attr("cursor","grab");w.selectAll("path").data(y).join("path").attr("d",O3).attr("fill",R=>m(R.group)).attr("transform",R=>`translate(${R.x}, ${R.y})`).attr("pointer-events","all").call(yP().on("start",k).on("drag",D).on("end",O)).on("mouseenter",b).on("mousemove",x).on("mouseleave",_).on("click",T),s.call(d3().extent([[0,0],[u,l]]).scaleExtent([.5,8]).on("zoom",N));function b(R,U){U!==null&&gn(".tooltip").style("display","block").style("opacity",1).text(B(U.text))}function x(R,U){U!==null&&C(R.x,R.y)}function _(R,U){U!==null&&gn(".tooltip").style("display","none").style("opacity",0).text("")}const S=8,P=-8;function C(R,U){const V=gn(".tooltip"),z=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),j=V.node().getBoundingClientRect().width+2,X=V.node().getBoundingClientRect().height+2;let Q=window.scrollX+R-P;Q>=z-j&&(Q=R-j+P);let te=window.scrollY+U-X-S;te<=0&&(te=0),V.style("left",`${Q}px`).style("top",`${te}px`)}function B(R){return R.trim().replace(/\n\s*\n/g,`
`)}function T(R,U){R.defaultPrevented}function k(){gn(".tooltip").style("display","none").style("opacity",0),gn(this).raise(),w.attr("cursor","grabbing")}function D(R,U){gn(this).attr("transform",V=>`translate(${V.x=R.x}, ${V.y=R.y})`)}function O(){gn(".tooltip").style("display","block").style("opacity",1),w.attr("cursor","grab")}function N({transform:R}){w.attr("transform",R)}}function a(o,s){return Math.random()*(s-o)+o}return(o,s)=>(mn(),sa("svg",{ref_key:"vis",ref:r},null,512))}};const Yge=Ye({...qt(),...$L({fullHeight:!0}),...cr()},"VApp"),Xge=_t()({name:"VApp",props:Yge(),setup(e,t){let{slots:n}=t;const r=Br(e),{layoutClasses:i,getLayoutItem:a,items:o,layoutRef:s}=jL(e),{rtlClasses:u}=yo();return $t(()=>{var l;return G("div",{ref:s,class:["v-application",r.themeClasses.value,i.value,u.value,e.class],style:[e.style]},[G("div",{class:"v-application__wrap"},[(l=n.default)==null?void 0:l.call(n)])])}),{getLayoutItem:a,items:o,theme:r}}});const dR=Ye({text:String,...qt(),...tr()},"VToolbarTitle"),vR=_t()({name:"VToolbarTitle",props:dR(),setup(e,t){let{slots:n}=t;return $t(()=>{const r=!!(n.default||n.text||e.text);return G(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var i;return[r&&G("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(i=n.default)==null?void 0:i.call(n)])]}})}),{}}}),Wge=[null,"prominent","default","comfortable","compact"],pR=Ye({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Wge.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...qs(),...qt(),...Qs(),...ma(),...tr({tag:"header"}),...cr()},"VToolbar"),dT=_t()({name:"VToolbar",props:pR(),setup(e,t){var d;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=vo(Pt(e,"color")),{borderClasses:a}=Zs(e),{elevationClasses:o}=Js(e),{roundedClasses:s}=ya(e),{themeClasses:u}=Br(e),{rtlClasses:l}=yo(),c=dt(!!(e.extended||(d=n.extension)!=null&&d.call(n))),h=ae(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=ae(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Hs({VBtn:{variant:"text"}}),$t(()=>{var y;const v=!!(e.title||n.title),g=!!(n.image||e.image),p=(y=n.extension)==null?void 0:y.call(n);return c.value=!!(e.extended||p),G(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,a.value,o.value,s.value,u.value,l.value,e.class],style:[i.value,e.style]},{default:()=>[g&&G("div",{key:"image",class:"v-toolbar__image"},[n.image?G(ir,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):G(Wx,{key:"image-img",cover:!0,src:e.image},null)]),G(ir,{defaults:{VTabs:{height:Ft(h.value)}}},{default:()=>{var m,w,b;return[G("div",{class:"v-toolbar__content",style:{height:Ft(h.value)}},[n.prepend&&G("div",{class:"v-toolbar__prepend"},[(m=n.prepend)==null?void 0:m.call(n)]),v&&G(vR,{key:"title",text:e.title},{text:n.title}),(w=n.default)==null?void 0:w.call(n),n.append&&G("div",{class:"v-toolbar__append"},[(b=n.append)==null?void 0:b.call(n)])])]}}),G(ir,{defaults:{VTabs:{height:Ft(f.value)}}},{default:()=>[G(Ig,null,{default:()=>[c.value&&G("div",{class:"v-toolbar__extension",style:{height:Ft(f.value)}},[p])]})]})]})}),{contentHeight:h,extensionHeight:f}}}),Kge=Ye({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function qge(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0;const i=ot(null),a=dt(0),o=dt(0),s=dt(0),u=dt(!1),l=dt(!1),c=ae(()=>Number(e.scrollThreshold)),h=ae(()=>Du((c.value-a.value)/c.value||0)),f=()=>{const d=i.value;!d||n&&!n.value||(r=a.value,a.value="window"in d?d.pageYOffset:d.scrollTop,l.value=a.value<r,s.value=Math.abs(a.value-c.value))};return Et(l,()=>{o.value=o.value||a.value}),Et(u,()=>{o.value=0}),pa(()=>{Et(()=>e.scrollTarget,d=>{var g;const v=d?document.querySelector(d):window;v&&v!==i.value&&((g=i.value)==null||g.removeEventListener("scroll",f),i.value=v,i.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Oi(()=>{var d;(d=i.value)==null||d.removeEventListener("scroll",f)}),n&&Et(n,f,{immediate:!0}),{scrollThreshold:c,currentScroll:a,currentThreshold:s,isScrollActive:u,scrollRatio:h,isScrollingUp:l,savedScroll:o}}const Zge=Ye({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...pR(),...kT(),...Kge(),height:{type:[Number,String],default:64}},"VAppBar"),Qge=_t()({name:"VAppBar",props:Zge(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ot(),i=er(e,"modelValue"),a=ae(()=>{var m;const y=new Set(((m=e.scrollBehavior)==null?void 0:m.split(" "))??[]);return{hide:y.has("hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),o=ae(()=>{const y=a.value;return y.hide||y.inverted||y.collapse||y.elevate||y.fadeImage||!i.value}),{currentScroll:s,scrollThreshold:u,isScrollingUp:l,scrollRatio:c}=qge(e,{canScroll:o}),h=ae(()=>e.collapse||a.value.collapse&&(a.value.inverted?c.value>0:c.value===0)),f=ae(()=>e.flat||a.value.elevate&&(a.value.inverted?s.value>0:s.value===0)),d=ae(()=>a.value.fadeImage?a.value.inverted?1-c.value:c.value:void 0),v=ae(()=>{var w,b;if(a.value.hide&&a.value.inverted)return 0;const y=((w=r.value)==null?void 0:w.contentHeight)??0,m=((b=r.value)==null?void 0:b.extensionHeight)??0;return y+m});io(ae(()=>!!e.scrollBehavior),()=>{qo(()=>{a.value.hide?a.value.inverted?i.value=s.value>u.value:i.value=l.value||s.value<u.value:i.value=!0})});const{ssrBootStyles:g}=Zm(),{layoutItemStyles:p}=RT({id:e.name,order:ae(()=>parseInt(e.order,10)),position:Pt(e,"location"),layoutSize:v,elementSize:dt(void 0),active:i,absolute:Pt(e,"absolute")});return $t(()=>{const y=dT.filterProps(e);return G(dT,Rt({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...p.value,"--v-toolbar-image-opacity":d.value,height:void 0,...g.value},e.style]},y,{collapse:h.value,flat:f.value}),n)}),{}}}),Jge=_t()({name:"VAppBarTitle",props:dR(),setup(e,t){let{slots:n}=t;return $t(()=>G(vR,Rt(e,{class:"v-app-bar-title"}),n)),{}}});const eme=Ye({scrollable:Boolean,...qt(),...tr({tag:"main"})},"VMain"),tme=_t()({name:"VMain",props:eme(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=VL(),{ssrBootStyles:i}=Zm();return $t(()=>G(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,i.value,e.style]},{default:()=>{var a,o;return[e.scrollable?G("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function nme(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const i=dt(!1),a=dt(0),o=ae(()=>{const l=typeof i.value=="boolean"?"top":i.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[l]:Ft(a.value)}:{top:r.value.top}]});pa(()=>{Et(n,l=>{l?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)},{immediate:!0})}),Oi(()=>{window.removeEventListener("scroll",u)});let s=0;function u(){const l=s>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),h=parseFloat(r.value.top??0),f=window.scrollY-Math.max(0,a.value-h),d=c.height+Math.max(a.value,h)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-h?(i.value="top",a.value=h):l==="up"&&i.value==="bottom"||l==="down"&&i.value==="top"?(a.value=window.scrollY+c.top-v,i.value=!0):l==="down"&&d<=0?(a.value=0,i.value="bottom"):l==="up"&&f<=0&&(v?i.value!=="top"&&(a.value=-f+v+h,i.value="top"):(a.value=c.top+f,i.value="top")),s=window.scrollY}return{isStuck:i,stickyStyles:o}}const rme=100,ime=20;function vT(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function pT(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=vT(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-r)*Math.abs(i),n===e.length-1&&(t*=.5)}return vT(t)*1e3}function ame(){const e={};function t(i){Array.from(i.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new IL(ime))).push([i.timeStamp,a])})}function n(i){Array.from(i.changedTouches).forEach(a=>{delete e[a.identifier]})}function r(i){var l;const a=(l=e[i])==null?void 0:l.values().reverse();if(!a)throw new Error(`No samples for touch id ${i}`);const o=a[0],s=[],u=[];for(const c of a){if(o[0]-c[0]>rme)break;s.push({t:c[0],d:c[1].clientX}),u.push({t:c[0],d:c[1].clientY})}return{x:pT(s),y:pT(u),get direction(){const{x:c,y:h}=this,[f,d]=[Math.abs(c),Math.abs(h)];return f>d&&c>=0?"right":f>d&&c<=0?"left":d>f&&h>=0?"down":d>f&&h<=0?"up":ome()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function ome(){throw new Error}function sme(e){let{isActive:t,isTemporary:n,width:r,touchless:i,position:a}=e;pa(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("touchend",w,{passive:!0})}),Oi(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",w)});const o=ae(()=>["left","right"].includes(a.value)),{addMovement:s,endTouch:u,getVelocity:l}=ame();let c=!1;const h=dt(!1),f=dt(0),d=dt(0);let v;function g(x,_){return(a.value==="left"?x:a.value==="right"?document.documentElement.clientWidth-x:a.value==="top"?x:a.value==="bottom"?document.documentElement.clientHeight-x:Jl())-(_?r.value:0)}function p(x){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(x-d.value)/r.value:a.value==="right"?(document.documentElement.clientWidth-x-d.value)/r.value:a.value==="top"?(x-d.value)/r.value:a.value==="bottom"?(document.documentElement.clientHeight-x-d.value)/r.value:Jl();return _?Math.max(0,Math.min(1,S)):S}function y(x){if(i.value)return;const _=x.changedTouches[0].clientX,S=x.changedTouches[0].clientY,P=25,C=a.value==="left"?_<P:a.value==="right"?_>document.documentElement.clientWidth-P:a.value==="top"?S<P:a.value==="bottom"?S>document.documentElement.clientHeight-P:Jl(),B=t.value&&(a.value==="left"?_<r.value:a.value==="right"?_>document.documentElement.clientWidth-r.value:a.value==="top"?S<r.value:a.value==="bottom"?S>document.documentElement.clientHeight-r.value:Jl());(C||B||t.value&&n.value)&&(c=!0,v=[_,S],d.value=g(o.value?_:S,t.value),f.value=p(o.value?_:S),u(x),s(x))}function m(x){const _=x.changedTouches[0].clientX,S=x.changedTouches[0].clientY;if(c){if(!x.cancelable){c=!1;return}const C=Math.abs(_-v[0]),B=Math.abs(S-v[1]);(o.value?C>B&&C>3:B>C&&B>3)?(h.value=!0,c=!1):(o.value?B:C)>3&&(c=!1)}if(!h.value)return;x.preventDefault(),s(x);const P=p(o.value?_:S,!1);f.value=Math.max(0,Math.min(1,P)),P>1?d.value=g(o.value?_:S,!0):P<0&&(d.value=g(o.value?_:S,!1))}function w(x){if(c=!1,!h.value)return;s(x),h.value=!1;const _=l(x.changedTouches[0].identifier),S=Math.abs(_.x),P=Math.abs(_.y);(o.value?S>P&&S>400:P>S&&P>3)?t.value=_.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||Jl()):t.value=f.value>.5}const b=ae(()=>h.value?{transform:a.value==="left"?`translateX(calc(-100% + ${f.value*r.value}px))`:a.value==="right"?`translateX(calc(100% - ${f.value*r.value}px))`:a.value==="top"?`translateY(calc(-100% + ${f.value*r.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${f.value*r.value}px))`:Jl(),transition:"none"}:void 0);return{isDragging:h,dragProgress:f,dragStyles:b}}function Jl(){throw new Error}const ume=["start","end","left","right","top","bottom"],lme=Ye({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ume.includes(e)},sticky:Boolean,...qs(),...qt(),...PT(),...Qs(),...kT(),...ma(),...tr({tag:"nav"}),...cr()},"VNavigationDrawer"),cme=_t()({name:"VNavigationDrawer",props:lme(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{isRtl:a}=yo(),{themeClasses:o}=Br(e),{borderClasses:s}=Zs(e),{backgroundColorClasses:u,backgroundColorStyles:l}=vo(Pt(e,"color")),{elevationClasses:c}=Js(e),{displayClasses:h,mobile:f}=om(e),{roundedClasses:d}=ya(e),v=tD(),g=er(e,"modelValue",null,j=>!!j),{ssrBootStyles:p}=Zm(),{scopeId:y}=t0(),m=ot(),w=dt(!1),b=ae(()=>e.rail&&e.expandOnHover&&w.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=ae(()=>f1(e.location,a.value)),_=ae(()=>!e.permanent&&(f.value||e.temporary)),S=ae(()=>e.sticky&&!_.value&&x.value!=="bottom");io(()=>e.expandOnHover&&e.rail!=null,()=>{Et(w,j=>r("update:rail",!j))}),io(()=>!e.disableResizeWatcher,()=>{Et(_,j=>!e.permanent&&xr(()=>g.value=!j))}),io(()=>!e.disableRouteWatcher&&!!v,()=>{Et(v.currentRoute,()=>_.value&&(g.value=!1))}),Et(()=>e.permanent,j=>{j&&(g.value=!0)}),nm(()=>{e.modelValue!=null||_.value||(g.value=e.permanent||!f.value)});const{isDragging:P,dragProgress:C,dragStyles:B}=sme({isActive:g,isTemporary:_,width:b,touchless:Pt(e,"touchless"),position:x}),T=ae(()=>{const j=_.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):b.value;return P.value?j*C.value:j}),{layoutItemStyles:k,layoutItemScrimStyles:D}=RT({id:e.name,order:ae(()=>parseInt(e.order,10)),position:x,layoutSize:T,elementSize:b,active:ae(()=>g.value||P.value),disableTransitions:ae(()=>P.value),absolute:ae(()=>e.absolute||S.value&&typeof O.value!="string")}),{isStuck:O,stickyStyles:N}=nme({rootEl:m,isSticky:S,layoutItemStyles:k}),R=vo(ae(()=>typeof e.scrim=="string"?e.scrim:null)),U=ae(()=>({...P.value?{opacity:C.value*.2,transition:"none"}:void 0,...D.value}));Hs({VList:{bgColor:"transparent"}});function V(){w.value=!0}function z(){w.value=!1}return $t(()=>{const j=i.image||e.image;return G(pn,null,[G(e.tag,Rt({ref:m,onMouseenter:V,onMouseleave:z,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":w.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":S.value},o.value,u.value,s.value,h.value,c.value,d.value,e.class],style:[l.value,k.value,B.value,p.value,N.value,e.style]},y,n),{default:()=>{var X,Q,te,he;return[j&&G("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(X=i.image)==null?void 0:X.call(i,{image:e.image}):G("img",{src:e.image,alt:""},null)]),i.prepend&&G("div",{class:"v-navigation-drawer__prepend"},[(Q=i.prepend)==null?void 0:Q.call(i)]),G("div",{class:"v-navigation-drawer__content"},[(te=i.default)==null?void 0:te.call(i)]),i.append&&G("div",{class:"v-navigation-drawer__append"},[(he=i.append)==null?void 0:he.call(i)])]}}),G(Ko,{name:"fade-transition"},{default:()=>[_.value&&(P.value||g.value)&&!!e.scrim&&G("div",Rt({class:["v-navigation-drawer__scrim",R.backgroundColorClasses.value],style:[U.value,R.backgroundColorStyles.value],onClick:()=>g.value=!1},y),null)]})])}),{isStuck:O}}}),fme=Wr("div",{class:"tooltip"},null,-1),pme={__name:"Page",async setup(e){let t,n;const{baseURL:r}=wr("baseURL"),i=ot("list"),a=ot([]),o=ot([]),s=ot("whole-word"),u=[{title:"List View",value:"list"},{title:"Piling View",value:"piling"},{title:"D3 View",value:"d3"}];try{const h=([t,n]=ET(()=>l()),t=await t,n(),t);a.value=h.data}catch{a.value=[]}Yi("keywords",{keywords:o,updateKeywords:c,keywordSearchPattern:s});async function l(){const h=`${r}/vast2021txt`;return await(await fetch(h,{method:"GET",headers:{Accept:"text/json","Content-Type":"text/json","Access-Control-Allow-Origin":"*"}})).json()}function c(h){o.value=h}return(h,f)=>(mn(),Mr(Xge,{class:"overflow-hidden"},{default:vt(()=>[G(Qge,null,{append:vt(()=>[G(zD,{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=d=>i.value=d),label:"Select view",items:u,density:"compact",variant:"outlined","hide-details":"true"},null,8,["modelValue"])]),default:vt(()=>[G(Jge,null,{default:vt(()=>[Xr(" VisPile - Interactive Multi-Document Summarization ")]),_:1})]),_:1}),G(cme,{location:"left",permanent:"",width:"300"},{default:vt(()=>[G(AQ,{data:a.value},null,8,["data"])]),_:1}),G(tme,null,{default:vt(()=>[i.value=="list"?(mn(),Mr(uJ,{key:0,data:a.value},null,8,["data"])):Mu("",!0),i.value=="piling"?(mn(),Mr(Hge,{key:1,data:a.value},null,8,["data"])):Mu("",!0),i.value=="d3"?(mn(),Mr(Gge,{key:2,data:a.value},null,8,["data"])):Mu("",!0)]),_:1}),fme]),_:1}))}};export{pme as default};
