import{B as w6,a as x6,C as _6,D as S6,E as E6,b as A6,c as C6,F as fn,K as T6,R as P6,S as O6,d as I6,T as CT,e as TT,f as M6,g as es,h as PT,i as D6,V as F6,j as k6,k as B6,l as R6,m as dw,n as Zh,o as OT,p as L6,q as ne,r as N6,s as ar,t as to,u as ua,v as Fr,w as U6,x as V6,y as $6,z as z6,A as j6,G as H6,H as ca,I as H,J as G6,L as Y6,M as X6,N as W6,O as K6,P as q6,Q as Z6,U as Q6,W as J6,X as eL,Y as tL,Z as nL,_ as rL,$ as vw,a0 as iL,a1 as aL,a2 as oL,a3 as sL,a4 as au,a5 as lL,a6 as uL,a7 as cL,a8 as fL,a9 as hL,aa as sr,ab as dL,ac as vL,ad as pL,ae as gL,af as jl,ag as mL,ah as yL,ai as bL,aj as wL,ak as xL,al as _L,am as Ct,an as tr,ao as SL,ap as EL,aq as pw,ar as IT,as as nm,at as fi,au as AL,av as MT,aw as CL,ax as Gi,ay as TL,az as PL,aA as Oi,aB as OL,aC as IL,aD as ML,aE as gn,aF as DL,aG as Ii,aH as FL,aI as kL,aJ as BL,aK as $o,aL as rm,aM as nt,aN as RL,aO as LL,aP as xh,aQ as NL,aR as l1,aS as Ha,aT as DT,aU as UL,aV as VL,aW as $L,aX as zL,aY as jL,aZ as HL,a_ as GL,a$ as ut,b0 as YL,b1 as XL,b2 as WL,b3 as Oa,b4 as KL,b5 as qL,b6 as xo,b7 as ft,b8 as FT,b9 as ZL,ba as QL,bb as JL,bc as Qe,bd as e4,be as t4,bf as n4,bg as r4,bh as i4,bi as a4,bj as o4,bk as s4,bl as l4,bm as u4,bn as c4,bo as kT,bp as us,bq as f4,br as h4,bs as bt,bt as vo,bu as d4,bv as v4,bw as BT,bx as vt,by as p4,bz as dr,bA as g4,bB as m4,bC as y4,bD as b4,bE as Op,bF as gw,bG as RT,bH as je,bI as gt,bJ as Yi,bK as Hi,bL as Ip,bM as LT,bN as _o,bO as yt,bP as Xi,bQ as im,bR as mw,bS as m2,bT as w4,bU as x4,bV as _4,bW as cs,bX as wn,bY as vr,bZ as Rr,b_ as S4,b$ as E4,c0 as Ws,c1 as Gn,c2 as A4,c3 as yw,c4 as y2,c5 as Qh,c6 as C4,c7 as b2,c8 as Ra,c9 as T4,ca as ro,cb as ou,cc as u1,cd as bw,ce as va,cf as Mp,cg as am,ch as uo,ci as NT,cj as om,ck as c1,cl as co,cm as P4,cn as O4,co as I4,cp as M4,cq as UT,cr as D4,cs as VT,ct as F4,cu as k4,cv as w2,cw as B4,cx as R4,cy as L4}from"./index-f5dbd769.js";/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const N4=()=>{},U4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:w6,BaseTransitionPropsValidators:x6,Comment:_6,DeprecationTypes:S6,EffectScope:E6,ErrorCodes:A6,ErrorTypeStrings:C6,Fragment:fn,KeepAlive:T6,ReactiveEffect:P6,Static:O6,Suspense:I6,Teleport:CT,Text:TT,TrackOpTypes:M6,Transition:es,TransitionGroup:PT,TriggerOpTypes:D6,VueElement:F6,assertNumber:k6,callWithAsyncErrorHandling:B6,callWithErrorHandling:R6,camelize:dw,capitalize:Zh,cloneVNode:OT,compatUtils:L6,compile:N4,computed:ne,createApp:N6,createBlock:ar,createCommentVNode:to,createElementBlock:ua,createElementVNode:Fr,createHydrationRenderer:U6,createPropsRestProxy:V6,createRenderer:$6,createSSRApp:z6,createSlots:j6,createStaticVNode:H6,createTextVNode:ca,createVNode:H,customRef:G6,defineAsyncComponent:Y6,defineComponent:X6,defineCustomElement:W6,defineEmits:K6,defineExpose:q6,defineModel:Z6,defineOptions:Q6,defineProps:J6,defineSSRCustomElement:eL,defineSlots:tL,devtools:nL,effect:rL,effectScope:vw,getCurrentInstance:iL,getCurrentScope:aL,getTransitionRawChildren:oL,guardReactiveProps:sL,h:au,handleError:lL,hasInjectionContext:uL,hydrate:cL,initCustomFormatter:fL,initDirectivesForSSR:hL,inject:sr,isMemoSame:dL,isProxy:vL,isReactive:pL,isReadonly:gL,isRef:jl,isRuntimeOnly:mL,isShallow:yL,isVNode:bL,markRaw:wL,mergeDefaults:xL,mergeModels:_L,mergeProps:Ct,nextTick:tr,normalizeClass:SL,normalizeProps:EL,normalizeStyle:pw,onActivated:IT,onBeforeMount:nm,onBeforeUnmount:fi,onBeforeUpdate:AL,onDeactivated:MT,onErrorCaptured:CL,onMounted:Gi,onRenderTracked:TL,onRenderTriggered:PL,onScopeDispose:Oi,onServerPrefetch:OL,onUnmounted:IL,onUpdated:ML,openBlock:gn,popScopeId:DL,provide:Ii,proxyRefs:FL,pushScopeId:kL,queuePostFlushCb:BL,reactive:$o,readonly:rm,ref:nt,registerRuntimeCompiler:RL,render:LL,renderList:xh,renderSlot:NL,resolveComponent:l1,resolveDirective:Ha,resolveDynamicComponent:DT,resolveFilter:UL,resolveTransitionHooks:VL,setBlockTracking:$L,setDevtoolsHook:zL,setTransitionHooks:jL,shallowReactive:HL,shallowReadonly:GL,shallowRef:ut,ssrContextKey:YL,ssrUtils:XL,stop:WL,toDisplayString:Oa,toHandlerKey:KL,toHandlers:qL,toRaw:xo,toRef:ft,toRefs:FT,toValue:ZL,transformVNodeArgs:QL,triggerRef:JL,unref:Qe,useAttrs:e4,useCssModule:t4,useCssVars:n4,useModel:r4,useSSRContext:i4,useSlots:a4,useTransitionState:o4,vModelCheckbox:s4,vModelDynamic:l4,vModelRadio:u4,vModelSelect:c4,vModelText:kT,vShow:us,version:f4,warn:h4,watch:bt,watchEffect:vo,watchPostEffect:d4,watchSyncEffect:v4,withAsyncContext:BT,withCtx:vt,withDefaults:p4,withDirectives:dr,withKeys:g4,withMemo:m4,withModifiers:y4,withScopeId:b4},Symbol.toStringTag,{value:"Module"})),$T=["top","bottom"],V4=["start","end","left","right"];function f1(e,t){let[n,r]=e.split(" ");return r||(r=Op($T,n)?"start":Op(V4,n)?"top":"center"),{side:h1(n,t),align:h1(r,t)}}function h1(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function x0(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function _0(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function x2(e){return{side:e.align,align:e.side}}function _2(e){return Op($T,e.side)?"y":"x"}class kl{constructor(t){let{x:n,y:r,width:i,height:a}=t;this.x=n,this.y=r,this.width=i,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function S2(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function zT(e){return Array.isArray(e)?new kl({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function ww(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let i,a,o,s,l;if(r.startsWith("matrix3d("))i=r.slice(9,-1).split(/, /),a=+i[0],o=+i[5],s=+i[12],l=+i[13];else if(r.startsWith("matrix("))i=r.slice(7,-1).split(/, /),a=+i[0],o=+i[3],s=+i[4],l=+i[5];else return new kl(t);const u=n.transformOrigin,c=t.x-s-(1-a)*parseFloat(u),h=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),f=a?t.width/a:e.offsetWidth+1,d=o?t.height/o:e.offsetHeight+1;return new kl({x:c,y:h,width:f,height:d})}else return new kl(t)}function ac(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(i=>{r.onfinish=()=>{i(r)}})),r}const Xv=new WeakMap;function $4(e,t){Object.keys(t).forEach(n=>{if(gw(n)){const r=RT(n),i=Xv.get(e);if(t[n]==null)i==null||i.forEach(a=>{const[o,s]=a;o===r&&(e.removeEventListener(r,s),i.delete(a))});else if(!i||![...i].some(a=>a[0]===r&&a[1]===t[n])){e.addEventListener(r,t[n]);const a=i||new Set;a.add([r,t[n]]),Xv.has(e)||Xv.set(e,a)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function z4(e,t){Object.keys(t).forEach(n=>{if(gw(n)){const r=RT(n),i=Xv.get(e);i==null||i.forEach(a=>{const[o,s]=a;o===r&&(e.removeEventListener(r,s),i.delete(a))})}else e.removeAttribute(n)})}const Xt=je({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function Zc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return gt()({name:n??Zh(dw(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Xt()},setup(r,i){let{slots:a}=i;return()=>{var o;return au(r.tag,{class:[e,r.class],style:r.style},(o=a.default)==null?void 0:o.call(a))}}})}function jT(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Dp="cubic-bezier(0.4, 0, 0.2, 1)",j4="cubic-bezier(0.0, 0, 0.2, 1)",H4="cubic-bezier(0.4, 0, 1, 1)";function HT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?G4(e):xw(e))return e;e=e.parentElement}return document.scrollingElement}function Fp(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(xw(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function xw(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function G4(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function Y4(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Bt(e){const t=Yi("useRender");t.render=e}function Sc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=nt(),r=nt();if(Hi){const i=new ResizeObserver(a=>{e==null||e(a,i),a.length&&(t==="content"?r.value=a[0].contentRect:r.value=a[0].target.getBoundingClientRect())});fi(()=>{i.disconnect()}),bt(n,(a,o)=>{o&&(i.unobserve(Ip(o)),r.value=void 0),a&&i.observe(Ip(a))},{flush:"post"})}return{resizeRef:n,contentRect:rm(r)}}const kp=Symbol.for("vuetify:layout"),GT=Symbol.for("vuetify:layout-item"),E2=1e3,X4=je({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),YT=je({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function W4(){const e=sr(kp);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function XT(e){const t=sr(kp);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${_o()}`,r=Yi("useLayoutItem");Ii(GT,{id:n});const i=ut(!1);MT(()=>i.value=!0),IT(()=>i.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:o}=t.register(r,{...e,active:ne(()=>i.value?!1:e.active.value),id:n});return fi(()=>t.unregister(n)),{layoutItemStyles:a,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const K4=(e,t,n,r)=>{let i={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...i}}];for(const o of e){const s=t.get(o),l=n.get(o),u=r.get(o);if(!s||!l||!u)continue;const c={...i,[s.value]:parseInt(i[s.value],10)+(u.value?parseInt(l.value,10):0)};a.push({id:o,layer:c}),i=c}return a};function q4(e){const t=sr(kp,null),n=ne(()=>t?t.rootZIndex.value-100:E2),r=nt([]),i=$o(new Map),a=$o(new Map),o=$o(new Map),s=$o(new Map),l=$o(new Map),{resizeRef:u,contentRect:c}=Sc(),h=ne(()=>{const _=new Map,S=e.overlaps??[];for(const P of S.filter(C=>C.includes(":"))){const[C,D]=P.split(":");if(!r.value.includes(C)||!r.value.includes(D))continue;const T=i.get(C),B=i.get(D),I=a.get(C),O=a.get(D);!T||!B||!I||!O||(_.set(D,{position:T.value,amount:parseInt(I.value,10)}),_.set(C,{position:B.value,amount:-parseInt(O.value,10)}))}return _}),f=ne(()=>{const _=[...new Set([...o.values()].map(P=>P.value))].sort((P,C)=>P-C),S=[];for(const P of _){const C=r.value.filter(D=>{var T;return((T=o.get(D))==null?void 0:T.value)===P});S.push(...C)}return K4(S,i,a,s)}),d=ne(()=>!Array.from(l.values()).some(_=>_.value)),v=ne(()=>f.value[f.value.length-1].layer),g=ne(()=>({"--v-layout-left":yt(v.value.left),"--v-layout-right":yt(v.value.right),"--v-layout-top":yt(v.value.top),"--v-layout-bottom":yt(v.value.bottom),...d.value?void 0:{transition:"none"}})),p=ne(()=>f.value.slice(1).map((_,S)=>{let{id:P}=_;const{layer:C}=f.value[S],D=a.get(P),T=i.get(P);return{id:P,...C,size:Number(D.value),position:T.value}})),y=_=>p.value.find(S=>S.id===_),m=Yi("createLayout"),b=ut(!1);Gi(()=>{b.value=!0}),Ii(kp,{register:(_,S)=>{let{id:P,order:C,position:D,layoutSize:T,elementSize:B,active:I,disableTransitions:O,absolute:L}=S;o.set(P,C),i.set(P,D),a.set(P,T),s.set(P,I),O&&l.set(P,O);const U=LT(GT,m==null?void 0:m.vnode).indexOf(_);U>-1?r.value.splice(U,0,P):r.value.push(P);const $=ne(()=>p.value.findIndex(Q=>Q.id===P)),j=ne(()=>n.value+f.value.length*2-$.value*2),z=ne(()=>{const Q=D.value==="left"||D.value==="right",re=D.value==="right",he=D.value==="bottom",ce={[D.value]:0,zIndex:j.value,transform:`translate${Q?"X":"Y"}(${(I.value?0:-110)*(re||he?-1:1)}%)`,position:L.value||n.value!==E2?"absolute":"fixed",...d.value?void 0:{transition:"none"}};if(!b.value)return ce;const te=p.value[$.value];if(!te)throw new Error(`[Vuetify] Could not find layout item "${P}"`);const ee=h.value.get(P);return ee&&(te[ee.position]+=ee.amount),{...ce,height:Q?`calc(100% - ${te.top}px - ${te.bottom}px)`:B.value?`${B.value}px`:void 0,left:re?void 0:`${te.left}px`,right:re?`${te.right}px`:void 0,top:D.value!=="bottom"?`${te.top}px`:void 0,bottom:D.value!=="top"?`${te.bottom}px`:void 0,width:Q?B.value?`${B.value}px`:void 0:`calc(100% - ${te.left}px - ${te.right}px)`}}),Y=ne(()=>({zIndex:j.value-1}));return{layoutItemStyles:z,layoutItemScrimStyles:Y,zIndex:j}},unregister:_=>{o.delete(_),i.delete(_),a.delete(_),s.delete(_),l.delete(_),r.value=r.value.filter(S=>S!==_)},mainRect:v,mainStyles:g,getLayoutItem:y,items:p,layoutRect:c,rootZIndex:n});const w=ne(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),x=ne(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:w,layoutStyles:x,getLayoutItem:y,items:p,layoutRect:c,layoutRef:u}}function Hn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WT(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sm(e){let t,n,r;e.length!==2?(t=Hn,n=(s,l)=>Hn(e(s),l),r=(s,l)=>e(s)-l):(t=e===Hn||e===WT?e:Z4,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function Z4(){return 0}function Bp(e){return e===null?NaN:+e}function*Q4(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const KT=sm(Hn),qT=KT.right,J4=KT.left,e8=sm(Bp).center,su=qT;function t8(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=_w(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const ZT=QT(_w),n8=QT(r8);function QT(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:a,height:o}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:i.length/a))>=0))throw new RangeError("invalid height");if(!a||!o||!n&&!r)return t;const s=n&&e(n),l=r&&e(r),u=i.slice();return s&&l?(Mu(s,u,i,a,o),Mu(s,i,u,a,o),Mu(s,u,i,a,o),Du(l,i,u,a,o),Du(l,u,i,a,o),Du(l,i,u,a,o)):s?(Mu(s,i,u,a,o),Mu(s,u,i,a,o),Mu(s,i,u,a,o)):l&&(Du(l,i,u,a,o),Du(l,u,i,a,o),Du(l,i,u,a,o)),t}}function Mu(e,t,n,r,i){for(let a=0,o=r*i;a<o;)e(t,n,a,a+=r,1)}function Du(e,t,n,r,i){for(let a=0,o=r*i;a<r;++a)e(t,n,a,a+o,r)}function r8(e){const t=_w(e);return(n,r,i,a,o)=>{i<<=2,a<<=2,o<<=2,t(n,r,i+0,a+0,o),t(n,r,i+1,a+1,o),t(n,r,i+2,a+2,o),t(n,r,i+3,a+3,o)}}function _w(e){const t=Math.floor(e);if(t===e)return i8(e);const n=e-t,r=2*e+1;return(i,a,o,s,l)=>{if(!((s-=l)>=o))return;let u=t*a[o];const c=l*t,h=c+l;for(let f=o,d=o+c;f<d;f+=l)u+=a[Math.min(s,f)];for(let f=o,d=s;f<=d;f+=l)u+=a[Math.min(s,f+c)],i[f]=(u+n*(a[Math.max(o,f-h)]+a[Math.min(s,f+h)]))/r,u-=a[Math.max(o,f-c)]}}function i8(e){const t=2*e+1;return(n,r,i,a,o)=>{if(!((a-=o)>=i))return;let s=e*r[i];const l=o*e;for(let u=i,c=i+l;u<c;u+=o)s+=r[Math.min(a,u)];for(let u=i,c=a;u<=c;u+=o)s+=r[Math.min(a,u+l)],n[u]=s/t,s-=r[Math.max(i,u-l)]}}function lm(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function a8(e){return e.length|0}function o8(e){return!(e>0)}function s8(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function l8(e){return t=>e(...t)}function u8(...e){const t=typeof e[e.length-1]=="function"&&l8(e.pop());e=e.map(s8);const n=e.map(a8),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(o8))return a;for(;;){a.push(i.map((s,l)=>e[l][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function c8(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function JT(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function eP(e,t){const n=JT(e,t);return n&&Math.sqrt(n)}function rh(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class hr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function f8(e,t){const n=new hr;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function h8(e,t){const n=new hr;let r=-1;return Float64Array.from(e,t===void 0?i=>n.add(+i||0):i=>n.add(+t(i,++r,e)||0))}class _h extends Map{constructor(t,n=rP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(d1(this,t))}has(t){return super.has(d1(this,t))}set(t,n){return super.set(tP(this,t),n)}delete(t){return super.delete(nP(this,t))}}class Hl extends Set{constructor(t,n=rP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(d1(this,t))}add(t){return super.add(tP(this,t))}delete(t){return super.delete(nP(this,t))}}function d1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function tP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function nP({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function rP(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ec(e){return e}function iP(e,...t){return Qc(e,Ec,Ec,t)}function aP(e,...t){return Qc(e,Array.from,Ec,t)}function oP(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(i=>i.pop().map(([a,o])=>[...i,a,o]));return e}function d8(e,...t){return oP(aP(e,...t),t)}function v8(e,t,...n){return oP(lP(e,t,...n),n)}function sP(e,t,...n){return Qc(e,Ec,t,n)}function lP(e,t,...n){return Qc(e,Array.from,t,n)}function p8(e,...t){return Qc(e,Ec,uP,t)}function g8(e,...t){return Qc(e,Array.from,uP,t)}function uP(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Qc(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new _h,l=r[o++];let u=-1;for(const c of a){const h=l(c,++u,a),f=s.get(h);f?f.push(c):s.set(h,[c])}for(const[c,h]of s)s.set(c,i(h,o));return t(s)}(e,0)}function cP(e,t){return Array.from(t,n=>e[n])}function Rp(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=Ac(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>Ac(n[i],n[a]))),cP(e,r)}return e.sort(Sw(n))}function Sw(e=Hn){if(e===Hn)return Ac;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Ac(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function m8(e,t,n){return(t.length!==2?Rp(sP(e,t,n),([r,i],[a,o])=>Hn(i,o)||Hn(r,a)):Rp(iP(e,n),([r,i],[a,o])=>t(i,o)||Hn(r,a))).map(([r])=>r)}var y8=Array.prototype,b8=y8.slice;function S0(e){return()=>e}const w8=Math.sqrt(50),x8=Math.sqrt(10),_8=Math.sqrt(2);function Lp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=w8?10:a>=x8?5:a>=_8?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Lp(e,t,n*2):[s,l,u]}function Gl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Lp(t,e,n):Lp(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Yl(e,t,n){return t=+t,e=+e,n=+n,Lp(e,t,n)[2]}function Np(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Yl(t,e,n):Yl(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ew(e,t,n){let r;for(;;){const i=Yl(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function Aw(e){return Math.max(1,Math.ceil(Math.log(lm(e))/Math.LN2)+1)}function A2(){var e=Ec,t=rh,n=Aw;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,u=new Array(o);for(a=0;a<o;++a)u[a]=e(i[a],a,i);var c=t(u),h=c[0],f=c[1],d=n(u,h,f);if(!Array.isArray(d)){const b=f,w=+d;if(t===rh&&([h,f]=Ew(h,f,w)),d=Gl(h,f,w),d[0]<=h&&(l=Yl(h,f,w)),d[d.length-1]>=f)if(b>=f&&t===rh){const x=Yl(h,f,w);isFinite(x)&&(x>0?f=(Math.floor(f/x)+1)*x:x<0&&(f=(Math.ceil(f*-x)+1)/-x))}else d.pop()}for(var v=d.length,g=0,p=v;d[g]<=h;)++g;for(;d[p-1]>f;)--p;(g||p<v)&&(d=d.slice(g,p),v=p-g);var y=new Array(v+1),m;for(a=0;a<=v;++a)m=y[a]=[],m.x0=a>0?d[a-1]:h,m.x1=a<v?d[a]:f;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&y[Math.min(v,Math.floor((s-h)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=u[a])!=null&&h<=s&&s<=f){const b=Math.floor((h-s)*l);y[Math.min(v,b+(d[b]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=u[a])!=null&&h<=s&&s<=f&&y[su(d,s,0,v)].push(i[a]);return y}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:S0(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:S0([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:S0(Array.isArray(i)?b8.call(i):i),r):n},r}function Cc(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Cw(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Up(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Tw(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function um(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Ac:Sw(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(t-u*h/l+f)),v=Math.min(r,Math.floor(t+(l-u)*h/l+f));um(e,t,d,v,i)}const a=e[t];let o=n,s=r;for(Sf(e,n,t),i(e[r],a)>0&&Sf(e,n,r);o<s;){for(Sf(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Sf(e,n,s):(++s,Sf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Sf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function fP(e,t=Hn){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Hn(o,i)>0:Hn(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Sh(e,t,n){if(e=Float64Array.from(Q4(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Up(e);if(t>=1)return Cc(e);var r,i=(r-1)*t,a=Math.floor(i),o=Cc(um(e,a).subarray(0,a+1)),s=Up(e.subarray(a+1));return o+(s-o)*(i-a)}}function hP(e,t,n=Bp){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function dP(e,t,n=Bp){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(s,l)=>Bp(n(e[l],l,e))),t<=0)return Tw(r);if(t>=1)return Cw(r);var r,i=Uint32Array.from(e,(s,l)=>l),a=r.length-1,o=Math.floor(a*t);return um(i,o,0,a,(s,l)=>Ac(r[s],r[l])),o=fP(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function S8(e,t,n){const r=lm(e),i=Sh(e,.75)-Sh(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function E8(e,t,n){const r=lm(e),i=eP(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function A8(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function C8(e,t){return Sh(e,.5,t)}function T8(e,t){return dP(e,.5,t)}function*P8(e){for(const t of e)yield*t}function Pw(e){return Array.from(P8(e))}function O8(e,t){const n=new _h;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function I8(e,t=M8){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function M8(e,t){return[e,t]}function jo(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function D8(e,t=Hn){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Hn);const i=(s,l)=>t(n[s],n[l]);let a,o;return e=Uint32Array.from(n,(s,l)=>l),e.sort(t===Hn?(s,l)=>Ac(n[s],n[l]):Sw(i)),e.forEach((s,l)=>{const u=i(s,a===void 0?s:a);u>=0?((a===void 0||u>0)&&(a=s,o=l),r[s]=o):r[s]=NaN}),r}function F8(e,t=Hn){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Hn(o,i)<0:Hn(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)<0:t(i,i)===0)&&(n=i,r=!0);return n}function vP(e,t=Hn){if(t.length===1)return Tw(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)<0)&&(n=a,r=i);return r}function k8(e,t=Hn){if(t.length===1)return Cw(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?t(a,a)===0:t(a,n)>0)&&(n=a,r=i);return r}function B8(e,t){const n=vP(e,t);return n<0?void 0:n}const R8=pP(Math.random);function pP(e){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=e()*a--|0,s=n[a+r];n[a+r]=n[o+r],n[o+r]=s}return n}}function L8(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function gP(e){if(!(a=e.length))return[];for(var t=-1,n=Up(e,N8),r=new Array(n);++t<n;)for(var i=-1,a,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r}function N8(e){return e.length}function U8(){return gP(arguments)}function V8(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function $8(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function z8(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function j8(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function H8(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,a,o=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++o}for(;{done:i,value:a}=r.next(),!i;)n=t(n,a,++o,e);return n}function G8(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Y8(e,...t){e=new Hl(e);for(const n of t)for(const r of n)e.delete(r);return e}function X8(e,t){const n=t[Symbol.iterator](),r=new Hl;for(const i of e){if(r.has(i))return!1;let a,o;for(;({value:a,done:o}=n.next())&&!o;){if(Object.is(i,a))return!1;r.add(a)}}return!0}function W8(e,...t){e=new Hl(e),t=t.map(K8);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function K8(e){return e instanceof Hl?e:new Hl(e)}function mP(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const a=C2(i);if(r.has(a))continue;let o,s;for(;{value:o,done:s}=n.next();){if(s)return!1;const l=C2(o);if(r.add(l),Object.is(a,l))break}}return!0}function C2(e){return e!==null&&typeof e=="object"?e.valueOf():e}function q8(e,t){return mP(t,e)}function Z8(...e){const t=new Hl;for(const n of e)for(const r of n)t.add(r);return t}function Q8(e){return e}var Wv=1,Kv=2,v1=3,Vf=4,T2=1e-6;function J8(e){return"translate("+e+",0)"}function eN(e){return"translate(0,"+e+")"}function tN(e){return t=>+e(t)}function nN(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function rN(){return!this.__axis}function cm(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Wv||e===Vf?-1:1,c=e===Vf||e===Kv?"x":"y",h=e===Wv||e===v1?J8:eN;function f(d){var v=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):Q8),p=Math.max(a,0)+s,y=t.range(),m=+y[0]+l,b=+y[y.length-1]+l,w=(t.bandwidth?nN:tN)(t.copy(),l),x=d.selection?d.selection():d,_=x.selectAll(".domain").data([null]),S=x.selectAll(".tick").data(v,t).order(),P=S.exit(),C=S.enter().append("g").attr("class","tick"),D=S.select("line"),T=S.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(C),D=D.merge(C.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),T=T.merge(C.append("text").attr("fill","currentColor").attr(c,u*p).attr("dy",e===Wv?"0em":e===v1?"0.71em":"0.32em")),d!==x&&(_=_.transition(d),S=S.transition(d),D=D.transition(d),T=T.transition(d),P=P.transition(d).attr("opacity",T2).attr("transform",function(B){return isFinite(B=w(B))?h(B+l):this.getAttribute("transform")}),C.attr("opacity",T2).attr("transform",function(B){var I=this.parentNode.__axis;return h((I&&isFinite(I=I(B))?I:w(B))+l)})),P.remove(),_.attr("d",e===Vf||e===Kv?o?"M"+u*o+","+m+"H"+l+"V"+b+"H"+u*o:"M"+l+","+m+"V"+b:o?"M"+m+","+u*o+"V"+l+"H"+b+"V"+u*o:"M"+m+","+l+"H"+b),S.attr("opacity",1).attr("transform",function(B){return h(w(B)+l)}),D.attr(c+"2",u*a),T.attr(c,u*p).text(g),x.filter(rN).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Kv?"start":e===Vf?"end":"middle"),x.each(function(){this.__axis=w})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(a=o=+d,f):a},f.tickSizeInner=function(d){return arguments.length?(a=+d,f):a},f.tickSizeOuter=function(d){return arguments.length?(o=+d,f):o},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(l=+d,f):l},f}function iN(e){return cm(Wv,e)}function aN(e){return cm(Kv,e)}function oN(e){return cm(v1,e)}function sN(e){return cm(Vf,e)}var lN={value:()=>{}};function lu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new qv(n)}function qv(e){this._=e}function uN(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}qv.prototype=lu.prototype={constructor:qv,on:function(e,t){var n=this._,r=uN(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=cN(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=P2(n[i],e.name,t);else if(t==null)for(i in n)n[i]=P2(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new qv(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function cN(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function P2(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=lN,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var p1="http://www.w3.org/1999/xhtml";const g1={svg:"http://www.w3.org/2000/svg",xhtml:p1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),g1.hasOwnProperty(t)?{space:g1[t],local:e}:e}function fN(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===p1&&t.documentElement.namespaceURI===p1?t.createElement(e):t.createElementNS(n,e)}}function hN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fm(e){var t=Jh(e);return(t.local?hN:fN)(t)}function dN(){}function hm(e){return e==null?dN:function(){return this.querySelector(e)}}function vN(e){typeof e!="function"&&(e=hm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new si(r,this._parents)}function yP(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pN(){return[]}function Ow(e){return e==null?pN:function(){return this.querySelectorAll(e)}}function gN(e){return function(){return yP(e.apply(this,arguments))}}function mN(e){typeof e=="function"?e=gN(e):e=Ow(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new si(r,i)}function Iw(e){return function(){return this.matches(e)}}function bP(e){return function(t){return t.matches(e)}}var yN=Array.prototype.find;function bN(e){return function(){return yN.call(this.children,e)}}function wN(){return this.firstElementChild}function xN(e){return this.select(e==null?wN:bN(typeof e=="function"?e:bP(e)))}var _N=Array.prototype.filter;function SN(){return Array.from(this.children)}function EN(e){return function(){return _N.call(this.children,e)}}function AN(e){return this.selectAll(e==null?SN:EN(typeof e=="function"?e:bP(e)))}function CN(e){typeof e!="function"&&(e=Iw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new si(r,this._parents)}function wP(e){return new Array(e.length)}function TN(){return new si(this._enter||this._groups.map(wP),this._parents)}function Vp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vp.prototype={constructor:Vp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function PN(e){return function(){return e}}function ON(e,t,n,r,i,a){for(var o=0,s,l=t.length,u=a.length;o<u;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new Vp(e,a[o]);for(;o<l;++o)(s=t[o])&&(i[o]=s)}function IN(e,t,n,r,i,a,o){var s,l,u=new Map,c=t.length,h=a.length,f=new Array(c),d;for(s=0;s<c;++s)(l=t[s])&&(f[s]=d=o.call(l,l.__data__,s,t)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=o.call(e,a[s],s,a)+"",(l=u.get(d))?(r[s]=l,l.__data__=a[s],u.delete(d)):n[s]=new Vp(e,a[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(f[s])===l&&(i[s]=l)}function MN(e){return e.__data__}function DN(e,t){if(!arguments.length)return Array.from(this,MN);var n=t?IN:ON,r=this._parents,i=this._groups;typeof e!="function"&&(e=PN(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,d=FN(e.call(c,c&&c.__data__,u,r)),v=d.length,g=s[u]=new Array(v),p=o[u]=new Array(v),y=l[u]=new Array(f);n(c,h,g,p,y,d,t);for(var m=0,b=0,w,x;m<v;++m)if(w=g[m]){for(m>=b&&(b=m+1);!(x=p[b])&&++b<v;);w._next=x||null}}return o=new si(o,r),o._enter=s,o._exit=l,o}function FN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kN(){return new si(this._exit||this._groups.map(wP),this._parents)}function BN(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function RN(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),d,v=0;v<h;++v)(d=u[v]||c[v])&&(f[v]=d);for(;l<i;++l)s[l]=n[l];return new si(s,this._parents)}function LN(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function NN(e){e||(e=UN);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,l=i[a]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new si(i,this._parents).order()}function UN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function VN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $N(){return Array.from(this)}function zN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function jN(){let e=0;for(const t of this)++e;return e}function HN(){return!this.node()}function GN(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function YN(e){return function(){this.removeAttribute(e)}}function XN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WN(e,t){return function(){this.setAttribute(e,t)}}function KN(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ZN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function QN(e,t){var n=Jh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?XN:YN:typeof t=="function"?n.local?ZN:qN:n.local?KN:WN)(n,t))}function Mw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JN(e){return function(){this.style.removeProperty(e)}}function e7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function t7(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function n7(e,t,n){return arguments.length>1?this.each((t==null?JN:typeof t=="function"?t7:e7)(e,t,n??"")):Xl(this.node(),e)}function Xl(e,t){return e.style.getPropertyValue(t)||Mw(e).getComputedStyle(e,null).getPropertyValue(t)}function r7(e){return function(){delete this[e]}}function i7(e,t){return function(){this[e]=t}}function a7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function o7(e,t){return arguments.length>1?this.each((t==null?r7:typeof t=="function"?a7:i7)(e,t)):this.node()[e]}function xP(e){return e.trim().split(/^|\s+/)}function Dw(e){return e.classList||new _P(e)}function _P(e){this._node=e,this._names=xP(e.getAttribute("class")||"")}_P.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function SP(e,t){for(var n=Dw(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function EP(e,t){for(var n=Dw(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function s7(e){return function(){SP(this,e)}}function l7(e){return function(){EP(this,e)}}function u7(e,t){return function(){(t.apply(this,arguments)?SP:EP)(this,e)}}function c7(e,t){var n=xP(e+"");if(arguments.length<2){for(var r=Dw(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?u7:t?s7:l7)(n,t))}function f7(){this.textContent=""}function h7(e){return function(){this.textContent=e}}function d7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function v7(e){return arguments.length?this.each(e==null?f7:(typeof e=="function"?d7:h7)(e)):this.node().textContent}function p7(){this.innerHTML=""}function g7(e){return function(){this.innerHTML=e}}function m7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function y7(e){return arguments.length?this.each(e==null?p7:(typeof e=="function"?m7:g7)(e)):this.node().innerHTML}function b7(){this.nextSibling&&this.parentNode.appendChild(this)}function w7(){return this.each(b7)}function x7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _7(){return this.each(x7)}function S7(e){var t=typeof e=="function"?e:fm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function E7(){return null}function A7(e,t){var n=typeof e=="function"?e:fm(e),r=t==null?E7:typeof t=="function"?t:hm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function C7(){var e=this.parentNode;e&&e.removeChild(this)}function T7(){return this.each(C7)}function P7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function O7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function I7(e){return this.select(e?O7:P7)}function M7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function D7(e){return function(t){e.call(this,t,this.__data__)}}function F7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function k7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function B7(e,t,n){return function(){var r=this.__on,i,a=D7(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function R7(e,t,n){var r=F7(e+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?B7:k7,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function AP(e,t,n){var r=Mw(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function L7(e,t){return function(){return AP(this,e,t)}}function N7(e,t){return function(){return AP(this,e,t.apply(this,arguments))}}function U7(e,t){return this.each((typeof t=="function"?N7:L7)(e,t))}function*V7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Fw=[null];function si(e,t){this._groups=e,this._parents=t}function uu(){return new si([[document.documentElement]],Fw)}function $7(){return this}si.prototype=uu.prototype={constructor:si,select:vN,selectAll:mN,selectChild:xN,selectChildren:AN,filter:CN,data:DN,enter:TN,exit:kN,join:BN,merge:RN,selection:$7,order:LN,sort:NN,call:VN,nodes:$N,node:zN,size:jN,empty:HN,each:GN,attr:QN,style:n7,property:o7,classed:c7,text:v7,html:y7,raise:w7,lower:_7,append:S7,insert:A7,remove:T7,clone:I7,datum:M7,on:R7,dispatch:U7,[Symbol.iterator]:V7};function mn(e){return typeof e=="string"?new si([[document.querySelector(e)]],[document.documentElement]):new si([[e]],Fw)}function CP(e){return mn(fm(e).call(document.documentElement))}var z7=0;function TP(){return new m1}function m1(){this._="@"+(++z7).toString(36)}m1.prototype=TP.prototype={constructor:m1,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function PP(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ni(e,t){if(e=PP(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function j7(e,t){return e.target&&(e=PP(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Ni(n,t))}function H7(e){return typeof e=="string"?new si([document.querySelectorAll(e)],[document.documentElement]):new si([yP(e)],Fw)}const G7={passive:!1},Eh={capture:!0,passive:!1};function E0(e){e.stopImmediatePropagation()}function vc(e){e.preventDefault(),e.stopImmediatePropagation()}function dm(e){var t=e.document.documentElement,n=mn(e).on("dragstart.drag",vc,Eh);"onselectstart"in t?n.on("selectstart.drag",vc,Eh):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vm(e,t){var n=e.document.documentElement,r=mn(e).on("dragstart.drag",null);t&&(r.on("click.drag",vc,Eh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const zd=e=>()=>e;function y1(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}y1.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Y7(e){return!e.ctrlKey&&!e.button}function X7(){return this.parentNode}function W7(e,t){return t??{x:e.x,y:e.y}}function K7(){return navigator.maxTouchPoints||"ontouchstart"in this}function OP(){var e=Y7,t=X7,n=W7,r=K7,i={},a=lu("start","drag","end"),o=0,s,l,u,c,h=0;function f(w){w.on("mousedown.drag",d).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,G7).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(w,x){if(!(c||!e.call(this,w,x))){var _=b(this,t.call(this,w,x),w,x,"mouse");_&&(mn(w.view).on("mousemove.drag",v,Eh).on("mouseup.drag",g,Eh),dm(w.view),E0(w),u=!1,s=w.clientX,l=w.clientY,_("start",w))}}function v(w){if(vc(w),!u){var x=w.clientX-s,_=w.clientY-l;u=x*x+_*_>h}i.mouse("drag",w)}function g(w){mn(w.view).on("mousemove.drag mouseup.drag",null),vm(w.view,u),vc(w),i.mouse("end",w)}function p(w,x){if(e.call(this,w,x)){var _=w.changedTouches,S=t.call(this,w,x),P=_.length,C,D;for(C=0;C<P;++C)(D=b(this,S,w,x,_[C].identifier,_[C]))&&(E0(w),D("start",w,_[C]))}}function y(w){var x=w.changedTouches,_=x.length,S,P;for(S=0;S<_;++S)(P=i[x[S].identifier])&&(vc(w),P("drag",w,x[S]))}function m(w){var x=w.changedTouches,_=x.length,S,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<_;++S)(P=i[x[S].identifier])&&(E0(w),P("end",w,x[S]))}function b(w,x,_,S,P,C){var D=a.copy(),T=Ni(C||_,x),B,I,O;if((O=n.call(w,new y1("beforestart",{sourceEvent:_,target:f,identifier:P,active:o,x:T[0],y:T[1],dx:0,dy:0,dispatch:D}),S))!=null)return B=O.x-T[0]||0,I=O.y-T[1]||0,function L(R,U,$){var j=T,z;switch(R){case"start":i[P]=L,z=o++;break;case"end":delete i[P],--o;case"drag":T=Ni($||U,x),z=o;break}D.call(R,w,new y1(R,{sourceEvent:U,subject:O,target:f,identifier:P,active:z,x:T[0]+B,y:T[1]+I,dx:T[0]-j[0],dy:T[1]-j[1],dispatch:D}),S)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:zd(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:zd(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:zd(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:zd(!!w),f):r},f.on=function(){var w=a.on.apply(a,arguments);return w===a?f:w},f.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,f):Math.sqrt(h)},f}function Jc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ed(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ks(){}var Wl=.7,Tc=1/Wl,pc="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q7=/^#([0-9a-f]{3,8})$/,Z7=new RegExp(`^rgb\\(${pc},${pc},${pc}\\)$`),Q7=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),J7=new RegExp(`^rgba\\(${pc},${pc},${pc},${Ah}\\)$`),e9=new RegExp(`^rgba\\(${fo},${fo},${fo},${Ah}\\)$`),t9=new RegExp(`^hsl\\(${Ah},${fo},${fo}\\)$`),n9=new RegExp(`^hsla\\(${Ah},${fo},${fo},${Ah}\\)$`),O2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jc(Ks,zs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:I2,formatHex:I2,formatHex8:r9,formatHsl:i9,formatRgb:M2,toString:M2});function I2(){return this.rgb().formatHex()}function r9(){return this.rgb().formatHex8()}function i9(){return IP(this).formatHsl()}function M2(){return this.rgb().formatRgb()}function zs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=q7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?D2(t):n===3?new _r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z7.exec(e))?new _r(t[1],t[2],t[3],1):(t=Q7.exec(e))?new _r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=J7.exec(e))?jd(t[1],t[2],t[3],t[4]):(t=e9.exec(e))?jd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=t9.exec(e))?B2(t[1],t[2]/100,t[3]/100,1):(t=n9.exec(e))?B2(t[1],t[2]/100,t[3]/100,t[4]):O2.hasOwnProperty(e)?D2(O2[e]):e==="transparent"?new _r(NaN,NaN,NaN,0):null}function D2(e){return new _r(e>>16&255,e>>8&255,e&255,1)}function jd(e,t,n,r){return r<=0&&(e=t=n=NaN),new _r(e,t,n,r)}function kw(e){return e instanceof Ks||(e=zs(e)),e?(e=e.rgb(),new _r(e.r,e.g,e.b,e.opacity)):new _r}function Pc(e,t,n,r){return arguments.length===1?kw(e):new _r(e,t,n,r??1)}function _r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Jc(_r,Pc,ed(Ks,{brighter(e){return e=e==null?Tc:Math.pow(Tc,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _r(Bl(this.r),Bl(this.g),Bl(this.b),$p(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F2,formatHex:F2,formatHex8:a9,formatRgb:k2,toString:k2}));function F2(){return`#${Ol(this.r)}${Ol(this.g)}${Ol(this.b)}`}function a9(){return`#${Ol(this.r)}${Ol(this.g)}${Ol(this.b)}${Ol((isNaN(this.opacity)?1:this.opacity)*255)}`}function k2(){const e=$p(this.opacity);return`${e===1?"rgb(":"rgba("}${Bl(this.r)}, ${Bl(this.g)}, ${Bl(this.b)}${e===1?")":`, ${e})`}`}function $p(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ol(e){return e=Bl(e),(e<16?"0":"")+e.toString(16)}function B2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ma(e,t,n,r)}function IP(e){if(e instanceof Ma)return new Ma(e.h,e.s,e.l,e.opacity);if(e instanceof Ks||(e=zs(e)),!e)return new Ma;if(e instanceof Ma)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ma(o,s,l,e.opacity)}function zp(e,t,n,r){return arguments.length===1?IP(e):new Ma(e,t,n,r??1)}function Ma(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Jc(Ma,zp,ed(Ks,{brighter(e){return e=e==null?Tc:Math.pow(Tc,e),new Ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new Ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _r(A0(e>=240?e-240:e+120,i,r),A0(e,i,r),A0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ma(R2(this.h),Hd(this.s),Hd(this.l),$p(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$p(this.opacity);return`${e===1?"hsl(":"hsla("}${R2(this.h)}, ${Hd(this.s)*100}%, ${Hd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R2(e){return e=(e||0)%360,e<0?e+360:e}function Hd(e){return Math.max(0,Math.min(1,e||0))}function A0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const MP=Math.PI/180,DP=180/Math.PI,jp=18,FP=.96422,kP=1,BP=.82521,RP=4/29,gc=6/29,LP=3*gc*gc,o9=gc*gc*gc;function NP(e){if(e instanceof La)return new La(e.l,e.a,e.b,e.opacity);if(e instanceof so)return VP(e);e instanceof _r||(e=kw(e));var t=O0(e.r),n=O0(e.g),r=O0(e.b),i=C0((.2225045*t+.7168786*n+.0606169*r)/kP),a,o;return t===n&&n===r?a=o=i:(a=C0((.4360747*t+.3850649*n+.1430804*r)/FP),o=C0((.0139322*t+.0971045*n+.7141733*r)/BP)),new La(116*i-16,500*(a-i),200*(i-o),e.opacity)}function s9(e,t){return new La(e,0,0,t??1)}function Hp(e,t,n,r){return arguments.length===1?NP(e):new La(e,t,n,r??1)}function La(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Jc(La,Hp,ed(Ks,{brighter(e){return new La(this.l+jp*(e??1),this.a,this.b,this.opacity)},darker(e){return new La(this.l-jp*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=FP*T0(t),e=kP*T0(e),n=BP*T0(n),new _r(P0(3.1338561*t-1.6168667*e-.4906146*n),P0(-.9787684*t+1.9161415*e+.033454*n),P0(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function C0(e){return e>o9?Math.pow(e,1/3):e/LP+RP}function T0(e){return e>gc?e*e*e:LP*(e-RP)}function P0(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function O0(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function UP(e){if(e instanceof so)return new so(e.h,e.c,e.l,e.opacity);if(e instanceof La||(e=NP(e)),e.a===0&&e.b===0)return new so(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*DP;return new so(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function l9(e,t,n,r){return arguments.length===1?UP(e):new so(n,t,e,r??1)}function Gp(e,t,n,r){return arguments.length===1?UP(e):new so(e,t,n,r??1)}function so(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function VP(e){if(isNaN(e.h))return new La(e.l,0,0,e.opacity);var t=e.h*MP;return new La(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Jc(so,Gp,ed(Ks,{brighter(e){return new so(this.h,this.c,this.l+jp*(e??1),this.opacity)},darker(e){return new so(this.h,this.c,this.l-jp*(e??1),this.opacity)},rgb(){return VP(this).rgb()}}));var $P=-.14861,Bw=1.78277,Rw=-.29227,pm=-.90649,Ch=1.97294,L2=Ch*pm,N2=Ch*Bw,U2=Bw*Rw-pm*$P;function u9(e){if(e instanceof Rl)return new Rl(e.h,e.s,e.l,e.opacity);e instanceof _r||(e=kw(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(U2*r+L2*t-N2*n)/(U2+L2-N2),a=r-i,o=(Ch*(n-i)-Rw*a)/pm,s=Math.sqrt(o*o+a*a)/(Ch*i*(1-i)),l=s?Math.atan2(o,a)*DP-120:NaN;return new Rl(l<0?l+360:l,s,i,e.opacity)}function Va(e,t,n,r){return arguments.length===1?u9(e):new Rl(e,t,n,r??1)}function Rl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Jc(Rl,Va,ed(Ks,{brighter(e){return e=e==null?Tc:Math.pow(Tc,e),new Rl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wl:Math.pow(Wl,e),new Rl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*MP,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _r(255*(t+n*($P*r+Bw*i)),255*(t+n*(Rw*r+pm*i)),255*(t+n*(Ch*r)),this.opacity)}}));function zP(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function jP(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return zP((n-r/t)*t,o,i,a,s)}}function HP(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return zP((n-r/t)*t,i,a,o,s)}}const gm=e=>()=>e;function GP(e,t){return function(n){return e+n*t}}function c9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mm(e,t){var n=t-e;return n?GP(e,n>180||n<-180?n-360*Math.round(n/360):n):gm(isNaN(e)?t:e)}function f9(e){return(e=+e)==1?Sr:function(t,n){return n-t?c9(t,n,e):gm(isNaN(t)?n:t)}}function Sr(e,t){var n=t-e;return n?GP(e,n):gm(isNaN(e)?t:e)}const Th=function e(t){var n=f9(t);function r(i,a){var o=n((i=Pc(i)).r,(a=Pc(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=Sr(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function YP(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=Pc(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var XP=YP(jP),h9=YP(HP);function Lw(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function WP(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function d9(e,t){return(WP(t)?Lw:KP)(e,t)}function KP(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=qs(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function qP(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function la(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ZP(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=qs(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var b1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I0=new RegExp(b1.source,"g");function v9(e){return function(){return e}}function p9(e){return function(t){return e(t)+""}}function Nw(e,t){var n=b1.lastIndex=I0.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=b1.exec(e))&&(i=I0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:la(r,i)})),n=I0.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?p9(l[0].x):v9(t):(t=l.length,function(u){for(var c=0,h;c<t;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function qs(e,t){var n=typeof t,r;return t==null||n==="boolean"?gm(t):(n==="number"?la:n==="string"?(r=zs(t))?(t=r,Th):Nw:t instanceof zs?Th:t instanceof Date?qP:WP(t)?Lw:Array.isArray(t)?KP:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZP:la)(e,t)}function g9(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function m9(e,t){var n=mm(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ym(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var V2=180/Math.PI,w1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function QP(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*V2,skewX:Math.atan(l)*V2,scaleX:o,scaleY:s}}var Gd;function y9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?w1:QP(t.a,t.b,t.c,t.d,t.e,t.f)}function b9(e){return e==null||(Gd||(Gd=document.createElementNS("http://www.w3.org/2000/svg","g")),Gd.setAttribute("transform",e),!(e=Gd.transform.baseVal.consolidate()))?w1:(e=e.matrix,QP(e.a,e.b,e.c,e.d,e.e,e.f))}function JP(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,f,d,v){if(u!==h||c!==f){var g=d.push("translate(",null,t,null,n);v.push({i:g-4,x:la(u,h)},{i:g-2,x:la(c,f)})}else(h||f)&&d.push("translate("+h+t+f+n)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:la(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:la(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,v){if(u!==h||c!==f){var g=d.push(i(d)+"scale(",null,",",null,")");v.push({i:g-4,x:la(u,h)},{i:g-2,x:la(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var v=-1,g=f.length,p;++v<g;)h[(p=f[v]).i]=p.x(d);return h.join("")}}}var eO=JP(y9,"px, ","px)","deg)"),tO=JP(b9,", ",")",")"),w9=1e-12;function $2(e){return((e=Math.exp(e))+1/e)/2}function x9(e){return((e=Math.exp(e))-1/e)/2}function _9(e){return((e=Math.exp(2*e))-1)/(e+1)}const nO=function e(t,n,r){function i(a,o){var s=a[0],l=a[1],u=a[2],c=o[0],h=o[1],f=o[2],d=c-s,v=h-l,g=d*d+v*v,p,y;if(g<w9)y=Math.log(f/u)/t,p=function(S){return[s+S*d,l+S*v,u*Math.exp(t*S*y)]};else{var m=Math.sqrt(g),b=(f*f-u*u+r*g)/(2*u*n*m),w=(f*f-u*u-r*g)/(2*f*n*m),x=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(w*w+1)-w);y=(_-x)/t,p=function(S){var P=S*y,C=$2(x),D=u/(n*m)*(C*_9(t*P+x)-x9(x));return[s+D*d,l+D*v,u*C/$2(t*P+x)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,l=s*s;return e(o,s,l)},i}(Math.SQRT2,2,4);function rO(e){return function(t,n){var r=e((t=zp(t)).h,(n=zp(n)).h),i=Sr(t.s,n.s),a=Sr(t.l,n.l),o=Sr(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const S9=rO(mm);var E9=rO(Sr);function A9(e,t){var n=Sr((e=Hp(e)).l,(t=Hp(t)).l),r=Sr(e.a,t.a),i=Sr(e.b,t.b),a=Sr(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function iO(e){return function(t,n){var r=e((t=Gp(t)).h,(n=Gp(n)).h),i=Sr(t.c,n.c),a=Sr(t.l,n.l),o=Sr(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const C9=iO(mm);var T9=iO(Sr);function aO(e){return function t(n){n=+n;function r(i,a){var o=e((i=Va(i)).h,(a=Va(a)).h),s=Sr(i.s,a.s),l=Sr(i.l,a.l),u=Sr(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const P9=aO(mm);var bm=aO(Sr);function oO(e,t){t===void 0&&(t=e,e=qs);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function O9(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Oc=0,$f=0,Ef=0,sO=1e3,Yp,zf,Xp=0,Kl=0,wm=0,Ph=typeof performance=="object"&&performance.now?performance:Date,lO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function td(){return Kl||(lO(I9),Kl=Ph.now()+wm)}function I9(){Kl=0}function Oh(){this._call=this._time=this._next=null}Oh.prototype=xm.prototype={constructor:Oh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?td():+n)+(t==null?0:+t),!this._next&&zf!==this&&(zf?zf._next=this:Yp=this,zf=this),this._call=e,this._time=n,x1()},stop:function(){this._call&&(this._call=null,this._time=1/0,x1())}};function xm(e,t,n){var r=new Oh;return r.restart(e,t,n),r}function uO(){td(),++Oc;for(var e=Yp,t;e;)(t=Kl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Oc}function z2(){Kl=(Xp=Ph.now())+wm,Oc=$f=0;try{uO()}finally{Oc=0,D9(),Kl=0}}function M9(){var e=Ph.now(),t=e-Xp;t>sO&&(wm-=t,Xp=e)}function D9(){for(var e,t=Yp,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Yp=n);zf=e,x1(r)}function x1(e){if(!Oc){$f&&($f=clearTimeout($f));var t=e-Kl;t>24?(e<1/0&&($f=setTimeout(z2,e-Ph.now()-wm)),Ef&&(Ef=clearInterval(Ef))):(Ef||(Xp=Ph.now(),Ef=setInterval(M9,sO)),Oc=1,lO(z2))}}function _1(e,t,n){var r=new Oh;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function F9(e,t,n){var r=new Oh,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,o,s){o=+o,s=s==null?td():+s,r._restart(function l(u){u+=i,r._restart(l,i+=o,s),a(u)},o,s)},r.restart(e,t,n),r)}var k9=lu("start","end","cancel","interrupt"),B9=[],cO=0,S1=1,E1=2,Zv=3,j2=4,A1=5,Qv=6;function _m(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;R9(e,n,{name:t,index:r,group:i,on:k9,tween:B9,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:cO})}function Uw(e,t){var n=Ga(e,t);if(n.state>cO)throw new Error("too late; already scheduled");return n}function So(e,t){var n=Ga(e,t);if(n.state>Zv)throw new Error("too late; already running");return n}function Ga(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function R9(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=xm(a,0,n.time);function a(u){n.state=S1,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,h,f,d;if(n.state!==S1)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Zv)return _1(o);d.state===j2?(d.state=Qv,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=Qv,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(_1(function(){n.state===Zv&&(n.state=j2,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=E1,n.on.call("start",e,e.__data__,n.index,n.group),n.state===E1){for(n.state=Zv,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=A1,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);n.state===A1&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Qv,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Ll(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>E1&&r.state<A1,r.state=Qv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function L9(e){return this.each(function(){Ll(this,e)})}function N9(e,t){var n,r;return function(){var i=So(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function U9(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=So(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function V9(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ga(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?N9:U9)(n,e,t))}function Vw(e,t,n){var r=e._id;return e.each(function(){var i=So(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ga(i,r).value[t]}}function fO(e,t){var n;return(typeof t=="number"?la:t instanceof zs?Th:(n=zs(t))?(t=n,Th):Nw)(e,t)}function $9(e){return function(){this.removeAttribute(e)}}function z9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j9(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function H9(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function G9(e,t,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s)))}}function Y9(e,t,n){var r,i,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s)))}}function X9(e,t){var n=Jh(e),r=n==="transform"?tO:fO;return this.attrTween(e,typeof t=="function"?(n.local?Y9:G9)(n,r,Vw(this,"attr."+e,t)):t==null?(n.local?z9:$9)(n):(n.local?H9:j9)(n,r,t))}function W9(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function K9(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function q9(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&K9(e,a)),n}return i._value=t,i}function Z9(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&W9(e,a)),n}return i._value=t,i}function Q9(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Jh(e);return this.tween(n,(r.local?q9:Z9)(r,t))}function J9(e,t){return function(){Uw(this,e).delay=+t.apply(this,arguments)}}function eU(e,t){return t=+t,function(){Uw(this,e).delay=t}}function tU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J9:eU)(t,e)):Ga(this.node(),t).delay}function nU(e,t){return function(){So(this,e).duration=+t.apply(this,arguments)}}function rU(e,t){return t=+t,function(){So(this,e).duration=t}}function iU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nU:rU)(t,e)):Ga(this.node(),t).duration}function aU(e,t){if(typeof t!="function")throw new Error;return function(){So(this,e).ease=t}}function oU(e){var t=this._id;return arguments.length?this.each(aU(t,e)):Ga(this.node(),t).ease}function sU(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;So(this,e).ease=n}}function lU(e){if(typeof e!="function")throw new Error;return this.each(sU(this._id,e))}function uU(e){typeof e!="function"&&(e=Iw(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],l,u=0;u<o;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new po(r,this._parents,this._name,this._id)}function cU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l=t[s],u=n[s],c=l.length,h=o[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<r;++s)o[s]=t[s];return new po(o,this._parents,this._name,this._id)}function fU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hU(e,t,n){var r,i,a=fU(t)?Uw:So;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function dU(e,t){var n=this._id;return arguments.length<2?Ga(this.node(),n).on.on(e):this.each(hU(n,e,t))}function vU(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pU(){return this.on("end.remove",vU(this._id))}function gU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hm(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],l=s.length,u=a[o]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=e.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,_m(u[f],t,n,f,u,Ga(c,n)));return new po(a,this._parents,t,n)}function mU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ow(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=e.call(c,c.__data__,h,l),d,v=Ga(c,n),g=0,p=f.length;g<p;++g)(d=f[g])&&_m(d,t,n,g,f,v);a.push(f),o.push(c)}return new po(a,o,t,n)}var yU=uu.prototype.constructor;function bU(){return new yU(this._groups,this._parents)}function wU(e,t){var n,r,i;return function(){var a=Xl(this,e),o=(this.style.removeProperty(e),Xl(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function hO(e){return function(){this.style.removeProperty(e)}}function xU(e,t,n){var r,i=n+"",a;return function(){var o=Xl(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function _U(e,t,n){var r,i,a;return function(){var o=Xl(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Xl(this,e))),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}function SU(e,t){var n,r,i,a="style."+t,o="end."+a,s;return function(){var l=So(this,e),u=l.on,c=l.value[a]==null?s||(s=hO(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function EU(e,t,n){var r=(e+="")=="transform"?eO:fO;return t==null?this.styleTween(e,wU(e,r)).on("end.style."+e,hO(e)):typeof t=="function"?this.styleTween(e,_U(e,r,Vw(this,"style."+e,t))).each(SU(this._id,e)):this.styleTween(e,xU(e,r,t),n).on("end.style."+e,null)}function AU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function CU(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&AU(e,o,n)),r}return a._value=t,a}function TU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,CU(e,t,n??""))}function PU(e){return function(){this.textContent=e}}function OU(e){return function(){var t=e(this);this.textContent=t??""}}function IU(e){return this.tween("text",typeof e=="function"?OU(Vw(this,"text",e)):PU(e==null?"":e+""))}function MU(e){return function(t){this.textContent=e.call(this,t)}}function DU(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&MU(i)),t}return r._value=e,r}function FU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,DU(e))}function kU(){for(var e=this._name,t=this._id,n=vO(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var c=Ga(l,t);_m(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new po(r,this._parents,e,n)}function BU(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--i===0&&a()}};n.each(function(){var u=So(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&a()})}var RU=0;function po(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function dO(e){return uu().transition(e)}function vO(){return++RU}var ko=uu.prototype;po.prototype=dO.prototype={constructor:po,select:gU,selectAll:mU,selectChild:ko.selectChild,selectChildren:ko.selectChildren,filter:uU,merge:cU,selection:bU,transition:kU,call:ko.call,nodes:ko.nodes,node:ko.node,size:ko.size,empty:ko.empty,each:ko.each,on:dU,attr:X9,attrTween:Q9,style:EU,styleTween:TU,text:IU,textTween:FU,remove:pU,tween:V9,delay:tU,duration:iU,ease:oU,easeVarying:lU,end:BU,[Symbol.iterator]:ko[Symbol.iterator]};const LU=e=>+e;function NU(e){return e*e}function UU(e){return e*(2-e)}function H2(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function VU(e){return e*e*e}function $U(e){return--e*e*e+1}function C1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $w=3,zU=function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n}($w),jU=function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n}($w),G2=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}($w),pO=Math.PI,gO=pO/2;function HU(e){return+e==1?1:1-Math.cos(e*gO)}function GU(e){return Math.sin(e*gO)}function Y2(e){return(1-Math.cos(pO*e))/2}function js(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function YU(e){return js(1-+e)}function XU(e){return 1-js(e)}function X2(e){return((e*=2)<=1?js(1-e):2-js(e-1))/2}function WU(e){return 1-Math.sqrt(1-e*e)}function KU(e){return Math.sqrt(1- --e*e)}function W2(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var T1=4/11,qU=6/11,ZU=8/11,QU=3/4,JU=9/11,eV=10/11,tV=15/16,nV=21/22,rV=63/64,Yd=1/T1/T1;function iV(e){return 1-Ih(1-e)}function Ih(e){return(e=+e)<T1?Yd*e*e:e<ZU?Yd*(e-=qU)*e+QU:e<eV?Yd*(e-=JU)*e+tV:Yd*(e-=nV)*e+rV}function aV(e){return((e*=2)<=1?1-Ih(1-e):Ih(e-1)+1)/2}var zw=1.70158,oV=function e(t){t=+t;function n(r){return(r=+r)*r*(t*(r-1)+r)}return n.overshoot=e,n}(zw),sV=function e(t){t=+t;function n(r){return--r*r*((r+1)*t+r)+1}return n.overshoot=e,n}(zw),K2=function e(t){t=+t;function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return n.overshoot=e,n}(zw),Ic=2*Math.PI,jw=1,Hw=.3,lV=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ic);function i(a){return t*js(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return e(a,n*Ic)},i.period=function(a){return e(t,a)},i}(jw,Hw),q2=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ic);function i(a){return 1-t*js(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return e(a,n*Ic)},i.period=function(a){return e(t,a)},i}(jw,Hw),uV=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ic);function i(a){return((a=a*2-1)<0?t*js(-a)*Math.sin((r-a)/n):2-t*js(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return e(a,n*Ic)},i.period=function(a){return e(t,a)},i}(jw,Hw),cV={time:null,delay:0,duration:250,ease:C1};function fV(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hV(e){var t,n;e instanceof po?(t=e._id,e=e._name):(t=vO(),(n=cV).time=td(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,l,u=0;u<s;++u)(l=o[u])&&_m(l,e,t,u,o,n||fV(l,t));return new po(r,this._parents,e,t)}uu.prototype.interrupt=L9;uu.prototype.transition=hV;var dV=[null];function vV(e,t){var n=e.__transition,r,i;if(n){t=t==null?null:t+"";for(i in n)if((r=n[i]).state>S1&&r.name===t)return new po([[e]],dV,t,+i)}return null}const M0=e=>()=>e;function pV(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function gV(e){e.stopImmediatePropagation()}function D0(e){e.preventDefault(),e.stopImmediatePropagation()}var Z2={name:"drag"},F0={name:"space"},Fu={name:"handle"},ku={name:"center"};const{abs:Q2,max:zr,min:jr}=Math;function J2(e){return[+e[0],+e[1]]}function P1(e){return[J2(e[0]),J2(e[1])]}var Jv={name:"x",handles:["w","e"].map(Mh),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},ep={name:"y",handles:["n","s"].map(Mh),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},mV={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Mh),input:function(e){return e==null?null:P1(e)},output:function(e){return e}},Bo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},eS={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},tS={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yV={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},bV={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Mh(e){return{type:e}}function wV(e){return!e.ctrlKey&&!e.button}function xV(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function _V(){return navigator.maxTouchPoints||"ontouchstart"in this}function k0(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function SV(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function EV(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function AV(){return Gw(Jv)}function CV(){return Gw(ep)}function TV(){return Gw(mV)}function Gw(e){var t=xV,n=wV,r=_V,i=!0,a=lu("start","brush","end"),o=6,s;function l(p){var y=p.property("__brush",g).selectAll(".overlay").data([Mh("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Bo.overlay).merge(y).each(function(){var b=k0(this).extent;mn(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),p.selectAll(".selection").data([Mh("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Bo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var m=p.selectAll(".handle").data(e.handles,function(b){return b.type});m.exit().remove(),m.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return Bo[b.type]}),p.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,y,m){p.tween?p.on("start.brush",function(b){c(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){c(this,arguments).end(b)}).tween("brush",function(){var b=this,w=b.__brush,x=c(b,arguments),_=w.selection,S=e.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),P=qs(_,S);function C(D){w.selection=D===1&&S===null?null:P(D),u.call(b),x.brush()}return _!==null&&S!==null?C:C(1)}):p.each(function(){var b=this,w=arguments,x=b.__brush,_=e.input(typeof y=="function"?y.apply(b,w):y,x.extent),S=c(b,w).beforestart();Ll(b),x.selection=_===null?null:_,u.call(b),S.start(m).brush(m).end(m)})},l.clear=function(p,y){l.move(p,null,y)};function u(){var p=mn(this),y=k0(this).selection;y?(p.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(m){return m.type[m.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(m){return m.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(m){return m.type==="n"||m.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(m){return m.type==="e"||m.type==="w"?y[1][1]-y[0][1]+o:o})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(p,y,m){var b=p.__brush.emitter;return b&&(!m||!b.clean)?b:new h(p,y,m)}function h(p,y,m){this.that=p,this.args=y,this.state=p.__brush,this.active=0,this.clean=m}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,y){return this.starting?(this.starting=!1,this.emit("start",p,y)):this.emit("brush",p),this},brush:function(p,y){return this.emit("brush",p,y),this},end:function(p,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,y)),this},emit:function(p,y,m){var b=mn(this.that).datum();a.call(p,this.that,new pV(p,{sourceEvent:y,target:l,selection:e.output(this.state.selection),mode:m,dispatch:a}),b)}};function f(p){if(s&&!p.touches||!n.apply(this,arguments))return;var y=this,m=p.target.__data__.type,b=(i&&p.metaKey?m="overlay":m)==="selection"?Z2:i&&p.altKey?ku:Fu,w=e===ep?null:yV[m],x=e===Jv?null:bV[m],_=k0(y),S=_.extent,P=_.selection,C=S[0][0],D,T,B=S[0][1],I,O,L=S[1][0],R,U,$=S[1][1],j,z,Y=0,Q=0,re,he=w&&x&&i&&p.shiftKey,ce,te,ee=Array.from(p.touches||[p],M=>{const k=M.identifier;return M=Ni(M,y),M.point0=M.slice(),M.identifier=k,M});Ll(y);var Ue=c(y,arguments,!0).beforestart();if(m==="overlay"){P&&(re=!0);const M=[ee[0],ee[1]||ee[0]];_.selection=P=[[D=e===ep?C:jr(M[0][0],M[1][0]),I=e===Jv?B:jr(M[0][1],M[1][1])],[R=e===ep?L:zr(M[0][0],M[1][0]),j=e===Jv?$:zr(M[0][1],M[1][1])]],ee.length>1&&ke(p)}else D=P[0][0],I=P[0][1],R=P[1][0],j=P[1][1];T=D,O=I,U=R,z=j;var ye=mn(y).attr("pointer-events","none"),pe=ye.selectAll(".overlay").attr("cursor",Bo[m]);if(p.touches)Ue.moved=ae,Ue.ended=Ce;else{var Se=mn(p.view).on("mousemove.brush",ae,!0).on("mouseup.brush",Ce,!0);i&&Se.on("keydown.brush",We,!0).on("keyup.brush",X,!0),dm(p.view)}u.call(y),Ue.start(p,b.name);function ae(M){for(const k of M.changedTouches||[M])for(const W of ee)W.identifier===k.identifier&&(W.cur=Ni(k,y));if(he&&!ce&&!te&&ee.length===1){const k=ee[0];Q2(k.cur[0]-k[0])>Q2(k.cur[1]-k[1])?te=!0:ce=!0}for(const k of ee)k.cur&&(k[0]=k.cur[0],k[1]=k.cur[1]);re=!0,D0(M),ke(M)}function ke(M){const k=ee[0],W=k.point0;var Z;switch(Y=k[0]-W[0],Q=k[1]-W[1],b){case F0:case Z2:{w&&(Y=zr(C-D,jr(L-R,Y)),T=D+Y,U=R+Y),x&&(Q=zr(B-I,jr($-j,Q)),O=I+Q,z=j+Q);break}case Fu:{ee[1]?(w&&(T=zr(C,jr(L,ee[0][0])),U=zr(C,jr(L,ee[1][0])),w=1),x&&(O=zr(B,jr($,ee[0][1])),z=zr(B,jr($,ee[1][1])),x=1)):(w<0?(Y=zr(C-D,jr(L-D,Y)),T=D+Y,U=R):w>0&&(Y=zr(C-R,jr(L-R,Y)),T=D,U=R+Y),x<0?(Q=zr(B-I,jr($-I,Q)),O=I+Q,z=j):x>0&&(Q=zr(B-j,jr($-j,Q)),O=I,z=j+Q));break}case ku:{w&&(T=zr(C,jr(L,D-Y*w)),U=zr(C,jr(L,R+Y*w))),x&&(O=zr(B,jr($,I-Q*x)),z=zr(B,jr($,j+Q*x)));break}}U<T&&(w*=-1,Z=D,D=R,R=Z,Z=T,T=U,U=Z,m in eS&&pe.attr("cursor",Bo[m=eS[m]])),z<O&&(x*=-1,Z=I,I=j,j=Z,Z=O,O=z,z=Z,m in tS&&pe.attr("cursor",Bo[m=tS[m]])),_.selection&&(P=_.selection),ce&&(T=P[0][0],U=P[1][0]),te&&(O=P[0][1],z=P[1][1]),(P[0][0]!==T||P[0][1]!==O||P[1][0]!==U||P[1][1]!==z)&&(_.selection=[[T,O],[U,z]],u.call(y),Ue.brush(M,b.name))}function Ce(M){if(gV(M),M.touches){if(M.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else vm(M.view,re),Se.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ye.attr("pointer-events","all"),pe.attr("cursor",Bo.overlay),_.selection&&(P=_.selection),SV(P)&&(_.selection=null,u.call(y)),Ue.end(M,b.name)}function We(M){switch(M.keyCode){case 16:{he=w&&x;break}case 18:{b===Fu&&(w&&(R=U-Y*w,D=T+Y*w),x&&(j=z-Q*x,I=O+Q*x),b=ku,ke(M));break}case 32:{(b===Fu||b===ku)&&(w<0?R=U-Y:w>0&&(D=T-Y),x<0?j=z-Q:x>0&&(I=O-Q),b=F0,pe.attr("cursor",Bo.selection),ke(M));break}default:return}D0(M)}function X(M){switch(M.keyCode){case 16:{he&&(ce=te=he=!1,ke(M));break}case 18:{b===ku&&(w<0?R=U:w>0&&(D=T),x<0?j=z:x>0&&(I=O),b=Fu,ke(M));break}case 32:{b===F0&&(M.altKey?(w&&(R=U-Y*w,D=T+Y*w),x&&(j=z-Q*x,I=O+Q*x),b=ku):(w<0?R=U:w>0&&(D=T),x<0?j=z:x>0&&(I=O),b=Fu),pe.attr("cursor",Bo[m]),ke(M));break}default:return}D0(M)}}function d(p){c(this,arguments).moved(p)}function v(p){c(this,arguments).ended(p)}function g(){var p=this.__brush||{selection:null};return p.extent=P1(t.apply(this,arguments)),p.dim=e,p}return l.extent=function(p){return arguments.length?(t=typeof p=="function"?p:M0(P1(p)),l):t},l.filter=function(p){return arguments.length?(n=typeof p=="function"?p:M0(!!p),l):n},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:M0(!!p),l):r},l.handleSize=function(p){return arguments.length?(o=+p,l):o},l.keyModifiers=function(p){return arguments.length?(i=!!p,l):i},l.on=function(){var p=a.on.apply(a,arguments);return p===a?l:p},l}var nS=Math.abs,Bu=Math.cos,Ru=Math.sin,mO=Math.PI,Xd=mO/2,rS=mO*2,iS=Math.max,B0=1e-12;function R0(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function PV(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function OV(){return Yw(!1,!1)}function IV(){return Yw(!1,!0)}function MV(){return Yw(!0,!1)}function Yw(e,t){var n=0,r=null,i=null,a=null;function o(s){var l=s.length,u=new Array(l),c=R0(0,l),h=new Array(l*l),f=new Array(l),d=0,v;s=Float64Array.from({length:l*l},t?(g,p)=>s[p%l][p/l|0]:(g,p)=>s[p/l|0][p%l]);for(let g=0;g<l;++g){let p=0;for(let y=0;y<l;++y)p+=s[g*l+y]+e*s[y*l+g];d+=u[g]=p}d=iS(0,rS-n*l)/d,v=d?n:rS/l;{let g=0;r&&c.sort((p,y)=>r(u[p],u[y]));for(const p of c){const y=g;if(e){const m=R0(~l+1,l).filter(b=>b<0?s[~b*l+p]:s[p*l+b]);i&&m.sort((b,w)=>i(b<0?-s[~b*l+p]:s[p*l+b],w<0?-s[~w*l+p]:s[p*l+w]));for(const b of m)if(b<0){const w=h[~b*l+p]||(h[~b*l+p]={source:null,target:null});w.target={index:p,startAngle:g,endAngle:g+=s[~b*l+p]*d,value:s[~b*l+p]}}else{const w=h[p*l+b]||(h[p*l+b]={source:null,target:null});w.source={index:p,startAngle:g,endAngle:g+=s[p*l+b]*d,value:s[p*l+b]}}f[p]={index:p,startAngle:y,endAngle:g,value:u[p]}}else{const m=R0(0,l).filter(b=>s[p*l+b]||s[b*l+p]);i&&m.sort((b,w)=>i(s[p*l+b],s[p*l+w]));for(const b of m){let w;if(p<b?(w=h[p*l+b]||(h[p*l+b]={source:null,target:null}),w.source={index:p,startAngle:g,endAngle:g+=s[p*l+b]*d,value:s[p*l+b]}):(w=h[b*l+p]||(h[b*l+p]={source:null,target:null}),w.target={index:p,startAngle:g,endAngle:g+=s[p*l+b]*d,value:s[p*l+b]},p===b&&(w.source=w.target)),w.source&&w.target&&w.source.value<w.target.value){const x=w.source;w.source=w.target,w.target=x}}f[p]={index:p,startAngle:y,endAngle:g,value:u[p]}}g+=v}}return h=Object.values(h),h.groups=f,a?h.sort(a):h}return o.padAngle=function(s){return arguments.length?(n=iS(0,s),o):n},o.sortGroups=function(s){return arguments.length?(r=s,o):r},o.sortSubgroups=function(s){return arguments.length?(i=s,o):i},o.sortChords=function(s){return arguments.length?(s==null?a=null:(a=PV(s))._=s,o):a&&a._},o}const O1=Math.PI,I1=2*O1,yl=1e-6,DV=I1-yl;function yO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function FV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let nd=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yO:FV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,u=i-n,c=o-t,h=s-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>yl)if(!(Math.abs(h*l-u*c)>yl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-o,v=i-s,g=l*l+u*u,p=d*d+v*v,y=Math.sqrt(g),m=Math.sqrt(f),b=a*Math.tan((O1-Math.acos((g+f-p)/(2*y*m)))/2),w=b/m,x=b/y;Math.abs(w-1)>yl&&this._append`L${t+w*c},${n+w*h}`,this._append`A${a},${a},0,0,${+(h*d>c*v)},${this._x1=t+x*l},${this._y1=n+x*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>yl||Math.abs(this._y1-c)>yl)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%I1+I1),f>DV?this._append`A${r},${r},0,1,${h},${t-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>yl&&this._append`A${r},${r},0,${+(f>=O1)},${h},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Xw(){return new nd}Xw.prototype=nd.prototype;function kV(e=3){return new nd(+e)}var BV=Array.prototype.slice;function fl(e){return function(){return e}}function RV(e){return e.source}function LV(e){return e.target}function aS(e){return e.radius}function NV(e){return e.startAngle}function UV(e){return e.endAngle}function VV(){return 0}function $V(){return 10}function bO(e){var t=RV,n=LV,r=aS,i=aS,a=NV,o=UV,s=VV,l=null;function u(){var c,h=t.apply(this,arguments),f=n.apply(this,arguments),d=s.apply(this,arguments)/2,v=BV.call(arguments),g=+r.apply(this,(v[0]=h,v)),p=a.apply(this,v)-Xd,y=o.apply(this,v)-Xd,m=+i.apply(this,(v[0]=f,v)),b=a.apply(this,v)-Xd,w=o.apply(this,v)-Xd;if(l||(l=c=Xw()),d>B0&&(nS(y-p)>d*2+B0?y>p?(p+=d,y-=d):(p-=d,y+=d):p=y=(p+y)/2,nS(w-b)>d*2+B0?w>b?(b+=d,w-=d):(b-=d,w+=d):b=w=(b+w)/2),l.moveTo(g*Bu(p),g*Ru(p)),l.arc(0,0,g,p,y),p!==b||y!==w)if(e){var x=+e.apply(this,arguments),_=m-x,S=(b+w)/2;l.quadraticCurveTo(0,0,_*Bu(b),_*Ru(b)),l.lineTo(m*Bu(S),m*Ru(S)),l.lineTo(_*Bu(w),_*Ru(w))}else l.quadraticCurveTo(0,0,m*Bu(b),m*Ru(b)),l.arc(0,0,m,b,w);if(l.quadraticCurveTo(0,0,g*Bu(p),g*Ru(p)),l.closePath(),c)return l=null,c+""||null}return e&&(u.headRadius=function(c){return arguments.length?(e=typeof c=="function"?c:fl(+c),u):e}),u.radius=function(c){return arguments.length?(r=i=typeof c=="function"?c:fl(+c),u):r},u.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:fl(+c),u):r},u.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:fl(+c),u):i},u.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:fl(+c),u):a},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:fl(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:fl(+c),u):s},u.source=function(c){return arguments.length?(t=c,u):t},u.target=function(c){return arguments.length?(n=c,u):n},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function zV(){return bO()}function jV(){return bO($V)}var HV=Array.prototype,wO=HV.slice;function GV(e,t){return e-t}function YV(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}const Cs=e=>()=>e;function XV(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=WV(e,t[n]))return i;return 0}function WV(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],u=l[0],c=l[1],h=e[s],f=h[0],d=h[1];if(KV(l,h,t))return 0;c>r!=d>r&&n<(f-u)*(r-c)/(d-c)+u&&(i=-i)}return i}function KV(e,t,n){var r;return qV(e,t,n)&&ZV(e[r=+(e[0]===t[0])],n[r],t[r])}function qV(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function ZV(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function QV(){}var Ro=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function M1(){var e=1,t=1,n=Aw,r=l;function i(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(GV);else{const h=rh(u,JV);for(c=Gl(...Ew(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>a(u,h))}function a(u,c){const h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var f=[],d=[];return o(u,h,function(v){r(v,u,h),YV(v)>0?f.push([v]):d.push(v)}),d.forEach(function(v){for(var g=0,p=f.length,y;g<p;++g)if(XV((y=f[g])[0],v)!==-1){y.push(v);return}}),{type:"MultiPolygon",value:c,coordinates:f}}function o(u,c,h){var f=new Array,d=new Array,v,g,p,y,m,b;for(v=g=-1,y=hl(u[0],c),Ro[y<<1].forEach(w);++v<e-1;)p=y,y=hl(u[v+1],c),Ro[p|y<<1].forEach(w);for(Ro[y<<0].forEach(w);++g<t-1;){for(v=-1,y=hl(u[g*e+e],c),m=hl(u[g*e],c),Ro[y<<1|m<<2].forEach(w);++v<e-1;)p=y,y=hl(u[g*e+e+v+1],c),b=m,m=hl(u[g*e+v+1],c),Ro[p|y<<1|m<<2|b<<3].forEach(w);Ro[y|m<<3].forEach(w)}for(v=-1,m=u[g*e]>=c,Ro[m<<2].forEach(w);++v<e-1;)b=m,m=hl(u[g*e+v+1],c),Ro[m<<2|b<<3].forEach(w);Ro[m<<3].forEach(w);function w(x){var _=[x[0][0]+v,x[0][1]+g],S=[x[1][0]+v,x[1][1]+g],P=s(_),C=s(S),D,T;(D=d[P])?(T=f[C])?(delete d[D.end],delete f[T.start],D===T?(D.ring.push(S),h(D.ring)):f[D.start]=d[T.end]={start:D.start,end:T.end,ring:D.ring.concat(T.ring)}):(delete d[D.end],D.ring.push(S),d[D.end=C]=D):(D=f[C])?(T=d[P])?(delete f[D.start],delete d[T.end],D===T?(D.ring.push(S),h(D.ring)):f[T.start]=d[D.end]={start:T.start,end:D.end,ring:T.ring.concat(D.ring)}):(delete f[D.start],D.ring.unshift(_),f[D.start=P]=D):f[P]=d[C]={start:P,end:C,ring:[_,S]}}}function s(u){return u[0]*2+u[1]*(e+1)*4}function l(u,c,h){u.forEach(function(f){var d=f[0],v=f[1],g=d|0,p=v|0,y=L0(c[p*e+g]);d>0&&d<e&&g===d&&(f[0]=oS(d,L0(c[p*e+g-1]),y,h)),v>0&&v<t&&p===v&&(f[1]=oS(v,L0(c[(p-1)*e+g]),y,h))})}return i.contour=a,i.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),h=Math.floor(u[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return e=c,t=h,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?Cs(wO.call(u)):Cs(u),i):n},i.smooth=function(u){return arguments.length?(r=u?l:QV,i):r===l},i}function JV(e){return isFinite(e)?e:NaN}function hl(e,t){return e==null?!1:+e>=t}function L0(e){return e==null||isNaN(e=+e)?-1/0:e}function oS(e,t,n,r){const i=r-t,a=n-t,o=isFinite(i)||isFinite(a)?i/a:Math.sign(i)/Math.sign(a);return isNaN(o)?e:e+o-.5}function e$(e){return e[0]}function t$(e){return e[1]}function n$(){return 1}function r$(){var e=e$,t=t$,n=n$,r=960,i=500,a=20,o=2,s=a*3,l=r+s*2>>o,u=i+s*2>>o,c=Cs(20);function h(m){var b=new Float32Array(l*u),w=Math.pow(2,-o),x=-1;for(const I of m){var _=(e(I,++x,m)+s)*w,S=(t(I,x,m)+s)*w,P=+n(I,x,m);if(P&&_>=0&&_<l&&S>=0&&S<u){var C=Math.floor(_),D=Math.floor(S),T=_-C-.5,B=S-D-.5;b[C+D*l]+=(1-T)*(1-B)*P,b[C+1+D*l]+=T*(1-B)*P,b[C+1+(D+1)*l]+=T*B*P,b[C+(D+1)*l]+=(1-T)*B*P}}return ZT({data:b,width:l,height:u},a*w),b}function f(m){var b=h(m),w=c(b),x=Math.pow(2,2*o);return Array.isArray(w)||(w=Gl(Number.MIN_VALUE,Cc(b)/x,w)),M1().size([l,u]).thresholds(w.map(_=>_*x))(b).map((_,S)=>(_.value=+w[S],d(_)))}f.contours=function(m){var b=h(m),w=M1().size([l,u]),x=Math.pow(2,2*o),_=S=>{S=+S;var P=d(w.contour(b,S*x));return P.value=S,P};return Object.defineProperty(_,"max",{get:()=>Cc(b)/x}),_};function d(m){return m.coordinates.forEach(v),m}function v(m){m.forEach(g)}function g(m){m.forEach(p)}function p(m){m[0]=m[0]*Math.pow(2,o)-s,m[1]=m[1]*Math.pow(2,o)-s}function y(){return s=a*3,l=r+s*2>>o,u=i+s*2>>o,f}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Cs(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Cs(+m),f):t},f.weight=function(m){return arguments.length?(n=typeof m=="function"?m:Cs(+m),f):n},f.size=function(m){if(!arguments.length)return[r,i];var b=+m[0],w=+m[1];if(!(b>=0&&w>=0))throw new Error("invalid size");return r=b,i=w,y()},f.cellSize=function(m){if(!arguments.length)return 1<<o;if(!((m=+m)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(m)/Math.LN2),y()},f.thresholds=function(m){return arguments.length?(c=typeof m=="function"?m:Array.isArray(m)?Cs(wO.call(m)):Cs(m),f):c},f.bandwidth=function(m){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*m*m+1)-1)/2,y()},f}const Wo=11102230246251565e-32,Hr=134217729,i$=(3+8*Wo)*Wo;function N0(e,t,n,r,i){let a,o,s,l,u=t[0],c=r[0],h=0,f=0;c>u==c>-u?(a=u,u=t[++h]):(a=c,c=r[++f]);let d=0;if(h<e&&f<n)for(c>u==c>-u?(o=u+a,s=a-(o-u),u=t[++h]):(o=c+a,s=a-(o-c),c=r[++f]),a=o,s!==0&&(i[d++]=s);h<e&&f<n;)c>u==c>-u?(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++h]):(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++f]),a=o,s!==0&&(i[d++]=s);for(;h<e;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++h],a=o,s!==0&&(i[d++]=s);for(;f<n;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++f],a=o,s!==0&&(i[d++]=s);return(a!==0||d===0)&&(i[d++]=a),d}function a$(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function rd(e){return new Float64Array(e)}const o$=(3+16*Wo)*Wo,s$=(2+12*Wo)*Wo,l$=(9+64*Wo)*Wo*Wo,Lu=rd(4),sS=rd(8),lS=rd(12),uS=rd(16),Zr=rd(4);function u$(e,t,n,r,i,a,o){let s,l,u,c,h,f,d,v,g,p,y,m,b,w,x,_,S,P;const C=e-i,D=n-i,T=t-a,B=r-a;w=C*B,f=Hr*C,d=f-(f-C),v=C-d,f=Hr*B,g=f-(f-B),p=B-g,x=v*p-(w-d*g-v*g-d*p),_=T*D,f=Hr*T,d=f-(f-T),v=T-d,f=Hr*D,g=f-(f-D),p=D-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Lu[0]=x-(y+h)+(h-S),m=w+y,h=m-w,b=w-(m-h)+(y-h),y=b-_,h=b-y,Lu[1]=b-(y+h)+(h-_),P=m+y,h=P-m,Lu[2]=m-(P-h)+(y-h),Lu[3]=P;let I=a$(4,Lu),O=s$*o;if(I>=O||-I>=O||(h=e-C,s=e-(C+h)+(h-i),h=n-D,u=n-(D+h)+(h-i),h=t-T,l=t-(T+h)+(h-a),h=r-B,c=r-(B+h)+(h-a),s===0&&l===0&&u===0&&c===0)||(O=l$*o+i$*Math.abs(I),I+=C*c+B*s-(T*u+D*l),I>=O||-I>=O))return I;w=s*B,f=Hr*s,d=f-(f-s),v=s-d,f=Hr*B,g=f-(f-B),p=B-g,x=v*p-(w-d*g-v*g-d*p),_=l*D,f=Hr*l,d=f-(f-l),v=l-d,f=Hr*D,g=f-(f-D),p=D-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Zr[0]=x-(y+h)+(h-S),m=w+y,h=m-w,b=w-(m-h)+(y-h),y=b-_,h=b-y,Zr[1]=b-(y+h)+(h-_),P=m+y,h=P-m,Zr[2]=m-(P-h)+(y-h),Zr[3]=P;const L=N0(4,Lu,4,Zr,sS);w=C*c,f=Hr*C,d=f-(f-C),v=C-d,f=Hr*c,g=f-(f-c),p=c-g,x=v*p-(w-d*g-v*g-d*p),_=T*u,f=Hr*T,d=f-(f-T),v=T-d,f=Hr*u,g=f-(f-u),p=u-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Zr[0]=x-(y+h)+(h-S),m=w+y,h=m-w,b=w-(m-h)+(y-h),y=b-_,h=b-y,Zr[1]=b-(y+h)+(h-_),P=m+y,h=P-m,Zr[2]=m-(P-h)+(y-h),Zr[3]=P;const R=N0(L,sS,4,Zr,lS);w=s*c,f=Hr*s,d=f-(f-s),v=s-d,f=Hr*c,g=f-(f-c),p=c-g,x=v*p-(w-d*g-v*g-d*p),_=l*u,f=Hr*l,d=f-(f-l),v=l-d,f=Hr*u,g=f-(f-u),p=u-g,S=v*p-(_-d*g-v*g-d*p),y=x-S,h=x-y,Zr[0]=x-(y+h)+(h-S),m=w+y,h=m-w,b=w-(m-h)+(y-h),y=b-_,h=b-y,Zr[1]=b-(y+h)+(h-_),P=m+y,h=P-m,Zr[2]=m-(P-h)+(y-h),Zr[3]=P;const U=N0(R,lS,4,Zr,uS);return uS[U-1]}function Wd(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),l=o-s,u=Math.abs(o+s);return Math.abs(l)>=o$*u?l:-u$(e,t,n,r,i,a,u)}const cS=Math.pow(2,-52),Kd=new Uint32Array(512);class Wp{static from(t,n=v$,r=p$){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const s=t[o];a[2*o]=n(s),a[2*o+1]=r(s)}return new Wp(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let s=1/0,l=1/0,u=-1/0,c=-1/0;for(let C=0;C<o;C++){const D=t[2*C],T=t[2*C+1];D<s&&(s=D),T<l&&(l=T),D>u&&(u=D),T>c&&(c=T),this._ids[C]=C}const h=(s+u)/2,f=(l+c)/2;let d,v,g;for(let C=0,D=1/0;C<o;C++){const T=U0(h,f,t[2*C],t[2*C+1]);T<D&&(d=C,D=T)}const p=t[2*d],y=t[2*d+1];for(let C=0,D=1/0;C<o;C++){if(C===d)continue;const T=U0(p,y,t[2*C],t[2*C+1]);T<D&&T>0&&(v=C,D=T)}let m=t[2*v],b=t[2*v+1],w=1/0;for(let C=0;C<o;C++){if(C===d||C===v)continue;const D=h$(p,y,m,b,t[2*C],t[2*C+1]);D<w&&(g=C,w=D)}let x=t[2*g],_=t[2*g+1];if(w===1/0){for(let T=0;T<o;T++)this._dists[T]=t[2*T]-t[0]||t[2*T+1]-t[1];oc(this._ids,this._dists,0,o-1);const C=new Uint32Array(o);let D=0;for(let T=0,B=-1/0;T<o;T++){const I=this._ids[T],O=this._dists[I];O>B&&(C[D++]=I,B=O)}this.hull=C.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Wd(p,y,m,b,x,_)<0){const C=v,D=m,T=b;v=g,m=x,b=_,g=C,x=D,_=T}const S=d$(p,y,m,b,x,_);this._cx=S.x,this._cy=S.y;for(let C=0;C<o;C++)this._dists[C]=U0(t[2*C],t[2*C+1],S.x,S.y);oc(this._ids,this._dists,0,o-1),this._hullStart=d;let P=3;r[d]=n[g]=v,r[v]=n[d]=g,r[g]=n[v]=d,i[d]=0,i[v]=1,i[g]=2,a.fill(-1),a[this._hashKey(p,y)]=d,a[this._hashKey(m,b)]=v,a[this._hashKey(x,_)]=g,this.trianglesLen=0,this._addTriangle(d,v,g,-1,-1,-1);for(let C=0,D,T;C<this._ids.length;C++){const B=this._ids[C],I=t[2*B],O=t[2*B+1];if(C>0&&Math.abs(I-D)<=cS&&Math.abs(O-T)<=cS||(D=I,T=O,B===d||B===v||B===g))continue;let L=0;for(let z=0,Y=this._hashKey(I,O);z<this._hashSize&&(L=a[(Y+z)%this._hashSize],!(L!==-1&&L!==r[L]));z++);L=n[L];let R=L,U;for(;U=r[R],Wd(I,O,t[2*R],t[2*R+1],t[2*U],t[2*U+1])>=0;)if(R=U,R===L){R=-1;break}if(R===-1)continue;let $=this._addTriangle(R,B,r[R],-1,-1,i[R]);i[B]=this._legalize($+2),i[R]=$,P++;let j=r[R];for(;U=r[j],Wd(I,O,t[2*j],t[2*j+1],t[2*U],t[2*U+1])<0;)$=this._addTriangle(j,B,U,i[B],-1,i[j]),i[B]=this._legalize($+2),r[j]=j,P--,j=U;if(R===L)for(;U=n[R],Wd(I,O,t[2*U],t[2*U+1],t[2*R],t[2*R+1])<0;)$=this._addTriangle(U,B,R,-1,i[R],i[U]),this._legalize($+2),i[U]=$,r[R]=R,P--,R=U;this._hullStart=n[B]=R,r[R]=n[j]=B,r[B]=j,a[this._hashKey(I,O)]=B,a[this._hashKey(t[2*R],t[2*R+1])]=R}this.hull=new Uint32Array(P);for(let C=0,D=this._hullStart;C<P;C++)this.hull[C]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(c$(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const s=r[t],l=t-t%3;if(o=l+(t+2)%3,s===-1){if(a===0)break;t=Kd[--a];continue}const u=s-s%3,c=l+(t+1)%3,h=u+(s+2)%3,f=n[o],d=n[t],v=n[c],g=n[h];if(f$(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*v],i[2*v+1],i[2*g],i[2*g+1])){n[t]=g,n[s]=f;const y=r[h];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===h){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(s,r[o]),this._link(o,h);const m=u+(s+1)%3;a<Kd.length&&(Kd[a++]=m)}else{if(a===0)break;t=Kd[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,a),this._link(s+2,o),this.trianglesLen+=3,s}}function c$(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function U0(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function f$(e,t,n,r,i,a,o,s){const l=e-o,u=t-s,c=n-o,h=r-s,f=i-o,d=a-s,v=l*l+u*u,g=c*c+h*h,p=f*f+d*d;return l*(h*p-g*d)-u*(c*p-g*f)+v*(c*d-h*f)<0}function h$(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,u=a-t,c=o*o+s*s,h=l*l+u*u,f=.5/(o*u-s*l),d=(u*c-s*h)*f,v=(o*h-l*c)*f;return d*d+v*v}function d$(e,t,n,r,i,a){const o=n-e,s=r-t,l=i-e,u=a-t,c=o*o+s*s,h=l*l+u*u,f=.5/(o*u-s*l),d=e+(u*c-s*h)*f,v=t+(o*h-l*c)*f;return{x:d,y:v}}function oc(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let s=i-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=a}else{const i=n+r>>1;let a=n+1,o=r;Af(e,i,a),t[e[n]]>t[e[r]]&&Af(e,n,r),t[e[a]]>t[e[r]]&&Af(e,a,r),t[e[n]]>t[e[a]]&&Af(e,n,a);const s=e[a],l=t[s];for(;;){do a++;while(t[e[a]]<l);do o--;while(t[e[o]]>l);if(o<a)break;Af(e,a,o)}e[n+1]=e[o],e[o]=s,r-a+1>=o-n?(oc(e,t,a,r),oc(e,t,n,o-1)):(oc(e,t,n,o-1),oc(e,t,a,r))}}function Af(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v$(e){return e[0]}function p$(e){return e[1]}const fS=1e-6;class Il{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>fS||Math.abs(this._y1-a)>fS)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}let D1=class{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}};class xO{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let a,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,p=0,y=r.length,m,b;g<y;g+=3,p+=2){const w=r[g]*2,x=r[g+1]*2,_=r[g+2]*2,S=t[w],P=t[w+1],C=t[x],D=t[x+1],T=t[_],B=t[_+1],I=C-S,O=D-P,L=T-S,R=B-P,U=(I*R-O*L)*2;if(Math.abs(U)<1e-9){if(a===void 0){a=o=0;for(const j of n)a+=t[j*2],o+=t[j*2+1];a/=n.length,o/=n.length}const $=1e9*Math.sign((a-S)*R-(o-P)*L);m=(S+T)/2-$*R,b=(P+B)/2+$*L}else{const $=1/U,j=I*I+O*O,z=L*L+R*R;m=S+(R*j-O*z)*$,b=P+(I*z-L*j)*$}s[p]=m,s[p+1]=b}let l=n[n.length-1],u,c=l*4,h,f=t[2*l],d,v=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=c,h=f,d=v,c=l*4,f=t[2*l],v=t[2*l+1],i[u+2]=i[c]=d-v,i[u+3]=i[c+1]=f-h}render(t){const n=t==null?t=new Il:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:s}=this;if(a.length<=1)return null;for(let c=0,h=r.length;c<h;++c){const f=r[c];if(f<c)continue;const d=Math.floor(c/3)*2,v=Math.floor(f/3)*2,g=o[d],p=o[d+1],y=o[v],m=o[v+1];this._renderSegment(g,p,y,m,t)}let l,u=a[a.length-1];for(let c=0;c<a.length;++c){l=u,u=a[c];const h=Math.floor(i[u]/3)*2,f=o[h],d=o[h+1],v=l*4,g=this._project(f,d,s[v+2],s[v+3]);g&&this._renderSegment(f,d,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Il:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Il:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new D1;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const s=this._regioncode(t,n),l=this._regioncode(r,i);s===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,s,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let s=0,l=i.length;s<l;s+=2)if(n[a]===i[s]&&n[a+1]===i[s+1]&&n[(a+2)%o]===i[(s+l-2)%l]&&n[(a+3)%o]===i[(s+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const s=[];let l=o;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,a,o,s=n[r-2],l=n[r-1],u,c=this._regioncode(s,l),h,f=0;for(let d=0;d<r;d+=2)if(a=s,o=l,s=n[d],l=n[d+1],u=c,c=this._regioncode(s,l),u===0&&c===0)h=f,f=0,i?i.push(s,l):i=[s,l];else{let v,g,p,y,m;if(u===0){if((v=this._clipSegment(a,o,s,l,u,c))===null)continue;[g,p,y,m]=v}else{if((v=this._clipSegment(s,l,a,o,c,u))===null)continue;[y,m,g,p]=v,h=f,f=this._edgecode(g,p),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(g,p):i=[g,p]}h=f,f=this._edgecode(y,m),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(y,m):i=[y,m]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(t,h,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){const s=a<o;for(s&&([t,n,r,i,a,o]=[r,i,t,n,o,a]);;){if(a===0&&o===0)return s?[r,i,t,n]:[t,n,r,i];if(a&o)return null;let l,u,c=a||o;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),a?(t=l,n=u,a=this._regioncode(t,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],a,o))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let u=0,c=s.length,h,f=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)h=f,f=this._edgecode(s[u],s[u+1]),h&&f&&(u=this._edge(t,h,f,s,u),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,i,a){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(i[a]!==o||i[a+1]!==s)&&this.contains(t,o,s)&&(i.splice(a,0,o,s),a+=2)}return a}_project(t,n,r,i){let a=1/0,o,s,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,s=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,s=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(s=this.xmax,l=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(s=this.xmin,l=n+(a=o)*i)}return[s,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}}const g$=2*Math.PI,Nu=Math.pow;function m$(e){return e[0]}function y$(e){return e[1]}function b$(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function w$(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Ww{static from(t,n=m$,r=y$,i){return new Ww("length"in t?x$(t,n,r,i):Float64Array.from(_$(t,n,r,i)))}constructor(t){this._delaunator=new Wp(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&b$(t)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,d=n.length/2;f<d;++f){const v=w$(n[2*f],n[2*f+1],h);n[2*f]=v[0],n[2*f+1]=v[1]}this._delaunator=new Wp(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=a[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new xO(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:s}=this;if(s){const h=s.indexOf(t);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=a[u],u===-1){const h=r[(i[t]+1)%r.length];h!==c&&(yield h);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:s,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,h=Nu(n-u[t*2],2)+Nu(r-u[t*2+1],2);const f=i[t];let d=f;do{let v=l[d];const g=Nu(n-u[v*2],2)+Nu(r-u[v*2+1],2);if(g<h&&(h=g,c=v),d=d%3===2?d-2:d+1,l[d]!==t)break;if(d=s[d],d===-1){if(d=a[(o[t]+1)%a.length],d!==v&&Nu(n-u[d*2],2)+Nu(r-u[d*2+1],2)<h)return d;break}}while(d!==f);return c}render(t){const n=t==null?t=new Il:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,s=i.length;o<s;++o){const l=i[o];if(l<o)continue;const u=a[o]*2,c=a[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Il:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const s=i[a],l=i[a+1];t.moveTo(s+n,l),t.arc(s,l,n,0,g$)}return r&&r.value()}renderHull(t){const n=t==null?t=new Il:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let s=1;s<o;++s){const l=2*r[s];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new D1;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Il:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,s=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new D1;return this.renderTriangle(t,n),n.value()}}function x$(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const s=e[o];a[o*2]=t.call(r,s,o,e),a[o*2+1]=n.call(r,s,o,e)}return a}function*_$(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}var hS={},V0={},$0=34,Cf=10,z0=13;function _O(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function S$(e,t){var n=_O(e);return function(r,i){return t(n(r),i,e)}}function dS(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ei(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function E$(e){return e<0?"-"+Ei(-e,6):e>9999?"+"+Ei(e,6):Ei(e,4)}function A$(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":E$(e.getUTCFullYear())+"-"+Ei(e.getUTCMonth()+1,2)+"-"+Ei(e.getUTCDate(),2)+(i?"T"+Ei(t,2)+":"+Ei(n,2)+":"+Ei(r,2)+"."+Ei(i,3)+"Z":r?"T"+Ei(t,2)+":"+Ei(n,2)+":"+Ei(r,2)+"Z":n||t?"T"+Ei(t,2)+":"+Ei(n,2)+"Z":"")}function Sm(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(h,f){var d,v,g=i(h,function(p,y){if(d)return d(p,y-1);v=p,d=f?S$(p,f):_O(p)});return g.columns=v||[],g}function i(h,f){var d=[],v=h.length,g=0,p=0,y,m=v<=0,b=!1;h.charCodeAt(v-1)===Cf&&--v,h.charCodeAt(v-1)===z0&&--v;function w(){if(m)return V0;if(b)return b=!1,hS;var _,S=g,P;if(h.charCodeAt(S)===$0){for(;g++<v&&h.charCodeAt(g)!==$0||h.charCodeAt(++g)===$0;);return(_=g)>=v?m=!0:(P=h.charCodeAt(g++))===Cf?b=!0:P===z0&&(b=!0,h.charCodeAt(g)===Cf&&++g),h.slice(S+1,_-1).replace(/""/g,'"')}for(;g<v;){if((P=h.charCodeAt(_=g++))===Cf)b=!0;else if(P===z0)b=!0,h.charCodeAt(g)===Cf&&++g;else if(P!==n)continue;return h.slice(S,_)}return m=!0,h.slice(S,v)}for(;(y=w())!==V0;){for(var x=[];y!==hS&&y!==V0;)x.push(y),y=w();f&&(x=f(x,p++))==null||d.push(x)}return d}function a(h,f){return h.map(function(d){return f.map(function(v){return c(d[v])}).join(e)})}function o(h,f){return f==null&&(f=dS(h)),[f.map(c).join(e)].concat(a(h,f)).join(`
`)}function s(h,f){return f==null&&(f=dS(h)),a(h,f).join(`
`)}function l(h){return h.map(u).join(`
`)}function u(h){return h.map(c).join(e)}function c(h){return h==null?"":h instanceof Date?A$(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}var cu=Sm(","),SO=cu.parse,C$=cu.parseRows,T$=cu.format,P$=cu.formatBody,O$=cu.formatRows,I$=cu.formatRow,M$=cu.formatValue,fu=Sm("	"),EO=fu.parse,D$=fu.parseRows,F$=fu.format,k$=fu.formatBody,B$=fu.formatRows,R$=fu.formatRow,L$=fu.formatValue;function N$(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))U$&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const U$=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function V$(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function $$(e,t){return fetch(e,t).then(V$)}function z$(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function j$(e,t){return fetch(e,t).then(z$)}function H$(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Em(e,t){return fetch(e,t).then(H$)}function AO(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Em(t,n).then(function(i){return e(i,r)})}}function G$(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Sm(e);return Em(t,n).then(function(a){return i.parse(a,r)})}var Y$=AO(SO),X$=AO(EO);function W$(e,t){return new Promise(function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e})}function K$(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function q$(e,t){return fetch(e,t).then(K$)}function Kw(e){return(t,n)=>Em(t,n).then(r=>new DOMParser().parseFromString(r,e))}const Z$=Kw("application/xml");var Q$=Kw("text/html"),J$=Kw("image/svg+xml");function ez(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,o=n.length,s,l=0,u=0;for(a=0;a<o;++a)s=n[a],l+=s.x,u+=s.y;for(l=(l/o-e)*r,u=(u/o-t)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=u}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function tz(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return CO(this.cover(t,n),t,n,e)}function CO(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,l=e._y0,u=e._x1,c=e._y1,h,f,d,v,g,p,y,m;if(!a)return e._root=o,e;for(;a.length;)if((g=t>=(h=(s+u)/2))?s=h:u=h,(p=n>=(f=(l+c)/2))?l=f:c=f,i=a,!(a=a[y=p<<1|g]))return i[y]=o,e;if(d=+e._x.call(null,a.data),v=+e._y.call(null,a.data),t===d&&n===v)return o.next=a,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(h=(s+u)/2))?s=h:u=h,(p=n>=(f=(l+c)/2))?l=f:c=f;while((y=p<<1|g)===(m=(v>=f)<<1|d>=h));return i[m]=a,i[y]=o,e}function nz(e){var t,n,r=e.length,i,a,o=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,s[n]=a,i<l&&(l=i),i>c&&(c=i),a<u&&(u=a),a>h&&(h=a));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<r;++n)CO(this,o[n],s[n],e[n]);return this}function rz(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n||1,s=this._root,l,u;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function iz(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function az(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ii(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function oz(e,t,n){var r,i=this._x0,a=this._y0,o,s,l,u,c=this._x1,h=this._y1,f=[],d=this._root,v,g;for(d&&f.push(new ii(d,i,a,c,h)),n==null?n=1/0:(i=e-n,a=t-n,c=e+n,h=t+n,n*=n);v=f.pop();)if(!(!(d=v.node)||(o=v.x0)>c||(s=v.y0)>h||(l=v.x1)<i||(u=v.y1)<a))if(d.length){var p=(o+l)/2,y=(s+u)/2;f.push(new ii(d[3],p,y,l,u),new ii(d[2],o,y,p,u),new ii(d[1],p,s,l,y),new ii(d[0],o,s,p,y)),(g=(t>=y)<<1|e>=p)&&(v=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=v)}else{var m=e-+this._x.call(null,d.data),b=t-+this._y.call(null,d.data),w=m*m+b*b;if(w<n){var x=Math.sqrt(n=w);i=e-x,a=t-x,c=e+x,h=t+x,r=d.data}}return r}function sz(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,h,f,d,v,g,p,y;if(!n)return this;if(n.length)for(;;){if((v=c>=(f=(o+l)/2))?o=f:l=f,(g=h>=(d=(s+u)/2))?s=d:u=d,t=n,!(n=n[p=g<<1|v]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(r=t,y=p)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[p]=a:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function lz(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function uz(){return this._root}function cz(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function fz(e){var t=[],n,r=this._root,i,a,o,s,l;for(r&&t.push(new ii(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(a+s)/2,c=(o+l)/2;(i=r[3])&&t.push(new ii(i,u,c,s,l)),(i=r[2])&&t.push(new ii(i,a,c,u,l)),(i=r[1])&&t.push(new ii(i,u,o,s,c)),(i=r[0])&&t.push(new ii(i,a,o,u,c))}return this}function hz(e){var t=[],n=[],r;for(this._root&&t.push(new ii(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,h=(s+u)/2;(a=i[0])&&t.push(new ii(a,o,s,c,h)),(a=i[1])&&t.push(new ii(a,c,s,l,h)),(a=i[2])&&t.push(new ii(a,o,h,c,u)),(a=i[3])&&t.push(new ii(a,c,h,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function dz(e){return e[0]}function vz(e){return arguments.length?(this._x=e,this):this._x}function pz(e){return e[1]}function gz(e){return arguments.length?(this._y=e,this):this._y}function Am(e,t,n){var r=new qw(t??dz,n??pz,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function qw(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function vS(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var hi=Am.prototype=qw.prototype;hi.copy=function(){var e=new qw(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=vS(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=vS(r));return e};hi.add=tz;hi.addAll=nz;hi.cover=rz;hi.data=iz;hi.extent=az;hi.find=oz;hi.remove=sz;hi.removeAll=lz;hi.root=uz;hi.size=cz;hi.visit=fz;hi.visitAfter=hz;hi.x=vz;hi.y=gz;function fr(e){return function(){return e}}function Ds(e){return(e()-.5)*1e-6}function mz(e){return e.x+e.vx}function yz(e){return e.y+e.vy}function bz(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=fr(e==null?1:+e));function o(){for(var u,c=t.length,h,f,d,v,g,p,y=0;y<a;++y)for(h=Am(t,mz,yz).visitAfter(s),u=0;u<c;++u)f=t[u],g=n[f.index],p=g*g,d=f.x+f.vx,v=f.y+f.vy,h.visit(m);function m(b,w,x,_,S){var P=b.data,C=b.r,D=g+C;if(P){if(P.index>f.index){var T=d-P.x-P.vx,B=v-P.y-P.vy,I=T*T+B*B;I<D*D&&(T===0&&(T=Ds(r),I+=T*T),B===0&&(B=Ds(r),I+=B*B),I=(D-(I=Math.sqrt(I)))/I*i,f.vx+=(T*=I)*(D=(C*=C)/(p+C)),f.vy+=(B*=I)*D,P.vx-=T*(D=1-D),P.vy-=B*D)}return}return w>d+D||_<d-D||x>v+D||S<v-D}}function s(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,h;for(n=new Array(c),u=0;u<c;++u)h=t[u],n[h.index]=+e(h,u,t)}}return o.initialize=function(u,c){t=u,r=c,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:fr(+u),l(),o):e},o}function wz(e){return e.index}function pS(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function xz(e){var t=wz,n=h,r,i=fr(30),a,o,s,l,u,c=1;e==null&&(e=[]);function h(p){return 1/Math.min(s[p.source.index],s[p.target.index])}function f(p){for(var y=0,m=e.length;y<c;++y)for(var b=0,w,x,_,S,P,C,D;b<m;++b)w=e[b],x=w.source,_=w.target,S=_.x+_.vx-x.x-x.vx||Ds(u),P=_.y+_.vy-x.y-x.vy||Ds(u),C=Math.sqrt(S*S+P*P),C=(C-a[b])/C*p*r[b],S*=C,P*=C,_.vx-=S*(D=l[b]),_.vy-=P*D,x.vx+=S*(D=1-D),x.vy+=P*D}function d(){if(o){var p,y=o.length,m=e.length,b=new Map(o.map((x,_)=>[t(x,_,o),x])),w;for(p=0,s=new Array(y);p<m;++p)w=e[p],w.index=p,typeof w.source!="object"&&(w.source=pS(b,w.source)),typeof w.target!="object"&&(w.target=pS(b,w.target)),s[w.source.index]=(s[w.source.index]||0)+1,s[w.target.index]=(s[w.target.index]||0)+1;for(p=0,l=new Array(m);p<m;++p)w=e[p],l[p]=s[w.source.index]/(s[w.source.index]+s[w.target.index]);r=new Array(m),v(),a=new Array(m),g()}}function v(){if(o)for(var p=0,y=e.length;p<y;++p)r[p]=+n(e[p],p,e)}function g(){if(o)for(var p=0,y=e.length;p<y;++p)a[p]=+i(e[p],p,e)}return f.initialize=function(p,y){o=p,u=y,d()},f.links=function(p){return arguments.length?(e=p,d(),f):e},f.id=function(p){return arguments.length?(t=p,f):t},f.iterations=function(p){return arguments.length?(c=+p,f):c},f.strength=function(p){return arguments.length?(n=typeof p=="function"?p:fr(+p),v(),f):n},f.distance=function(p){return arguments.length?(i=typeof p=="function"?p:fr(+p),g(),f):i},f}const _z=1664525,Sz=1013904223,gS=4294967296;function Ez(){let e=1;return()=>(e=(_z*e+Sz)%gS)/gS}function Az(e){return e.x}function Cz(e){return e.y}var Tz=10,Pz=Math.PI*(3-Math.sqrt(5));function Oz(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=xm(h),u=lu("tick","end"),c=Ez();e==null&&(e=[]);function h(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(g){var p,y=e.length,m;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(a-n)*i,s.forEach(function(w){w(n)}),p=0;p<y;++p)m=e[p],m.fx==null?m.x+=m.vx*=o:(m.x=m.fx,m.vx=0),m.fy==null?m.y+=m.vy*=o:(m.y=m.fy,m.vy=0);return t}function d(){for(var g=0,p=e.length,y;g<p;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var m=Tz*Math.sqrt(.5+g),b=g*Pz;y.x=m*Math.cos(b),y.y=m*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function v(g){return g.initialize&&g.initialize(e,c),g}return d(),t={tick:f,restart:function(){return l.restart(h),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,d(),s.forEach(v),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(a=+g,t):a},velocityDecay:function(g){return arguments.length?(o=1-g,t):1-o},randomSource:function(g){return arguments.length?(c=g,s.forEach(v),t):c},force:function(g,p){return arguments.length>1?(p==null?s.delete(g):s.set(g,v(p)),t):s.get(g)},find:function(g,p,y){var m=0,b=e.length,w,x,_,S,P;for(y==null?y=1/0:y*=y,m=0;m<b;++m)S=e[m],w=g-S.x,x=p-S.y,_=w*w+x*x,_<y&&(P=S,y=_);return P},on:function(g,p){return arguments.length>1?(u.on(g,p),t):u.on(g)}}}function Iz(){var e,t,n,r,i=fr(-30),a,o=1,s=1/0,l=.81;function u(d){var v,g=e.length,p=Am(e,Az,Cz).visitAfter(h);for(r=d,v=0;v<g;++v)t=e[v],p.visit(f)}function c(){if(e){var d,v=e.length,g;for(a=new Array(v),d=0;d<v;++d)g=e[d],a[g.index]=+i(g,d,e)}}function h(d){var v=0,g,p,y=0,m,b,w;if(d.length){for(m=b=w=0;w<4;++w)(g=d[w])&&(p=Math.abs(g.value))&&(v+=g.value,y+=p,m+=p*g.x,b+=p*g.y);d.x=m/y,d.y=b/y}else{g=d,g.x=g.data.x,g.y=g.data.y;do v+=a[g.data.index];while(g=g.next)}d.value=v}function f(d,v,g,p){if(!d.value)return!0;var y=d.x-t.x,m=d.y-t.y,b=p-v,w=y*y+m*m;if(b*b/l<w)return w<s&&(y===0&&(y=Ds(n),w+=y*y),m===0&&(m=Ds(n),w+=m*m),w<o&&(w=Math.sqrt(o*w)),t.vx+=y*d.value*r/w,t.vy+=m*d.value*r/w),!0;if(d.length||w>=s)return;(d.data!==t||d.next)&&(y===0&&(y=Ds(n),w+=y*y),m===0&&(m=Ds(n),w+=m*m),w<o&&(w=Math.sqrt(o*w)));do d.data!==t&&(b=a[d.data.index]*r/w,t.vx+=y*b,t.vy+=m*b);while(d=d.next)}return u.initialize=function(d,v){e=d,n=v,c()},u.strength=function(d){return arguments.length?(i=typeof d=="function"?d:fr(+d),c(),u):i},u.distanceMin=function(d){return arguments.length?(o=d*d,u):Math.sqrt(o)},u.distanceMax=function(d){return arguments.length?(s=d*d,u):Math.sqrt(s)},u.theta=function(d){return arguments.length?(l=d*d,u):Math.sqrt(l)},u}function Mz(e,t,n){var r,i=fr(.1),a,o;typeof e!="function"&&(e=fr(+e)),t==null&&(t=0),n==null&&(n=0);function s(u){for(var c=0,h=r.length;c<h;++c){var f=r[c],d=f.x-t||1e-6,v=f.y-n||1e-6,g=Math.sqrt(d*d+v*v),p=(o[c]-g)*a[c]*u/g;f.vx+=d*p,f.vy+=v*p}}function l(){if(r){var u,c=r.length;for(a=new Array(c),o=new Array(c),u=0;u<c;++u)o[u]=+e(r[u],u,r),a[u]=isNaN(o[u])?0:+i(r[u],u,r)}}return s.initialize=function(u){r=u,l()},s.strength=function(u){return arguments.length?(i=typeof u=="function"?u:fr(+u),l(),s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:fr(+u),l(),s):e},s.x=function(u){return arguments.length?(t=+u,s):t},s.y=function(u){return arguments.length?(n=+u,s):n},s}function Dz(e){var t=fr(.1),n,r,i;typeof e!="function"&&(e=fr(e==null?0:+e));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:fr(+s),o(),a):t},a.x=function(s){return arguments.length?(e=typeof s=="function"?s:fr(+s),o(),a):e},a}function Fz(e){var t=fr(.1),n,r,i;typeof e!="function"&&(e=fr(e==null?0:+e));function a(s){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(t=typeof s=="function"?s:fr(+s),o(),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:fr(+s),o(),a):e},a}function kz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mc(e){return e=Kp(Math.abs(e)),e?e[1]:NaN}function Bz(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Rz(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Lz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dc(e){if(!(t=Lz.exec(e)))throw new Error("invalid format: "+e);var t;return new Cm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dc.prototype=Cm.prototype;function Cm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nz(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var TO;function Uz(e,t){var n=Kp(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(TO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Kp(e,Math.max(0,t+a-1))[0]}function mS(e,t){var n=Kp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mS(e*100,t),r:mS,s:Uz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bS(e){return e}var wS=Array.prototype.map,xS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PO(e){var t=e.grouping===void 0||e.thousands===void 0?bS:Bz(wS.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?bS:Rz(wS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Dc(h);var f=h.fill,d=h.align,v=h.sign,g=h.symbol,p=h.zero,y=h.width,m=h.comma,b=h.precision,w=h.trim,x=h.type;x==="n"?(m=!0,x="g"):yS[x]||(b===void 0&&(b=12),w=!0,x="g"),(p||f==="0"&&d==="=")&&(p=!0,f="0",d="=");var _=g==="$"?n:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",S=g==="$"?r:/[%p]/.test(x)?o:"",P=yS[x],C=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function D(T){var B=_,I=S,O,L,R;if(x==="c")I=P(T)+I,T="";else{T=+T;var U=T<0||1/T<0;if(T=isNaN(T)?l:P(Math.abs(T),b),w&&(T=Nz(T)),U&&+T==0&&v!=="+"&&(U=!1),B=(U?v==="("?v:s:v==="-"||v==="("?"":v)+B,I=(x==="s"?xS[8+TO/3]:"")+I+(U&&v==="("?")":""),C){for(O=-1,L=T.length;++O<L;)if(R=T.charCodeAt(O),48>R||R>57){I=(R===46?i+T.slice(O+1):T.slice(O))+I,T=T.slice(0,O);break}}}m&&!p&&(T=t(T,1/0));var $=B.length+T.length+I.length,j=$<y?new Array(y-$+1).join(f):"";switch(m&&p&&(T=t(j+T,j.length?y-I.length:1/0),j=""),d){case"<":T=B+T+I+j;break;case"=":T=B+j+T+I;break;case"^":T=j.slice(0,$=j.length>>1)+B+T+I+j.slice($);break;default:T=j+B+T+I;break}return a(T)}return D.toString=function(){return h+""},D}function c(h,f){var d=u((h=Dc(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Mc(f)/3)))*3,g=Math.pow(10,-v),p=xS[8+v/3];return function(y){return d(g*y)+p}}return{format:u,formatPrefix:c}}var qd,Tm,Zw;OO({thousands:",",grouping:[3],currency:["$",""]});function OO(e){return qd=PO(e),Tm=qd.format,Zw=qd.formatPrefix,qd}function IO(e){return Math.max(0,-Mc(Math.abs(e)))}function MO(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mc(t)/3)))*3-Mc(Math.abs(e)))}function DO(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mc(t)-Mc(e))+1}var Et=1e-6,Dh=1e-12,en=Math.PI,Jn=en/2,qp=en/4,li=en*2,_n=180/en,At=en/180,sn=Math.abs,ef=Math.atan,ui=Math.atan2,ht=Math.cos,Zd=Math.ceil,FO=Math.exp,F1=Math.hypot,Zp=Math.log,j0=Math.pow,rt=Math.sin,fa=Math.sign||function(e){return e>0?1:e<0?-1:0},Er=Math.sqrt,Qw=Math.tan;function kO(e){return e>1?0:e<-1?en:Math.acos(e)}function ci(e){return e>1?Jn:e<-1?-Jn:Math.asin(e)}function _S(e){return(e=rt(e/2))*e}function zn(){}function Qp(e,t){e&&ES.hasOwnProperty(e.type)&&ES[e.type](e,t)}var SS={Feature:function(e,t){Qp(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Qp(n[r].geometry,t)}},ES={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){k1(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)k1(n[r],t,0)},Polygon:function(e,t){AS(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)AS(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Qp(n[r],t)}};function k1(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function AS(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)k1(e[n],t,1);t.polygonEnd()}function Da(e,t){e&&SS.hasOwnProperty(e.type)?SS[e.type](e,t):Qp(e,t)}var Jp=new hr,eg=new hr,BO,RO,B1,R1,L1,go={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Jp=new hr,go.lineStart=Vz,go.lineEnd=$z},polygonEnd:function(){var e=+Jp;eg.add(e<0?li+e:e),this.lineStart=this.lineEnd=this.point=zn},sphere:function(){eg.add(li)}};function Vz(){go.point=zz}function $z(){LO(BO,RO)}function zz(e,t){go.point=LO,BO=e,RO=t,e*=At,t*=At,B1=e,R1=ht(t=t/2+qp),L1=rt(t)}function LO(e,t){e*=At,t*=At,t=t/2+qp;var n=e-B1,r=n>=0?1:-1,i=r*n,a=ht(t),o=rt(t),s=L1*o,l=R1*a+s*ht(i),u=s*r*rt(i);Jp.add(ui(u,l)),B1=e,R1=a,L1=o}function jz(e){return eg=new hr,Da(e,go),eg*2}function tg(e){return[ui(e[1],e[0]),ci(e[2])]}function ql(e){var t=e[0],n=e[1],r=ht(n);return[r*ht(t),r*rt(t),rt(n)]}function Qd(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Fc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function H0(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Jd(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ng(e){var t=Er(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Un,Pi,Zn,Ui,bl,NO,UO,mc,ih,Ts,ts,Uo={point:N1,lineStart:CS,lineEnd:TS,polygonStart:function(){Uo.point=$O,Uo.lineStart=Hz,Uo.lineEnd=Gz,ih=new hr,go.polygonStart()},polygonEnd:function(){go.polygonEnd(),Uo.point=N1,Uo.lineStart=CS,Uo.lineEnd=TS,Jp<0?(Un=-(Zn=180),Pi=-(Ui=90)):ih>Et?Ui=90:ih<-Et&&(Pi=-90),ts[0]=Un,ts[1]=Zn},sphere:function(){Un=-(Zn=180),Pi=-(Ui=90)}};function N1(e,t){Ts.push(ts=[Un=e,Zn=e]),t<Pi&&(Pi=t),t>Ui&&(Ui=t)}function VO(e,t){var n=ql([e*At,t*At]);if(mc){var r=Fc(mc,n),i=[r[1],-r[0],0],a=Fc(i,r);ng(a),a=tg(a);var o=e-bl,s=o>0?1:-1,l=a[0]*_n*s,u,c=sn(o)>180;c^(s*bl<l&&l<s*e)?(u=a[1]*_n,u>Ui&&(Ui=u)):(l=(l+360)%360-180,c^(s*bl<l&&l<s*e)?(u=-a[1]*_n,u<Pi&&(Pi=u)):(t<Pi&&(Pi=t),t>Ui&&(Ui=t))),c?e<bl?Li(Un,e)>Li(Un,Zn)&&(Zn=e):Li(e,Zn)>Li(Un,Zn)&&(Un=e):Zn>=Un?(e<Un&&(Un=e),e>Zn&&(Zn=e)):e>bl?Li(Un,e)>Li(Un,Zn)&&(Zn=e):Li(e,Zn)>Li(Un,Zn)&&(Un=e)}else Ts.push(ts=[Un=e,Zn=e]);t<Pi&&(Pi=t),t>Ui&&(Ui=t),mc=n,bl=e}function CS(){Uo.point=VO}function TS(){ts[0]=Un,ts[1]=Zn,Uo.point=N1,mc=null}function $O(e,t){if(mc){var n=e-bl;ih.add(sn(n)>180?n+(n>0?360:-360):n)}else NO=e,UO=t;go.point(e,t),VO(e,t)}function Hz(){go.lineStart()}function Gz(){$O(NO,UO),go.lineEnd(),sn(ih)>Et&&(Un=-(Zn=180)),ts[0]=Un,ts[1]=Zn,mc=null}function Li(e,t){return(t-=e)<0?t+360:t}function Yz(e,t){return e[0]-t[0]}function PS(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Xz(e){var t,n,r,i,a,o,s;if(Ui=Zn=-(Un=Pi=1/0),Ts=[],Da(e,Uo),n=Ts.length){for(Ts.sort(Yz),t=1,r=Ts[0],a=[r];t<n;++t)i=Ts[t],PS(r,i[0])||PS(r,i[1])?(Li(r[0],i[1])>Li(r[0],r[1])&&(r[1]=i[1]),Li(i[0],r[1])>Li(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(s=Li(r[1],i[0]))>o&&(o=s,Un=i[0],Zn=r[1])}return Ts=ts=null,Un===1/0||Pi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Un,Pi],[Zn,Ui]]}var jf,rg,ig,ag,og,sg,lg,ug,U1,V1,$1,zO,jO,ei,ti,ni,ka={sphere:zn,point:Jw,lineStart:OS,lineEnd:IS,polygonStart:function(){ka.lineStart=qz,ka.lineEnd=Zz},polygonEnd:function(){ka.lineStart=OS,ka.lineEnd=IS}};function Jw(e,t){e*=At,t*=At;var n=ht(t);id(n*ht(e),n*rt(e),rt(t))}function id(e,t,n){++jf,ig+=(e-ig)/jf,ag+=(t-ag)/jf,og+=(n-og)/jf}function OS(){ka.point=Wz}function Wz(e,t){e*=At,t*=At;var n=ht(t);ei=n*ht(e),ti=n*rt(e),ni=rt(t),ka.point=Kz,id(ei,ti,ni)}function Kz(e,t){e*=At,t*=At;var n=ht(t),r=n*ht(e),i=n*rt(e),a=rt(t),o=ui(Er((o=ti*a-ni*i)*o+(o=ni*r-ei*a)*o+(o=ei*i-ti*r)*o),ei*r+ti*i+ni*a);rg+=o,sg+=o*(ei+(ei=r)),lg+=o*(ti+(ti=i)),ug+=o*(ni+(ni=a)),id(ei,ti,ni)}function IS(){ka.point=Jw}function qz(){ka.point=Qz}function Zz(){HO(zO,jO),ka.point=Jw}function Qz(e,t){zO=e,jO=t,e*=At,t*=At,ka.point=HO;var n=ht(t);ei=n*ht(e),ti=n*rt(e),ni=rt(t),id(ei,ti,ni)}function HO(e,t){e*=At,t*=At;var n=ht(t),r=n*ht(e),i=n*rt(e),a=rt(t),o=ti*a-ni*i,s=ni*r-ei*a,l=ei*i-ti*r,u=F1(o,s,l),c=ci(u),h=u&&-c/u;U1.add(h*o),V1.add(h*s),$1.add(h*l),rg+=c,sg+=c*(ei+(ei=r)),lg+=c*(ti+(ti=i)),ug+=c*(ni+(ni=a)),id(ei,ti,ni)}function Jz(e){jf=rg=ig=ag=og=sg=lg=ug=0,U1=new hr,V1=new hr,$1=new hr,Da(e,ka);var t=+U1,n=+V1,r=+$1,i=F1(t,n,r);return i<Dh&&(t=sg,n=lg,r=ug,rg<Et&&(t=ig,n=ag,r=og),i=F1(t,n,r),i<Dh)?[NaN,NaN]:[ui(n,t)*_n,ci(r/i)*_n]}function Uu(e){return function(){return e}}function z1(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function j1(e,t){return sn(e)>en&&(e-=Math.round(e/li)*li),[e,t]}j1.invert=j1;function ex(e,t,n){return(e%=li)?t||n?z1(DS(e),FS(t,n)):DS(e):t||n?FS(t,n):j1}function MS(e){return function(t,n){return t+=e,sn(t)>en&&(t-=Math.round(t/li)*li),[t,n]}}function DS(e){var t=MS(e);return t.invert=MS(-e),t}function FS(e,t){var n=ht(e),r=rt(e),i=ht(t),a=rt(t);function o(s,l){var u=ht(l),c=ht(s)*u,h=rt(s)*u,f=rt(l),d=f*n+c*r;return[ui(h*i-d*a,c*n-f*r),ci(d*i+h*a)]}return o.invert=function(s,l){var u=ht(l),c=ht(s)*u,h=rt(s)*u,f=rt(l),d=f*i-h*a;return[ui(h*i+f*a,c*n+d*r),ci(d*n-c*r)]},o}function GO(e){e=ex(e[0]*At,e[1]*At,e.length>2?e[2]*At:0);function t(n){return n=e(n[0]*At,n[1]*At),n[0]*=_n,n[1]*=_n,n}return t.invert=function(n){return n=e.invert(n[0]*At,n[1]*At),n[0]*=_n,n[1]*=_n,n},t}function YO(e,t,n,r,i,a){if(n){var o=ht(t),s=rt(t),l=r*n;i==null?(i=t+r*li,a=t-l/2):(i=kS(o,i),a=kS(o,a),(r>0?i<a:i>a)&&(i+=r*li));for(var u,c=i;r>0?c>a:c<a;c-=l)u=tg([o,-s*ht(c),-s*rt(c)]),e.point(u[0],u[1])}}function kS(e,t){t=ql(t),t[0]-=e,ng(t);var n=kO(-t[1]);return((-t[2]<0?-n:n)+li-Et)%li}function ej(){var e=Uu([0,0]),t=Uu(90),n=Uu(6),r,i,a={point:o};function o(l,u){r.push(l=i(l,u)),l[0]*=_n,l[1]*=_n}function s(){var l=e.apply(this,arguments),u=t.apply(this,arguments)*At,c=n.apply(this,arguments)*At;return r=[],i=ex(-l[0]*At,-l[1]*At,0).invert,YO(a,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return s.center=function(l){return arguments.length?(e=typeof l=="function"?l:Uu([+l[0],+l[1]]),s):e},s.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Uu(+l),s):t},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Uu(+l),s):n},s}function XO(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function tp(e,t){return sn(e[0]-t[0])<Et&&sn(e[1]-t[1])<Et}function ev(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function WO(e,t,n,r,i){var a=[],o=[],s,l;if(e.forEach(function(v){if(!((g=v.length-1)<=0)){var g,p=v[0],y=v[g],m;if(tp(p,y)){if(!p[2]&&!y[2]){for(i.lineStart(),s=0;s<g;++s)i.point((p=v[s])[0],p[1]);i.lineEnd();return}y[0]+=2*Et}a.push(m=new ev(p,v,null,!0)),o.push(m.o=new ev(p,null,m,!1)),a.push(m=new ev(y,v,null,!1)),o.push(m.o=new ev(y,null,m,!0))}}),!!a.length){for(o.sort(t),BS(a),BS(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var u=a[0],c,h;;){for(var f=u,d=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function BS(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function G0(e){return sn(e[0])<=en?e[0]:fa(e[0])*((sn(e[0])+en)%li-en)}function KO(e,t){var n=G0(t),r=t[1],i=rt(r),a=[rt(n),-ht(n),0],o=0,s=0,l=new hr;i===1?r=Jn+Et:i===-1&&(r=-Jn-Et);for(var u=0,c=e.length;u<c;++u)if(f=(h=e[u]).length)for(var h,f,d=h[f-1],v=G0(d),g=d[1]/2+qp,p=rt(g),y=ht(g),m=0;m<f;++m,v=w,p=_,y=S,d=b){var b=h[m],w=G0(b),x=b[1]/2+qp,_=rt(x),S=ht(x),P=w-v,C=P>=0?1:-1,D=C*P,T=D>en,B=p*_;if(l.add(ui(B*C*rt(D),y*S+B*ht(D))),o+=T?P+C*li:P,T^v>=n^w>=n){var I=Fc(ql(d),ql(b));ng(I);var O=Fc(a,I);ng(O);var L=(T^P>=0?-1:1)*ci(O[2]);(r>L||r===L&&(I[0]||I[1]))&&(s+=T^P>=0?1:-1)}}return(o<-Et||o<Et&&l<-Dh)^s&1}function qO(e,t,n,r){return function(i){var a=t(i),o=XO(),s=t(o),l=!1,u,c,h,f={point:d,lineStart:g,lineEnd:p,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=b,c=[],u=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=p,c=Pw(c);var w=KO(u,r);c.length?(l||(i.polygonStart(),l=!0),WO(c,nj,w,n,i)):w&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(w,x){e(w,x)&&i.point(w,x)}function v(w,x){a.point(w,x)}function g(){f.point=v,a.lineStart()}function p(){f.point=d,a.lineEnd()}function y(w,x){h.push([w,x]),s.point(w,x)}function m(){s.lineStart(),h=[]}function b(){y(h[0][0],h[0][1]),s.lineEnd();var w=s.clean(),x=o.result(),_,S=x.length,P,C,D;if(h.pop(),u.push(h),h=null,!!S){if(w&1){if(C=x[0],(P=C.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),_=0;_<P;++_)i.point((D=C[_])[0],D[1]);i.lineEnd()}return}S>1&&w&2&&x.push(x.pop().concat(x.shift())),c.push(x.filter(tj))}}return f}}function tj(e){return e.length>1}function nj(e,t){return((e=e.x)[0]<0?e[1]-Jn-Et:Jn-e[1])-((t=t.x)[0]<0?t[1]-Jn-Et:Jn-t[1])}const H1=qO(function(){return!0},rj,aj,[-en,-Jn]);function rj(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?en:-en,l=sn(a-t);sn(l-en)<Et?(e.point(t,n=(n+o)/2>0?Jn:-Jn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&l>=en&&(sn(t-r)<Et&&(t-=r*Et),sn(a-s)<Et&&(a-=s*Et),n=ij(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function ij(e,t,n,r){var i,a,o=rt(e-n);return sn(o)>Et?ef((rt(t)*(a=ht(r))*rt(n)-rt(r)*(i=ht(t))*rt(e))/(i*a*o)):(t+r)/2}function aj(e,t,n,r){var i;if(e==null)i=n*Jn,r.point(-en,i),r.point(0,i),r.point(en,i),r.point(en,0),r.point(en,-i),r.point(0,-i),r.point(-en,-i),r.point(-en,0),r.point(-en,i);else if(sn(e[0]-t[0])>Et){var a=e[0]<t[0]?en:-en;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function ZO(e){var t=ht(e),n=6*At,r=t>0,i=sn(t)>Et;function a(c,h,f,d){YO(d,e,n,f,c,h)}function o(c,h){return ht(c)*ht(h)>t}function s(c){var h,f,d,v,g;return{lineStart:function(){v=d=!1,g=1},point:function(p,y){var m=[p,y],b,w=o(p,y),x=r?w?0:u(p,y):w?u(p+(p<0?en:-en),y):0;if(!h&&(v=d=w)&&c.lineStart(),w!==d&&(b=l(h,m),(!b||tp(h,b)||tp(m,b))&&(m[2]=1)),w!==d)g=0,w?(c.lineStart(),b=l(m,h),c.point(b[0],b[1])):(b=l(h,m),c.point(b[0],b[1],2),c.lineEnd()),h=b;else if(i&&h&&r^w){var _;!(x&f)&&(_=l(m,h,!0))&&(g=0,r?(c.lineStart(),c.point(_[0][0],_[0][1]),c.point(_[1][0],_[1][1]),c.lineEnd()):(c.point(_[1][0],_[1][1]),c.lineEnd(),c.lineStart(),c.point(_[0][0],_[0][1],3)))}w&&(!h||!tp(h,m))&&c.point(m[0],m[1]),h=m,d=w,f=x},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return g|(v&&d)<<1}}}function l(c,h,f){var d=ql(c),v=ql(h),g=[1,0,0],p=Fc(d,v),y=Qd(p,p),m=p[0],b=y-m*m;if(!b)return!f&&c;var w=t*y/b,x=-t*m/b,_=Fc(g,p),S=Jd(g,w),P=Jd(p,x);H0(S,P);var C=_,D=Qd(S,C),T=Qd(C,C),B=D*D-T*(Qd(S,S)-1);if(!(B<0)){var I=Er(B),O=Jd(C,(-D-I)/T);if(H0(O,S),O=tg(O),!f)return O;var L=c[0],R=h[0],U=c[1],$=h[1],j;R<L&&(j=L,L=R,R=j);var z=R-L,Y=sn(z-en)<Et,Q=Y||z<Et;if(!Y&&$<U&&(j=U,U=$,$=j),Q?Y?U+$>0^O[1]<(sn(O[0]-L)<Et?U:$):U<=O[1]&&O[1]<=$:z>en^(L<=O[0]&&O[0]<=R)){var re=Jd(C,(-D+I)/T);return H0(re,S),[O,tg(re)]}}}function u(c,h){var f=r?e:en-e,d=0;return c<-f?d|=1:c>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return qO(o,s,a,r?[0,-e]:[-en,e-en])}function oj(e,t,n,r,i,a){var o=e[0],s=e[1],l=t[0],u=t[1],c=0,h=1,f=l-o,d=u-s,v;if(v=n-o,!(!f&&v>0)){if(v/=f,f<0){if(v<c)return;v<h&&(h=v)}else if(f>0){if(v>h)return;v>c&&(c=v)}if(v=i-o,!(!f&&v<0)){if(v/=f,f<0){if(v>h)return;v>c&&(c=v)}else if(f>0){if(v<c)return;v<h&&(h=v)}if(v=r-s,!(!d&&v>0)){if(v/=d,d<0){if(v<c)return;v<h&&(h=v)}else if(d>0){if(v>h)return;v>c&&(c=v)}if(v=a-s,!(!d&&v<0)){if(v/=d,d<0){if(v>h)return;v>c&&(c=v)}else if(d>0){if(v<c)return;v<h&&(h=v)}return c>0&&(e[0]=o+c*f,e[1]=s+c*d),h<1&&(t[0]=o+h*f,t[1]=s+h*d),!0}}}}}var Hf=1e9,tv=-Hf;function Pm(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function a(u,c,h,f){var d=0,v=0;if(u==null||(d=o(u,h))!==(v=o(c,h))||l(u,c)<0^h>0)do f.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+h+4)%4)!==v);else f.point(c[0],c[1])}function o(u,c){return sn(u[0]-e)<Et?c>0?0:3:sn(u[0]-n)<Et?c>0?2:1:sn(u[1]-t)<Et?c>0?1:0:c>0?3:2}function s(u,c){return l(u.x,c.x)}function l(u,c){var h=o(u,1),f=o(c,1);return h!==f?h-f:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=XO(),f,d,v,g,p,y,m,b,w,x,_,S={point:P,lineStart:B,lineEnd:I,polygonStart:D,polygonEnd:T};function P(L,R){i(L,R)&&c.point(L,R)}function C(){for(var L=0,R=0,U=d.length;R<U;++R)for(var $=d[R],j=1,z=$.length,Y=$[0],Q,re,he=Y[0],ce=Y[1];j<z;++j)Q=he,re=ce,Y=$[j],he=Y[0],ce=Y[1],re<=r?ce>r&&(he-Q)*(r-re)>(ce-re)*(e-Q)&&++L:ce<=r&&(he-Q)*(r-re)<(ce-re)*(e-Q)&&--L;return L}function D(){c=h,f=[],d=[],_=!0}function T(){var L=C(),R=_&&L,U=(f=Pw(f)).length;(R||U)&&(u.polygonStart(),R&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),U&&WO(f,s,L,a,u),u.polygonEnd()),c=u,f=d=v=null}function B(){S.point=O,d&&d.push(v=[]),x=!0,w=!1,m=b=NaN}function I(){f&&(O(g,p),y&&w&&h.rejoin(),f.push(h.result())),S.point=P,w&&c.lineEnd()}function O(L,R){var U=i(L,R);if(d&&v.push([L,R]),x)g=L,p=R,y=U,x=!1,U&&(c.lineStart(),c.point(L,R));else if(U&&w)c.point(L,R);else{var $=[m=Math.max(tv,Math.min(Hf,m)),b=Math.max(tv,Math.min(Hf,b))],j=[L=Math.max(tv,Math.min(Hf,L)),R=Math.max(tv,Math.min(Hf,R))];oj($,j,e,t,n,r)?(w||(c.lineStart(),c.point($[0],$[1])),c.point(j[0],j[1]),U||c.lineEnd(),_=!1):U&&(c.lineStart(),c.point(L,R),_=!1)}m=L,b=R,w=U}return S}}function sj(){var e=0,t=0,n=960,r=500,i,a,o;return o={stream:function(s){return i&&a===s?i:i=Pm(e,t,n,r)(a=s)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[e,t],[n,r]]}}}var G1,Y1,np,rp,kc={sphere:zn,point:zn,lineStart:lj,lineEnd:zn,polygonStart:zn,polygonEnd:zn};function lj(){kc.point=cj,kc.lineEnd=uj}function uj(){kc.point=kc.lineEnd=zn}function cj(e,t){e*=At,t*=At,Y1=e,np=rt(t),rp=ht(t),kc.point=fj}function fj(e,t){e*=At,t*=At;var n=rt(t),r=ht(t),i=sn(e-Y1),a=ht(i),o=rt(i),s=r*o,l=rp*n-np*r*a,u=np*n+rp*r*a;G1.add(ui(Er(s*s+l*l),u)),Y1=e,np=n,rp=r}function QO(e){return G1=new hr,Da(e,kc),+G1}var X1=[null,null],hj={type:"LineString",coordinates:X1};function cg(e,t){return X1[0]=e,X1[1]=t,QO(hj)}var RS={Feature:function(e,t){return fg(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(fg(n[r].geometry,t))return!0;return!1}},LS={Sphere:function(){return!0},Point:function(e,t){return NS(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(NS(n[r],t))return!0;return!1},LineString:function(e,t){return US(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(US(n[r],t))return!0;return!1},Polygon:function(e,t){return VS(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(VS(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(fg(n[r],t))return!0;return!1}};function fg(e,t){return e&&LS.hasOwnProperty(e.type)?LS[e.type](e,t):!1}function NS(e,t){return cg(e,t)===0}function US(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(r=cg(e[a],t),r===0||a>0&&(i=cg(e[a],e[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Dh*i))return!0;n=r}return!1}function VS(e,t){return!!KO(e.map(dj),JO(t))}function dj(e){return e=e.map(JO),e.pop(),e}function JO(e){return[e[0]*At,e[1]*At]}function vj(e,t){return(e&&RS.hasOwnProperty(e.type)?RS[e.type]:fg)(e,t)}function $S(e,t,n){var r=jo(e,t-Et,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function zS(e,t,n){var r=jo(e,t-Et,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function eI(){var e,t,n,r,i,a,o,s,l=10,u=l,c=90,h=360,f,d,v,g,p=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return jo(Zd(r/c)*c,n,c).map(v).concat(jo(Zd(s/h)*h,o,h).map(g)).concat(jo(Zd(t/l)*l,e,l).filter(function(b){return sn(b%c)>Et}).map(f)).concat(jo(Zd(a/u)*u,i,u).filter(function(b){return sn(b%h)>Et}).map(d))}return y.lines=function(){return m().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(g(o).slice(1),v(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],o=+b[1][1],r>n&&(b=r,r=n,n=b),s>o&&(b=s,s=o,o=b),y.precision(p)):[[r,s],[n,o]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],a=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),a>i&&(b=a,a=i,i=b),y.precision(p)):[[t,a],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],h=+b[1],y):[c,h]},y.stepMinor=function(b){return arguments.length?(l=+b[0],u=+b[1],y):[l,u]},y.precision=function(b){return arguments.length?(p=+b,f=$S(a,i,90),d=zS(t,e,p),v=$S(s,o,90),g=zS(r,n,p),y):p},y.extentMajor([[-180,-90+Et],[180,90-Et]]).extentMinor([[-180,-80-Et],[180,80+Et]])}function pj(){return eI()()}function gj(e,t){var n=e[0]*At,r=e[1]*At,i=t[0]*At,a=t[1]*At,o=ht(r),s=rt(r),l=ht(a),u=rt(a),c=o*ht(n),h=o*rt(n),f=l*ht(i),d=l*rt(i),v=2*ci(Er(_S(a-r)+o*l*_S(i-n))),g=rt(v),p=v?function(y){var m=rt(y*=v)/g,b=rt(v-y)/g,w=b*c+m*f,x=b*h+m*d,_=b*s+m*u;return[ui(x,w)*_n,ui(_,Er(w*w+x*x))*_n]}:function(){return[n*_n,r*_n]};return p.distance=v,p}const Fh=e=>e;var Y0=new hr,W1=new hr,tI,nI,K1,q1,Is={point:zn,lineStart:zn,lineEnd:zn,polygonStart:function(){Is.lineStart=mj,Is.lineEnd=bj},polygonEnd:function(){Is.lineStart=Is.lineEnd=Is.point=zn,Y0.add(sn(W1)),W1=new hr},result:function(){var e=Y0/2;return Y0=new hr,e}};function mj(){Is.point=yj}function yj(e,t){Is.point=rI,tI=K1=e,nI=q1=t}function rI(e,t){W1.add(q1*e-K1*t),K1=e,q1=t}function bj(){rI(tI,nI)}const jS=Is;var Bc=1/0,hg=Bc,kh=-Bc,dg=kh,wj={point:xj,lineStart:zn,lineEnd:zn,polygonStart:zn,polygonEnd:zn,result:function(){var e=[[Bc,hg],[kh,dg]];return kh=dg=-(hg=Bc=1/0),e}};function xj(e,t){e<Bc&&(Bc=e),e>kh&&(kh=e),t<hg&&(hg=t),t>dg&&(dg=t)}const vg=wj;var Z1=0,Q1=0,Gf=0,pg=0,gg=0,sc=0,J1=0,eb=0,Yf=0,iI,aI,io,ao,Fa={point:Zl,lineStart:HS,lineEnd:GS,polygonStart:function(){Fa.lineStart=Ej,Fa.lineEnd=Aj},polygonEnd:function(){Fa.point=Zl,Fa.lineStart=HS,Fa.lineEnd=GS},result:function(){var e=Yf?[J1/Yf,eb/Yf]:sc?[pg/sc,gg/sc]:Gf?[Z1/Gf,Q1/Gf]:[NaN,NaN];return Z1=Q1=Gf=pg=gg=sc=J1=eb=Yf=0,e}};function Zl(e,t){Z1+=e,Q1+=t,++Gf}function HS(){Fa.point=_j}function _j(e,t){Fa.point=Sj,Zl(io=e,ao=t)}function Sj(e,t){var n=e-io,r=t-ao,i=Er(n*n+r*r);pg+=i*(io+e)/2,gg+=i*(ao+t)/2,sc+=i,Zl(io=e,ao=t)}function GS(){Fa.point=Zl}function Ej(){Fa.point=Cj}function Aj(){oI(iI,aI)}function Cj(e,t){Fa.point=oI,Zl(iI=io=e,aI=ao=t)}function oI(e,t){var n=e-io,r=t-ao,i=Er(n*n+r*r);pg+=i*(io+e)/2,gg+=i*(ao+t)/2,sc+=i,i=ao*e-io*t,J1+=i*(io+e),eb+=i*(ao+t),Yf+=i*3,Zl(io=e,ao=t)}const YS=Fa;function sI(e){this._context=e}sI.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,li);break}}},result:zn};var tb=new hr,X0,lI,uI,Xf,Wf,mg={point:zn,lineStart:function(){mg.point=Tj},lineEnd:function(){X0&&cI(lI,uI),mg.point=zn},polygonStart:function(){X0=!0},polygonEnd:function(){X0=null},result:function(){var e=+tb;return tb=new hr,e}};function Tj(e,t){mg.point=cI,lI=Xf=e,uI=Wf=t}function cI(e,t){Xf-=e,Wf-=t,tb.add(Er(Xf*Xf+Wf*Wf)),Xf=e,Wf=t}const XS=mg;let WS,yg,KS,qS;class ZS{constructor(t){this._append=t==null?fI:Pj(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==KS||this._append!==yg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,KS=r,yg=this._append,qS=this._,this._=i}this._+=qS;break}}}result(){const t=this._;return this._="",t.length?t:null}}function fI(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Pj(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return fI;if(t!==WS){const n=10**t;WS=t,yg=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return yg}function Oj(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Da(s,i(a))),a.result()}return o.area=function(s){return Da(s,i(jS)),jS.result()},o.measure=function(s){return Da(s,i(XS)),XS.result()},o.bounds=function(s){return Da(s,i(vg)),vg.result()},o.centroid=function(s){return Da(s,i(YS)),YS.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,Fh):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new ZS(n)):new sI(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(a=new ZS(n)),o},o.projection(e).digits(n).context(t)}function Ij(e){return{stream:ad(e)}}function ad(e){return function(t){var n=new nb;for(var r in e)n[r]=e[r];return n.stream=t,n}}function nb(){}nb.prototype={constructor:nb,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function tx(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Da(n,e.stream(vg)),t(vg.result()),r!=null&&e.clipExtent(r),e}function Om(e,t,n){return tx(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function nx(e,t,n){return Om(e,[[0,0],t],n)}function rx(e,t,n){return tx(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function ix(e,t,n){return tx(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var QS=16,Mj=ht(30*At);function JS(e,t){return+t?Fj(e,t):Dj(e)}function Dj(e){return ad({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Fj(e,t){function n(r,i,a,o,s,l,u,c,h,f,d,v,g,p){var y=u-r,m=c-i,b=y*y+m*m;if(b>4*t&&g--){var w=o+f,x=s+d,_=l+v,S=Er(w*w+x*x+_*_),P=ci(_/=S),C=sn(sn(_)-1)<Et||sn(a-h)<Et?(a+h)/2:ui(x,w),D=e(C,P),T=D[0],B=D[1],I=T-r,O=B-i,L=m*I-y*O;(L*L/b>t||sn((y*I+m*O)/b-.5)>.3||o*f+s*d+l*v<Mj)&&(n(r,i,a,o,s,l,T,B,C,w/=S,x/=S,_,g,p),p.point(T,B),n(T,B,C,w,x,_,u,c,h,f,d,v,g,p))}}return function(r){var i,a,o,s,l,u,c,h,f,d,v,g,p={point:y,lineStart:m,lineEnd:w,polygonStart:function(){r.polygonStart(),p.lineStart=x},polygonEnd:function(){r.polygonEnd(),p.lineStart=m}};function y(P,C){P=e(P,C),r.point(P[0],P[1])}function m(){h=NaN,p.point=b,r.lineStart()}function b(P,C){var D=ql([P,C]),T=e(P,C);n(h,f,c,d,v,g,h=T[0],f=T[1],c=P,d=D[0],v=D[1],g=D[2],QS,r),r.point(h,f)}function w(){p.point=y,r.lineEnd()}function x(){m(),p.point=_,p.lineEnd=S}function _(P,C){b(i=P,C),a=h,o=f,s=d,l=v,u=g,p.point=b}function S(){n(h,f,c,d,v,g,a,o,i,s,l,u,QS,r),p.lineEnd=w,w()}return p}}var kj=ad({point:function(e,t){this.stream.point(e*At,t*At)}});function Bj(e){return ad({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Rj(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function eE(e,t,n,r,i,a){if(!a)return Rj(e,t,n,r,i);var o=ht(a),s=rt(a),l=o*e,u=s*e,c=o/e,h=s/e,f=(s*n-o*t)/e,d=(s*t+o*n)/e;function v(g,p){return g*=r,p*=i,[l*g-u*p+t,n-u*g-l*p]}return v.invert=function(g,p){return[r*(c*g-h*p+f),i*(d-h*g-c*p)]},v}function Eo(e){return ax(function(){return e})()}function ax(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,l=0,u=0,c,h=0,f=1,d=1,v=null,g=H1,p=null,y,m,b,w=Fh,x=.5,_,S,P,C,D;function T(L){return P(L[0]*At,L[1]*At)}function B(L){return L=P.invert(L[0],L[1]),L&&[L[0]*_n,L[1]*_n]}T.stream=function(L){return C&&D===L?C:C=kj(Bj(c)(g(_(w(D=L)))))},T.preclip=function(L){return arguments.length?(g=L,v=void 0,O()):g},T.postclip=function(L){return arguments.length?(w=L,p=y=m=b=null,O()):w},T.clipAngle=function(L){return arguments.length?(g=+L?ZO(v=L*At):(v=null,H1),O()):v*_n},T.clipExtent=function(L){return arguments.length?(w=L==null?(p=y=m=b=null,Fh):Pm(p=+L[0][0],y=+L[0][1],m=+L[1][0],b=+L[1][1]),O()):p==null?null:[[p,y],[m,b]]},T.scale=function(L){return arguments.length?(n=+L,I()):n},T.translate=function(L){return arguments.length?(r=+L[0],i=+L[1],I()):[r,i]},T.center=function(L){return arguments.length?(a=L[0]%360*At,o=L[1]%360*At,I()):[a*_n,o*_n]},T.rotate=function(L){return arguments.length?(s=L[0]%360*At,l=L[1]%360*At,u=L.length>2?L[2]%360*At:0,I()):[s*_n,l*_n,u*_n]},T.angle=function(L){return arguments.length?(h=L%360*At,I()):h*_n},T.reflectX=function(L){return arguments.length?(f=L?-1:1,I()):f<0},T.reflectY=function(L){return arguments.length?(d=L?-1:1,I()):d<0},T.precision=function(L){return arguments.length?(_=JS(S,x=L*L),O()):Er(x)},T.fitExtent=function(L,R){return Om(T,L,R)},T.fitSize=function(L,R){return nx(T,L,R)},T.fitWidth=function(L,R){return rx(T,L,R)},T.fitHeight=function(L,R){return ix(T,L,R)};function I(){var L=eE(n,0,0,f,d,h).apply(null,t(a,o)),R=eE(n,r-L[0],i-L[1],f,d,h);return c=ex(s,l,u),S=z1(t,R),P=z1(c,S),_=JS(S,x),O()}function O(){return C=D=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&B,I()}}function ox(e){var t=0,n=en/3,r=ax(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*At,n=a[1]*At):[t*_n,n*_n]},i}function Lj(e){var t=ht(e);function n(r,i){return[r*t,rt(i)/t]}return n.invert=function(r,i){return[r/t,ci(i*t)]},n}function hI(e,t){var n=rt(e),r=(n+rt(t))/2;if(sn(r)<Et)return Lj(e);var i=1+n*(2*r-n),a=Er(i)/r;function o(s,l){var u=Er(i-2*r*rt(l))/r;return[u*rt(s*=r),a-u*ht(s)]}return o.invert=function(s,l){var u=a-l,c=ui(s,sn(u))*fa(u);return u*r<0&&(c-=en*fa(s)*fa(u)),[c/r,ci((i-(s*s+u*u)*r*r)/(2*r))]},o}function bg(){return ox(hI).scale(155.424).center([0,33.6442])}function dI(){return bg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Nj(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Uj(){var e,t,n=dI(),r,i=bg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=bg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,u={point:function(f,d){l=[f,d]}};function c(f){var d=f[0],v=f[1];return l=null,r.point(d,v),l||(a.point(d,v),l)||(s.point(d,v),l)}c.invert=function(f){var d=n.scale(),v=n.translate(),g=(f[0]-v[0])/d,p=(f[1]-v[1])/d;return(p>=.12&&p<.234&&g>=-.425&&g<-.214?i:p>=.166&&p<.234&&g>=-.214&&g<-.115?o:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=Nj([n.stream(t=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),h()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),v=+f[0],g=+f[1];return r=n.translate(f).clipExtent([[v-.455*d,g-.238*d],[v+.455*d,g+.238*d]]).stream(u),a=i.translate([v-.307*d,g+.201*d]).clipExtent([[v-.425*d+Et,g+.12*d+Et],[v-.214*d-Et,g+.234*d-Et]]).stream(u),s=o.translate([v-.205*d,g+.212*d]).clipExtent([[v-.214*d+Et,g+.166*d+Et],[v-.115*d-Et,g+.234*d-Et]]).stream(u),h()},c.fitExtent=function(f,d){return Om(c,f,d)},c.fitSize=function(f,d){return nx(c,f,d)},c.fitWidth=function(f,d){return rx(c,f,d)},c.fitHeight=function(f,d){return ix(c,f,d)};function h(){return e=t=null,c}return c.scale(1070)}function vI(e){return function(t,n){var r=ht(t),i=ht(n),a=e(r*i);return a===1/0?[2,0]:[a*i*rt(t),a*rt(n)]}}function od(e){return function(t,n){var r=Er(t*t+n*n),i=e(r),a=rt(i),o=ht(i);return[ui(t*a,r*o),ci(r&&n*a/r)]}}var sx=vI(function(e){return Er(2/(1+e))});sx.invert=od(function(e){return 2*ci(e/2)});function Vj(){return Eo(sx).scale(124.75).clipAngle(180-.001)}var lx=vI(function(e){return(e=kO(e))&&e/rt(e)});lx.invert=od(function(e){return e});function $j(){return Eo(lx).scale(79.4188).clipAngle(180-.001)}function sd(e,t){return[e,Zp(Qw((Jn+t)/2))]}sd.invert=function(e,t){return[e,2*ef(FO(t))-Jn]};function zj(){return pI(sd).scale(961/li)}function pI(e){var t=Eo(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,l,u;t.scale=function(h){return arguments.length?(r(h),c()):r()},t.translate=function(h){return arguments.length?(i(h),c()):i()},t.center=function(h){return arguments.length?(n(h),c()):n()},t.clipExtent=function(h){return arguments.length?(h==null?o=s=l=u=null:(o=+h[0][0],s=+h[0][1],l=+h[1][0],u=+h[1][1]),c()):o==null?null:[[o,s],[l,u]]};function c(){var h=en*r(),f=t(GO(t.rotate()).invert([0,0]));return a(o==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:e===sd?[[Math.max(f[0]-h,o),s],[Math.min(f[0]+h,l),u]]:[[o,Math.max(f[1]-h,s)],[l,Math.min(f[1]+h,u)]])}return c()}function nv(e){return Qw((Jn+e)/2)}function gI(e,t){var n=ht(e),r=e===t?rt(e):Zp(n/ht(t))/Zp(nv(t)/nv(e)),i=n*j0(nv(e),r)/r;if(!r)return sd;function a(o,s){i>0?s<-Jn+Et&&(s=-Jn+Et):s>Jn-Et&&(s=Jn-Et);var l=i/j0(nv(s),r);return[l*rt(r*o),i-l*ht(r*o)]}return a.invert=function(o,s){var l=i-s,u=fa(r)*Er(o*o+l*l),c=ui(o,sn(l))*fa(l);return l*r<0&&(c-=en*fa(o)*fa(l)),[c/r,2*ef(j0(i/u,1/r))-Jn]},a}function jj(){return ox(gI).scale(109.5).parallels([30,30])}function Bh(e,t){return[e,t]}Bh.invert=Bh;function Hj(){return Eo(Bh).scale(152.63)}function mI(e,t){var n=ht(e),r=e===t?rt(e):(n-ht(t))/(t-e),i=n/r+e;if(sn(r)<Et)return Bh;function a(o,s){var l=i-s,u=r*o;return[l*rt(u),i-l*ht(u)]}return a.invert=function(o,s){var l=i-s,u=ui(o,sn(l))*fa(l);return l*r<0&&(u-=en*fa(o)*fa(l)),[u/r,i-fa(r)*Er(o*o+l*l)]},a}function Gj(){return ox(mI).scale(131.154).center([0,13.9389])}var ah=1.340264,oh=-.081106,sh=893e-6,lh=.003796,wg=Er(3)/2,Yj=12;function ux(e,t){var n=ci(wg*rt(t)),r=n*n,i=r*r*r;return[e*ht(n)/(wg*(ah+3*oh*r+i*(7*sh+9*lh*r))),n*(ah+oh*r+i*(sh+lh*r))]}ux.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,l;a<Yj&&(s=n*(ah+oh*r+i*(sh+lh*r))-t,l=ah+3*oh*r+i*(7*sh+9*lh*r),n-=o=s/l,r=n*n,i=r*r*r,!(sn(o)<Dh));++a);return[wg*e*(ah+3*oh*r+i*(7*sh+9*lh*r))/ht(n),ci(rt(n)/wg)]};function Xj(){return Eo(ux).scale(177.158)}function cx(e,t){var n=ht(t),r=ht(e)*n;return[n*rt(e)/r,rt(t)/r]}cx.invert=od(ef);function Wj(){return Eo(cx).scale(144.049).clipAngle(60)}function Kj(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,l=null,u,c,h,f=1,d=1,v=ad({point:function(w,x){var _=b([w,x]);this.stream.point(_[0],_[1])}}),g=Fh,p,y;function m(){return f=e*r,d=e*i,p=y=null,b}function b(w){var x=w[0]*f,_=w[1]*d;if(a){var S=_*o-x*s;x=x*o+_*s,_=S}return[x+t,_+n]}return b.invert=function(w){var x=w[0]-t,_=w[1]-n;if(a){var S=_*o+x*s;x=x*o-_*s,_=S}return[x/f,_/d]},b.stream=function(w){return p&&y===w?p:p=v(g(y=w))},b.postclip=function(w){return arguments.length?(g=w,l=u=c=h=null,m()):g},b.clipExtent=function(w){return arguments.length?(g=w==null?(l=u=c=h=null,Fh):Pm(l=+w[0][0],u=+w[0][1],c=+w[1][0],h=+w[1][1]),m()):l==null?null:[[l,u],[c,h]]},b.scale=function(w){return arguments.length?(e=+w,m()):e},b.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],m()):[t,n]},b.angle=function(w){return arguments.length?(a=w%360*At,s=rt(a),o=ht(a),m()):a*_n},b.reflectX=function(w){return arguments.length?(r=w?-1:1,m()):r<0},b.reflectY=function(w){return arguments.length?(i=w?-1:1,m()):i<0},b.fitExtent=function(w,x){return Om(b,w,x)},b.fitSize=function(w,x){return nx(b,w,x)},b.fitWidth=function(w,x){return rx(b,w,x)},b.fitHeight=function(w,x){return ix(b,w,x)},b}function fx(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}fx.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(sn(i)>Et&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function qj(){return Eo(fx).scale(175.295)}function hx(e,t){return[ht(t)*rt(e),rt(t)]}hx.invert=od(ci);function Zj(){return Eo(hx).scale(249.5).clipAngle(90+Et)}function dx(e,t){var n=ht(t),r=1+ht(e)*n;return[n*rt(e)/r,rt(t)/r]}dx.invert=od(function(e){return 2*ef(e)});function Qj(){return Eo(dx).scale(250).clipAngle(142)}function vx(e,t){return[Zp(Qw((Jn+t)/2)),-e]}vx.invert=function(e,t){return[-t,2*ef(FO(e))-Jn]};function Jj(){var e=pI(vx),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function eH(e,t){return e.parent===t.parent?1:2}function tH(e){return e.reduce(nH,0)/e.length}function nH(e,t){return e+t.x}function rH(e){return 1+e.reduce(iH,0)}function iH(e,t){return Math.max(e,t.y)}function aH(e){for(var t;t=e.children;)e=t[0];return e}function oH(e){for(var t;t=e.children;)e=t[t.length-1];return e}function sH(){var e=eH,t=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(f){var d=f.children;d?(f.x=tH(d),f.y=rH(d)):(f.x=o?s+=e(f,o):0,f.y=0,o=f)});var l=aH(a),u=oH(a),c=l.x-e(l,u)/2,h=u.x+e(u,l)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*t,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-c)/(h-c)*t,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function lH(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function uH(){return this.eachAfter(lH)}function cH(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function fH(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function hH(e,t){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function dH(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function vH(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function pH(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function gH(e){for(var t=this,n=mH(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function mH(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function yH(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function bH(){return Array.from(this)}function wH(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function xH(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*_H(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function px(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=AH)):t===void 0&&(t=EH);for(var n=new Ql(e),r,i=[n],a,o,s,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Ql(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(yI)}function SH(){return px(this).eachBefore(CH)}function EH(e){return e.children}function AH(e){return Array.isArray(e)?e[1]:null}function CH(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function yI(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ql(e){this.data=e,this.depth=this.height=0,this.parent=null}Ql.prototype=px.prototype={constructor:Ql,count:uH,each:cH,eachAfter:hH,eachBefore:fH,find:dH,sum:vH,sort:pH,path:gH,ancestors:yH,descendants:bH,leaves:wH,links:xH,copy:SH,[Symbol.iterator]:_H};function ip(e){return e==null?null:bI(e)}function bI(e){if(typeof e!="function")throw new Error;return e}function Al(){return 0}function tc(e){return function(){return e}}const TH=1664525,PH=1013904223,tE=4294967296;function gx(){let e=1;return()=>(e=(TH*e+PH)%tE)/tE}function OH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IH(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function MH(e){return wI(e,gx())}function wI(e,t){for(var n=0,r=(e=IH(Array.from(e),t)).length,i=[],a,o;n<r;)a=e[n],o&&xI(o,a)?++n:(o=FH(i=DH(i,a)),n=0);return o}function DH(e,t){var n,r;if(W0(t,e))return[t];for(n=0;n<e.length;++n)if(rv(t,e[n])&&W0(Kf(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(rv(Kf(e[n],e[r]),t)&&rv(Kf(e[n],t),e[r])&&rv(Kf(e[r],t),e[n])&&W0(_I(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function rv(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function xI(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function W0(e,t){for(var n=0;n<t.length;++n)if(!xI(e,t[n]))return!1;return!0}function FH(e){switch(e.length){case 1:return kH(e[0]);case 2:return Kf(e[0],e[1]);case 3:return _I(e[0],e[1],e[2])}}function kH(e){return{x:e.x,y:e.y,r:e.r}}function Kf(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,u=o-r,c=s-i,h=Math.sqrt(l*l+u*u);return{x:(n+a+l/h*c)/2,y:(r+o+u/h*c)/2,r:(h+i+s)/2}}function _I(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,u=n.x,c=n.y,h=n.r,f=r-o,d=r-u,v=i-s,g=i-c,p=l-a,y=h-a,m=r*r+i*i-a*a,b=m-o*o-s*s+l*l,w=m-u*u-c*c+h*h,x=d*v-f*g,_=(v*w-g*b)/(x*2)-r,S=(g*p-v*y)/x,P=(d*b-f*w)/(x*2)-i,C=(f*y-d*p)/x,D=S*S+C*C-1,T=2*(a+_*S+P*C),B=_*_+P*P-a*a,I=-(Math.abs(D)>1e-6?(T+Math.sqrt(T*T-4*D*B))/(2*D):B/T);return{x:r+_+S*I,y:i+P+C*I,r:I}}function nE(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,l,u=r*r+o*o;u?(a=t.r+n.r,a*=a,l=e.r+n.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function rE(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function iE(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function iv(e){this._=e,this.next=null,this.previous=null}function SI(e,t){if(!(a=(e=OH(e)).length))return 0;var n,r,i,a,o,s,l,u,c,h,f;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;nE(r,n,i=e[2]),n=new iv(n),r=new iv(r),i=new iv(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<a;++l){nE(n._,r._,i=e[l]),i=new iv(i),u=r.next,c=n.previous,h=r._.r,f=n._.r;do if(h<=f){if(rE(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}h+=u._.r,u=u.next}else{if(rE(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=iE(n);(i=i.next)!==r;)(s=iE(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=wI(n,t),l=0;l<a;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function BH(e){return SI(e,gx()),e}function RH(e){return Math.sqrt(e.value)}function LH(){var e=null,t=1,n=1,r=Al;function i(a){const o=gx();return a.x=t/2,a.y=n/2,e?a.eachBefore(aE(e)).eachAfter(K0(r,.5,o)).eachBefore(oE(1)):a.eachBefore(aE(RH)).eachAfter(K0(Al,1,o)).eachAfter(K0(r,a.r/Math.min(t,n),o)).eachBefore(oE(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=ip(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:tc(+a),i):r},i}function aE(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function K0(e,t,n){return function(r){if(i=r.children){var i,a,o=i.length,s=e(r)*t||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=SI(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function oE(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function EI(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ld(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(r-t)/e.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function NH(){var e=1,t=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(a(t,s)),r&&o.eachBefore(EI),o}function a(o,s){return function(l){l.children&&ld(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,c=l.y0,h=l.x1-n,f=l.y1-n;h<u&&(u=h=(u+h)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=h,l.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var UH={depth:-1},sE={},q0={};function VH(e){return e.id}function $H(e){return e.parentId}function rb(){var e=VH,t=$H,n;function r(i){var a=Array.from(i),o=e,s=t,l,u,c,h,f,d,v,g,p=new Map;if(n!=null){const y=a.map((w,x)=>zH(n(w,x,i))),m=y.map(lE),b=new Set(y).add("");for(const w of m)b.has(w)||(b.add(w),y.push(w),m.push(lE(w)),a.push(q0));o=(w,x)=>y[x],s=(w,x)=>m[x]}for(c=0,l=a.length;c<l;++c)u=a[c],d=a[c]=new Ql(u),(v=o(u,c,i))!=null&&(v+="")&&(g=d.id=v,p.set(g,p.has(g)?sE:d)),(v=s(u,c,i))!=null&&(v+="")&&(d.parent=v);for(c=0;c<l;++c)if(d=a[c],v=d.parent){if(f=p.get(v),!f)throw new Error("missing: "+v);if(f===sE)throw new Error("ambiguous: "+v);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===q0&&h.children.length===1;)h=h.children[0],--l;for(let y=a.length-1;y>=0&&(d=a[y],d.data===q0);--y)d.data=null}if(h.parent=UH,h.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(yI),h.parent=null,l>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(e=ip(i),r):e},r.parentId=function(i){return arguments.length?(t=ip(i),r):t},r.path=function(i){return arguments.length?(n=ip(i),r):n},r}function zH(e){e=`${e}`;let t=e.length;return ib(e,t-1)&&!ib(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function lE(e){let t=e.length;if(t<2)return"";for(;--t>1&&!ib(e,t););return e.slice(0,t)}function ib(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function jH(e,t){return e.parent===t.parent?1:2}function Z0(e){var t=e.children;return t?t[0]:e.t}function Q0(e){var t=e.children;return t?t[t.length-1]:e.t}function HH(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function GH(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function YH(e,t,n){return e.a.parent===t.parent?e.a:n}function ap(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ap.prototype=Object.create(Ql.prototype);function XH(e){for(var t=new ap(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new ap(a[o],o)),i.parent=n;return(t.parent=new ap(null,0)).children=[t],t}function WH(){var e=jH,t=1,n=1,r=null;function i(u){var c=XH(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var h=u,f=u,d=u;u.eachBefore(function(m){m.x<h.x&&(h=m),m.x>f.x&&(f=m),m.depth>d.depth&&(d=m)});var v=h===f?1:e(h,f)/2,g=v-h.x,p=t/(f.x+v+g),y=n/(d.depth||1);u.eachBefore(function(m){m.x=(m.x+g)*p,m.y=m.depth*y})}return u}function a(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){GH(u);var d=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-d):u.z=d}else f&&(u.z=f.z+e(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,d=u,v=c,g=f.parent.children[0],p=f.m,y=d.m,m=v.m,b=g.m,w;v=Q0(v),f=Z0(f),v&&f;)g=Z0(g),d=Q0(d),d.a=u,w=v.z+m-f.z-p+e(v._,f._),w>0&&(HH(YH(v,u,h),u,w),p+=w,y+=w),m+=v.m,p+=f.m,b+=g.m,y+=d.m;v&&!Q0(d)&&(d.t=v,d.m+=m-y),f&&!Z0(g)&&(g.t=f,g.m+=p-b,h=u)}return h}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function Im(e,t,n,r,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(i-n)/e.value;++s<l;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var AI=(1+Math.sqrt(5))/2;function CI(e,t,n,r,i,a){for(var o=[],s=t.children,l,u,c=0,h=0,f=s.length,d,v,g=t.value,p,y,m,b,w,x,_;c<f;){d=i-n,v=a-r;do p=s[h++].value;while(!p&&h<f);for(y=m=p,x=Math.max(v/d,d/v)/(g*e),_=p*p*x,w=Math.max(m/_,_/y);h<f;++h){if(p+=u=s[h].value,u<y&&(y=u),u>m&&(m=u),_=p*p*x,b=Math.max(m/_,_/y),b>w){p-=u;break}w=b}o.push(l={value:p,dice:d<v,children:s.slice(c,h)}),l.dice?ld(l,n,r,i,g?r+=v*p/g:a):Im(l,n,r,g?n+=d*p/g:i,a),g-=p,c=h}return o}const TI=function e(t){function n(r,i,a,o,s){CI(t,r,i,a,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(AI);function KH(){var e=TI,t=!1,n=1,r=1,i=[0],a=Al,o=Al,s=Al,l=Al,u=Al;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],t&&f.eachBefore(EI),f}function h(f){var d=i[f.depth],v=f.x0+d,g=f.y0+d,p=f.x1-d,y=f.y1-d;p<v&&(v=p=(v+p)/2),y<g&&(g=y=(g+y)/2),f.x0=v,f.y0=g,f.x1=p,f.y1=y,f.children&&(d=i[f.depth+1]=a(f)/2,v+=u(f)-d,g+=o(f)-d,p-=s(f)-d,y-=l(f)-d,p<v&&(v=p=(v+p)/2),y<g&&(g=y=(g+y)/2),e(f,v,g,p,y))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=bI(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:tc(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:tc(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:tc(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:tc(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:tc(+f),c):u},c}function qH(e,t,n,r,i){var a=e.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;c(0,s,e.value,t,n,r,i);function c(h,f,d,v,g,p,y){if(h>=f-1){var m=a[h];m.x0=v,m.y0=g,m.x1=p,m.y1=y;return}for(var b=u[h],w=d/2+b,x=h+1,_=f-1;x<_;){var S=x+_>>>1;u[S]<w?x=S+1:_=S}w-u[x-1]<u[x]-w&&h+1<x&&--x;var P=u[x]-b,C=d-P;if(p-v>y-g){var D=d?(v*C+p*P)/d:p;c(h,x,P,v,g,D,y),c(x,f,C,D,g,p,y)}else{var T=d?(g*C+y*P)/d:y;c(h,x,P,v,g,p,T),c(x,f,C,v,T,p,y)}}}function ZH(e,t,n,r,i){(e.depth&1?Im:ld)(e,t,n,r,i)}const QH=function e(t){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,h,f=-1,d,v=l.length,g=r.value;++f<v;){for(u=l[f],c=u.children,h=u.value=0,d=c.length;h<d;++h)u.value+=c[h].value;u.dice?ld(u,i,a,o,g?a+=(s-a)*u.value/g:s):Im(u,i,a,g?i+=(o-i)*u.value/g:o,s),g-=u.value}else r._squarify=l=CI(t,r,i,a,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(AI);function JH(e){for(var t=-1,n=e.length,r,i=e[n-1],a=0;++t<n;)r=i,i=e[t],a+=r[1]*i[0]-r[0]*i[1];return a/2}function eG(e){for(var t=-1,n=e.length,r=0,i=0,a,o=e[n-1],s,l=0;++t<n;)a=o,o=e[t],l+=s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return l*=3,[r/l,i/l]}function tG(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function nG(e,t){return e[0]-t[0]||e[1]-t[1]}function uE(e){const t=e.length,n=[0,1];let r=2,i;for(i=2;i<t;++i){for(;r>1&&tG(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function rG(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(nG),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=uE(r),o=uE(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],u=[];for(t=a.length-1;t>=0;--t)u.push(e[r[a[t]][2]]);for(t=+s;t<o.length-l;++t)u.push(e[r[o[t]][2]]);return u}function iG(e,t){for(var n=e.length,r=e[n-1],i=t[0],a=t[1],o=r[0],s=r[1],l,u,c=!1,h=0;h<n;++h)r=e[h],l=r[0],u=r[1],u>a!=s>a&&i<(o-l)*(a-u)/(s-u)+l&&(c=!c),o=l,s=u;return c}function aG(e){for(var t=-1,n=e.length,r=e[n-1],i,a,o=r[0],s=r[1],l=0;++t<n;)i=o,a=s,r=e[t],o=r[0],s=r[1],i-=o,a-=s,l+=Math.hypot(i,a);return l}const Lr=Math.random,oG=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(Lr),sG=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(Lr),mx=function e(t){function n(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=t()*2-1,s=t()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(Lr),lG=function e(t){var n=mx.source(t);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=e,r}(Lr),PI=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,a=r;a>1;--a)i+=t();return i+a*t()}}return n.source=e,n}(Lr),uG=function e(t){var n=PI.source(t);function r(i){if((i=+i)==0)return t;var a=n(i);return function(){return a()/i}}return r.source=e,r}(Lr),cG=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(Lr),fG=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(Lr),hG=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(Lr),OI=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(Lr),yx=function e(t){var n=mx.source(t)();function r(i,a){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(a=a==null?1:+a,i===1)return()=>-Math.log1p(-t())*a;var o=(i<1?i+1:i)-1/3,s=1/(3*Math.sqrt(o)),l=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var u=n(),c=1+s*u;while(c<=0);c*=c*c;var h=1-t()}while(h>=1-.0331*u*u*u*u&&Math.log(h)>=.5*u*u+o*(1-c+Math.log(c)));return o*c*l()*a}}return r.source=e,r}(Lr),II=function e(t){var n=yx.source(t);function r(i,a){var o=n(i),s=n(a);return function(){var l=o();return l===0?0:l/(l+s())}}return r.source=e,r}(Lr),MI=function e(t){var n=OI.source(t),r=II.source(t);function i(a,o){return a=+a,(o=+o)>=1?()=>a:o<=0?()=>0:function(){for(var s=0,l=a,u=o;l*u>16&&l*(1-u)>16;){var c=Math.floor((l+1)*u),h=r(c,l-c+1)();h<=u?(s+=c,l-=c,u=(u-h)/(1-h)):(l=c-1,u/=h)}for(var f=u<.5,d=f?u:1-u,v=n(d),g=v(),p=0;g<=l;++p)g+=v();return s+(f?p:l-p)}}return i.source=e,i}(Lr),dG=function e(t){function n(r,i,a){var o;return(r=+r)==0?o=s=>-Math.log(s):(r=1/r,o=s=>Math.pow(s,r)),i=i==null?0:+i,a=a==null?1:+a,function(){return i+a*o(-Math.log1p(-t()))}}return n.source=e,n}(Lr),vG=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*t())}}return n.source=e,n}(Lr),pG=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var a=t();return r+i*Math.log(a/(1-a))}}return n.source=e,n}(Lr),gG=function e(t){var n=yx.source(t),r=MI.source(t);function i(a){return function(){for(var o=0,s=a;s>16;){var l=Math.floor(.875*s),u=n(l)();if(u>s)return o+r(l-1,s/u)();o+=l,s-=u}for(var c=-Math.log1p(-t()),h=0;c<=s;++h)c-=Math.log1p(-t());return o+h}}return i.source=e,i}(Lr),mG=1664525,yG=1013904223,cE=1/4294967296;function bG(e=Math.random()){let t=(0<=e&&e<1?e/cE:Math.abs(e))|0;return()=>(t=mG*t+yG|0,cE*(t>>>0))}function ba(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ab=Symbol("implicit");function bx(){var e=new _h,t=[],n=[],r=ab;function i(a){let o=e.get(a);if(o===void 0){if(r!==ab)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _h;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bx(t,n).unknown(r)},ba.apply(i,arguments),i}function wx(){var e=bx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function h(){var f=t().length,d=i<r,v=d?i:r,g=d?r:i;a=(g-v)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),v+=(g-v-a*(f-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var p=jo(f).map(function(y){return v+a*y});return n(d?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,h()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},e.copy=function(){return wx(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ba.apply(h(),arguments)}function DI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DI(t())},e}function wG(){return DI(wx.apply(null,arguments).paddingInner(1))}function xG(e){return function(){return e}}function xg(e){return+e}var fE=[0,1];function ai(e){return e}function ob(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xG(isNaN(t)?NaN:.5)}function _G(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function SG(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ob(i,r),a=n(o,a)):(r=ob(r,i),a=n(a,o)),function(s){return a(r(s))}}function EG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ob(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=su(e,s,1,r)-1;return a[l](i[l](s))}}function ud(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mm(){var e=fE,t=fE,n=qs,r,i,a,o=ai,s,l,u;function c(){var f=Math.min(e.length,t.length);return o!==ai&&(o=_G(e[0],e[f-1])),s=f>2?EG:SG,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(i((u||(u=s(t,e.map(r),la)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,xg),c()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=ym,c()},h.clamp=function(f){return arguments.length?(o=f?!0:ai,c()):o!==ai},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,c()}}function xx(){return Mm()(ai,ai)}function FI(e,t,n,r){var i=Np(e,t,n),a;switch(r=Dc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=MO(i,o))&&(r.precision=a),Zw(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=DO(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=IO(i))&&(r.precision=a-(r.type==="%")*2);break}}return Tm(r)}function Zs(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return FI(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Yl(o,s,n),u===l)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function kI(){var e=xx();return e.copy=function(){return ud(e,kI())},ba.apply(e,arguments),Zs(e)}function BI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return BI(e).unknown(t)},e=arguments.length?Array.from(e,xg):[0,1],Zs(n)}function RI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function hE(e){return Math.log(e)}function dE(e){return Math.exp(e)}function AG(e){return-Math.log(-e)}function CG(e){return-Math.exp(-e)}function TG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PG(e){return e===10?TG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vE(e){return(t,n)=>-e(-t,n)}function _x(e){const t=e(hE,dE),n=t.domain;let r=10,i,a;function o(){return i=OG(r),a=PG(r),n()[0]<0?(i=vE(i),a=vE(a),e(AG,CG)):e(hE,dE),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let f=i(u),d=i(c),v,g;const p=s==null?10:+s;let y=[];if(!(r%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),u>0){for(;f<=d;++f)for(v=1;v<r;++v)if(g=f<0?v/a(-f):v*a(f),!(g<u)){if(g>c)break;y.push(g)}}else for(;f<=d;++f)for(v=r-1;v>=1;--v)if(g=f>0?v/a(-f):v*a(f),!(g<u)){if(g>c)break;y.push(g)}y.length*2<p&&(y=Gl(u,c,p))}else y=Gl(f,d,Math.min(d-f,p)).map(a);return h?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Dc(l)).precision==null&&(l.trim=!0),l=Tm(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},t.nice=()=>n(RI(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function LI(){const e=_x(Mm()).domain([1,10]);return e.copy=()=>ud(e,LI()).base(e.base()),ba.apply(e,arguments),e}function pE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sx(e){var t=1,n=e(pE(t),gE(t));return n.constant=function(r){return arguments.length?e(pE(t=+r),gE(t)):t},Zs(n)}function NI(){var e=Sx(Mm());return e.copy=function(){return ud(e,NI()).constant(e.constant())},ba.apply(e,arguments)}function mE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function IG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MG(e){return e<0?-e*e:e*e}function Ex(e){var t=e(ai,ai),n=1;function r(){return n===1?e(ai,ai):n===.5?e(IG,MG):e(mE(n),mE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Zs(t)}function Ax(){var e=Ex(Mm());return e.copy=function(){return ud(e,Ax()).exponent(e.exponent())},ba.apply(e,arguments),e}function DG(){return Ax.apply(null,arguments).exponent(.5)}function yE(e){return Math.sign(e)*e*e}function FG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UI(){var e=xx(),t=[0,1],n=!1,r;function i(a){var o=FG(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(yE(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,xg)).map(yE)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ba.apply(i,arguments),Zs(i)}function VI(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=hP(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[su(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Hn),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return VI().domain(e).range(t).unknown(r)},ba.apply(a,arguments)}function $I(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[su(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return $I().domain([e,t]).range(i).unknown(a)},ba.apply(Zs(o),arguments)}function zI(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[su(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return zI().domain(e).range(t).unknown(n)},ba.apply(i,arguments)}const J0=new Date,ey=new Date;function lr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>lr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(J0.setTime(+a),ey.setTime(+o),e(J0),e(ey),Math.floor(n(J0,ey))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Rc=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Rc);const bE=Rc.range,Ho=1e3,ha=Ho*60,Go=ha*60,ns=Go*24,Cx=ns*7,wE=ns*30,ty=ns*365,Yo=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ho)},(e,t)=>(t-e)/Ho,e=>e.getUTCSeconds()),xE=Yo.range,Dm=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ho)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getMinutes()),kG=Dm.range,Fm=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCMinutes()),BG=Fm.range,km=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ho-e.getMinutes()*ha)},(e,t)=>{e.setTime(+e+t*Go)},(e,t)=>(t-e)/Go,e=>e.getHours()),RG=km.range,Bm=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Go)},(e,t)=>(t-e)/Go,e=>e.getUTCHours()),LG=Bm.range,tf=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ha)/ns,e=>e.getDate()-1),NG=tf.range,cd=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ns,e=>e.getUTCDate()-1),UG=cd.range,Tx=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ns,e=>Math.floor(e/ns)),VG=Tx.range;function hu(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ha)/Cx)}const Lc=hu(0),Rh=hu(1),jI=hu(2),HI=hu(3),Jl=hu(4),GI=hu(5),YI=hu(6),_E=Lc.range,$G=Rh.range,zG=jI.range,jG=HI.range,HG=Jl.range,GG=GI.range,YG=YI.range;function du(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Cx)}const Nc=du(0),Lh=du(1),XI=du(2),WI=du(3),eu=du(4),KI=du(5),qI=du(6),SE=Nc.range,XG=Lh.range,WG=XI.range,KG=WI.range,qG=eu.range,ZG=KI.range,QG=qI.range,Rm=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),JG=Rm.range,Lm=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),eY=Lm.range,mo=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});const tY=mo.range,yo=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});const nY=yo.range;function ZI(e,t,n,r,i,a){const o=[[Yo,1,Ho],[Yo,5,5*Ho],[Yo,15,15*Ho],[Yo,30,30*Ho],[a,1,ha],[a,5,5*ha],[a,15,15*ha],[a,30,30*ha],[i,1,Go],[i,3,3*Go],[i,6,6*Go],[i,12,12*Go],[r,1,ns],[r,2,2*ns],[n,1,Cx],[t,1,wE],[t,3,3*wE],[e,1,ty]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const d=h&&typeof h.range=="function"?h:l(u,c,h),v=d?d.range(u,+c+1):[];return f?v.reverse():v}function l(u,c,h){const f=Math.abs(c-u)/h,d=sm(([,,p])=>p).right(o,f);if(d===o.length)return e.every(Np(u/ty,c/ty,h));if(d===0)return Rc.every(Math.max(Np(u,c,h),1));const[v,g]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return v.every(g)}return[s,l]}const[QI,JI]=ZI(yo,Lm,Nc,Tx,Bm,Fm),[eM,tM]=ZI(mo,Rm,Lc,tf,km,Dm);function ny(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nM(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Pf(i),c=Of(i),h=Pf(a),f=Of(a),d=Pf(o),v=Of(o),g=Pf(s),p=Of(s),y=Pf(l),m=Of(l),b={a:U,A:$,b:j,B:z,c:null,d:OE,e:OE,f:AY,g:BY,G:LY,H:_Y,I:SY,j:EY,L:rM,m:CY,M:TY,p:Y,q:Q,Q:DE,s:FE,S:PY,u:OY,U:IY,V:MY,w:DY,W:FY,x:null,X:null,y:kY,Y:RY,Z:NY,"%":ME},w={a:re,A:he,b:ce,B:te,c:null,d:IE,e:IE,f:zY,g:QY,G:eX,H:UY,I:VY,j:$Y,L:aM,m:jY,M:HY,p:ee,q:Ue,Q:DE,s:FE,S:GY,u:YY,U:XY,V:WY,w:KY,W:qY,x:null,X:null,y:ZY,Y:JY,Z:tX,"%":ME},x={a:D,A:T,b:B,B:I,c:O,d:TE,e:TE,f:yY,g:CE,G:AE,H:PE,I:PE,j:vY,L:mY,m:dY,M:pY,p:C,q:hY,Q:wY,s:xY,S:gY,u:sY,U:lY,V:uY,w:oY,W:cY,x:L,X:R,y:CE,Y:AE,Z:fY,"%":bY};b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w);function _(ye,pe){return function(Se){var ae=[],ke=-1,Ce=0,We=ye.length,X,M,k;for(Se instanceof Date||(Se=new Date(+Se));++ke<We;)ye.charCodeAt(ke)===37&&(ae.push(ye.slice(Ce,ke)),(M=EE[X=ye.charAt(++ke)])!=null?X=ye.charAt(++ke):M=X==="e"?" ":"0",(k=pe[X])&&(X=k(Se,M)),ae.push(X),Ce=ke+1);return ae.push(ye.slice(Ce,ke)),ae.join("")}}function S(ye,pe){return function(Se){var ae=Tf(1900,void 0,1),ke=P(ae,ye,Se+="",0),Ce,We;if(ke!=Se.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(pe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ce=ry(Tf(ae.y,0,1)),We=Ce.getUTCDay(),Ce=We>4||We===0?Lh.ceil(Ce):Lh(Ce),Ce=cd.offset(Ce,(ae.V-1)*7),ae.y=Ce.getUTCFullYear(),ae.m=Ce.getUTCMonth(),ae.d=Ce.getUTCDate()+(ae.w+6)%7):(Ce=ny(Tf(ae.y,0,1)),We=Ce.getDay(),Ce=We>4||We===0?Rh.ceil(Ce):Rh(Ce),Ce=tf.offset(Ce,(ae.V-1)*7),ae.y=Ce.getFullYear(),ae.m=Ce.getMonth(),ae.d=Ce.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),We="Z"in ae?ry(Tf(ae.y,0,1)).getUTCDay():ny(Tf(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(We+5)%7:ae.w+ae.U*7-(We+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,ry(ae)):ny(ae)}}function P(ye,pe,Se,ae){for(var ke=0,Ce=pe.length,We=Se.length,X,M;ke<Ce;){if(ae>=We)return-1;if(X=pe.charCodeAt(ke++),X===37){if(X=pe.charAt(ke++),M=x[X in EE?pe.charAt(ke++):X],!M||(ae=M(ye,Se,ae))<0)return-1}else if(X!=Se.charCodeAt(ae++))return-1}return ae}function C(ye,pe,Se){var ae=u.exec(pe.slice(Se));return ae?(ye.p=c.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function D(ye,pe,Se){var ae=d.exec(pe.slice(Se));return ae?(ye.w=v.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function T(ye,pe,Se){var ae=h.exec(pe.slice(Se));return ae?(ye.w=f.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function B(ye,pe,Se){var ae=y.exec(pe.slice(Se));return ae?(ye.m=m.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function I(ye,pe,Se){var ae=g.exec(pe.slice(Se));return ae?(ye.m=p.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function O(ye,pe,Se){return P(ye,t,pe,Se)}function L(ye,pe,Se){return P(ye,n,pe,Se)}function R(ye,pe,Se){return P(ye,r,pe,Se)}function U(ye){return o[ye.getDay()]}function $(ye){return a[ye.getDay()]}function j(ye){return l[ye.getMonth()]}function z(ye){return s[ye.getMonth()]}function Y(ye){return i[+(ye.getHours()>=12)]}function Q(ye){return 1+~~(ye.getMonth()/3)}function re(ye){return o[ye.getUTCDay()]}function he(ye){return a[ye.getUTCDay()]}function ce(ye){return l[ye.getUTCMonth()]}function te(ye){return s[ye.getUTCMonth()]}function ee(ye){return i[+(ye.getUTCHours()>=12)]}function Ue(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var pe=_(ye+="",b);return pe.toString=function(){return ye},pe},parse:function(ye){var pe=S(ye+="",!1);return pe.toString=function(){return ye},pe},utcFormat:function(ye){var pe=_(ye+="",w);return pe.toString=function(){return ye},pe},utcParse:function(ye){var pe=S(ye+="",!0);return pe.toString=function(){return ye},pe}}}var EE={"-":"",_:" ",0:"0"},Tr=/^\s*\d+/,rY=/^%/,iY=/[\\^$*+?|[\]().{}]/g;function pn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function aY(e){return e.replace(iY,"\\$&")}function Pf(e){return new RegExp("^(?:"+e.map(aY).join("|")+")","i")}function Of(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function oY(e,t,n){var r=Tr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=Tr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function lY(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function uY(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function cY(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function AE(e,t,n){var r=Tr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CE(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hY(e,t,n){var r=Tr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dY(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function TE(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vY(e,t,n){var r=Tr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PE(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pY(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gY(e,t,n){var r=Tr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mY(e,t,n){var r=Tr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function yY(e,t,n){var r=Tr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bY(e,t,n){var r=rY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wY(e,t,n){var r=Tr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xY(e,t,n){var r=Tr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function OE(e,t){return pn(e.getDate(),t,2)}function _Y(e,t){return pn(e.getHours(),t,2)}function SY(e,t){return pn(e.getHours()%12||12,t,2)}function EY(e,t){return pn(1+tf.count(mo(e),e),t,3)}function rM(e,t){return pn(e.getMilliseconds(),t,3)}function AY(e,t){return rM(e,t)+"000"}function CY(e,t){return pn(e.getMonth()+1,t,2)}function TY(e,t){return pn(e.getMinutes(),t,2)}function PY(e,t){return pn(e.getSeconds(),t,2)}function OY(e){var t=e.getDay();return t===0?7:t}function IY(e,t){return pn(Lc.count(mo(e)-1,e),t,2)}function iM(e){var t=e.getDay();return t>=4||t===0?Jl(e):Jl.ceil(e)}function MY(e,t){return e=iM(e),pn(Jl.count(mo(e),e)+(mo(e).getDay()===4),t,2)}function DY(e){return e.getDay()}function FY(e,t){return pn(Rh.count(mo(e)-1,e),t,2)}function kY(e,t){return pn(e.getFullYear()%100,t,2)}function BY(e,t){return e=iM(e),pn(e.getFullYear()%100,t,2)}function RY(e,t){return pn(e.getFullYear()%1e4,t,4)}function LY(e,t){var n=e.getDay();return e=n>=4||n===0?Jl(e):Jl.ceil(e),pn(e.getFullYear()%1e4,t,4)}function NY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pn(t/60|0,"0",2)+pn(t%60,"0",2)}function IE(e,t){return pn(e.getUTCDate(),t,2)}function UY(e,t){return pn(e.getUTCHours(),t,2)}function VY(e,t){return pn(e.getUTCHours()%12||12,t,2)}function $Y(e,t){return pn(1+cd.count(yo(e),e),t,3)}function aM(e,t){return pn(e.getUTCMilliseconds(),t,3)}function zY(e,t){return aM(e,t)+"000"}function jY(e,t){return pn(e.getUTCMonth()+1,t,2)}function HY(e,t){return pn(e.getUTCMinutes(),t,2)}function GY(e,t){return pn(e.getUTCSeconds(),t,2)}function YY(e){var t=e.getUTCDay();return t===0?7:t}function XY(e,t){return pn(Nc.count(yo(e)-1,e),t,2)}function oM(e){var t=e.getUTCDay();return t>=4||t===0?eu(e):eu.ceil(e)}function WY(e,t){return e=oM(e),pn(eu.count(yo(e),e)+(yo(e).getUTCDay()===4),t,2)}function KY(e){return e.getUTCDay()}function qY(e,t){return pn(Lh.count(yo(e)-1,e),t,2)}function ZY(e,t){return pn(e.getUTCFullYear()%100,t,2)}function QY(e,t){return e=oM(e),pn(e.getUTCFullYear()%100,t,2)}function JY(e,t){return pn(e.getUTCFullYear()%1e4,t,4)}function eX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?eu(e):eu.ceil(e),pn(e.getUTCFullYear()%1e4,t,4)}function tX(){return"+0000"}function ME(){return"%"}function DE(e){return+e}function FE(e){return Math.floor(+e/1e3)}var Vu,Px,sM,Nm,Ox;lM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lM(e){return Vu=nM(e),Px=Vu.format,sM=Vu.parse,Nm=Vu.utcFormat,Ox=Vu.utcParse,Vu}var uM="%Y-%m-%dT%H:%M:%S.%LZ";function nX(e){return e.toISOString()}var rX=Date.prototype.toISOString?nX:Nm(uM);const iX=rX;function aX(e){var t=new Date(e);return isNaN(t)?null:t}var oX=+new Date("2000-01-01T00:00:00.000Z")?aX:Ox(uM);const sX=oX;function lX(e){return new Date(e)}function uX(e){return e instanceof Date?+e:+new Date(+e)}function Ix(e,t,n,r,i,a,o,s,l,u){var c=xx(),h=c.invert,f=c.domain,d=u(".%L"),v=u(":%S"),g=u("%I:%M"),p=u("%I %p"),y=u("%a %d"),m=u("%b %d"),b=u("%B"),w=u("%Y");function x(_){return(l(_)<_?d:s(_)<_?v:o(_)<_?g:a(_)<_?p:r(_)<_?i(_)<_?y:m:n(_)<_?b:w)(_)}return c.invert=function(_){return new Date(h(_))},c.domain=function(_){return arguments.length?f(Array.from(_,uX)):f().map(lX)},c.ticks=function(_){var S=f();return e(S[0],S[S.length-1],_??10)},c.tickFormat=function(_,S){return S==null?x:u(S)},c.nice=function(_){var S=f();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?f(RI(S,_)):c},c.copy=function(){return ud(c,Ix(e,t,n,r,i,a,o,s,l,u))},c}function cX(){return ba.apply(Ix(eM,tM,mo,Rm,Lc,tf,km,Dm,Yo,Px).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fX(){return ba.apply(Ix(QI,JI,yo,Lm,Nc,cd,Bm,Fm,Yo,Nm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Um(){var e=0,t=1,n,r,i,a,o=ai,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(o=h,u):o};function c(h){return function(f){var d,v;return arguments.length?([d,v]=f,o=h(d,v),u):[o(0),o(1)]}}return u.range=c(qs),u.rangeRound=c(ym),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function Qs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cM(){var e=Zs(Um()(ai));return e.copy=function(){return Qs(e,cM())},fs.apply(e,arguments)}function fM(){var e=_x(Um()).domain([1,10]);return e.copy=function(){return Qs(e,fM()).base(e.base())},fs.apply(e,arguments)}function hM(){var e=Sx(Um());return e.copy=function(){return Qs(e,hM()).constant(e.constant())},fs.apply(e,arguments)}function Mx(){var e=Ex(Um());return e.copy=function(){return Qs(e,Mx()).exponent(e.exponent())},fs.apply(e,arguments)}function hX(){return Mx.apply(null,arguments).exponent(.5)}function dM(){var e=[],t=ai;function n(r){if(r!=null&&!isNaN(r=+r))return t((su(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hn),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Sh(e,a/r))},n.copy=function(){return dM(t).domain(e)},fs.apply(n,arguments)}function Vm(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,u=ai,c,h=!1,f;function d(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:l),u(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),a=c(t=+t),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(u=g,d):u};function v(g){return function(p){var y,m,b;return arguments.length?([y,m,b]=p,u=oO(g,[y,m,b]),d):[u(0),u(.5),u(1)]}}return d.range=v(qs),d.rangeRound=v(ym),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return c=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function vM(){var e=Zs(Vm()(ai));return e.copy=function(){return Qs(e,vM())},fs.apply(e,arguments)}function pM(){var e=_x(Vm()).domain([.1,1,10]);return e.copy=function(){return Qs(e,pM()).base(e.base())},fs.apply(e,arguments)}function gM(){var e=Sx(Vm());return e.copy=function(){return Qs(e,gM()).constant(e.constant())},fs.apply(e,arguments)}function Dx(){var e=Ex(Vm());return e.copy=function(){return Qs(e,Dx()).exponent(e.exponent())},fs.apply(e,arguments)}function dX(){return Dx.apply(null,arguments).exponent(.5)}function Wt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const vX=Wt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),pX=Wt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),gX=Wt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),mX=Wt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),yX=Wt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),bX=Wt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wX=Wt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),xX=Wt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_X=Wt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),SX=Wt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),En=e=>XP(e[e.length-1]);var mM=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Wt);const EX=En(mM);var yM=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Wt);const AX=En(yM);var bM=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Wt);const CX=En(bM);var wM=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Wt);const TX=En(wM);var xM=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Wt);const PX=En(xM);var _M=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Wt);const OX=En(_M);var SM=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Wt);const IX=En(SM);var EM=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Wt);const MX=En(EM);var AM=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Wt);const DX=En(AM);var CM=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Wt);const FX=En(CM);var TM=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Wt);const kX=En(TM);var PM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Wt);const BX=En(PM);var OM=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Wt);const RX=En(OM);var IM=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Wt);const LX=En(IM);var MM=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Wt);const NX=En(MM);var DM=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Wt);const UX=En(DM);var FM=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Wt);const VX=En(FM);var kM=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Wt);const $X=En(kM);var BM=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Wt);const zX=En(BM);var RM=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Wt);const jX=En(RM);var LM=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Wt);const HX=En(LM);var NM=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Wt);const GX=En(NM);var UM=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Wt);const YX=En(UM);var VM=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Wt);const XX=En(VM);var $M=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Wt);const WX=En($M);var zM=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Wt);const KX=En(zM);var jM=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Wt);const qX=En(jM);function ZX(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const QX=bm(Va(300,.5,0),Va(-240,.5,1));var JX=bm(Va(-100,.75,.35),Va(80,1.5,.8)),eW=bm(Va(260,.75,.35),Va(80,1.5,.8)),av=Va();function $m(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return av.h=360*e-100,av.s=1.5-1.5*t,av.l=.8-.9*t,av+""}var ov=Pc(),tW=Math.PI/3,nW=Math.PI*2/3;function rW(e){var t;return e=(.5-e)*Math.PI,ov.r=255*(t=Math.sin(e))*t,ov.g=255*(t=Math.sin(e+tW))*t,ov.b=255*(t=Math.sin(e+nW))*t,ov+""}function iW(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function zm(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const aW=zm(Wt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var oW=zm(Wt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),sW=zm(Wt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),lW=zm(Wt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function zt(e){return function(){return e}}const kE=Math.abs,Gr=Math.atan2,No=Math.cos,uW=Math.max,yc=Math.min,Ai=Math.sin,Mn=Math.sqrt,Xr=1e-12,Hs=Math.PI,_g=Hs/2,Vs=2*Hs;function cW(e){return e>1?0:e<-1?Hs:Math.acos(e)}function BE(e){return e>=1?_g:e<=-1?-_g:Math.asin(e)}function fd(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new nd(t)}function fW(e){return e.innerRadius}function hW(e){return e.outerRadius}function dW(e){return e.startAngle}function vW(e){return e.endAngle}function pW(e){return e&&e.padAngle}function gW(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,h=s-a,f=h*l-c*u;if(!(f*f<Xr))return f=(c*(t-a)-h*(e-i))/f,[e+f*l,t+f*u]}function sv(e,t,n,r,i,a,o){var s=e-n,l=t-r,u=(o?a:-a)/Mn(s*s+l*l),c=u*l,h=-u*s,f=e+c,d=t+h,v=n+c,g=r+h,p=(f+v)/2,y=(d+g)/2,m=v-f,b=g-d,w=m*m+b*b,x=i-a,_=f*g-v*d,S=(b<0?-1:1)*Mn(uW(0,x*x*w-_*_)),P=(_*b-m*S)/w,C=(-_*m-b*S)/w,D=(_*b+m*S)/w,T=(-_*m+b*S)/w,B=P-p,I=C-y,O=D-p,L=T-y;return B*B+I*I>O*O+L*L&&(P=D,C=T),{cx:P,cy:C,x01:-c,y01:-h,x11:P*(i/x-1),y11:C*(i/x-1)}}function mW(){var e=fW,t=hW,n=zt(0),r=null,i=dW,a=vW,o=pW,s=null,l=fd(u);function u(){var c,h,f=+e.apply(this,arguments),d=+t.apply(this,arguments),v=i.apply(this,arguments)-_g,g=a.apply(this,arguments)-_g,p=kE(g-v),y=g>v;if(s||(s=c=l()),d<f&&(h=d,d=f,f=h),!(d>Xr))s.moveTo(0,0);else if(p>Vs-Xr)s.moveTo(d*No(v),d*Ai(v)),s.arc(0,0,d,v,g,!y),f>Xr&&(s.moveTo(f*No(g),f*Ai(g)),s.arc(0,0,f,g,v,y));else{var m=v,b=g,w=v,x=g,_=p,S=p,P=o.apply(this,arguments)/2,C=P>Xr&&(r?+r.apply(this,arguments):Mn(f*f+d*d)),D=yc(kE(d-f)/2,+n.apply(this,arguments)),T=D,B=D,I,O;if(C>Xr){var L=BE(C/f*Ai(P)),R=BE(C/d*Ai(P));(_-=L*2)>Xr?(L*=y?1:-1,w+=L,x-=L):(_=0,w=x=(v+g)/2),(S-=R*2)>Xr?(R*=y?1:-1,m+=R,b-=R):(S=0,m=b=(v+g)/2)}var U=d*No(m),$=d*Ai(m),j=f*No(x),z=f*Ai(x);if(D>Xr){var Y=d*No(b),Q=d*Ai(b),re=f*No(w),he=f*Ai(w),ce;if(p<Hs)if(ce=gW(U,$,re,he,Y,Q,j,z)){var te=U-ce[0],ee=$-ce[1],Ue=Y-ce[0],ye=Q-ce[1],pe=1/Ai(cW((te*Ue+ee*ye)/(Mn(te*te+ee*ee)*Mn(Ue*Ue+ye*ye)))/2),Se=Mn(ce[0]*ce[0]+ce[1]*ce[1]);T=yc(D,(f-Se)/(pe-1)),B=yc(D,(d-Se)/(pe+1))}else T=B=0}S>Xr?B>Xr?(I=sv(re,he,U,$,d,B,y),O=sv(Y,Q,j,z,d,B,y),s.moveTo(I.cx+I.x01,I.cy+I.y01),B<D?s.arc(I.cx,I.cy,B,Gr(I.y01,I.x01),Gr(O.y01,O.x01),!y):(s.arc(I.cx,I.cy,B,Gr(I.y01,I.x01),Gr(I.y11,I.x11),!y),s.arc(0,0,d,Gr(I.cy+I.y11,I.cx+I.x11),Gr(O.cy+O.y11,O.cx+O.x11),!y),s.arc(O.cx,O.cy,B,Gr(O.y11,O.x11),Gr(O.y01,O.x01),!y))):(s.moveTo(U,$),s.arc(0,0,d,m,b,!y)):s.moveTo(U,$),!(f>Xr)||!(_>Xr)?s.lineTo(j,z):T>Xr?(I=sv(j,z,Y,Q,f,-T,y),O=sv(U,$,re,he,f,-T,y),s.lineTo(I.cx+I.x01,I.cy+I.y01),T<D?s.arc(I.cx,I.cy,T,Gr(I.y01,I.x01),Gr(O.y01,O.x01),!y):(s.arc(I.cx,I.cy,T,Gr(I.y01,I.x01),Gr(I.y11,I.x11),!y),s.arc(0,0,f,Gr(I.cy+I.y11,I.cx+I.x11),Gr(O.cy+O.y11,O.cx+O.x11),y),s.arc(O.cx,O.cy,T,Gr(O.y11,O.x11),Gr(O.y01,O.x01),!y))):s.arc(0,0,f,x,w,y)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Hs/2;return[No(h)*c,Ai(h)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:zt(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:zt(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:zt(+c),u):i},u.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:zt(+c),u):a},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:zt(+c),u):o},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var yW=Array.prototype.slice;function jm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HM(e){this._context=e}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hm(e){return new HM(e)}function Fx(e){return e[0]}function kx(e){return e[1]}function Bx(e,t){var n=zt(!0),r=null,i=Hm,a=null,o=fd(s);e=typeof e=="function"?e:e===void 0?Fx:zt(e),t=typeof t=="function"?t:t===void 0?kx:zt(t);function s(l){var u,c=(l=jm(l)).length,h,f=!1,d;for(r==null&&(a=i(d=o())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(h,u,l),+t(h,u,l));if(d)return a=null,d+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:zt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:zt(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:zt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function GM(e,t,n){var r=null,i=zt(!0),a=null,o=Hm,s=null,l=fd(u);e=typeof e=="function"?e:e===void 0?Fx:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?kx:zt(+n);function u(h){var f,d,v,g=(h=jm(h)).length,p,y=!1,m,b=new Array(g),w=new Array(g);for(a==null&&(s=o(m=l())),f=0;f<=g;++f){if(!(f<g&&i(p=h[f],f,h))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=f-1;v>=d;--v)s.point(b[v],w[v]);s.lineEnd(),s.areaEnd()}y&&(b[f]=+e(p,f,h),w[f]=+t(p,f,h),s.point(r?+r(p,f,h):b[f],n?+n(p,f,h):w[f]))}if(m)return s=null,m+""||null}function c(){return Bx().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:zt(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:zt(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zt(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:zt(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:zt(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:zt(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:zt(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),u):a},u}function bW(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function wW(e){return e}function xW(){var e=wW,t=bW,n=null,r=zt(0),i=zt(Vs),a=zt(0);function o(s){var l,u=(s=jm(s)).length,c,h,f=0,d=new Array(u),v=new Array(u),g=+r.apply(this,arguments),p=Math.min(Vs,Math.max(-Vs,i.apply(this,arguments)-g)),y,m=Math.min(Math.abs(p)/u,a.apply(this,arguments)),b=m*(p<0?-1:1),w;for(l=0;l<u;++l)(w=v[d[l]=l]=+e(s[l],l,s))>0&&(f+=w);for(t!=null?d.sort(function(x,_){return t(v[x],v[_])}):n!=null&&d.sort(function(x,_){return n(s[x],s[_])}),l=0,h=f?(p-u*b)/f:0;l<u;++l,g=y)c=d[l],w=v[c],y=g+(w>0?w*h:0)+b,v[c]={data:s[c],index:l,value:w,startAngle:g,endAngle:y,padAngle:m};return v}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:zt(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:zt(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:zt(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:zt(+s),o):a},o}var YM=Rx(Hm);function XM(e){this._curve=e}XM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Rx(e){function t(n){return new XM(e(n))}return t._curve=e,t}function qf(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Rx(n)):t()._curve},e}function RE(){return qf(Bx().curve(YM))}function LE(){var e=GM().curve(YM),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return qf(n())},delete e.lineX0,e.lineEndAngle=function(){return qf(r())},delete e.lineX1,e.lineInnerRadius=function(){return qf(i())},delete e.lineY0,e.lineOuterRadius=function(){return qf(a())},delete e.lineY1,e.curve=function(o){return arguments.length?t(Rx(o)):t()._curve},e}function Zf(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class WM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class _W{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=Zf(this._x0,this._y0),i=Zf(this._x0,this._y0=(this._y0+n)/2),a=Zf(t,this._y0),o=Zf(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...a,...o)}this._x0=t,this._y0=n}}function KM(e){return new WM(e,!0)}function qM(e){return new WM(e,!1)}function SW(e){return new _W(e)}function EW(e){return e.source}function AW(e){return e.target}function Gm(e){let t=EW,n=AW,r=Fx,i=kx,a=null,o=null,s=fd(l);function l(){let u;const c=yW.call(arguments),h=t.apply(this,c),f=n.apply(this,c);if(a==null&&(o=e(u=s())),o.lineStart(),c[0]=h,o.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,o.point(+r.apply(this,c),+i.apply(this,c)),o.lineEnd(),u)return o=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:zt(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:zt(+u),l):i},l.context=function(u){return arguments.length?(u==null?a=o=null:o=e(a=u),l):a},l}function CW(){return Gm(KM)}function TW(){return Gm(qM)}function PW(){const e=Gm(SW);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const OW=Mn(3),ZM={draw(e,t){const n=Mn(t+yc(t/28,.75))*.59436,r=n/2,i=r*OW;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Ym={draw(e,t){const n=Mn(t/Hs);e.moveTo(n,0),e.arc(0,0,n,0,Vs)}},QM={draw(e,t){const n=Mn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},JM=Mn(1/3),IW=JM*2,eD={draw(e,t){const n=Mn(t/IW),r=n*JM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},tD={draw(e,t){const n=Mn(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},nD={draw(e,t){const n=Mn(t-yc(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},rD={draw(e,t){const n=Mn(t),r=-n/2;e.rect(r,r,n,n)}},iD={draw(e,t){const n=Mn(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},MW=.8908130915292852,aD=Ai(Hs/10)/Ai(7*Hs/10),DW=Ai(Vs/10)*aD,FW=-No(Vs/10)*aD,oD={draw(e,t){const n=Mn(t*MW),r=DW*n,i=FW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Vs*a/5,s=No(o),l=Ai(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},iy=Mn(3),sD={draw(e,t){const n=-Mn(t/(iy*3));e.moveTo(0,n*2),e.lineTo(-iy*n,-n),e.lineTo(iy*n,-n),e.closePath()}},kW=Mn(3),lD={draw(e,t){const n=Mn(t)*.6824,r=n/2,i=n*kW/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},ra=-.5,ia=Mn(3)/2,sb=1/Mn(12),BW=(sb/2+1)*3,uD={draw(e,t){const n=Mn(t/BW),r=n/2,i=n*sb,a=r,o=n*sb+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(ra*r-ia*i,ia*r+ra*i),e.lineTo(ra*a-ia*o,ia*a+ra*o),e.lineTo(ra*s-ia*l,ia*s+ra*l),e.lineTo(ra*r+ia*i,ra*i-ia*r),e.lineTo(ra*a+ia*o,ra*o-ia*a),e.lineTo(ra*s+ia*l,ra*l-ia*s),e.closePath()}},lb={draw(e,t){const n=Mn(t-yc(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},NE=[Ym,QM,eD,rD,oD,sD,uD],RW=[Ym,nD,lb,lD,ZM,iD,tD];function LW(e,t){let n=null,r=fd(i);e=typeof e=="function"?e:zt(e||Ym),t=typeof t=="function"?t:zt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:zt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:zt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Gs(){}function Sg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xm(e){this._context=e}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NW(e){return new Xm(e)}function cD(e){this._context=e}cD.prototype={areaStart:Gs,areaEnd:Gs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UW(e){return new cD(e)}function fD(e){this._context=e}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VW(e){return new fD(e)}function hD(e,t){this._basis=new Xm(e),this._beta=t}hD.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*a),this._beta*t[s]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const $W=function e(t){function n(r){return t===1?new Xm(r):new hD(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Eg(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Lx(e,t){this._context=e,this._k=(1-t)/6}Lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Eg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Eg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zW=function e(t){function n(r){return new Lx(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Nx(e,t){this._context=e,this._k=(1-t)/6}Nx.prototype={areaStart:Gs,areaEnd:Gs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Eg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jW=function e(t){function n(r){return new Nx(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ux(e,t){this._context=e,this._k=(1-t)/6}Ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Eg(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HW=function e(t){function n(r){return new Ux(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Vx(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Xr){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Xr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function dD(e,t){this._context=e,this._alpha=t}dD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Vx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const GW=function e(t){function n(r){return t?new dD(r,t):new Lx(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function vD(e,t){this._context=e,this._alpha=t}vD.prototype={areaStart:Gs,areaEnd:Gs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Vx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const YW=function e(t){function n(r){return t?new vD(r,t):new Nx(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function pD(e,t){this._context=e,this._alpha=t}pD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vx(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const XW=function e(t){function n(r){return t?new pD(r,t):new Ux(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function gD(e){this._context=e}gD.prototype={areaStart:Gs,areaEnd:Gs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WW(e){return new gD(e)}function UE(e){return e<0?-1:1}function VE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(UE(a)+UE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function $E(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ay(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Ag(e){this._context=e}Ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ay(this,this._t0,$E(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ay(this,$E(this,n=VE(this,e,t)),n);break;default:ay(this,this._t0,n=VE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function mD(e){this._context=new yD(e)}(mD.prototype=Object.create(Ag.prototype)).point=function(e,t){Ag.prototype.point.call(this,t,e)};function yD(e){this._context=e}yD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function KW(e){return new Ag(e)}function qW(e){return new mD(e)}function bD(e){this._context=e}bD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=zE(e),i=zE(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zE(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ZW(e){return new bD(e)}function Wm(e,t){this._context=e,this._t=t}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function QW(e){return new Wm(e,.5)}function JW(e){return new Wm(e,0)}function eK(e){return new Wm(e,1)}function Uc(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vc(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function tK(e,t){return e[t]}function nK(e){const t=[];return t.key=e,t}function rK(){var e=zt([]),t=Vc,n=Uc,r=tK;function i(a){var o=Array.from(e.apply(this,arguments),nK),s,l=o.length,u=-1,c;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(h,o[s].key,u,a)]).data=h;for(s=0,c=jm(t(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:zt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:zt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Vc:typeof a=="function"?a:zt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Uc,i):n},i}function iK(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Uc(e,t)}}function aK(e,t){if((l=e.length)>0)for(var n,r=0,i,a,o,s,l,u=e[t[0]].length;r<u;++r)for(o=s=0,n=0;n<l;++n)(a=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=a):a<0?(i[1]=s,i[0]=s+=a):(i[0]=0,i[1]=a)}function oK(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Uc(e,t)}}function sK(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],h=c[r][1]||0,f=c[r-1][1]||0,d=(h-f)/2,v=0;v<s;++v){var g=e[t[v]],p=g[r][1]||0,y=g[r-1][1]||0;d+=p-y}l+=h,u+=d*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Uc(e,t)}}function wD(e){var t=e.map(lK);return Vc(e).sort(function(n,r){return t[n]-t[r]})}function lK(e){for(var t=-1,n=0,r=e.length,i,a=-1/0;++t<r;)(i=+e[t][1])>a&&(a=i,n=t);return n}function xD(e){var t=e.map(_D);return Vc(e).sort(function(n,r){return t[n]-t[r]})}function _D(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function uK(e){return xD(e).reverse()}function cK(e){var t=e.length,n,r,i=e.map(_D),a=wD(e),o=0,s=0,l=[],u=[];for(n=0;n<t;++n)r=a[n],o<s?(o+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function fK(e){return Vc(e).reverse()}const lv=e=>()=>e;function hK(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function lo(e,t,n){this.k=e,this.x=t,this.y=n}lo.prototype={constructor:lo,scale:function(e){return e===1?this:new lo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new lo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Km=new lo(1,0,0);SD.prototype=lo.prototype;function SD(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Km;return e.__zoom}function oy(e){e.stopImmediatePropagation()}function If(e){e.preventDefault(),e.stopImmediatePropagation()}function dK(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function vK(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function jE(){return this.__zoom||Km}function pK(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function gK(){return navigator.maxTouchPoints||"ontouchstart"in this}function mK(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function ED(){var e=dK,t=vK,n=mK,r=pK,i=gK,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=nO,u=lu("start","zoom","end"),c,h,f,d=500,v=150,g=0,p=10;function y(O){O.property("__zoom",jE).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",T).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(O,L,R,U){var $=O.selection?O.selection():O;$.property("__zoom",jE),O!==$?x(O,L,R,U):$.interrupt().each(function(){_(this,arguments).event(U).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},y.scaleBy=function(O,L,R,U){y.scaleTo(O,function(){var $=this.__zoom.k,j=typeof L=="function"?L.apply(this,arguments):L;return $*j},R,U)},y.scaleTo=function(O,L,R,U){y.transform(O,function(){var $=t.apply(this,arguments),j=this.__zoom,z=R==null?w($):typeof R=="function"?R.apply(this,arguments):R,Y=j.invert(z),Q=typeof L=="function"?L.apply(this,arguments):L;return n(b(m(j,Q),z,Y),$,o)},R,U)},y.translateBy=function(O,L,R,U){y.transform(O,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),o)},null,U)},y.translateTo=function(O,L,R,U,$){y.transform(O,function(){var j=t.apply(this,arguments),z=this.__zoom,Y=U==null?w(j):typeof U=="function"?U.apply(this,arguments):U;return n(Km.translate(Y[0],Y[1]).scale(z.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof R=="function"?-R.apply(this,arguments):-R),j,o)},U,$)};function m(O,L){return L=Math.max(a[0],Math.min(a[1],L)),L===O.k?O:new lo(L,O.x,O.y)}function b(O,L,R){var U=L[0]-R[0]*O.k,$=L[1]-R[1]*O.k;return U===O.x&&$===O.y?O:new lo(O.k,U,$)}function w(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function x(O,L,R,U){O.on("start.zoom",function(){_(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(U).end()}).tween("zoom",function(){var $=this,j=arguments,z=_($,j).event(U),Y=t.apply($,j),Q=R==null?w(Y):typeof R=="function"?R.apply($,j):R,re=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),he=$.__zoom,ce=typeof L=="function"?L.apply($,j):L,te=l(he.invert(Q).concat(re/he.k),ce.invert(Q).concat(re/ce.k));return function(ee){if(ee===1)ee=ce;else{var Ue=te(ee),ye=re/Ue[2];ee=new lo(ye,Q[0]-Ue[0]*ye,Q[1]-Ue[1]*ye)}z.zoom(null,ee)}})}function _(O,L,R){return!R&&O.__zooming||new S(O,L)}function S(O,L){this.that=O,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,L),this.taps=0}S.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,L){return this.mouse&&O!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var L=mn(this.that).datum();u.call(O,this.that,new hK(O,{sourceEvent:this.sourceEvent,target:y,type:O,transform:this.that.__zoom,dispatch:u}),L)}};function P(O,...L){if(!e.apply(this,arguments))return;var R=_(this,L).event(O),U=this.__zoom,$=Math.max(a[0],Math.min(a[1],U.k*Math.pow(2,r.apply(this,arguments)))),j=Ni(O);if(R.wheel)(R.mouse[0][0]!==j[0]||R.mouse[0][1]!==j[1])&&(R.mouse[1]=U.invert(R.mouse[0]=j)),clearTimeout(R.wheel);else{if(U.k===$)return;R.mouse=[j,U.invert(j)],Ll(this),R.start()}If(O),R.wheel=setTimeout(z,v),R.zoom("mouse",n(b(m(U,$),R.mouse[0],R.mouse[1]),R.extent,o));function z(){R.wheel=null,R.end()}}function C(O,...L){if(f||!e.apply(this,arguments))return;var R=O.currentTarget,U=_(this,L,!0).event(O),$=mn(O.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",re,!0),j=Ni(O,R),z=O.clientX,Y=O.clientY;dm(O.view),oy(O),U.mouse=[j,this.__zoom.invert(j)],Ll(this),U.start();function Q(he){if(If(he),!U.moved){var ce=he.clientX-z,te=he.clientY-Y;U.moved=ce*ce+te*te>g}U.event(he).zoom("mouse",n(b(U.that.__zoom,U.mouse[0]=Ni(he,R),U.mouse[1]),U.extent,o))}function re(he){$.on("mousemove.zoom mouseup.zoom",null),vm(he.view,U.moved),If(he),U.event(he).end()}}function D(O,...L){if(e.apply(this,arguments)){var R=this.__zoom,U=Ni(O.changedTouches?O.changedTouches[0]:O,this),$=R.invert(U),j=R.k*(O.shiftKey?.5:2),z=n(b(m(R,j),U,$),t.apply(this,L),o);If(O),s>0?mn(this).transition().duration(s).call(x,z,U,O):mn(this).call(y.transform,z,U,O)}}function T(O,...L){if(e.apply(this,arguments)){var R=O.touches,U=R.length,$=_(this,L,O.changedTouches.length===U).event(O),j,z,Y,Q;for(oy(O),z=0;z<U;++z)Y=R[z],Q=Ni(Y,this),Q=[Q,this.__zoom.invert(Q),Y.identifier],$.touch0?!$.touch1&&$.touch0[2]!==Q[2]&&($.touch1=Q,$.taps=0):($.touch0=Q,j=!0,$.taps=1+!!c);c&&(c=clearTimeout(c)),j&&($.taps<2&&(h=Q[0],c=setTimeout(function(){c=null},d)),Ll(this),$.start())}}function B(O,...L){if(this.__zooming){var R=_(this,L).event(O),U=O.changedTouches,$=U.length,j,z,Y,Q;for(If(O),j=0;j<$;++j)z=U[j],Y=Ni(z,this),R.touch0&&R.touch0[2]===z.identifier?R.touch0[0]=Y:R.touch1&&R.touch1[2]===z.identifier&&(R.touch1[0]=Y);if(z=R.that.__zoom,R.touch1){var re=R.touch0[0],he=R.touch0[1],ce=R.touch1[0],te=R.touch1[1],ee=(ee=ce[0]-re[0])*ee+(ee=ce[1]-re[1])*ee,Ue=(Ue=te[0]-he[0])*Ue+(Ue=te[1]-he[1])*Ue;z=m(z,Math.sqrt(ee/Ue)),Y=[(re[0]+ce[0])/2,(re[1]+ce[1])/2],Q=[(he[0]+te[0])/2,(he[1]+te[1])/2]}else if(R.touch0)Y=R.touch0[0],Q=R.touch0[1];else return;R.zoom("touch",n(b(z,Y,Q),R.extent,o))}}function I(O,...L){if(this.__zooming){var R=_(this,L).event(O),U=O.changedTouches,$=U.length,j,z;for(oy(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),j=0;j<$;++j)z=U[j],R.touch0&&R.touch0[2]===z.identifier?delete R.touch0:R.touch1&&R.touch1[2]===z.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(z=Ni(z,this),Math.hypot(h[0]-z[0],h[1]-z[1])<p)){var Y=mn(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return y.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:lv(+O),y):r},y.filter=function(O){return arguments.length?(e=typeof O=="function"?O:lv(!!O),y):e},y.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:lv(!!O),y):i},y.extent=function(O){return arguments.length?(t=typeof O=="function"?O:lv([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),y):t},y.scaleExtent=function(O){return arguments.length?(a[0]=+O[0],a[1]=+O[1],y):[a[0],a[1]]},y.translateExtent=function(O){return arguments.length?(o[0][0]=+O[0][0],o[1][0]=+O[1][0],o[0][1]=+O[0][1],o[1][1]=+O[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(O){return arguments.length?(n=O,y):n},y.duration=function(O){return arguments.length?(s=+O,y):s},y.interpolate=function(O){return arguments.length?(l=O,y):l},y.on=function(){var O=u.on.apply(u,arguments);return O===u?y:O},y.clickDistance=function(O){return arguments.length?(g=(O=+O)*O,y):Math.sqrt(g)},y.tapDistance=function(O){return arguments.length?(p=+O,y):p},y}const yK=Object.freeze(Object.defineProperty({__proto__:null,Adder:hr,Delaunay:Ww,FormatSpecifier:Cm,InternMap:_h,InternSet:Hl,Node:Ql,Path:nd,Voronoi:xO,ZoomTransform:lo,active:vV,arc:mW,area:GM,areaRadial:LE,ascending:Hn,autoType:N$,axisBottom:oN,axisLeft:sN,axisRight:aN,axisTop:iN,bin:A2,bisect:su,bisectCenter:e8,bisectLeft:J4,bisectRight:qT,bisector:sm,blob:$$,blur:t8,blur2:ZT,blurImage:n8,brush:TV,brushSelection:EV,brushX:AV,brushY:CV,buffer:j$,chord:OV,chordDirected:MV,chordTranspose:IV,cluster:sH,color:zs,contourDensity:r$,contours:M1,count:lm,create:CP,creator:fm,cross:u8,csv:Y$,csvFormat:T$,csvFormatBody:P$,csvFormatRow:I$,csvFormatRows:O$,csvFormatValue:M$,csvParse:SO,csvParseRows:C$,cubehelix:Va,cumsum:c8,curveBasis:NW,curveBasisClosed:UW,curveBasisOpen:VW,curveBumpX:KM,curveBumpY:qM,curveBundle:$W,curveCardinal:zW,curveCardinalClosed:jW,curveCardinalOpen:HW,curveCatmullRom:GW,curveCatmullRomClosed:YW,curveCatmullRomOpen:XW,curveLinear:Hm,curveLinearClosed:WW,curveMonotoneX:KW,curveMonotoneY:qW,curveNatural:ZW,curveStep:QW,curveStepAfter:eK,curveStepBefore:JW,descending:WT,deviation:eP,difference:Y8,disjoint:X8,dispatch:lu,drag:OP,dragDisable:dm,dragEnable:vm,dsv:G$,dsvFormat:Sm,easeBack:K2,easeBackIn:oV,easeBackInOut:K2,easeBackOut:sV,easeBounce:Ih,easeBounceIn:iV,easeBounceInOut:aV,easeBounceOut:Ih,easeCircle:W2,easeCircleIn:WU,easeCircleInOut:W2,easeCircleOut:KU,easeCubic:C1,easeCubicIn:VU,easeCubicInOut:C1,easeCubicOut:$U,easeElastic:q2,easeElasticIn:lV,easeElasticInOut:uV,easeElasticOut:q2,easeExp:X2,easeExpIn:YU,easeExpInOut:X2,easeExpOut:XU,easeLinear:LU,easePoly:G2,easePolyIn:zU,easePolyInOut:G2,easePolyOut:jU,easeQuad:H2,easeQuadIn:NU,easeQuadInOut:H2,easeQuadOut:UU,easeSin:Y2,easeSinIn:HU,easeSinInOut:Y2,easeSinOut:GU,every:V8,extent:rh,fcumsum:h8,filter:z8,flatGroup:d8,flatRollup:v8,forceCenter:ez,forceCollide:bz,forceLink:xz,forceManyBody:Iz,forceRadial:Mz,forceSimulation:Oz,forceX:Dz,forceY:Fz,get format(){return Tm},formatDefaultLocale:OO,formatLocale:PO,get formatPrefix(){return Zw},formatSpecifier:Dc,fsum:f8,geoAlbers:dI,geoAlbersUsa:Uj,geoArea:jz,geoAzimuthalEqualArea:Vj,geoAzimuthalEqualAreaRaw:sx,geoAzimuthalEquidistant:$j,geoAzimuthalEquidistantRaw:lx,geoBounds:Xz,geoCentroid:Jz,geoCircle:ej,geoClipAntimeridian:H1,geoClipCircle:ZO,geoClipExtent:sj,geoClipRectangle:Pm,geoConicConformal:jj,geoConicConformalRaw:gI,geoConicEqualArea:bg,geoConicEqualAreaRaw:hI,geoConicEquidistant:Gj,geoConicEquidistantRaw:mI,geoContains:vj,geoDistance:cg,geoEqualEarth:Xj,geoEqualEarthRaw:ux,geoEquirectangular:Hj,geoEquirectangularRaw:Bh,geoGnomonic:Wj,geoGnomonicRaw:cx,geoGraticule:eI,geoGraticule10:pj,geoIdentity:Kj,geoInterpolate:gj,geoLength:QO,geoMercator:zj,geoMercatorRaw:sd,geoNaturalEarth1:qj,geoNaturalEarth1Raw:fx,geoOrthographic:Zj,geoOrthographicRaw:hx,geoPath:Oj,geoProjection:Eo,geoProjectionMutator:ax,geoRotation:GO,geoStereographic:Qj,geoStereographicRaw:dx,geoStream:Da,geoTransform:Ij,geoTransverseMercator:Jj,geoTransverseMercatorRaw:vx,gray:s9,greatest:fP,greatestIndex:k8,group:iP,groupSort:m8,groups:aP,hcl:Gp,hierarchy:px,histogram:A2,hsl:zp,html:Q$,image:W$,index:p8,indexes:g8,interpolate:qs,interpolateArray:d9,interpolateBasis:jP,interpolateBasisClosed:HP,interpolateBlues:GX,interpolateBrBG:EX,interpolateBuGn:FX,interpolateBuPu:kX,interpolateCividis:ZX,interpolateCool:eW,interpolateCubehelix:P9,interpolateCubehelixDefault:QX,interpolateCubehelixLong:bm,interpolateDate:qP,interpolateDiscrete:g9,interpolateGnBu:BX,interpolateGreens:YX,interpolateGreys:XX,interpolateHcl:C9,interpolateHclLong:T9,interpolateHsl:S9,interpolateHslLong:E9,interpolateHue:m9,interpolateInferno:sW,interpolateLab:A9,interpolateMagma:oW,interpolateNumber:la,interpolateNumberArray:Lw,interpolateObject:ZP,interpolateOrRd:RX,interpolateOranges:qX,interpolatePRGn:AX,interpolatePiYG:CX,interpolatePlasma:lW,interpolatePuBu:NX,interpolatePuBuGn:LX,interpolatePuOr:TX,interpolatePuRd:UX,interpolatePurples:WX,interpolateRainbow:$m,interpolateRdBu:PX,interpolateRdGy:OX,interpolateRdPu:VX,interpolateRdYlBu:IX,interpolateRdYlGn:MX,interpolateReds:KX,interpolateRgb:Th,interpolateRgbBasis:XP,interpolateRgbBasisClosed:h9,interpolateRound:ym,interpolateSinebow:rW,interpolateSpectral:DX,interpolateString:Nw,interpolateTransformCss:eO,interpolateTransformSvg:tO,interpolateTurbo:iW,interpolateViridis:aW,interpolateWarm:JX,interpolateYlGn:zX,interpolateYlGnBu:$X,interpolateYlOrBr:jX,interpolateYlOrRd:HX,interpolateZoom:nO,interrupt:Ll,intersection:W8,interval:F9,isoFormat:iX,isoParse:sX,json:q$,lab:Hp,lch:l9,least:F8,leastIndex:vP,line:Bx,lineRadial:RE,link:Gm,linkHorizontal:CW,linkRadial:PW,linkVertical:TW,local:TP,map:j8,matcher:Iw,max:Cc,maxIndex:Cw,mean:A8,median:C8,medianIndex:T8,merge:Pw,min:Up,minIndex:Tw,mode:O8,namespace:Jh,namespaces:g1,nice:Ew,now:td,pack:LH,packEnclose:MH,packSiblings:BH,pairs:I8,partition:NH,path:Xw,pathRound:kV,permute:cP,pie:xW,piecewise:oO,pointRadial:Zf,pointer:Ni,pointers:j7,polygonArea:JH,polygonCentroid:eG,polygonContains:iG,polygonHull:rG,polygonLength:aG,precisionFixed:IO,precisionPrefix:MO,precisionRound:DO,quadtree:Am,quantile:Sh,quantileIndex:dP,quantileSorted:hP,quantize:O9,quickselect:um,radialArea:LE,radialLine:RE,randomBates:uG,randomBernoulli:hG,randomBeta:II,randomBinomial:MI,randomCauchy:vG,randomExponential:cG,randomGamma:yx,randomGeometric:OI,randomInt:sG,randomIrwinHall:PI,randomLcg:bG,randomLogNormal:lG,randomLogistic:pG,randomNormal:mx,randomPareto:fG,randomPoisson:gG,randomUniform:oG,randomWeibull:dG,range:jo,rank:D8,reduce:H8,reverse:G8,rgb:Pc,ribbon:zV,ribbonArrow:jV,rollup:sP,rollups:lP,scaleBand:wx,scaleDiverging:vM,scaleDivergingLog:pM,scaleDivergingPow:Dx,scaleDivergingSqrt:dX,scaleDivergingSymlog:gM,scaleIdentity:BI,scaleImplicit:ab,scaleLinear:kI,scaleLog:LI,scaleOrdinal:bx,scalePoint:wG,scalePow:Ax,scaleQuantile:VI,scaleQuantize:$I,scaleRadial:UI,scaleSequential:cM,scaleSequentialLog:fM,scaleSequentialPow:Mx,scaleSequentialQuantile:dM,scaleSequentialSqrt:hX,scaleSequentialSymlog:hM,scaleSqrt:DG,scaleSymlog:NI,scaleThreshold:zI,scaleTime:cX,scaleUtc:fX,scan:B8,schemeAccent:pX,schemeBlues:NM,schemeBrBG:mM,schemeBuGn:CM,schemeBuPu:TM,schemeCategory10:vX,schemeDark2:gX,schemeGnBu:PM,schemeGreens:UM,schemeGreys:VM,schemeOrRd:OM,schemeOranges:jM,schemePRGn:yM,schemePaired:mX,schemePastel1:yX,schemePastel2:bX,schemePiYG:bM,schemePuBu:MM,schemePuBuGn:IM,schemePuOr:wM,schemePuRd:DM,schemePurples:$M,schemeRdBu:xM,schemeRdGy:_M,schemeRdPu:FM,schemeRdYlBu:SM,schemeRdYlGn:EM,schemeReds:zM,schemeSet1:wX,schemeSet2:xX,schemeSet3:_X,schemeSpectral:AM,schemeTableau10:SX,schemeYlGn:BM,schemeYlGnBu:kM,schemeYlOrBr:RM,schemeYlOrRd:LM,select:mn,selectAll:H7,selection:uu,selector:hm,selectorAll:Ow,shuffle:R8,shuffler:pP,some:$8,sort:Rp,stack:rK,stackOffsetDiverging:aK,stackOffsetExpand:iK,stackOffsetNone:Uc,stackOffsetSilhouette:oK,stackOffsetWiggle:sK,stackOrderAppearance:wD,stackOrderAscending:xD,stackOrderDescending:uK,stackOrderInsideOut:cK,stackOrderNone:Vc,stackOrderReverse:fK,stratify:rb,style:Xl,subset:q8,sum:L8,superset:mP,svg:J$,symbol:LW,symbolAsterisk:ZM,symbolCircle:Ym,symbolCross:QM,symbolDiamond:eD,symbolDiamond2:tD,symbolPlus:nD,symbolSquare:rD,symbolSquare2:iD,symbolStar:oD,symbolTimes:lb,symbolTriangle:sD,symbolTriangle2:lD,symbolWye:uD,symbolX:lb,symbols:NE,symbolsFill:NE,symbolsStroke:RW,text:Em,thresholdFreedmanDiaconis:S8,thresholdScott:E8,thresholdSturges:Aw,tickFormat:FI,tickIncrement:Yl,tickStep:Np,ticks:Gl,timeDay:tf,timeDays:NG,get timeFormat(){return Px},timeFormatDefaultLocale:lM,timeFormatLocale:nM,timeFriday:GI,timeFridays:GG,timeHour:km,timeHours:RG,timeInterval:lr,timeMillisecond:Rc,timeMilliseconds:bE,timeMinute:Dm,timeMinutes:kG,timeMonday:Rh,timeMondays:$G,timeMonth:Rm,timeMonths:JG,get timeParse(){return sM},timeSaturday:YI,timeSaturdays:YG,timeSecond:Yo,timeSeconds:xE,timeSunday:Lc,timeSundays:_E,timeThursday:Jl,timeThursdays:HG,timeTickInterval:tM,timeTicks:eM,timeTuesday:jI,timeTuesdays:zG,timeWednesday:HI,timeWednesdays:jG,timeWeek:Lc,timeWeeks:_E,timeYear:mo,timeYears:tY,timeout:_1,timer:xm,timerFlush:uO,transition:dO,transpose:gP,tree:WH,treemap:KH,treemapBinary:qH,treemapDice:ld,treemapResquarify:QH,treemapSlice:Im,treemapSliceDice:ZH,treemapSquarify:TI,tsv:X$,tsvFormat:F$,tsvFormatBody:k$,tsvFormatRow:R$,tsvFormatRows:B$,tsvFormatValue:L$,tsvParse:EO,tsvParseRows:D$,union:Z8,unixDay:Tx,unixDays:VG,utcDay:cd,utcDays:UG,get utcFormat(){return Nm},utcFriday:KI,utcFridays:ZG,utcHour:Bm,utcHours:LG,utcMillisecond:Rc,utcMilliseconds:bE,utcMinute:Fm,utcMinutes:BG,utcMonday:Lh,utcMondays:XG,utcMonth:Lm,utcMonths:eY,get utcParse(){return Ox},utcSaturday:qI,utcSaturdays:QG,utcSecond:Yo,utcSeconds:xE,utcSunday:Nc,utcSundays:SE,utcThursday:eu,utcThursdays:qG,utcTickInterval:JI,utcTicks:QI,utcTuesday:XI,utcTuesdays:WG,utcWednesday:WI,utcWednesdays:KG,utcWeek:Nc,utcWeeks:SE,utcYear:yo,utcYears:nY,variance:JT,window:Mw,xml:Z$,zip:U8,zoom:ED,zoomIdentity:Km,zoomTransform:SD},Symbol.toStringTag,{value:"Module"}));function AD(e,t){const n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");let r=null;return t=="whole-word"?r=`\\b${n}\\b`:r=n,new RegExp(r,"gi")}function uv(e,t){const n=t!==void 0?10**t:100;return Math.round(e*n)/n}function op(e){return e.trim().replace(/\n\s*\n/g,`
`)}function bK(e,t,n="substring"){return AD(t,n).test(e)}function CD(e,t,n="substring"){let r=e.slice();return t.forEach(i=>{const a=AD(i,n);r=r.replace(a,"<span class='highlight'>$&</span>")}),r}var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $x(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var TD={exports:{}};const wK=$x(U4);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){xK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sp=function(t){return typeof t}:sp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function xK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ga(){return ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ga.apply(this,arguments)}function _K(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function SK(e,t){if(e==null)return{};var n=_K(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EK(e){return AK(e)||CK(e)||TK(e)||PK()}function AK(e){if(Array.isArray(e))return ub(e)}function CK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TK(e,t){if(e){if(typeof e=="string")return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(e,t)}}function ub(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var OK="1.14.0";function qo(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var hs=qo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),hd=qo(/Edge/i),GE=qo(/firefox/i),uh=qo(/safari/i)&&!qo(/chrome/i)&&!qo(/android/i),PD=qo(/iP(ad|od|hone)/i),IK=qo(/chrome/i)&&qo(/android/i),OD={capture:!1,passive:!1};function on(e,t,n){e.addEventListener(t,n,!hs&&OD)}function Jt(e,t,n){e.removeEventListener(t,n,!hs&&OD)}function Cg(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function MK(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ia(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Cg(e,t):Cg(e,t))||r&&e===n)return e;if(e===n)break}while(e=MK(e))}return null}var YE=/\s+/g;function Vn(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(YE," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(YE," ")}}function lt(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Nl(e,t){var n="";if(typeof e=="string")n=e;else do{var r=lt(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function ID(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function ho(){var e=document.scrollingElement;return e||document.documentElement}function Bn(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,o,s,l,u,c,h;if(e!==window&&e.parentNode&&e!==ho()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,u=a.right,c=a.height,h=a.width):(o=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!hs))do if(i&&i.getBoundingClientRect&&(lt(i,"transform")!=="none"||n&&lt(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(lt(i,"border-top-width")),s-=f.left+parseInt(lt(i,"border-left-width")),l=o+a.height,u=s+a.width;break}while(i=i.parentNode);if(r&&e!==window){var d=Nl(i||e),v=d&&d.a,g=d&&d.d;d&&(o/=g,s/=v,h/=v,c/=g,l=o+c,u=s+h)}return{top:o,left:s,bottom:l,right:u,width:h,height:c}}}function XE(e,t,n){for(var r=Fs(e,!0),i=Bn(e)[t];r;){var a=Bn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=a:o=i<=a,!o)return r;if(r===ho())break;r=Fs(r,!1)}return!1}function $c(e,t,n,r){for(var i=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==Ft.ghost&&(r||o[a]!==Ft.dragged)&&Ia(o[a],n.draggable,e,!1)){if(i===t)return o[a];i++}a++}return null}function zx(e,t){for(var n=e.lastElementChild;n&&(n===Ft.ghost||lt(n,"display")==="none"||t&&!Cg(n,t));)n=n.previousElementSibling;return n||null}function Qn(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ft.clone&&(!t||Cg(e,t))&&n++;return n}function WE(e){var t=0,n=0,r=ho();if(e)do{var i=Nl(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function DK(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Fs(e,t){if(!e||!e.getBoundingClientRect)return ho();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=lt(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ho();if(r||t)return n;r=!0}}while(n=n.parentNode);return ho()}function FK(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function sy(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var ch;function MD(e,t){return function(){if(!ch){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),ch=setTimeout(function(){ch=void 0},t)}}}function kK(){clearTimeout(ch),ch=void 0}function DD(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function jx(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function KE(e,t){lt(e,"position","absolute"),lt(e,"top",t.top),lt(e,"left",t.left),lt(e,"width",t.width),lt(e,"height",t.height)}function ly(e){lt(e,"position",""),lt(e,"top",""),lt(e,"left",""),lt(e,"width",""),lt(e,"height","")}var Kr="Sortable"+new Date().getTime();function BK(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(lt(i,"display")==="none"||i===Ft.ghost)){e.push({target:i,rect:Bn(i)});var a=bo({},e[e.length-1].rect);if(i.thisAnimationDuration){var o=Nl(i,!0);o&&(a.top-=o.f,a.left-=o.e)}i.fromRect=a}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(DK(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var a=!1,o=0;e.forEach(function(s){var l=0,u=s.target,c=u.fromRect,h=Bn(u),f=u.prevFromRect,d=u.prevToRect,v=s.rect,g=Nl(u,!0);g&&(h.top-=g.f,h.left-=g.e),u.toRect=h,u.thisAnimationDuration&&sy(f,h)&&!sy(c,h)&&(v.top-h.top)/(v.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(l=LK(v,f,d,i.options)),sy(h,c)||(u.prevFromRect=c,u.prevToRect=h,l||(l=i.options.animation),i.animate(u,v,h,l)),l&&(a=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),a?t=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),e=[]},animate:function(r,i,a,o){if(o){lt(r,"transition",""),lt(r,"transform","");var s=Nl(this.el),l=s&&s.a,u=s&&s.d,c=(i.left-a.left)/(l||1),h=(i.top-a.top)/(u||1);r.animatingX=!!c,r.animatingY=!!h,lt(r,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=RK(r),lt(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),lt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){lt(r,"transition",""),lt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function RK(e){return e.offsetWidth}function LK(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var $u=[],uy={initializeByDefault:!0},dd={mount:function(t){for(var n in uy)uy.hasOwnProperty(n)&&!(n in t)&&(t[n]=uy[n]);$u.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),$u.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var a=t+"Global";$u.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][a]&&n[o.pluginName][a](bo({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](bo({sortable:n},r)))})},initializePlugins:function(t,n,r,i){$u.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var u=new s(t,n,t.options);u.sortable=t,u.options=t.options,t[l]=u,ga(r,u.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var o=this.modifyOption(t,a,t.options[a]);typeof o<"u"&&(t.options[a]=o)}},getEventProperties:function(t,n){var r={};return $u.forEach(function(i){typeof i.eventProperties=="function"&&ga(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return $u.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[n]=="function"&&(i=a.optionListeners[n].call(t[a.pluginName],r))}),i}};function Qf(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,d=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[Kr],!!t){var g,p=t.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!hs&&!hd?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=o||n,g.from=s||n,g.item=i||n,g.clone=a,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=h,g.originalEvent=f,g.pullMode=d?d.lastPutMode:void 0;var m=bo(bo({},v),dd.getEventProperties(r,t));for(var b in m)g[b]=m[b];n&&n.dispatchEvent(g),p[y]&&p[y].call(t,g)}}var NK=["evt"],wi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,a=SK(r,NK);dd.pluginEvent.bind(Ft)(t,n,bo({dragEl:Ye,parentEl:Kn,ghostEl:Ht,rootEl:kn,nextEl:wl,lastDownEl:lp,cloneEl:qn,cloneHidden:Ms,dragStarted:Jf,putSortable:Mr,activeSortable:Ft.active,originalEvent:i,oldIndex:lc,oldDraggableIndex:fh,newIndex:Ri,newDraggableIndex:Ps,hideGhostForTarget:RD,unhideGhostForTarget:LD,cloneNowHidden:function(){Ms=!0},cloneNowShown:function(){Ms=!1},dispatchSortableEvent:function(s){Qr({sortable:n,name:s,originalEvent:i})}},a))};function Qr(e){Qf(bo({putSortable:Mr,cloneEl:qn,targetEl:Ye,rootEl:kn,oldIndex:lc,oldDraggableIndex:fh,newIndex:Ri,newDraggableIndex:Ps},e))}var Ye,Kn,Ht,kn,wl,lp,qn,Ms,lc,Ri,fh,Ps,cv,Mr,nc=!1,Tg=!1,Pg=[],dl,Ca,cy,fy,qE,ZE,Jf,zu,hh,dh=!1,fv=!1,up,Yr,hy=[],cb=!1,Og=[],qm=typeof document<"u",hv=PD,QE=hd||hs?"cssFloat":"float",UK=qm&&!IK&&!PD&&"draggable"in document.createElement("div"),FD=function(){if(qm){if(hs)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),kD=function(t,n){var r=lt(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),a=$c(t,0,n),o=$c(t,1,n),s=a&&lt(a),l=o&&lt(o),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Bn(a).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Bn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=i&&r[QE]==="none"||o&&r[QE]==="none"&&u+c>i)?"vertical":"horizontal"},VK=function(t,n,r){var i=r?t.left:t.top,a=r?t.right:t.bottom,o=r?t.width:t.height,s=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===s||a===l||i+o/2===s+u/2},$K=function(t,n){var r;return Pg.some(function(i){var a=i[Kr].options.emptyInsertThreshold;if(!(!a||zx(i))){var o=Bn(i),s=t>=o.left-a&&t<=o.right+a,l=n>=o.top-a&&n<=o.bottom+a;if(s&&l)return r=i}}),r},BD=function(t){function n(a,o){return function(s,l,u,c){var h=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(a==null&&(o||h))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return n(a(s,l,u,c),o)(s,l,u,c);var f=(o?s:l).options.group.name;return a===!0||typeof a=="string"&&a===f||a.join&&a.indexOf(f)>-1}}var r={},i=t.group;(!i||sp(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},RD=function(){!FD&&Ht&&lt(Ht,"display","none")},LD=function(){!FD&&Ht&&lt(Ht,"display","")};qm&&document.addEventListener("click",function(e){if(Tg)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Tg=!1,!1},!0);var vl=function(t){if(Ye){t=t.touches?t.touches[0]:t;var n=$K(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Kr]._onDragOver(r)}}},zK=function(t){Ye&&Ye.parentNode[Kr]._isOutsideThisEl(t.target)};function Ft(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ga({},t),e[Kr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kD(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ft.supportPointer!==!1&&"PointerEvent"in window&&!uh,emptyInsertThreshold:5};dd.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);BD(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:UK,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?on(e,"pointerdown",this._onTapStart):(on(e,"mousedown",this._onTapStart),on(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(e,"dragover",this),on(e,"dragenter",this)),Pg.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ga(this,BK())}Ft.prototype={constructor:Ft,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(zu=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,Ye):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,a=i.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=i.filter;if(qK(r),!Ye&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&uh&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ia(l,i.draggable,r,!1),!(l&&l.animated)&&lp!==l)){if(lc=Qn(l),fh=Qn(l,i.draggable),typeof c=="function"){if(c.call(this,t,l,this)){Qr({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),wi("filter",n,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=Ia(u,h.trim(),r,!1),h)return Qr({sortable:n,rootEl:h,name:"filter",targetEl:l,fromEl:r,toEl:r}),wi("filter",n,{evt:t}),!0}),c)){a&&t.cancelable&&t.preventDefault();return}i.handle&&!Ia(u,i.handle,r,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,n,r){var i=this,a=i.el,o=i.options,s=a.ownerDocument,l;if(r&&!Ye&&r.parentNode===a){var u=Bn(r);if(kn=a,Ye=r,Kn=Ye.parentNode,wl=Ye.nextSibling,lp=r,cv=o.group,Ft.dragged=Ye,dl={target:Ye,clientX:(n||t).clientX,clientY:(n||t).clientY},qE=dl.clientX-u.left,ZE=dl.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,Ye.style["will-change"]="all",l=function(){if(wi("delayEnded",i,{evt:t}),Ft.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!GE&&i.nativeDraggable&&(Ye.draggable=!0),i._triggerDragStart(t,n),Qr({sortable:i,name:"choose",originalEvent:t}),Vn(Ye,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){ID(Ye,c.trim(),dy)}),on(s,"dragover",vl),on(s,"mousemove",vl),on(s,"touchmove",vl),on(s,"mouseup",i._onDrop),on(s,"touchend",i._onDrop),on(s,"touchcancel",i._onDrop),GE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ye.draggable=!0),wi("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(hd||hs))){if(Ft.eventCanceled){this._onDrop();return}on(s,"mouseup",i._disableDelayedDrag),on(s,"touchend",i._disableDelayedDrag),on(s,"touchcancel",i._disableDelayedDrag),on(s,"mousemove",i._delayedDragTouchMoveHandler),on(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&on(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ye&&dy(Ye),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Jt(t,"mouseup",this._disableDelayedDrag),Jt(t,"touchend",this._disableDelayedDrag),Jt(t,"touchcancel",this._disableDelayedDrag),Jt(t,"mousemove",this._delayedDragTouchMoveHandler),Jt(t,"touchmove",this._delayedDragTouchMoveHandler),Jt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):n?on(document,"touchmove",this._onTouchMove):on(document,"mousemove",this._onTouchMove):(on(Ye,"dragend",this),on(kn,"dragstart",this._onDragStart));try{document.selection?cp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(nc=!1,kn&&Ye){wi("dragStarted",this,{evt:n}),this.nativeDraggable&&on(document,"dragover",zK);var r=this.options;!t&&Vn(Ye,r.dragClass,!1),Vn(Ye,r.ghostClass,!0),Ft.active=this,t&&this._appendGhost(),Qr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ca){this._lastX=Ca.clientX,this._lastY=Ca.clientY,RD();for(var t=document.elementFromPoint(Ca.clientX,Ca.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ca.clientX,Ca.clientY),t!==n);)n=t;if(Ye.parentNode[Kr]._isOutsideThisEl(t),n)do{if(n[Kr]){var r=void 0;if(r=n[Kr]._onDragOver({clientX:Ca.clientX,clientY:Ca.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);LD()}},_onTouchMove:function(t){if(dl){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,a=t.touches?t.touches[0]:t,o=Ht&&Nl(Ht,!0),s=Ht&&o&&o.a,l=Ht&&o&&o.d,u=hv&&Yr&&WE(Yr),c=(a.clientX-dl.clientX+i.x)/(s||1)+(u?u[0]-hy[0]:0)/(s||1),h=(a.clientY-dl.clientY+i.y)/(l||1)+(u?u[1]-hy[1]:0)/(l||1);if(!Ft.active&&!nc){if(r&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Ht){o?(o.e+=c-(cy||0),o.f+=h-(fy||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");lt(Ht,"webkitTransform",f),lt(Ht,"mozTransform",f),lt(Ht,"msTransform",f),lt(Ht,"transform",f),cy=c,fy=h,Ca=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ht){var t=this.options.fallbackOnBody?document.body:kn,n=Bn(Ye,!0,hv,!0,t),r=this.options;if(hv){for(Yr=t;lt(Yr,"position")==="static"&&lt(Yr,"transform")==="none"&&Yr!==document;)Yr=Yr.parentNode;Yr!==document.body&&Yr!==document.documentElement?(Yr===document&&(Yr=ho()),n.top+=Yr.scrollTop,n.left+=Yr.scrollLeft):Yr=ho(),hy=WE(Yr)}Ht=Ye.cloneNode(!0),Vn(Ht,r.ghostClass,!1),Vn(Ht,r.fallbackClass,!0),Vn(Ht,r.dragClass,!0),lt(Ht,"transition",""),lt(Ht,"transform",""),lt(Ht,"box-sizing","border-box"),lt(Ht,"margin",0),lt(Ht,"top",n.top),lt(Ht,"left",n.left),lt(Ht,"width",n.width),lt(Ht,"height",n.height),lt(Ht,"opacity","0.8"),lt(Ht,"position",hv?"absolute":"fixed"),lt(Ht,"zIndex","100000"),lt(Ht,"pointerEvents","none"),Ft.ghost=Ht,t.appendChild(Ht),lt(Ht,"transform-origin",qE/parseInt(Ht.style.width)*100+"% "+ZE/parseInt(Ht.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,a=r.options;if(wi("dragStart",this,{evt:t}),Ft.eventCanceled){this._onDrop();return}wi("setupClone",this),Ft.eventCanceled||(qn=jx(Ye),qn.draggable=!1,qn.style["will-change"]="",this._hideClone(),Vn(qn,this.options.chosenClass,!1),Ft.clone=qn),r.cloneId=cp(function(){wi("clone",r),!Ft.eventCanceled&&(r.options.removeCloneOnHide||kn.insertBefore(qn,Ye),r._hideClone(),Qr({sortable:r,name:"clone"}))}),!n&&Vn(Ye,a.dragClass,!0),n?(Tg=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Jt(document,"mouseup",r._onDrop),Jt(document,"touchend",r._onDrop),Jt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(r,i,Ye)),on(document,"drop",r),lt(Ye,"transform","translateZ(0)")),nc=!0,r._dragStartId=cp(r._dragStarted.bind(r,n,t)),on(document,"selectstart",r),Jf=!0,uh&&lt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,a,o,s=this.options,l=s.group,u=Ft.active,c=cv===l,h=s.sort,f=Mr||u,d,v=this,g=!1;if(cb)return;function p($,j){wi($,v,bo({evt:t,isOwner:c,axis:d?"vertical":"horizontal",revert:o,dragRect:i,targetRect:a,canSort:h,fromSortable:f,target:r,completed:m,onMove:function(Y,Q){return dv(kn,n,Ye,i,Y,Bn(Y),t,Q)},changed:b},j))}function y(){p("dragOverAnimationCapture"),v.captureAnimationState(),v!==f&&f.captureAnimationState()}function m($){return p("dragOverCompleted",{insertion:$}),$&&(c?u._hideClone():u._showClone(v),v!==f&&(Vn(Ye,Mr?Mr.options.ghostClass:u.options.ghostClass,!1),Vn(Ye,s.ghostClass,!0)),Mr!==v&&v!==Ft.active?Mr=v:v===Ft.active&&Mr&&(Mr=null),f===v&&(v._ignoreWhileAnimating=r),v.animateAll(function(){p("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===Ye&&!Ye.animated||r===n&&!r.animated)&&(zu=null),!s.dragoverBubble&&!t.rootEl&&r!==document&&(Ye.parentNode[Kr]._isOutsideThisEl(t.target),!$&&vl(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function b(){Ri=Qn(Ye),Ps=Qn(Ye,s.draggable),Qr({sortable:v,name:"change",toEl:n,newIndex:Ri,newDraggableIndex:Ps,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Ia(r,s.draggable,n,!0),p("dragOver"),Ft.eventCanceled)return g;if(Ye.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||v._ignoreWhileAnimating===r)return m(!1);if(Tg=!1,u&&!s.disabled&&(c?h||(o=Kn!==kn):Mr===this||(this.lastPutMode=cv.checkPull(this,u,Ye,t))&&l.checkPut(this,u,Ye,t))){if(d=this._getDirection(t,r)==="vertical",i=Bn(Ye),p("dragOverValid"),Ft.eventCanceled)return g;if(o)return Kn=kn,y(),this._hideClone(),p("revert"),Ft.eventCanceled||(wl?kn.insertBefore(Ye,wl):kn.appendChild(Ye)),m(!0);var w=zx(n,s.draggable);if(!w||YK(t,d,this)&&!w.animated){if(w===Ye)return m(!1);if(w&&n===t.target&&(r=w),r&&(a=Bn(r)),dv(kn,n,Ye,i,r,a,t,!!r)!==!1)return y(),n.appendChild(Ye),Kn=n,b(),m(!0)}else if(w&&GK(t,d,this)){var x=$c(n,0,s,!0);if(x===Ye)return m(!1);if(r=x,a=Bn(r),dv(kn,n,Ye,i,r,a,t,!1)!==!1)return y(),n.insertBefore(Ye,x),Kn=n,b(),m(!0)}else if(r.parentNode===n){a=Bn(r);var _=0,S,P=Ye.parentNode!==n,C=!VK(Ye.animated&&Ye.toRect||i,r.animated&&r.toRect||a,d),D=d?"top":"left",T=XE(r,"top","top")||XE(Ye,"top","top"),B=T?T.scrollTop:void 0;zu!==r&&(S=a[D],dh=!1,fv=!C&&s.invertSwap||P),_=XK(t,r,a,d,C?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,fv,zu===r);var I;if(_!==0){var O=Qn(Ye);do O-=_,I=Kn.children[O];while(I&&(lt(I,"display")==="none"||I===Ht))}if(_===0||I===r)return m(!1);zu=r,hh=_;var L=r.nextElementSibling,R=!1;R=_===1;var U=dv(kn,n,Ye,i,r,a,t,R);if(U!==!1)return(U===1||U===-1)&&(R=U===1),cb=!0,setTimeout(HK,30),y(),R&&!L?n.appendChild(Ye):r.parentNode.insertBefore(Ye,R?L:r),T&&DD(T,0,B-T.scrollTop),Kn=Ye.parentNode,S!==void 0&&!fv&&(up=Math.abs(S-Bn(r)[D])),b(),m(!0)}if(n.contains(Ye))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Jt(document,"mousemove",this._onTouchMove),Jt(document,"touchmove",this._onTouchMove),Jt(document,"pointermove",this._onTouchMove),Jt(document,"dragover",vl),Jt(document,"mousemove",vl),Jt(document,"touchmove",vl)},_offUpEvents:function(){var t=this.el.ownerDocument;Jt(t,"mouseup",this._onDrop),Jt(t,"touchend",this._onDrop),Jt(t,"pointerup",this._onDrop),Jt(t,"touchcancel",this._onDrop),Jt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(Ri=Qn(Ye),Ps=Qn(Ye,r.draggable),wi("drop",this,{evt:t}),Kn=Ye&&Ye.parentNode,Ri=Qn(Ye),Ps=Qn(Ye,r.draggable),Ft.eventCanceled){this._nulling();return}nc=!1,fv=!1,dh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),fb(this.cloneId),fb(this._dragStartId),this.nativeDraggable&&(Jt(document,"drop",this),Jt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),uh&&lt(document.body,"user-select",""),lt(Ye,"transform",""),t&&(Jf&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Ht&&Ht.parentNode&&Ht.parentNode.removeChild(Ht),(kn===Kn||Mr&&Mr.lastPutMode!=="clone")&&qn&&qn.parentNode&&qn.parentNode.removeChild(qn),Ye&&(this.nativeDraggable&&Jt(Ye,"dragend",this),dy(Ye),Ye.style["will-change"]="",Jf&&!nc&&Vn(Ye,Mr?Mr.options.ghostClass:this.options.ghostClass,!1),Vn(Ye,this.options.chosenClass,!1),Qr({sortable:this,name:"unchoose",toEl:Kn,newIndex:null,newDraggableIndex:null,originalEvent:t}),kn!==Kn?(Ri>=0&&(Qr({rootEl:Kn,name:"add",toEl:Kn,fromEl:kn,originalEvent:t}),Qr({sortable:this,name:"remove",toEl:Kn,originalEvent:t}),Qr({rootEl:Kn,name:"sort",toEl:Kn,fromEl:kn,originalEvent:t}),Qr({sortable:this,name:"sort",toEl:Kn,originalEvent:t})),Mr&&Mr.save()):Ri!==lc&&Ri>=0&&(Qr({sortable:this,name:"update",toEl:Kn,originalEvent:t}),Qr({sortable:this,name:"sort",toEl:Kn,originalEvent:t})),Ft.active&&((Ri==null||Ri===-1)&&(Ri=lc,Ps=fh),Qr({sortable:this,name:"end",toEl:Kn,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){wi("nulling",this),kn=Ye=Kn=Ht=wl=qn=lp=Ms=dl=Ca=Jf=Ri=Ps=lc=fh=zu=hh=Mr=cv=Ft.dragged=Ft.ghost=Ft.clone=Ft.active=null,Og.forEach(function(t){t.checked=!0}),Og.length=cy=fy=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Ye&&(this._onDragOver(t),jK(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,a=r.length,o=this.options;i<a;i++)n=r[i],Ia(n,o.draggable,this.el,!1)&&t.push(n.getAttribute(o.dataIdAttr)||KK(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(a,o){var s=i.children[o];Ia(s,this.options.draggable,i,!1)&&(r[a]=s)},this),n&&this.captureAnimationState(),t.forEach(function(a){r[a]&&(i.removeChild(r[a]),i.appendChild(r[a]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Ia(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=dd.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&BD(r)},destroy:function(){wi("destroy",this);var t=this.el;t[Kr]=null,Jt(t,"mousedown",this._onTapStart),Jt(t,"touchstart",this._onTapStart),Jt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Jt(t,"dragover",this),Jt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Pg.splice(Pg.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ms){if(wi("hideClone",this),Ft.eventCanceled)return;lt(qn,"display","none"),this.options.removeCloneOnHide&&qn.parentNode&&qn.parentNode.removeChild(qn),Ms=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ms){if(wi("showClone",this),Ft.eventCanceled)return;Ye.parentNode==kn&&!this.options.group.revertClone?kn.insertBefore(qn,Ye):wl?kn.insertBefore(qn,wl):kn.appendChild(qn),this.options.group.revertClone&&this.animate(Ye,qn),lt(qn,"display",""),Ms=!1}}};function jK(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function dv(e,t,n,r,i,a,o,s){var l,u=e[Kr],c=u.options.onMove,h;return window.CustomEvent&&!hs&&!hd?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=a||Bn(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),c&&(h=c.call(u,l,o)),h}function dy(e){e.draggable=!1}function HK(){cb=!1}function GK(e,t,n){var r=Bn($c(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function YK(e,t,n){var r=Bn(zx(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function XK(e,t,n,r,i,a,o,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!o){if(s&&up<u*i){if(!dh&&(hh===1?l>c+u*a/2:l<h-u*a/2)&&(dh=!0),dh)f=!0;else if(hh===1?l<c+up:l>h-up)return-hh}else if(l>c+u*(1-i)/2&&l<h-u*(1-i)/2)return WK(t)}return f=f||o,f&&(l<c+u*a/2||l>h-u*a/2)?l>c+u/2?1:-1:0}function WK(e){return Qn(Ye)<Qn(e)?1:-1}function KK(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function qK(e){Og.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Og.push(r)}}function cp(e){return setTimeout(e,0)}function fb(e){return clearTimeout(e)}qm&&on(document,"touchmove",function(e){(Ft.active||nc)&&e.cancelable&&e.preventDefault()});Ft.utils={on,off:Jt,css:lt,find:ID,is:function(t,n){return!!Ia(t,n,t,!1)},extend:FK,throttle:MD,closest:Ia,toggleClass:Vn,clone:jx,index:Qn,nextTick:cp,cancelNextTick:fb,detectDirection:kD,getChild:$c};Ft.get=function(e){return e[Kr]};Ft.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Ft.utils=bo(bo({},Ft.utils),r.utils)),dd.mount(r)})};Ft.create=function(e,t){return new Ft(e,t)};Ft.version=OK;var ir=[],eh,hb,db=!1,vy,py,Ig,th;function ZK(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):r.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Jt(document,"dragover",this._handleAutoScroll):(Jt(document,"pointermove",this._handleFallbackAutoScroll),Jt(document,"touchmove",this._handleFallbackAutoScroll),Jt(document,"mousemove",this._handleFallbackAutoScroll)),JE(),fp(),kK()},nulling:function(){Ig=hb=eh=db=th=vy=py=null,ir.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,a=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(a,o);if(Ig=n,r||this.options.forceAutoScrollFallback||hd||hs||uh){gy(n,this.options,s,r);var l=Fs(s,!0);db&&(!th||a!==vy||o!==py)&&(th&&JE(),th=setInterval(function(){var u=Fs(document.elementFromPoint(a,o),!0);u!==l&&(l=u,fp()),gy(n,i.options,u,r)},10),vy=a,py=o)}else{if(!this.options.bubbleScroll||Fs(s,!0)===ho()){fp();return}gy(n,this.options,Fs(s,!1),!1)}}},ga(e,{pluginName:"scroll",initializeByDefault:!0})}function fp(){ir.forEach(function(e){clearInterval(e.pid)}),ir=[]}function JE(){clearInterval(th)}var gy=MD(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,l=ho(),u=!1,c;hb!==n&&(hb=n,fp(),eh=t.scroll,c=t.scrollFn,eh===!0&&(eh=Fs(n,!0)));var h=0,f=eh;do{var d=f,v=Bn(d),g=v.top,p=v.bottom,y=v.left,m=v.right,b=v.width,w=v.height,x=void 0,_=void 0,S=d.scrollWidth,P=d.scrollHeight,C=lt(d),D=d.scrollLeft,T=d.scrollTop;d===l?(x=b<S&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),_=w<P&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(x=b<S&&(C.overflowX==="auto"||C.overflowX==="scroll"),_=w<P&&(C.overflowY==="auto"||C.overflowY==="scroll"));var B=x&&(Math.abs(m-i)<=o&&D+b<S)-(Math.abs(y-i)<=o&&!!D),I=_&&(Math.abs(p-a)<=o&&T+w<P)-(Math.abs(g-a)<=o&&!!T);if(!ir[h])for(var O=0;O<=h;O++)ir[O]||(ir[O]={});(ir[h].vx!=B||ir[h].vy!=I||ir[h].el!==d)&&(ir[h].el=d,ir[h].vx=B,ir[h].vy=I,clearInterval(ir[h].pid),(B!=0||I!=0)&&(u=!0,ir[h].pid=setInterval((function(){r&&this.layer===0&&Ft.active._onTouchMove(Ig);var L=ir[this.layer].vy?ir[this.layer].vy*s:0,R=ir[this.layer].vx?ir[this.layer].vx*s:0;typeof c=="function"&&c.call(Ft.dragged.parentNode[Kr],R,L,e,Ig,ir[this.layer].el)!=="continue"||DD(ir[this.layer].el,R,L)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&f!==l&&(f=Fs(f,!1)));db=u}},30),ND=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var u=r||a;s();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Hx(){}Hx.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=$c(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:ND};ga(Hx,{pluginName:"revertOnSpill"});function Gx(){}Gx.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:ND};ga(Gx,{pluginName:"removeOnSpill"});var aa;function QK(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var r=n.dragEl;aa=r},dragOverValid:function(n){var r=n.completed,i=n.target,a=n.onMove,o=n.activeSortable,s=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var h=aa;a(i)!==!1?(Vn(i,c.swapClass,!0),aa=i):aa=null,h&&h!==aa&&Vn(h,c.swapClass,!1)}s(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,a=n.dragEl,o=i||this.sortable,s=this.options;aa&&Vn(aa,s.swapClass,!1),aa&&(s.swap||i&&i.options.swap)&&a!==aa&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),JK(a,aa),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){aa=null}},ga(e,{pluginName:"swap",eventProperties:function(){return{swapItem:aa}}})}function JK(e,t){var n=e.parentNode,r=t.parentNode,i,a;!n||!r||n.isEqualNode(t)||r.isEqualNode(e)||(i=Qn(e),a=Qn(t),n.isEqualNode(r)&&i<a&&a++,n.insertBefore(t,n.children[i]),r.insertBefore(e,r.children[a]))}var Vt=[],Bi=[],Mf,Ta,Df=!1,xi=!1,ju=!1,Cn,Ff,vv;function eq(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?on(document,"pointerup",this._deselectMultiDrag):(on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag)),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,a){var o="";Vt.length&&Ta===t?Vt.forEach(function(s,l){o+=(l?", ":"")+s.textContent}):o=a.textContent,i.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;Cn=r},delayEnded:function(){this.isMultiDrag=~Vt.indexOf(Cn)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var a=0;a<Vt.length;a++)Bi.push(jx(Vt[a])),Bi[a].sortableIndex=Vt[a].sortableIndex,Bi[a].draggable=!1,Bi[a].style["will-change"]="",Vn(Bi[a],this.options.selectedClass,!1),Vt[a]===Cn&&Vn(Bi[a],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,a=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Vt.length&&Ta===r&&(eA(!0,i),a("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,a=n.cancel;this.isMultiDrag&&(eA(!1,i),Bi.forEach(function(o){lt(o,"display","")}),r(),vv=!1,a())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,a=n.cancel;this.isMultiDrag&&(Bi.forEach(function(o){lt(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),vv=!0,a())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Ta&&Ta.multiDrag._deselectMultiDrag(),Vt.forEach(function(r){r.sortableIndex=Qn(r)}),Vt=Vt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),ju=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){Vt.forEach(function(o){o!==Cn&&lt(o,"position","absolute")});var a=Bn(Cn,!1,!0,!0);Vt.forEach(function(o){o!==Cn&&KE(o,a)}),xi=!0,Df=!0}i.animateAll(function(){xi=!1,Df=!1,r.options.animation&&Vt.forEach(function(o){ly(o)}),r.options.sort&&pv()})}},dragOver:function(n){var r=n.target,i=n.completed,a=n.cancel;xi&&~Vt.indexOf(r)&&(i(!1),a())},revert:function(n){var r=n.fromSortable,i=n.rootEl,a=n.sortable,o=n.dragRect;Vt.length>1&&(Vt.forEach(function(s){a.addAnimationState({target:s,rect:xi?Bn(s):o}),ly(s),s.fromRect=o,r.removeAnimationState(s)}),xi=!1,tq(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,a=n.insertion,o=n.activeSortable,s=n.parentEl,l=n.putSortable,u=this.options;if(a){if(i&&o._hideClone(),Df=!1,u.animation&&Vt.length>1&&(xi||!i&&!o.options.sort&&!l)){var c=Bn(Cn,!1,!0,!0);Vt.forEach(function(f){f!==Cn&&(KE(f,c),s.appendChild(f))}),xi=!0}if(!i)if(xi||pv(),Vt.length>1){var h=vv;o._showClone(r),o.options.animation&&!vv&&h&&Bi.forEach(function(f){o.addAnimationState({target:f,rect:Ff}),f.fromRect=Ff,f.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,a=n.activeSortable;if(Vt.forEach(function(s){s.thisAnimationDuration=null}),a.options.animation&&!i&&a.multiDrag.isMultiDrag){Ff=ga({},r);var o=Nl(Cn,!0);Ff.top-=o.f,Ff.left-=o.e}},dragOverAnimationComplete:function(){xi&&(xi=!1,pv())},drop:function(n){var r=n.originalEvent,i=n.rootEl,a=n.parentEl,o=n.sortable,s=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var h=this.options,f=a.children;if(!ju)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Vn(Cn,h.selectedClass,!~Vt.indexOf(Cn)),~Vt.indexOf(Cn))Vt.splice(Vt.indexOf(Cn),1),Mf=null,Qf({sortable:o,rootEl:i,name:"deselect",targetEl:Cn,originalEvt:r});else{if(Vt.push(Cn),Qf({sortable:o,rootEl:i,name:"select",targetEl:Cn,originalEvt:r}),r.shiftKey&&Mf&&o.el.contains(Mf)){var d=Qn(Mf),v=Qn(Cn);if(~d&&~v&&d!==v){var g,p;for(v>d?(p=d,g=v):(p=v,g=d+1);p<g;p++)~Vt.indexOf(f[p])||(Vn(f[p],h.selectedClass,!0),Vt.push(f[p]),Qf({sortable:o,rootEl:i,name:"select",targetEl:f[p],originalEvt:r}))}}else Mf=Cn;Ta=c}if(ju&&this.isMultiDrag){if(xi=!1,(a[Kr].options.sort||a!==i)&&Vt.length>1){var y=Bn(Cn),m=Qn(Cn,":not(."+this.options.selectedClass+")");if(!Df&&h.animation&&(Cn.thisAnimationDuration=null),c.captureAnimationState(),!Df&&(h.animation&&(Cn.fromRect=y,Vt.forEach(function(w){if(w.thisAnimationDuration=null,w!==Cn){var x=xi?Bn(w):y;w.fromRect=x,c.addAnimationState({target:w,rect:x})}})),pv(),Vt.forEach(function(w){f[m]?a.insertBefore(w,f[m]):a.appendChild(w),m++}),l===Qn(Cn))){var b=!1;Vt.forEach(function(w){if(w.sortableIndex!==Qn(w)){b=!0;return}}),b&&s("update")}Vt.forEach(function(w){ly(w)}),c.animateAll()}Ta=c}(i===a||u&&u.lastPutMode!=="clone")&&Bi.forEach(function(w){w.parentNode&&w.parentNode.removeChild(w)})}},nullingGlobal:function(){this.isMultiDrag=ju=!1,Bi.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Jt(document,"pointerup",this._deselectMultiDrag),Jt(document,"mouseup",this._deselectMultiDrag),Jt(document,"touchend",this._deselectMultiDrag),Jt(document,"keydown",this._checkKeyDown),Jt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof ju<"u"&&ju)&&Ta===this.sortable&&!(n&&Ia(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Vt.length;){var r=Vt[0];Vn(r,this.options.selectedClass,!1),Vt.shift(),Qf({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ga(e,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Kr];!r||!r.options.multiDrag||~Vt.indexOf(n)||(Ta&&Ta!==r&&(Ta.multiDrag._deselectMultiDrag(),Ta=r),Vn(n,r.options.selectedClass,!0),Vt.push(n))},deselect:function(n){var r=n.parentNode[Kr],i=Vt.indexOf(n);!r||!r.options.multiDrag||!~i||(Vn(n,r.options.selectedClass,!1),Vt.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return Vt.forEach(function(a){r.push({multiDragElement:a,index:a.sortableIndex});var o;xi&&a!==Cn?o=-1:xi?o=Qn(a,":not(."+n.options.selectedClass+")"):o=Qn(a),i.push({multiDragElement:a,index:o})}),{items:EK(Vt),clones:[].concat(Bi),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function tq(e,t){Vt.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function eA(e,t){Bi.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function pv(){Vt.forEach(function(e){e!==Cn&&e.parentNode&&e.parentNode.removeChild(e)})}Ft.mount(new ZK);Ft.mount(Gx,Hx);const nq=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:eq,Sortable:Ft,Swap:QK,default:Ft},Symbol.toStringTag,{value:"Module"})),rq=$x(nq);(function(e,t){(function(r,i){e.exports=i(wK,rq)})(typeof self<"u"?self:Ko,function(n,r){return function(i){var a={};function o(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return i[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=a,o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:u})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,l){if(l&1&&(s=o(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var c in s)o.d(u,c,(function(h){return s[h]}).bind(null,c));return u},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,a,o){var s=o("b622"),l=s("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,a,o){var s=o("1c0b");i.exports=function(l,u,c){if(s(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(h){return l.call(u,h)};case 2:return function(h,f){return l.call(u,h,f)};case 3:return function(h,f,d){return l.call(u,h,f,d)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,a,o){var s=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(f){try{return l(f)}catch{return c.slice()}};i.exports.f=function(d){return c&&u.call(d)=="[object Window]"?h(d):l(s(d))}},"06cf":function(i,a,o){var s=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),h=o("c04e"),f=o("5135"),d=o("0cfb"),v=Object.getOwnPropertyDescriptor;a.f=s?v:function(p,y){if(p=c(p),y=h(y,!0),d)try{return v(p,y)}catch{}if(f(p,y))return u(!l.f.call(p,y),p[y])}},"0cfb":function(i,a,o){var s=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!s&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,a,o){var s=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),h=u("reduce"),f=c("reduce",{1:0});s({target:"Array",proto:!0,forced:!h||!f},{reduce:function(v){return l(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,a,o){var s=o("c6b6"),l=o("9263");i.exports=function(u,c){var h=u.exec;if(typeof h=="function"){var f=h.call(u,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(s(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,a,o){var s=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var h in l){var f=s[h],d=f&&f.prototype;if(d&&d.forEach!==u)try{c(d,"forEach",u)}catch{d.forEach=u}}},"17c2":function(i,a,o){var s=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),h=u("forEach");i.exports=!c||!h?function(d){return s(this,d,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,a,o){var s=o("d066");i.exports=s("document","documentElement")},"1c0b":function(i,a){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,a,o){var s=o("b622"),l=s("iterator"),u=!1;try{var c=0,h={next:function(){return{done:!!c++}},return:function(){u=!0}};h[l]=function(){return this},Array.from(h,function(){throw 2})}catch{}i.exports=function(f,d){if(!d&&!u)return!1;var v=!1;try{var g={};g[l]=function(){return{next:function(){return{done:v=!0}}}},f(g)}catch{}return v}},"1d80":function(i,a){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,a,o){var s=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(h){return u>=51||!s(function(){var f=[],d=f.constructor={};return d[c]=function(){return{foo:1}},f[h](Boolean).foo!==1})}},"23cb":function(i,a,o){var s=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,h){var f=s(c);return f<0?l(f+h,0):u(f,h)}},"23e7":function(i,a,o){var s=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),h=o("ce4e"),f=o("e893"),d=o("94ca");i.exports=function(v,g){var p=v.target,y=v.global,m=v.stat,b,w,x,_,S,P;if(y?w=s:m?w=s[p]||h(p,{}):w=(s[p]||{}).prototype,w)for(x in g){if(S=g[x],v.noTargetGet?(P=l(w,x),_=P&&P.value):_=w[x],b=d(y?x:p+(m?".":"#")+x,v.forced),!b&&_!==void 0){if(typeof S==typeof _)continue;f(S,_)}(v.sham||_&&_.sham)&&u(S,"sham",!0),c(w,x,S,v)}}},"241c":function(i,a,o){var s=o("ca84"),l=o("7839"),u=l.concat("length","prototype");a.f=Object.getOwnPropertyNames||function(h){return s(h,u)}},"25f0":function(i,a,o){var s=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),h="toString",f=RegExp.prototype,d=f[h],v=u(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),g=d.name!=h;(v||g)&&s(RegExp.prototype,h,function(){var y=l(this),m=String(y.source),b=y.flags,w=String(b===void 0&&y instanceof RegExp&&!("flags"in f)?c.call(y):b);return"/"+m+"/"+w},{unsafe:!0})},"2ca0":function(i,a,o){var s=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),h=o("1d80"),f=o("ab13"),d=o("c430"),v="".startsWith,g=Math.min,p=f("startsWith"),y=!d&&!p&&!!function(){var m=l(String.prototype,"startsWith");return m&&!m.writable}();s({target:"String",proto:!0,forced:!y&&!p},{startsWith:function(b){var w=String(h(this));c(b);var x=u(g(arguments.length>1?arguments[1]:void 0,w.length)),_=String(b);return v?v.call(w,_,x):w.slice(x,x+_.length)===_}})},"2d00":function(i,a,o){var s=o("da84"),l=o("342f"),u=s.process,c=u&&u.versions,h=c&&c.v8,f,d;h?(f=h.split("."),d=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(d=f[1]))),i.exports=d&&+d},"342f":function(i,a,o){var s=o("d066");i.exports=s("navigator","userAgent")||""},"35a1":function(i,a,o){var s=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(h){if(h!=null)return h[c]||h["@@iterator"]||l[s(h)]}},"37e8":function(i,a,o){var s=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=s?Object.defineProperties:function(f,d){u(f);for(var v=c(d),g=v.length,p=0,y;g>p;)l.f(f,y=v[p++],d[y]);return f}},"3bbe":function(i,a,o){var s=o("861d");i.exports=function(l){if(!s(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,a,o){var s=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",h=l.set,f=l.getterFor(c);u(String,"String",function(d){h(this,{type:c,string:String(d),index:0})},function(){var v=f(this),g=v.string,p=v.index,y;return p>=g.length?{value:void 0,done:!0}:(y=s(g,p),v.index+=y.length,{value:y,done:!1})})},"3f8c":function(i,a){i.exports={}},4160:function(i,a,o){var s=o("23e7"),l=o("17c2");s({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,a,o){var s=o("da84");i.exports=s},"44ad":function(i,a,o){var s=o("d039"),l=o("c6b6"),u="".split;i.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,a,o){var s=o("b622"),l=o("7c73"),u=o("9bf2"),c=s("unscopables"),h=Array.prototype;h[c]==null&&u.f(h,c,{configurable:!0,value:l(null)}),i.exports=function(f){h[c][f]=!0}},"44e7":function(i,a,o){var s=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(h){var f;return s(h)&&((f=h[c])!==void 0?!!f:l(h)=="RegExp")}},4930:function(i,a,o){var s=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})},"4d64":function(i,a,o){var s=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(h){return function(f,d,v){var g=s(f),p=l(g.length),y=u(v,p),m;if(h&&d!=d){for(;p>y;)if(m=g[y++],m!=m)return!0}else for(;p>y;y++)if((h||y in g)&&g[y]===d)return h||y||0;return!h&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,a,o){var s=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),h=u("filter"),f=c("filter");s({target:"Array",proto:!0,forced:!h||!f},{filter:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,a,o){var s=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),h=o("50c4"),f=o("8418"),d=o("35a1");i.exports=function(g){var p=l(g),y=typeof this=="function"?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,w=b!==void 0,x=d(p),_=0,S,P,C,D,T,B;if(w&&(b=s(b,m>2?arguments[2]:void 0,2)),x!=null&&!(y==Array&&c(x)))for(D=x.call(p),T=D.next,P=new y;!(C=T.call(D)).done;_++)B=w?u(D,b,[C.value,_],!0):C.value,f(P,_,B);else for(S=h(p.length),P=new y(S);S>_;_++)B=w?b(p[_],_):p[_],f(P,_,B);return P.length=_,P}},"4fad":function(i,a,o){var s=o("23e7"),l=o("6f53").entries;s({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,a,o){var s=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(s(u),9007199254740991):0}},5135:function(i,a){var o={}.hasOwnProperty;i.exports=function(s,l){return o.call(s,l)}},5319:function(i,a,o){var s=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),h=o("a691"),f=o("1d80"),d=o("8aa5"),v=o("14c3"),g=Math.max,p=Math.min,y=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,w=function(x){return x===void 0?x:String(x)};s("replace",2,function(x,_,S,P){var C=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,D=P.REPLACE_KEEPS_$0,T=C?"$":"$0";return[function(O,L){var R=f(this),U=O==null?void 0:O[x];return U!==void 0?U.call(O,R,L):_.call(String(R),O,L)},function(I,O){if(!C&&D||typeof O=="string"&&O.indexOf(T)===-1){var L=S(_,I,this,O);if(L.done)return L.value}var R=l(I),U=String(this),$=typeof O=="function";$||(O=String(O));var j=R.global;if(j){var z=R.unicode;R.lastIndex=0}for(var Y=[];;){var Q=v(R,U);if(Q===null||(Y.push(Q),!j))break;var re=String(Q[0]);re===""&&(R.lastIndex=d(U,c(R.lastIndex),z))}for(var he="",ce=0,te=0;te<Y.length;te++){Q=Y[te];for(var ee=String(Q[0]),Ue=g(p(h(Q.index),U.length),0),ye=[],pe=1;pe<Q.length;pe++)ye.push(w(Q[pe]));var Se=Q.groups;if($){var ae=[ee].concat(ye,Ue,U);Se!==void 0&&ae.push(Se);var ke=String(O.apply(void 0,ae))}else ke=B(ee,U,Ue,ye,Se,O);Ue>=ce&&(he+=U.slice(ce,Ue)+ke,ce=Ue+ee.length)}return he+U.slice(ce)}];function B(I,O,L,R,U,$){var j=L+I.length,z=R.length,Y=b;return U!==void 0&&(U=u(U),Y=m),_.call($,Y,function(Q,re){var he;switch(re.charAt(0)){case"$":return"$";case"&":return I;case"`":return O.slice(0,L);case"'":return O.slice(j);case"<":he=U[re.slice(1,-1)];break;default:var ce=+re;if(ce===0)return Q;if(ce>z){var te=y(ce/10);return te===0?Q:te<=z?R[te-1]===void 0?re.charAt(1):R[te-1]+re.charAt(1):Q}he=R[ce-1]}return he===void 0?"":he})}})},5692:function(i,a,o){var s=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,a,o){var s=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=s("Reflect","ownKeys")||function(f){var d=l.f(c(f)),v=u.f;return v?d.concat(v(f)):d}},"5a34":function(i,a,o){var s=o("44e7");i.exports=function(l){if(s(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,a){i.exports=function(o,s){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:s}}},"5db7":function(i,a,o){var s=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),h=o("1c0b"),f=o("65f0");s({target:"Array",proto:!0},{flatMap:function(v){var g=u(this),p=c(g.length),y;return h(v),y=f(g,0),y.length=l(y,g,g,p,0,1,v,arguments.length>1?arguments[1]:void 0),y}})},6547:function(i,a,o){var s=o("a691"),l=o("1d80"),u=function(c){return function(h,f){var d=String(l(h)),v=s(f),g=d.length,p,y;return v<0||v>=g?c?"":void 0:(p=d.charCodeAt(v),p<55296||p>56319||v+1===g||(y=d.charCodeAt(v+1))<56320||y>57343?c?d.charAt(v):p:c?d.slice(v,v+2):(p-55296<<10)+(y-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,a,o){var s=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(h,f){var d;return l(h)&&(d=h.constructor,typeof d=="function"&&(d===Array||l(d.prototype))?d=void 0:s(d)&&(d=d[c],d===null&&(d=void 0))),new(d===void 0?Array:d)(f===0?0:f)}},"69f3":function(i,a,o){var s=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),h=o("5135"),f=o("f772"),d=o("d012"),v=l.WeakMap,g,p,y,m=function(C){return y(C)?p(C):g(C,{})},b=function(C){return function(D){var T;if(!u(D)||(T=p(D)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return T}};if(s){var w=new v,x=w.get,_=w.has,S=w.set;g=function(C,D){return S.call(w,C,D),D},p=function(C){return x.call(w,C)||{}},y=function(C){return _.call(w,C)}}else{var P=f("state");d[P]=!0,g=function(C,D){return c(C,P,D),D},p=function(C){return h(C,P)?C[P]:{}},y=function(C){return h(C,P)}}i.exports={set:g,get:p,has:y,enforce:m,getterFor:b}},"6eeb":function(i,a,o){var s=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),h=o("8925"),f=o("69f3"),d=f.get,v=f.enforce,g=String(String).split("String");(i.exports=function(p,y,m,b){var w=b?!!b.unsafe:!1,x=b?!!b.enumerable:!1,_=b?!!b.noTargetGet:!1;if(typeof m=="function"&&(typeof y=="string"&&!u(m,"name")&&l(m,"name",y),v(m).source=g.join(typeof y=="string"?y:"")),p===s){x?p[y]=m:c(y,m);return}else w?!_&&p[y]&&(x=!0):delete p[y];x?p[y]=m:l(p,y,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||h(this)})},"6f53":function(i,a,o){var s=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,h=function(f){return function(d){for(var v=u(d),g=l(v),p=g.length,y=0,m=[],b;p>y;)b=g[y++],(!s||c.call(v,b))&&m.push(f?[b,v[b]]:v[b]);return m}};i.exports={entries:h(!0),values:h(!1)}},"73d9":function(i,a,o){var s=o("44d2");s("flatMap")},7418:function(i,a){a.f=Object.getOwnPropertySymbols},"746f":function(i,a,o){var s=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(h){var f=s.Symbol||(s.Symbol={});l(f,h)||c(f,h,{value:u.f(h)})}},7839:function(i,a){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,a,o){var s=o("1d80");i.exports=function(l){return Object(s(l))}},"7c73":function(i,a,o){var s=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),h=o("1be4"),f=o("cc12"),d=o("f772"),v=">",g="<",p="prototype",y="script",m=d("IE_PROTO"),b=function(){},w=function(C){return g+y+v+C+g+"/"+y+v},x=function(C){C.write(w("")),C.close();var D=C.parentWindow.Object;return C=null,D},_=function(){var C=f("iframe"),D="java"+y+":",T;return C.style.display="none",h.appendChild(C),C.src=String(D),T=C.contentWindow.document,T.open(),T.write(w("document.F=Object")),T.close(),T.F},S,P=function(){try{S=document.domain&&new ActiveXObject("htmlfile")}catch{}P=S?x(S):_();for(var C=u.length;C--;)delete P[p][u[C]];return P()};c[m]=!0,i.exports=Object.create||function(D,T){var B;return D!==null?(b[p]=s(D),B=new b,b[p]=null,B[m]=D):B=P(),T===void 0?B:l(B,T)}},"7dd0":function(i,a,o){var s=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),h=o("d44e"),f=o("9112"),d=o("6eeb"),v=o("b622"),g=o("c430"),p=o("3f8c"),y=o("ae93"),m=y.IteratorPrototype,b=y.BUGGY_SAFARI_ITERATORS,w=v("iterator"),x="keys",_="values",S="entries",P=function(){return this};i.exports=function(C,D,T,B,I,O,L){l(T,D,B);var R=function(te){if(te===I&&Y)return Y;if(!b&&te in j)return j[te];switch(te){case x:return function(){return new T(this,te)};case _:return function(){return new T(this,te)};case S:return function(){return new T(this,te)}}return function(){return new T(this)}},U=D+" Iterator",$=!1,j=C.prototype,z=j[w]||j["@@iterator"]||I&&j[I],Y=!b&&z||R(I),Q=D=="Array"&&j.entries||z,re,he,ce;if(Q&&(re=u(Q.call(new C)),m!==Object.prototype&&re.next&&(!g&&u(re)!==m&&(c?c(re,m):typeof re[w]!="function"&&f(re,w,P)),h(re,U,!0,!0),g&&(p[U]=P))),I==_&&z&&z.name!==_&&($=!0,Y=function(){return z.call(this)}),(!g||L)&&j[w]!==Y&&f(j,w,Y),p[D]=Y,I)if(he={values:R(_),keys:O?Y:R(x),entries:R(S)},L)for(ce in he)(b||$||!(ce in j))&&d(j,ce,he[ce]);else s({target:D,proto:!0,forced:b||$},he);return he}},"7f9a":function(i,a,o){var s=o("da84"),l=o("8925"),u=s.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,a,o){var s=o("861d");i.exports=function(l){if(!s(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,a,o){var s=o("d039");i.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,a,o){var s=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,h,f){var d=s(h);d in c?l.f(c,d,u(0,f)):c[d]=f}},"861d":function(i,a){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,a,o){var s,l,u;(function(c,h){l=[],s=h,u=typeof s=="function"?s.apply(a,l):s,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var h=Object.getOwnPropertyDescriptor(document,"currentScript");if(!h&&"currentScript"in document&&document.currentScript||h&&h.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(S){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,d=/@([^@]*):(\d+):(\d+)\s*$/ig,v=f.exec(S.stack)||d.exec(S.stack),g=v&&v[1]||!1,p=v&&v[2]||!1,y=document.location.href.replace(document.location.hash,""),m,b,w,x=document.getElementsByTagName("script");g===y&&(m=document.documentElement.outerHTML,b=new RegExp("(?:[^\\n]+?\\n){0,"+(p-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),w=m.replace(b,"$1").trim());for(var _=0;_<x.length;_++)if(x[_].readyState==="interactive"||x[_].src===g||g===y&&x[_].innerHTML&&x[_].innerHTML.trim()===w)return x[_];return null}}return c})},8925:function(i,a,o){var s=o("c6cd"),l=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(u){return l.call(u)}),i.exports=s.inspectSource},"8aa5":function(i,a,o){var s=o("6547").charAt;i.exports=function(l,u,c){return u+(c?s(l,u).length:1)}},"8bbf":function(i,a){i.exports=n},"90e3":function(i,a){var o=0,s=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+s).toString(36)}},9112:function(i,a,o){var s=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=s?function(c,h,f){return l.f(c,h,u(1,f))}:function(c,h,f){return c[h]=f,c}},9263:function(i,a,o){var s=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,h=u,f=function(){var p=/a/,y=/b*/g;return u.call(p,"a"),u.call(y,"a"),p.lastIndex!==0||y.lastIndex!==0}(),d=l.UNSUPPORTED_Y||l.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0,g=f||v||d;g&&(h=function(y){var m=this,b,w,x,_,S=d&&m.sticky,P=s.call(m),C=m.source,D=0,T=y;return S&&(P=P.replace("y",""),P.indexOf("g")===-1&&(P+="g"),T=String(y).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&y[m.lastIndex-1]!==`
`)&&(C="(?: "+C+")",T=" "+T,D++),w=new RegExp("^(?:"+C+")",P)),v&&(w=new RegExp("^"+C+"$(?!\\s)",P)),f&&(b=m.lastIndex),x=u.call(S?w:m,T),S?x?(x.input=x.input.slice(D),x[0]=x[0].slice(D),x.index=m.lastIndex,m.lastIndex+=x[0].length):m.lastIndex=0:f&&x&&(m.lastIndex=m.global?x.index+x[0].length:b),v&&x&&x.length>1&&c.call(x[0],w,function(){for(_=1;_<arguments.length-2;_++)arguments[_]===void 0&&(x[_]=void 0)}),x}),i.exports=h},"94ca":function(i,a,o){var s=o("d039"),l=/#|\.prototype\./,u=function(v,g){var p=h[c(v)];return p==d?!0:p==f?!1:typeof g=="function"?s(g):!!g},c=u.normalize=function(v){return String(v).replace(l,".").toLowerCase()},h=u.data={},f=u.NATIVE="N",d=u.POLYFILL="P";i.exports=u},"99af":function(i,a,o){var s=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),h=o("7b0b"),f=o("50c4"),d=o("8418"),v=o("65f0"),g=o("1dde"),p=o("b622"),y=o("2d00"),m=p("isConcatSpreadable"),b=9007199254740991,w="Maximum allowed index exceeded",x=y>=51||!l(function(){var C=[];return C[m]=!1,C.concat()[0]!==C}),_=g("concat"),S=function(C){if(!c(C))return!1;var D=C[m];return D!==void 0?!!D:u(C)},P=!x||!_;s({target:"Array",proto:!0,forced:P},{concat:function(D){var T=h(this),B=v(T,0),I=0,O,L,R,U,$;for(O=-1,R=arguments.length;O<R;O++)if($=O===-1?T:arguments[O],S($)){if(U=f($.length),I+U>b)throw TypeError(w);for(L=0;L<U;L++,I++)L in $&&d(B,I,$[L])}else{if(I>=b)throw TypeError(w);d(B,I++,$)}return B.length=I,B}})},"9bdd":function(i,a,o){var s=o("825a");i.exports=function(l,u,c,h){try{return h?u(s(c)[0],c[1]):u(c)}catch(d){var f=l.return;throw f!==void 0&&s(f.call(l)),d}}},"9bf2":function(i,a,o){var s=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),h=Object.defineProperty;a.f=s?h:function(d,v,g){if(u(d),v=c(v,!0),u(g),l)try{return h(d,v,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(d[v]=g.value),d}},"9ed3":function(i,a,o){var s=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),h=o("3f8c"),f=function(){return this};i.exports=function(d,v,g){var p=v+" Iterator";return d.prototype=l(s,{next:u(1,g)}),c(d,p,!1,!0),h[p]=f,d}},"9f7f":function(i,a,o){var s=o("d039");function l(u,c){return RegExp(u,c)}a.UNSUPPORTED_Y=s(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),a.BROKEN_CARET=s(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,a,o){var s=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(h,f,d,v,g,p,y,m){for(var b=g,w=0,x=y?u(y,m,3):!1,_;w<v;){if(w in d){if(_=x?x(d[w],w,f):d[w],p>0&&s(_))b=c(h,f,_,l(_.length),b,p-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");h[b]=_}b++}w++}return b};i.exports=c},a352:function(i,a){i.exports=r},a434:function(i,a,o){var s=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),h=o("7b0b"),f=o("65f0"),d=o("8418"),v=o("1dde"),g=o("ae40"),p=v("splice"),y=g("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,w=9007199254740991,x="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p||!y},{splice:function(S,P){var C=h(this),D=c(C.length),T=l(S,D),B=arguments.length,I,O,L,R,U,$;if(B===0?I=O=0:B===1?(I=0,O=D-T):(I=B-2,O=b(m(u(P),0),D-T)),D+I-O>w)throw TypeError(x);for(L=f(C,O),R=0;R<O;R++)U=T+R,U in C&&d(L,R,C[U]);if(L.length=O,I<O){for(R=T;R<D-O;R++)U=R+O,$=R+I,U in C?C[$]=C[U]:delete C[$];for(R=D;R>D-O+I;R--)delete C[R-1]}else if(I>O)for(R=D-O;R>T;R--)U=R+O-1,$=R+I-1,U in C?C[$]=C[U]:delete C[$];for(R=0;R<I;R++)C[R+T]=arguments[R+2];return C.length=D-O+I,L}})},a4d3:function(i,a,o){var s=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),h=o("83ab"),f=o("4930"),d=o("fdbf"),v=o("d039"),g=o("5135"),p=o("e8b5"),y=o("861d"),m=o("825a"),b=o("7b0b"),w=o("fc6a"),x=o("c04e"),_=o("5c6c"),S=o("7c73"),P=o("df75"),C=o("241c"),D=o("057f"),T=o("7418"),B=o("06cf"),I=o("9bf2"),O=o("d1e7"),L=o("9112"),R=o("6eeb"),U=o("5692"),$=o("f772"),j=o("d012"),z=o("90e3"),Y=o("b622"),Q=o("e538"),re=o("746f"),he=o("d44e"),ce=o("69f3"),te=o("b727").forEach,ee=$("hidden"),Ue="Symbol",ye="prototype",pe=Y("toPrimitive"),Se=ce.set,ae=ce.getterFor(Ue),ke=Object[ye],Ce=l.Symbol,We=u("JSON","stringify"),X=B.f,M=I.f,k=D.f,W=O.f,Z=U("symbols"),be=U("op-symbols"),we=U("string-to-symbol-registry"),tt=U("symbol-to-string-registry"),_t=U("wks"),De=l.QObject,Me=!De||!De[ye]||!De[ye].findChild,it=h&&v(function(){return S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a!=7})?function(wt,et,dt){var Rt=X(ke,et);Rt&&delete ke[et],M(wt,et,dt),Rt&&wt!==ke&&M(ke,et,Rt)}:M,He=function(wt,et){var dt=Z[wt]=S(Ce[ye]);return Se(dt,{type:Ue,tag:wt,description:et}),h||(dt.description=et),dt},fe=d?function(wt){return typeof wt=="symbol"}:function(wt){return Object(wt)instanceof Ce},ie=function(et,dt,Rt){et===ke&&ie(be,dt,Rt),m(et);var jt=x(dt,!0);return m(Rt),g(Z,jt)?(Rt.enumerable?(g(et,ee)&&et[ee][jt]&&(et[ee][jt]=!1),Rt=S(Rt,{enumerable:_(0,!1)})):(g(et,ee)||M(et,ee,_(1,{})),et[ee][jt]=!0),it(et,jt,Rt)):M(et,jt,Rt)},ge=function(et,dt){m(et);var Rt=w(dt),jt=P(Rt).concat(Mt(Rt));return te(jt,function(Dn){(!h||ze.call(Rt,Dn))&&ie(et,Dn,Rt[Dn])}),et},Be=function(et,dt){return dt===void 0?S(et):ge(S(et),dt)},ze=function(et){var dt=x(et,!0),Rt=W.call(this,dt);return this===ke&&g(Z,dt)&&!g(be,dt)?!1:Rt||!g(this,dt)||!g(Z,dt)||g(this,ee)&&this[ee][dt]?Rt:!0},st=function(et,dt){var Rt=w(et),jt=x(dt,!0);if(!(Rt===ke&&g(Z,jt)&&!g(be,jt))){var Dn=X(Rt,jt);return Dn&&g(Z,jt)&&!(g(Rt,ee)&&Rt[ee][jt])&&(Dn.enumerable=!0),Dn}},Oe=function(et){var dt=k(w(et)),Rt=[];return te(dt,function(jt){!g(Z,jt)&&!g(j,jt)&&Rt.push(jt)}),Rt},Mt=function(et){var dt=et===ke,Rt=k(dt?be:w(et)),jt=[];return te(Rt,function(Dn){g(Z,Dn)&&(!dt||g(ke,Dn))&&jt.push(Z[Dn])}),jt};if(f||(Ce=function(){if(this instanceof Ce)throw TypeError("Symbol is not a constructor");var et=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),dt=z(et),Rt=function(jt){this===ke&&Rt.call(be,jt),g(this,ee)&&g(this[ee],dt)&&(this[ee][dt]=!1),it(this,dt,_(1,jt))};return h&&Me&&it(ke,dt,{configurable:!0,set:Rt}),He(dt,et)},R(Ce[ye],"toString",function(){return ae(this).tag}),R(Ce,"withoutSetter",function(wt){return He(z(wt),wt)}),O.f=ze,I.f=ie,B.f=st,C.f=D.f=Oe,T.f=Mt,Q.f=function(wt){return He(Y(wt),wt)},h&&(M(Ce[ye],"description",{configurable:!0,get:function(){return ae(this).description}}),c||R(ke,"propertyIsEnumerable",ze,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Ce}),te(P(_t),function(wt){re(wt)}),s({target:Ue,stat:!0,forced:!f},{for:function(wt){var et=String(wt);if(g(we,et))return we[et];var dt=Ce(et);return we[et]=dt,tt[dt]=et,dt},keyFor:function(et){if(!fe(et))throw TypeError(et+" is not a symbol");if(g(tt,et))return tt[et]},useSetter:function(){Me=!0},useSimple:function(){Me=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!h},{create:Be,defineProperty:ie,defineProperties:ge,getOwnPropertyDescriptor:st}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Oe,getOwnPropertySymbols:Mt}),s({target:"Object",stat:!0,forced:v(function(){T.f(1)})},{getOwnPropertySymbols:function(et){return T.f(b(et))}}),We){var Zt=!f||v(function(){var wt=Ce();return We([wt])!="[null]"||We({a:wt})!="{}"||We(Object(wt))!="{}"});s({target:"JSON",stat:!0,forced:Zt},{stringify:function(et,dt,Rt){for(var jt=[et],Dn=1,mi;arguments.length>Dn;)jt.push(arguments[Dn++]);if(mi=dt,!(!y(dt)&&et===void 0||fe(et)))return p(dt)||(dt=function(wa,Nr){if(typeof mi=="function"&&(Nr=mi.call(this,wa,Nr)),!fe(Nr))return Nr}),jt[1]=dt,We.apply(null,jt)}})}Ce[ye][pe]||L(Ce[ye],pe,Ce[ye].valueOf),he(Ce,Ue),j[ee]=!0},a630:function(i,a,o){var s=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(h){Array.from(h)});s({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,a,o){var s=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&s(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,a){var o=Math.ceil,s=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?s:o)(l)}},ab13:function(i,a,o){var s=o("b622"),l=s("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,a,o){var s=o("23e7"),l=o("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,a,o){var s=o("825a");i.exports=function(){var l=s(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,a,o){var s=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,h={},f=function(d){throw d};i.exports=function(d,v){if(u(h,d))return h[d];v||(v={});var g=[][d],p=u(v,"ACCESSORS")?v.ACCESSORS:!1,y=u(v,0)?v[0]:f,m=u(v,1)?v[1]:void 0;return h[d]=!!g&&!l(function(){if(p&&!s)return!0;var b={length:-1};p?c(b,1,{enumerable:!0,get:f}):b[1]=1,g.call(b,y,m)})}},ae93:function(i,a,o){var s=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),h=o("c430"),f=c("iterator"),d=!1,v=function(){return this},g,p,y;[].keys&&(y=[].keys(),"next"in y?(p=s(s(y)),p!==Object.prototype&&(g=p)):d=!0),g==null&&(g={}),!h&&!u(g,f)&&l(g,f,v),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:d}},b041:function(i,a,o){var s=o("00ee"),l=o("f5df");i.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,a,o){var s=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,h=/^\s*function ([^ (]*)/,f="name";s&&!(f in u)&&l(u,f,{configurable:!0,get:function(){try{return c.call(this).match(h)[1]}catch{return""}}})},b622:function(i,a,o){var s=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),h=o("4930"),f=o("fdbf"),d=l("wks"),v=s.Symbol,g=f?v:v&&v.withoutSetter||c;i.exports=function(p){return u(d,p)||(h&&u(v,p)?d[p]=v[p]:d[p]=g("Symbol."+p)),d[p]}},b64b:function(i,a,o){var s=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),h=c(function(){u(1)});s({target:"Object",stat:!0,forced:h},{keys:function(d){return u(l(d))}})},b727:function(i,a,o){var s=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),h=o("65f0"),f=[].push,d=function(v){var g=v==1,p=v==2,y=v==3,m=v==4,b=v==6,w=v==5||b;return function(x,_,S,P){for(var C=u(x),D=l(C),T=s(_,S,3),B=c(D.length),I=0,O=P||h,L=g?O(x,B):p?O(x,0):void 0,R,U;B>I;I++)if((w||I in D)&&(R=D[I],U=T(R,I,C),v)){if(g)L[I]=U;else if(U)switch(v){case 3:return!0;case 5:return R;case 6:return I;case 2:f.call(L,R)}else if(m)return!1}return b?-1:y||m?m:L}};i.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},c04e:function(i,a,o){var s=o("861d");i.exports=function(l,u){if(!s(l))return l;var c,h;if(u&&typeof(c=l.toString)=="function"&&!s(h=c.call(l))||typeof(c=l.valueOf)=="function"&&!s(h=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!s(h=c.call(l)))return h;throw TypeError("Can't convert object to primitive value")}},c430:function(i,a){i.exports=!1},c6b6:function(i,a){var o={}.toString;i.exports=function(s){return o.call(s).slice(8,-1)}},c6cd:function(i,a,o){var s=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=s[u]||l(u,{});i.exports=c},c740:function(i,a,o){var s=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),h="findIndex",f=!0,d=c(h);h in[]&&Array(1)[h](function(){f=!1}),s({target:"Array",proto:!0,forced:f||!d},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(h)},c8ba:function(i,a){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,a,o){var s=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),h=[].indexOf,f=!!h&&1/[1].indexOf(1,-0)<0,d=u("indexOf"),v=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:f||!d||!v},{indexOf:function(p){return f?h.apply(this,arguments)||0:l(this,p,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,a,o){var s=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(h,f){var d=l(h),v=0,g=[],p;for(p in d)!s(c,p)&&s(d,p)&&g.push(p);for(;f.length>v;)s(d,p=f[v++])&&(~u(g,p)||g.push(p));return g}},caad:function(i,a,o){var s=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),h=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!h},{includes:function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,a,o){var s=o("da84"),l=o("861d"),u=s.document,c=l(u)&&l(u.createElement);i.exports=function(h){return c?u.createElement(h):{}}},ce4e:function(i,a,o){var s=o("da84"),l=o("9112");i.exports=function(u,c){try{l(s,u,c)}catch{s[u]=c}return c}},d012:function(i,a){i.exports={}},d039:function(i,a){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,a,o){var s=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,h){return arguments.length<2?u(s[c])||u(l[c]):s[c]&&s[c][h]||l[c]&&l[c][h]}},d1e7:function(i,a,o){var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!s.call({1:2},1);a.f=u?function(h){var f=l(this,h);return!!f&&f.enumerable}:s},d28b:function(i,a,o){var s=o("746f");s("iterator")},d2bb:function(i,a,o){var s=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},h;try{h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,h.call(c,[]),u=c instanceof Array}catch{}return function(d,v){return s(d),l(v),u?h.call(d,v):d.__proto__=v,d}}():void 0)},d3b7:function(i,a,o){var s=o("00ee"),l=o("6eeb"),u=o("b041");s||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,a,o){var s=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(h,f,d){h&&!l(h=d?h:h.prototype,c)&&s(h,c,{configurable:!0,value:f})}},d58f:function(i,a,o){var s=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),h=function(f){return function(d,v,g,p){s(v);var y=l(d),m=u(y),b=c(y.length),w=f?b-1:0,x=f?-1:1;if(g<2)for(;;){if(w in m){p=m[w],w+=x;break}if(w+=x,f?w<0:b<=w)throw TypeError("Reduce of empty array with no initial value")}for(;f?w>=0:b>w;w+=x)w in m&&(p=v(p,m[w],w,y));return p}};i.exports={left:h(!1),right:h(!0)}},d784:function(i,a,o){o("ac1f");var s=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),h=o("9112"),f=u("species"),d=!l(function(){var m=/./;return m.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(m,"$<a>")!=="7"}),v=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),p=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),y=!l(function(){var m=/(?:)/,b=m.exec;m.exec=function(){return b.apply(this,arguments)};var w="ab".split(m);return w.length!==2||w[0]!=="a"||w[1]!=="b"});i.exports=function(m,b,w,x){var _=u(m),S=!l(function(){var I={};return I[_]=function(){return 7},""[m](I)!=7}),P=S&&!l(function(){var I=!1,O=/a/;return m==="split"&&(O={},O.constructor={},O.constructor[f]=function(){return O},O.flags="",O[_]=/./[_]),O.exec=function(){return I=!0,null},O[_](""),!I});if(!S||!P||m==="replace"&&!(d&&v&&!p)||m==="split"&&!y){var C=/./[_],D=w(_,""[m],function(I,O,L,R,U){return O.exec===c?S&&!U?{done:!0,value:C.call(O,L,R)}:{done:!0,value:I.call(L,O,R)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),T=D[0],B=D[1];s(String.prototype,m,T),s(RegExp.prototype,_,b==2?function(I,O){return B.call(I,this,O)}:function(I){return B.call(I,this)})}x&&h(RegExp.prototype[_],"sham",!0)}},d81d:function(i,a,o){var s=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),h=u("map"),f=c("map");s({target:"Array",proto:!0,forced:!h||!f},{map:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,a,o){(function(s){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,a,o){var s=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),h=o("06cf"),f=o("8418");s({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(v){for(var g=c(v),p=h.f,y=u(g),m={},b=0,w,x;y.length>b;)x=p(g,w=y[b++]),x!==void 0&&f(m,w,x);return m}})},dbf1:function(i,a,o){(function(s){o.d(a,"a",function(){return u});function l(){return typeof window<"u"?window.console:s.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,a,o){var s=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),h=o("b622"),f=h("iterator"),d=h("toStringTag"),v=u.values;for(var g in l){var p=s[g],y=p&&p.prototype;if(y){if(y[f]!==v)try{c(y,f,v)}catch{y[f]=v}if(y[d]||c(y,d,g),l[g]){for(var m in u)if(y[m]!==u[m])try{c(y,m,u[m])}catch{y[m]=u[m]}}}}},df75:function(i,a,o){var s=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return s(c,l)}},e01a:function(i,a,o){var s=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),h=o("861d"),f=o("9bf2").f,d=o("e893"),v=u.Symbol;if(l&&typeof v=="function"&&(!("description"in v.prototype)||v().description!==void 0)){var g={},p=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),S=this instanceof p?new v(_):_===void 0?v():v(_);return _===""&&(g[S]=!0),S};d(p,v);var y=p.prototype=v.prototype;y.constructor=p;var m=y.toString,b=String(v("test"))=="Symbol(test)",w=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var _=h(this)?this.valueOf():this,S=m.call(_);if(c(g,_))return"";var P=b?S.slice(7,-1):S.replace(w,"$1");return P===""?void 0:P}}),s({global:!0,forced:!0},{Symbol:p})}},e163:function(i,a,o){var s=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),h=u("IE_PROTO"),f=Object.prototype;i.exports=c?Object.getPrototypeOf:function(d){return d=l(d),s(d,h)?d[h]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?f:null}},e177:function(i,a,o){var s=o("d039");i.exports=!s(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,a,o){var s=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),h=o("7dd0"),f="Array Iterator",d=c.set,v=c.getterFor(f);i.exports=h(Array,"Array",function(g,p){d(this,{type:f,target:s(g),index:0,kind:p})},function(){var g=v(this),p=g.target,y=g.kind,m=g.index++;return!p||m>=p.length?(g.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:m,done:!1}:y=="values"?{value:p[m],done:!1}:{value:[m,p[m]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,a,o){var s=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,h=o("83ab"),f=l(function(){c(1)}),d=!h||f;s({target:"Object",stat:!0,forced:d,sham:!h},{getOwnPropertyDescriptor:function(g,p){return c(u(g),p)}})},e538:function(i,a,o){var s=o("b622");a.f=s},e893:function(i,a,o){var s=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(h,f){for(var d=l(f),v=c.f,g=u.f,p=0;p<d.length;p++){var y=d[p];s(h,y)||v(h,y,g(f,y))}}},e8b5:function(i,a,o){var s=o("c6b6");i.exports=Array.isArray||function(u){return s(u)=="Array"}},e95a:function(i,a,o){var s=o("b622"),l=o("3f8c"),u=s("iterator"),c=Array.prototype;i.exports=function(h){return h!==void 0&&(l.Array===h||c[u]===h)}},f5df:function(i,a,o){var s=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),h=l(function(){return arguments}())=="Arguments",f=function(d,v){try{return d[v]}catch{}};i.exports=s?l:function(d){var v,g,p;return d===void 0?"Undefined":d===null?"Null":typeof(g=f(v=Object(d),c))=="string"?g:h?l(v):(p=l(v))=="Object"&&typeof v.callee=="function"?"Arguments":p}},f772:function(i,a,o){var s=o("5692"),l=o("90e3"),u=s("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,a,o){if(o.r(a),typeof window<"u"){var s=window.document.currentScript;{var l=o("8875");s=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(fe,ie,ge){return ie in fe?Object.defineProperty(fe,ie,{value:ge,enumerable:!0,configurable:!0,writable:!0}):fe[ie]=ge,fe}function h(fe,ie){var ge=Object.keys(fe);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(fe);ie&&(Be=Be.filter(function(ze){return Object.getOwnPropertyDescriptor(fe,ze).enumerable})),ge.push.apply(ge,Be)}return ge}function f(fe){for(var ie=1;ie<arguments.length;ie++){var ge=arguments[ie]!=null?arguments[ie]:{};ie%2?h(Object(ge),!0).forEach(function(Be){c(fe,Be,ge[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ge)):h(Object(ge)).forEach(function(Be){Object.defineProperty(fe,Be,Object.getOwnPropertyDescriptor(ge,Be))})}return fe}function d(fe){if(Array.isArray(fe))return fe}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function v(fe,ie){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(fe)))){var ge=[],Be=!0,ze=!1,st=void 0;try{for(var Oe=fe[Symbol.iterator](),Mt;!(Be=(Mt=Oe.next()).done)&&(ge.push(Mt.value),!(ie&&ge.length===ie));Be=!0);}catch(Zt){ze=!0,st=Zt}finally{try{!Be&&Oe.return!=null&&Oe.return()}finally{if(ze)throw st}}return ge}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g(fe,ie){(ie==null||ie>fe.length)&&(ie=fe.length);for(var ge=0,Be=new Array(ie);ge<ie;ge++)Be[ge]=fe[ge];return Be}function p(fe,ie){if(fe){if(typeof fe=="string")return g(fe,ie);var ge=Object.prototype.toString.call(fe).slice(8,-1);if(ge==="Object"&&fe.constructor&&(ge=fe.constructor.name),ge==="Map"||ge==="Set")return Array.from(fe);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return g(fe,ie)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(fe,ie){return d(fe)||v(fe,ie)||p(fe,ie)||y()}function b(fe){if(Array.isArray(fe))return g(fe)}function w(fe){if(typeof Symbol<"u"&&Symbol.iterator in Object(fe))return Array.from(fe)}function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(fe){return b(fe)||w(fe)||p(fe)||x()}var S=o("a352"),P=o.n(S);function C(fe){fe.parentElement!==null&&fe.parentElement.removeChild(fe)}function D(fe,ie,ge){var Be=ge===0?fe.children[0]:fe.children[ge-1].nextSibling;fe.insertBefore(ie,Be)}var T=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function B(fe){var ie=Object.create(null);return function(Be){var ze=ie[Be];return ze||(ie[Be]=fe(Be))}}var I=/-(\w)/g,O=B(function(fe){return fe.replace(I,function(ie,ge){return ge.toUpperCase()})});o("5db7"),o("73d9");var L=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],U=["Move"],$=[U,L,R].flatMap(function(fe){return fe}).map(function(fe){return"on".concat(fe)}),j={manage:U,manageAndEmit:L,emit:R};function z(fe){return $.indexOf(fe)!==-1}o("caad"),o("2ca0");var Y=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Q(fe){return Y.includes(fe)}function re(fe){return["transition-group","TransitionGroup"].includes(fe)}function he(fe){return["id","class","role","style"].includes(fe)||fe.startsWith("data-")||fe.startsWith("aria-")||fe.startsWith("on")}function ce(fe){return fe.reduce(function(ie,ge){var Be=m(ge,2),ze=Be[0],st=Be[1];return ie[ze]=st,ie},{})}function te(fe){var ie=fe.$attrs,ge=fe.componentData,Be=ge===void 0?{}:ge,ze=ce(Object.entries(ie).filter(function(st){var Oe=m(st,2),Mt=Oe[0];return Oe[1],he(Mt)}));return f(f({},ze),Be)}function ee(fe){var ie=fe.$attrs,ge=fe.callBackBuilder,Be=ce(Ue(ie));Object.entries(ge).forEach(function(st){var Oe=m(st,2),Mt=Oe[0],Zt=Oe[1];j[Mt].forEach(function(wt){Be["on".concat(wt)]=Zt(wt)})});var ze="[data-draggable]".concat(Be.draggable||"");return f(f({},Be),{},{draggable:ze})}function Ue(fe){return Object.entries(fe).filter(function(ie){var ge=m(ie,2),Be=ge[0];return ge[1],!he(Be)}).map(function(ie){var ge=m(ie,2),Be=ge[0],ze=ge[1];return[O(Be),ze]}).filter(function(ie){var ge=m(ie,2),Be=ge[0];return ge[1],!z(Be)})}o("c740");function ye(fe,ie){if(!(fe instanceof ie))throw new TypeError("Cannot call a class as a function")}function pe(fe,ie){for(var ge=0;ge<ie.length;ge++){var Be=ie[ge];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(fe,Be.key,Be)}}function Se(fe,ie,ge){return ie&&pe(fe.prototype,ie),ge&&pe(fe,ge),fe}var ae=function(ie){var ge=ie.el;return ge},ke=function(ie,ge){return ie.__draggable_context=ge},Ce=function(ie){return ie.__draggable_context},We=function(){function fe(ie){var ge=ie.nodes,Be=ge.header,ze=ge.default,st=ge.footer,Oe=ie.root,Mt=ie.realList;ye(this,fe),this.defaultNodes=ze,this.children=[].concat(_(Be),_(ze),_(st)),this.externalComponent=Oe.externalComponent,this.rootTransition=Oe.transition,this.tag=Oe.tag,this.realList=Mt}return Se(fe,[{key:"render",value:function(ge,Be){var ze=this.tag,st=this.children,Oe=this._isRootComponent,Mt=Oe?{default:function(){return st}}:st;return ge(ze,Be,Mt)}},{key:"updated",value:function(){var ge=this.defaultNodes,Be=this.realList;ge.forEach(function(ze,st){ke(ae(ze),{element:Be[st],index:st})})}},{key:"getUnderlyingVm",value:function(ge){return Ce(ge)}},{key:"getVmIndexFromDomIndex",value:function(ge,Be){var ze=this.defaultNodes,st=ze.length,Oe=Be.children,Mt=Oe.item(ge);if(Mt===null)return st;var Zt=Ce(Mt);if(Zt)return Zt.index;if(st===0)return 0;var wt=ae(ze[0]),et=_(Oe).findIndex(function(dt){return dt===wt});return ge<et?0:st}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),fe}(),X=o("8bbf");function M(fe,ie){var ge=fe[ie];return ge?ge():[]}function k(fe){var ie=fe.$slots,ge=fe.realList,Be=fe.getKey,ze=ge||[],st=["header","footer"].map(function(dt){return M(ie,dt)}),Oe=m(st,2),Mt=Oe[0],Zt=Oe[1],wt=ie.item;if(!wt)throw new Error("draggable element must have an item slot");var et=ze.flatMap(function(dt,Rt){return wt({element:dt,index:Rt}).map(function(jt){return jt.key=Be(dt),jt.props=f(f({},jt.props||{}),{},{"data-draggable":!0}),jt})});if(et.length!==ze.length)throw new Error("Item slot must have only one child");return{header:Mt,footer:Zt,default:et}}function W(fe){var ie=re(fe),ge=!Q(fe)&&!ie;return{transition:ie,externalComponent:ge,tag:ge?Object(X.resolveComponent)(fe):ie?X.TransitionGroup:fe}}function Z(fe){var ie=fe.$slots,ge=fe.tag,Be=fe.realList,ze=fe.getKey,st=k({$slots:ie,realList:Be,getKey:ze}),Oe=W(ge);return new We({nodes:st,root:Oe,realList:Be})}function be(fe,ie){var ge=this;Object(X.nextTick)(function(){return ge.$emit(fe.toLowerCase(),ie)})}function we(fe){var ie=this;return function(ge,Be){if(ie.realList!==null)return ie["onDrag".concat(fe)](ge,Be)}}function tt(fe){var ie=this,ge=we.call(this,fe);return function(Be,ze){ge.call(ie,Be,ze),be.call(ie,fe,Be)}}var _t=null,De={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(ie){return ie}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Me=["update:modelValue","change"].concat(_([].concat(_(j.manageAndEmit),_(j.emit)).map(function(fe){return fe.toLowerCase()}))),it=Object(X.defineComponent)({name:"draggable",inheritAttrs:!1,props:De,emits:Me,data:function(){return{error:!1}},render:function(){try{this.error=!1;var ie=this.$slots,ge=this.$attrs,Be=this.tag,ze=this.componentData,st=this.realList,Oe=this.getKey,Mt=Z({$slots:ie,tag:Be,realList:st,getKey:Oe});this.componentStructure=Mt;var Zt=te({$attrs:ge,componentData:ze});return Mt.render(X.h,Zt)}catch(wt){return this.error=!0,Object(X.h)("pre",{style:{color:"red"}},wt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&T.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var ie=this;if(!this.error){var ge=this.$attrs,Be=this.$el,ze=this.componentStructure;ze.updated();var st=ee({$attrs:ge,callBackBuilder:{manageAndEmit:function(Zt){return tt.call(ie,Zt)},emit:function(Zt){return be.bind(ie,Zt)},manage:function(Zt){return we.call(ie,Zt)}}}),Oe=Be.nodeType===1?Be:Be.parentElement;this._sortable=new P.a(Oe,st),this.targetDomElement=Oe,Oe.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var ie=this.list;return ie||this.modelValue},getKey:function(){var ie=this.itemKey;return typeof ie=="function"?ie:function(ge){return ge[ie]}}},watch:{$attrs:{handler:function(ie){var ge=this._sortable;ge&&Ue(ie).forEach(function(Be){var ze=m(Be,2),st=ze[0],Oe=ze[1];ge.option(st,Oe)})},deep:!0}},methods:{getUnderlyingVm:function(ie){return this.componentStructure.getUnderlyingVm(ie)||null},getUnderlyingPotencialDraggableComponent:function(ie){return ie.__draggable_component__},emitChanges:function(ie){var ge=this;Object(X.nextTick)(function(){return ge.$emit("change",ie)})},alterList:function(ie){if(this.list){ie(this.list);return}var ge=_(this.modelValue);ie(ge),this.$emit("update:modelValue",ge)},spliceList:function(){var ie=arguments,ge=function(ze){return ze.splice.apply(ze,_(ie))};this.alterList(ge)},updatePosition:function(ie,ge){var Be=function(st){return st.splice(ge,0,st.splice(ie,1)[0])};this.alterList(Be)},getRelatedContextFromMoveEvent:function(ie){var ge=ie.to,Be=ie.related,ze=this.getUnderlyingPotencialDraggableComponent(ge);if(!ze)return{component:ze};var st=ze.realList,Oe={list:st,component:ze};if(ge!==Be&&st){var Mt=ze.getUnderlyingVm(Be)||{};return f(f({},Mt),Oe)}return Oe},getVmIndexFromDomIndex:function(ie){return this.componentStructure.getVmIndexFromDomIndex(ie,this.targetDomElement)},onDragStart:function(ie){this.context=this.getUnderlyingVm(ie.item),ie.item._underlying_vm_=this.clone(this.context.element),_t=ie.item},onDragAdd:function(ie){var ge=ie.item._underlying_vm_;if(ge!==void 0){C(ie.item);var Be=this.getVmIndexFromDomIndex(ie.newIndex);this.spliceList(Be,0,ge);var ze={element:ge,newIndex:Be};this.emitChanges({added:ze})}},onDragRemove:function(ie){if(D(this.$el,ie.item,ie.oldIndex),ie.pullMode==="clone"){C(ie.clone);return}var ge=this.context,Be=ge.index,ze=ge.element;this.spliceList(Be,1);var st={element:ze,oldIndex:Be};this.emitChanges({removed:st})},onDragUpdate:function(ie){C(ie.item),D(ie.from,ie.item,ie.oldIndex);var ge=this.context.index,Be=this.getVmIndexFromDomIndex(ie.newIndex);this.updatePosition(ge,Be);var ze={element:this.context.element,oldIndex:ge,newIndex:Be};this.emitChanges({moved:ze})},computeFutureIndex:function(ie,ge){if(!ie.element)return 0;var Be=_(ge.to.children).filter(function(Mt){return Mt.style.display!=="none"}),ze=Be.indexOf(ge.related),st=ie.component.getVmIndexFromDomIndex(ze),Oe=Be.indexOf(_t)!==-1;return Oe||!ge.willInsertAfter?st:st+1},onDragMove:function(ie,ge){var Be=this.move,ze=this.realList;if(!Be||!ze)return!0;var st=this.getRelatedContextFromMoveEvent(ie),Oe=this.computeFutureIndex(st,ie),Mt=f(f({},this.context),{},{futureIndex:Oe}),Zt=f(f({},ie),{},{relatedContext:st,draggedContext:Mt});return Be(Zt,ge)},onDragEnd:function(){_t=null}}}),He=it;a.default=He},fb6a:function(i,a,o){var s=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),h=o("50c4"),f=o("fc6a"),d=o("8418"),v=o("b622"),g=o("1dde"),p=o("ae40"),y=g("slice"),m=p("slice",{ACCESSORS:!0,0:0,1:2}),b=v("species"),w=[].slice,x=Math.max;s({target:"Array",proto:!0,forced:!y||!m},{slice:function(S,P){var C=f(this),D=h(C.length),T=c(S,D),B=c(P===void 0?D:P,D),I,O,L;if(u(C)&&(I=C.constructor,typeof I=="function"&&(I===Array||u(I.prototype))?I=void 0:l(I)&&(I=I[b],I===null&&(I=void 0)),I===Array||I===void 0))return w.call(C,T,B);for(O=new(I===void 0?Array:I)(x(B-T,0)),L=0;T<B;T++,L++)T in C&&d(O,L,C[T]);return O.length=L,O}})},fc6a:function(i,a,o){var s=o("44ad"),l=o("1d80");i.exports=function(u){return s(l(u))}},fdbc:function(i,a){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,a,o){var s=o("4930");i.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(TD);var iq=TD.exports;const UD=vu(iq);var aq="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",oq="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",sq="M19,3H16.3H7.7H5A2,2 0 0,0 3,5V7.7V16.4V19A2,2 0 0,0 5,21H7.7H16.4H19A2,2 0 0,0 21,19V16.3V7.7V5A2,2 0 0,0 19,3M15.6,17L12,13.4L8.4,17L7,15.6L10.6,12L7,8.4L8.4,7L12,10.6L15.6,7L17,8.4L13.4,12L17,15.6L15.6,17Z",lq="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",uq="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",cq="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",fq="M12 17.5C8.2 17.5 4.8 15.4 3.2 12H1C2.7 16.4 7 19.5 12 19.5S21.3 16.4 23 12H20.8C19.2 15.4 15.8 17.5 12 17.5Z",VD="M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z",hq="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",dq="M15 3H5A2 2 0 0 0 3 5V19A2 2 0 0 0 5 21H19A2 2 0 0 0 21 19V9L15 3M19 19H5V5H14V10H19M17 14H7V12H17M14 17H7V15H14",vq="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z";const pq=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const nr=je({tag:{type:String,default:"div"}},"tag"),gq=je({fluid:{type:Boolean,default:!1},...Xt(),...nr()},"VContainer"),$D=gt()({name:"VContainer",props:gq(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=Xi();return Bt(()=>H(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},n)),{}}}),zD=(()=>im.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),jD=(()=>im.reduce((e,t)=>{const n="offset"+Zh(t);return e[n]={type:[String,Number],default:null},e},{}))(),HD=(()=>im.reduce((e,t)=>{const n="order"+Zh(t);return e[n]={type:[String,Number],default:null},e},{}))(),tA={col:Object.keys(zD),offset:Object.keys(jD),order:Object.keys(HD)};function mq(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const i=t.replace(e,"");r+=`-${i}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const yq=["auto","start","end","center","baseline","stretch"],bq=je({cols:{type:[Boolean,String,Number],default:!1},...zD,offset:{type:[String,Number],default:null},...jD,order:{type:[String,Number],default:null},...HD,alignSelf:{type:String,default:null,validator:e=>yq.includes(e)},...Xt(),...nr()},"VCol"),eo=gt()({name:"VCol",props:bq(),setup(e,t){let{slots:n}=t;const r=ne(()=>{const i=[];let a;for(a in tA)tA[a].forEach(s=>{const l=e[s],u=mq(a,s,l);u&&i.push(u)});const o=i.some(s=>s.startsWith("v-col-"));return i.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return au(e.tag,{class:[r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),Yx=["start","end","center"],GD=["space-between","space-around","space-evenly"];function Xx(e,t){return im.reduce((n,r)=>{const i=e+Zh(r);return n[i]=t(),n},{})}const wq=[...Yx,"baseline","stretch"],YD=e=>wq.includes(e),XD=Xx("align",()=>({type:String,default:null,validator:YD})),xq=[...Yx,...GD],WD=e=>xq.includes(e),KD=Xx("justify",()=>({type:String,default:null,validator:WD})),_q=[...Yx,...GD,"stretch"],qD=e=>_q.includes(e),ZD=Xx("alignContent",()=>({type:String,default:null,validator:qD})),nA={align:Object.keys(XD),justify:Object.keys(KD),alignContent:Object.keys(ZD)},Sq={align:"align",justify:"justify",alignContent:"align-content"};function Eq(e,t,n){let r=Sq[e];if(n!=null){if(t){const i=t.replace(e,"");r+=`-${i}`}return r+=`-${n}`,r.toLowerCase()}}const Aq=je({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:YD},...XD,justify:{type:String,default:null,validator:WD},...KD,alignContent:{type:String,default:null,validator:qD},...ZD,...Xt(),...nr()},"VRow"),Ml=gt()({name:"VRow",props:Aq(),setup(e,t){let{slots:n}=t;const r=ne(()=>{const i=[];let a;for(a in nA)nA[a].forEach(o=>{const s=e[o],l=Eq(a,o,s);l&&i.push(l)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return au(e.tag,{class:["v-row",r.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),Cq=Zc("v-spacer","div","VSpacer");function Wx(e){return mw(()=>{const t=[],n={};if(e.value.background)if(m2(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&w4(e.value.background)){const r=x4(e.value.background);if(r.a==null||r.a===1){const i=_4(r);n.color=i,n.caretColor=i}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(m2(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function $a(e,t){const n=ne(()=>({text:jl(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:i}=Wx(n);return{textColorClasses:r,textColorStyles:i}}function ma(e,t){const n=ne(()=>({background:jl(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:i}=Wx(n);return{backgroundColorClasses:r,backgroundColorStyles:i}}const Tq=["x-small","small","default","large","x-large"],vd=je({size:{type:[String,Number],default:"default"}},"size");function pd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();return mw(()=>{let n,r;return Op(Tq,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:yt(e.size),height:yt(e.size)}),{sizeClasses:n,sizeStyles:r}})}const Pq=je({color:String,start:Boolean,end:Boolean,icon:wn,...Xt(),...vd(),...nr({tag:"i"}),...vr()},"VIcon"),bn=gt()({name:"VIcon",props:Pq(),setup(e,t){let{attrs:n,slots:r}=t;const i=nt(),{themeClasses:a}=Rr(e),{iconData:o}=S4(ne(()=>i.value||e.icon)),{sizeClasses:s}=pd(e),{textColorClasses:l,textColorStyles:u}=$a(ft(e,"color"));return Bt(()=>{var h,f;const c=(h=r.default)==null?void 0:h.call(r);return c&&(i.value=(f=E4(c).filter(d=>d.type===TT&&d.children&&typeof d.children=="string")[0])==null?void 0:f.children),H(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",a.value,s.value,l.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:yt(e.size),height:yt(e.size),width:yt(e.size)},u.value,e.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[c]})}),{}}});const Oq=je({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Wi(e,t,n){return gt()({name:e,props:Oq({mode:n,origin:t}),setup(r,i){let{slots:a}=i;const o={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:h}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${l}px`,s.style.left=`${u}px`,s.style.width=`${c}px`,s.style.height=`${h}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:l,top:u,left:c,width:h,height:f}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=l||"",s.style.top=u||"",s.style.left=c||"",s.style.width=h||"",s.style.height=f||""}}};return()=>{const s=r.group?PT:es;return au(s,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},a.default)}}})}function QD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return gt()({name:e,props:{mode:{type:String,default:n},disabled:Boolean},setup(r,i){let{slots:a}=i;return()=>au(es,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},a.default)}})}function JD(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=dw(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const s=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:a,onEnterCancelled:a,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(o){e&&o._parent&&o._parent.classList.remove(e),a(o)}function a(o){const s=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[n]=s),delete o._initialStyle}}const Iq=je({target:[Object,Array]},"v-dialog-transition"),e3=gt()({name:"VDialogTransition",props:Iq(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,a){var f;await new Promise(d=>requestAnimationFrame(d)),await new Promise(d=>requestAnimationFrame(d)),i.style.visibility="";const{x:o,y:s,sx:l,sy:u,speed:c}=iA(e.target,i),h=ac(i,[{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:j4});(f=rA(i))==null||f.forEach(d=>{ac(d,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:Dp})}),h.finished.then(()=>a())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,a){var f;await new Promise(d=>requestAnimationFrame(d));const{x:o,y:s,sx:l,sy:u,speed:c}=iA(e.target,i);ac(i,[{},{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:H4}).finished.then(()=>a()),(f=rA(i))==null||f.forEach(d=>{ac(d,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:Dp})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>e.target?H(es,Ct({name:"dialog-transition"},r,{css:!1}),n):H(es,{name:"dialog-transition"},n)}});function rA(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function iA(e,t){const n=zT(e),r=ww(t),[i,a]=getComputedStyle(t).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||s==="left"?l-=n.width/2:(o==="right"||s==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||s==="top"?u-=n.height/2:(o==="bottom"||s==="bottom")&&(u+=n.height/2);const c=n.width/r.width,h=n.height/r.height,f=Math.max(1,c,h),d=c/f||0,v=h/f||0,g=r.width*r.height/(window.innerWidth*window.innerHeight),p=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(i+r.left),y:u-(a+r.top),sx:d,sy:v,speed:p}}Wi("fab-transition","center center","out-in");Wi("dialog-bottom-transition");Wi("dialog-top-transition");const aA=Wi("fade-transition"),Mq=Wi("scale-transition");Wi("scroll-x-transition");Wi("scroll-x-reverse-transition");Wi("scroll-y-transition");Wi("scroll-y-reverse-transition");Wi("slide-x-transition");Wi("slide-x-reverse-transition");const t3=Wi("slide-y-transition");Wi("slide-y-reverse-transition");const Mg=QD("expand-transition",JD()),n3=QD("expand-x-transition",JD("",!0)),Dq=je({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),or=gt(!1)({name:"VDefaultsProvider",props:Dq(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:i,reset:a,root:o,scoped:s}=FT(e);return Ws(r,{reset:a,root:o,scoped:s,disabled:i}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),vb=Symbol.for("vuetify:list");function r3(){const e=sr(vb,{hasPrepend:ut(!1),updateHasPrepend:()=>null}),t={hasPrepend:ut(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Ii(vb,t),e}function i3(){return sr(vb,null)}const Fq={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){const a=new Set;a.add(t);let o=i.get(t);for(;o!=null;)a.add(o),o=i.get(o);return a}else return r.delete(t),r},select:()=>null},a3={open:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(n){let a=i.get(t);for(r.add(t);a!=null&&a!==t;)r.add(a),a=i.get(a);return r}else r.delete(t);return r},select:()=>null},kq={open:a3.open,select:e=>{let{id:t,value:n,opened:r,parents:i}=e;if(!n)return r;const a=[];let o=i.get(t);for(;o!=null;)a.push(o),o=i.get(o);return new Set(a)}},Kx=e=>{const t={select:n=>{let{id:r,value:i,selected:a}=n;if(r=xo(r),e&&!i){const o=Array.from(a.entries()).reduce((s,l)=>{let[u,c]=l;return c==="on"?[...s,u]:s},[]);if(o.length===1&&o[0]===r)return a}return a.set(r,i?"on":"off"),a},in:(n,r,i)=>{let a=new Map;for(const o of n||[])a=t.select({id:o,value:!0,selected:new Map(a),children:r,parents:i});return a},out:n=>{const r=[];for(const[i,a]of n.entries())a==="on"&&r.push(i);return r}};return t},o3=e=>{const t=Kx(e);return{select:r=>{let{selected:i,id:a,...o}=r;a=xo(a);const s=i.has(a)?new Map([[a,i.get(a)]]):new Map;return t.select({...o,id:a,selected:s})},in:(r,i,a)=>{let o=new Map;return r!=null&&r.length&&(o=t.in(r.slice(0,1),i,a)),o},out:(r,i,a)=>t.out(r,i,a)}},Bq=e=>{const t=Kx(e);return{select:r=>{let{id:i,selected:a,children:o,...s}=r;return i=xo(i),o.has(i)?a:t.select({id:i,selected:a,children:o,...s})},in:t.in,out:t.out}},Rq=e=>{const t=o3(e);return{select:r=>{let{id:i,selected:a,children:o,...s}=r;return i=xo(i),o.has(i)?a:t.select({id:i,selected:a,children:o,...s})},in:t.in,out:t.out}},Lq=e=>{const t={select:n=>{let{id:r,value:i,selected:a,children:o,parents:s}=n;r=xo(r);const l=new Map(a),u=[r];for(;u.length;){const h=u.shift();a.set(h,i?"on":"off"),o.has(h)&&u.push(...o.get(h))}let c=s.get(r);for(;c;){const h=o.get(c),f=h.every(v=>a.get(v)==="on"),d=h.every(v=>!a.has(v)||a.get(v)==="off");a.set(c,f?"on":d?"off":"indeterminate"),c=s.get(c)}return e&&!i&&Array.from(a.entries()).reduce((f,d)=>{let[v,g]=d;return g==="on"?[...f,v]:f},[]).length===0?l:a},in:(n,r,i)=>{let a=new Map;for(const o of n||[])a=t.select({id:o,value:!0,selected:new Map(a),children:r,parents:i});return a},out:(n,r)=>{const i=[];for(const[a,o]of n.entries())o==="on"&&!r.has(a)&&i.push(a);return i}};return t},Nh=Symbol.for("vuetify:nested"),s3={id:ut(),root:{register:()=>null,unregister:()=>null,parents:nt(new Map),children:nt(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:nt(new Set),selected:nt(new Map),selectedValues:nt([])}},Nq=je({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Uq=e=>{let t=!1;const n=nt(new Map),r=nt(new Map),i=Gn(e,"opened",e.opened,h=>new Set(h),h=>[...h.values()]),a=ne(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return Rq(e.mandatory);case"leaf":return Bq(e.mandatory);case"independent":return Kx(e.mandatory);case"single-independent":return o3(e.mandatory);case"classic":default:return Lq(e.mandatory)}}),o=ne(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return kq;case"single":return Fq;case"multiple":default:return a3}}),s=Gn(e,"selected",e.selected,h=>a.value.in(h,n.value,r.value),h=>a.value.out(h,n.value,r.value));fi(()=>{t=!0});function l(h){const f=[];let d=h;for(;d!=null;)f.unshift(d),d=r.value.get(d);return f}const u=Yi("nested"),c={id:ut(),root:{opened:i,selected:s,selectedValues:ne(()=>{const h=[];for(const[f,d]of s.value.entries())d==="on"&&h.push(f);return h}),register:(h,f,d)=>{f&&h!==f&&r.value.set(h,f),d&&n.value.set(h,[]),f!=null&&n.value.set(f,[...n.value.get(f)||[],h])},unregister:h=>{if(t)return;n.value.delete(h);const f=r.value.get(h);if(f){const d=n.value.get(f)??[];n.value.set(f,d.filter(v=>v!==h))}r.value.delete(h),i.value.delete(h)},open:(h,f,d)=>{u.emit("click:open",{id:h,value:f,path:l(h),event:d});const v=o.value.open({id:h,value:f,opened:new Set(i.value),children:n.value,parents:r.value,event:d});v&&(i.value=v)},openOnSelect:(h,f,d)=>{const v=o.value.select({id:h,value:f,selected:new Map(s.value),opened:new Set(i.value),children:n.value,parents:r.value,event:d});v&&(i.value=v)},select:(h,f,d)=>{u.emit("click:select",{id:h,value:f,path:l(h),event:d});const v=a.value.select({id:h,value:f,selected:new Map(s.value),children:n.value,parents:r.value,event:d});v&&(s.value=v),c.root.openOnSelect(h,f,d)},children:n,parents:r}};return Ii(Nh,c),c.root},l3=(e,t)=>{const n=sr(Nh,s3),r=Symbol(_o()),i=ne(()=>e.value!==void 0?e.value:r),a={...n,id:i,open:(o,s)=>n.root.open(i.value,o,s),openOnSelect:(o,s)=>n.root.openOnSelect(i.value,o,s),isOpen:ne(()=>n.root.opened.value.has(i.value)),parent:ne(()=>n.root.parents.value.get(i.value)),select:(o,s)=>n.root.select(i.value,o,s),isSelected:ne(()=>n.root.selected.value.get(xo(i.value))==="on"),isIndeterminate:ne(()=>n.root.selected.value.get(i.value)==="indeterminate"),isLeaf:ne(()=>!n.root.children.value.get(i.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(i.value,n.id.value,t),fi(()=>{!n.isGroupActivator&&n.root.unregister(i.value)}),t&&Ii(Nh,a),a},Vq=()=>{const e=sr(Nh,s3);Ii(Nh,{...e,isGroupActivator:!0})};function Zm(){const e=ut(!1);return Gi(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:ne(()=>e.value?void 0:{transition:"none !important"}),isBooted:rm(e)}}const nf=je({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),ks=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:i,...a}=e,{component:o=es,...s}=typeof r=="object"?r:{};return au(o,Ct(typeof r=="string"?{name:i?"":r}:s,a,{disabled:i}),n)},$q=A4({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return Vq(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),zq=je({activeColor:String,baseColor:String,color:String,collapseIcon:{type:wn,default:"$collapse"},expandIcon:{type:wn,default:"$expand"},prependIcon:wn,appendIcon:wn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Xt(),...nr()},"VListGroup"),pb=gt()({name:"VListGroup",props:zq(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:i,id:a}=l3(ft(e,"value"),!0),o=ne(()=>`v-list-group--id-${String(a.value)}`),s=i3(),{isBooted:l}=Zm();function u(d){i(!r.value,d)}const c=ne(()=>({onClick:u,class:"v-list-group__header",id:o.value})),h=ne(()=>r.value?e.collapseIcon:e.expandIcon),f=ne(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&h.value,appendIcon:e.appendIcon||!e.subgroup&&h.value,title:e.title,value:e.value}}));return Bt(()=>H(e.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&H(or,{defaults:f.value},{default:()=>[H($q,null,{default:()=>[n.activator({props:c.value,isOpen:r.value})]})]}),H(ks,{transition:{component:Mg},disabled:!l.value},{default:()=>{var d;return[dr(H("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(d=n.default)==null?void 0:d.call(n)]),[[us,r.value]])]}})]})),{}}});const jq=Zc("v-list-item-subtitle"),u3=Zc("v-list-item-title");const pu=je({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function gu(e){return{dimensionStyles:ne(()=>({height:yt(e.height),maxHeight:yt(e.maxHeight),maxWidth:yt(e.maxWidth),minHeight:yt(e.minHeight),minWidth:yt(e.minWidth),width:yt(e.width)}))}}function Hq(e){return{aspectStyles:ne(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const c3=je({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Xt(),...pu()},"VResponsive"),oA=gt()({name:"VResponsive",props:c3(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=Hq(e),{dimensionStyles:i}=gu(e);return Bt(()=>{var a;return H("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[i.value,e.style]},[H("div",{class:"v-responsive__sizer",style:r.value},null),(a=n.additional)==null?void 0:a.call(n),n.default&&H("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}}),Ki=je({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function qi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();return{roundedClasses:ne(()=>{const r=jl(e)?e.value:e.rounded,i=jl(e)?e.value:e.tile,a=[];if(r===!0||r==="")a.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const o of String(r).split(" "))a.push(`rounded-${o}`);else i&&a.push("rounded-0");return a})}}function Gq(e,t){if(!yw)return;const n=t.modifiers||{},r=t.value,{handler:i,options:a}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var h;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(h=e._observe)==null?void 0:h[t.instance.$.uid];if(!u)return;const c=s.some(f=>f.isIntersecting);i&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&i(c,s,l),c&&n.once?f3(e,t):u.init=!0},a);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function f3(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Yq={mounted:Gq,unmounted:f3},qx=Yq,Xq=je({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...c3(),...Xt(),...Ki(),...nf()},"VImg"),Zx=gt()({name:"VImg",directives:{intersect:qx},props:Xq(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:i,backgroundColorStyles:a}=ma(ft(e,"color")),{roundedClasses:o}=qi(e),s=Yi("VImg"),l=ut(""),u=nt(),c=ut(e.eager?"loading":"idle"),h=ut(),f=ut(),d=ne(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),v=ne(()=>d.value.aspect||h.value/f.value||0);bt(()=>e.src,()=>{g(c.value!=="idle")}),bt(v,(B,I)=>{!B&&I&&u.value&&w(u.value)}),nm(()=>g());function g(B){if(!(e.eager&&B)&&!(yw&&!B&&!e.eager)){if(c.value="loading",d.value.lazySrc){const I=new Image;I.src=d.value.lazySrc,w(I,null)}d.value.src&&tr(()=>{var I;n("loadstart",((I=u.value)==null?void 0:I.currentSrc)||d.value.src),setTimeout(()=>{var O;if(!s.isUnmounted)if((O=u.value)!=null&&O.complete){if(u.value.naturalWidth||y(),c.value==="error")return;v.value||w(u.value,null),c.value==="loading"&&p()}else v.value||w(u.value),m()})})}}function p(){var B;s.isUnmounted||(m(),w(u.value),c.value="loaded",n("load",((B=u.value)==null?void 0:B.currentSrc)||d.value.src))}function y(){var B;s.isUnmounted||(c.value="error",n("error",((B=u.value)==null?void 0:B.currentSrc)||d.value.src))}function m(){const B=u.value;B&&(l.value=B.currentSrc||B.src)}let b=-1;fi(()=>{clearTimeout(b)});function w(B){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const O=()=>{if(clearTimeout(b),s.isUnmounted)return;const{naturalHeight:L,naturalWidth:R}=B;L||R?(h.value=R,f.value=L):!B.complete&&c.value==="loading"&&I!=null?b=window.setTimeout(O,I):(B.currentSrc.endsWith(".svg")||B.currentSrc.startsWith("data:image/svg+xml"))&&(h.value=1,f.value=1)};O()}const x=ne(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),_=()=>{var O;if(!d.value.src||c.value==="idle")return null;const B=H("img",{class:["v-img__img",x.value],style:{objectPosition:e.position},src:d.value.src,srcset:d.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:p,onError:y},null),I=(O=r.sources)==null?void 0:O.call(r);return H(ks,{transition:e.transition,appear:!0},{default:()=>[dr(I?H("picture",{class:"v-img__picture"},[I,B]):B,[[us,c.value==="loaded"]])]})},S=()=>H(ks,{transition:e.transition},{default:()=>[d.value.lazySrc&&c.value!=="loaded"&&H("img",{class:["v-img__img","v-img__img--preload",x.value],style:{objectPosition:e.position},src:d.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),P=()=>r.placeholder?H(ks,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&H("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,C=()=>r.error?H(ks,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&H("div",{class:"v-img__error"},[r.error()])]}):null,D=()=>e.gradient?H("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=ut(!1);{const B=bt(v,I=>{I&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),B())})}return Bt(()=>{const B=oA.filterProps(e);return dr(H(oA,Ct({class:["v-img",{"v-img--booting":!T.value},i.value,o.value,e.class],style:[{width:yt(e.width==="auto"?h.value:e.width)},a.value,e.style]},B,{aspectRatio:v.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>H(fn,null,[H(_,null,null),H(S,null,null),H(D,null,null),H(P,null,null),H(C,null,null)]),default:r.default}),[[Ha("intersect"),{handler:g,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:h,naturalHeight:f}}}),Wq=[null,"default","comfortable","compact"],Ao=je({density:{type:String,default:"default",validator:e=>Wq.includes(e)}},"density");function ds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();return{densityClasses:ne(()=>`${t}--density-${e.density}`)}}const Kq=["elevated","flat","tonal","outlined","text","plain"];function gd(e,t){return H(fn,null,[e&&H("span",{key:"overlay",class:`${t}__overlay`},null),H("span",{key:"underlay",class:`${t}__underlay`},null)])}const Js=je({color:String,variant:{type:String,default:"elevated",validator:e=>Kq.includes(e)}},"variant");function md(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();const n=ne(()=>{const{variant:a}=Qe(e);return`${t}--variant-${a}`}),{colorClasses:r,colorStyles:i}=Wx(ne(()=>{const{variant:a,color:o}=Qe(e);return{[["elevated","flat"].includes(a)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:i,variantClasses:n}}const qq=je({start:Boolean,end:Boolean,icon:wn,image:String,text:String,...Xt(),...Ao(),...Ki(),...vd(),...nr(),...vr(),...Js({variant:"flat"})},"VAvatar"),Ys=gt()({name:"VAvatar",props:qq(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{colorClasses:i,colorStyles:a,variantClasses:o}=md(e),{densityClasses:s}=ds(e),{roundedClasses:l}=qi(e),{sizeClasses:u,sizeStyles:c}=pd(e);return Bt(()=>H(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,i.value,s.value,l.value,u.value,o.value,e.class],style:[a.value,c.value,e.style]},{default:()=>[n.default?H(or,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?H(Zx,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?H(bn,{key:"icon",icon:e.icon},null):e.text,gd(!1,"v-avatar")]})),{}}}),el=je({border:[Boolean,Number,String]},"border");function tl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();return{borderClasses:ne(()=>{const r=jl(e)?e.value:e.border,i=[];if(r===!0||r==="")i.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const a of String(r).split(" "))i.push(`border-${a}`);return i})}}const vs=je({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function ps(e){return{elevationClasses:ne(()=>{const n=jl(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}function Zq(){const e=Yi("useRoute");return ne(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function h3(){var e,t;return(t=(e=Yi("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Qm(e,t){const n=DT("RouterLink"),r=ne(()=>!!(e.href||e.to)),i=ne(()=>(r==null?void 0:r.value)||y2(t,"click")||y2(e,"click"));if(typeof n=="string")return{isLink:r,isClickable:i,href:ft(e,"href")};const a=e.to?n.useLink(e):void 0,o=Zq();return{isLink:r,isClickable:i,route:a==null?void 0:a.route,navigate:a==null?void 0:a.navigate,isActive:a&&ne(()=>{var s,l,u;return e.exact?o.value?((u=a.isExactActive)==null?void 0:u.value)&&Qh(a.route.value.query,o.value.query):(l=a.isExactActive)==null?void 0:l.value:(s=a.isActive)==null?void 0:s.value}),href:ne(()=>e.to?a==null?void 0:a.route.value.href:e.href)}}const Jm=je({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let my=!1;function Qq(e,t){let n=!1,r,i;Hi&&(tr(()=>{window.addEventListener("popstate",a),r=e==null?void 0:e.beforeEach((o,s,l)=>{my?n?t(l):l():setTimeout(()=>n?t(l):l()),my=!0}),i=e==null?void 0:e.afterEach(()=>{my=!1})}),Oi(()=>{window.removeEventListener("popstate",a),r==null||r(),i==null||i()}));function a(o){var s;(s=o.state)!=null&&s.replaced||(n=!0,setTimeout(()=>n=!1))}}const gb=Symbol("rippleStop"),Jq=80;function sA(e,t){e.style.transform=t,e.style.webkitTransform=t}function mb(e){return e.constructor.name==="TouchEvent"}function d3(e){return e.constructor.name==="KeyboardEvent"}const eZ=function(e,t){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;if(!d3(e)){const f=t.getBoundingClientRect(),d=mb(e)?e.touches[e.touches.length-1]:e;r=d.clientX-f.left,i=d.clientY-f.top}let a=0,o=.3;(h=t._ripple)!=null&&h.circle?(o=.15,a=t.clientWidth/2,a=n.center?a:a+Math.sqrt((r-a)**2+(i-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-a*2)/2}px`,l=`${(t.clientHeight-a*2)/2}px`,u=n.center?s:`${r-a}px`,c=n.center?l:`${i-a}px`;return{radius:a,scale:o,x:u,y:c,centerX:s,centerY:l}},Dg={show(e,t){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((d=t==null?void 0:t._ripple)!=null&&d.enabled))return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:a,scale:o,x:s,y:l,centerX:u,centerY:c}=eZ(e,t,n),h=`${a*2}px`;i.className="v-ripple__animation",i.style.width=h,i.style.height=h,t.appendChild(r);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),sA(i,`translate(${s}, ${l}) scale3d(${o},${o},${o})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),sA(i,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var a;if(!((a=e==null?void 0:e._ripple)!=null&&a.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=n.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(n.parentNode)},300)},i)}};function v3(e){return typeof e>"u"||!!e}function Uh(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[gb])){if(e[gb]=!0,mb(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||d3(e),n._ripple.class&&(t.class=n._ripple.class),mb(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Dg.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Jq)}else Dg.show(e,n,t)}}function lA(e){e[gb]=!0}function Vi(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Vi(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Dg.hide(t)}}function p3(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Vh=!1;function g3(e){!Vh&&(e.keyCode===b2.enter||e.keyCode===b2.space)&&(Vh=!0,Uh(e))}function m3(e){Vh=!1,Vi(e)}function y3(e){Vh&&(Vh=!1,Vi(e))}function b3(e,t,n){const{value:r,modifiers:i}=t,a=v3(r);if(a||Dg.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=a,e._ripple.centered=i.center,e._ripple.circle=i.circle,C4(r)&&r.class&&(e._ripple.class=r.class),a&&!n){if(i.stop){e.addEventListener("touchstart",lA,{passive:!0}),e.addEventListener("mousedown",lA);return}e.addEventListener("touchstart",Uh,{passive:!0}),e.addEventListener("touchend",Vi,{passive:!0}),e.addEventListener("touchmove",p3,{passive:!0}),e.addEventListener("touchcancel",Vi),e.addEventListener("mousedown",Uh),e.addEventListener("mouseup",Vi),e.addEventListener("mouseleave",Vi),e.addEventListener("keydown",g3),e.addEventListener("keyup",m3),e.addEventListener("blur",y3),e.addEventListener("dragstart",Vi,{passive:!0})}else!a&&n&&w3(e)}function w3(e){e.removeEventListener("mousedown",Uh),e.removeEventListener("touchstart",Uh),e.removeEventListener("touchend",Vi),e.removeEventListener("touchmove",p3),e.removeEventListener("touchcancel",Vi),e.removeEventListener("mouseup",Vi),e.removeEventListener("mouseleave",Vi),e.removeEventListener("keydown",g3),e.removeEventListener("keyup",m3),e.removeEventListener("dragstart",Vi),e.removeEventListener("blur",y3)}function tZ(e,t){b3(e,t,!1)}function nZ(e){delete e._ripple,w3(e)}function rZ(e,t){if(t.value===t.oldValue)return;const n=v3(t.oldValue);b3(e,t,n)}const rf={mounted:tZ,unmounted:nZ,updated:rZ},iZ=je({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:wn,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:wn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Ra(),onClickOnce:Ra(),...el(),...Xt(),...Ao(),...pu(),...vs(),...Ki(),...Jm(),...nr(),...vr(),...Js({variant:"text"})},"VListItem"),rs=gt()({name:"VListItem",directives:{Ripple:rf},props:iZ(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const a=Qm(e,n),o=ne(()=>e.value===void 0?a.href.value:e.value),{select:s,isSelected:l,isIndeterminate:u,isGroupActivator:c,root:h,parent:f,openOnSelect:d}=l3(o,!1),v=i3(),g=ne(()=>{var $;return e.active!==!1&&(e.active||(($=a.isActive)==null?void 0:$.value)||l.value)}),p=ne(()=>e.link!==!1&&a.isLink.value),y=ne(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||e.value!=null&&!!v)),m=ne(()=>e.rounded||e.nav),b=ne(()=>e.color??e.activeColor),w=ne(()=>({color:g.value?b.value??e.baseColor:e.baseColor,variant:e.variant}));bt(()=>{var $;return($=a.isActive)==null?void 0:$.value},$=>{$&&f.value!=null&&h.open(f.value,!0),$&&d($)},{immediate:!0});const{themeClasses:x}=Rr(e),{borderClasses:_}=tl(e),{colorClasses:S,colorStyles:P,variantClasses:C}=md(w),{densityClasses:D}=ds(e),{dimensionStyles:T}=gu(e),{elevationClasses:B}=ps(e),{roundedClasses:I}=qi(m),O=ne(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),L=ne(()=>({isActive:g.value,select:s,isSelected:l.value,isIndeterminate:u.value}));function R($){var j;i("click",$),!(c||!y.value)&&((j=a.navigate)==null||j.call(a,$),e.value!=null&&s(!l.value,$))}function U($){($.key==="Enter"||$.key===" ")&&($.preventDefault(),R($))}return Bt(()=>{const $=p.value?"a":e.tag,j=r.title||e.title!=null,z=r.subtitle||e.subtitle!=null,Y=!!(e.appendAvatar||e.appendIcon),Q=!!(Y||r.append),re=!!(e.prependAvatar||e.prependIcon),he=!!(re||r.prepend);return v==null||v.updateHasPrepend(he),e.activeColor&&T4("active-color",["color","base-color"]),dr(H($,{class:["v-list-item",{"v-list-item--active":g.value,"v-list-item--disabled":e.disabled,"v-list-item--link":y.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!he&&(v==null?void 0:v.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&g.value},x.value,_.value,S.value,D.value,B.value,O.value,I.value,C.value,e.class],style:[P.value,T.value,e.style],href:a.href.value,tabindex:y.value?v?-2:0:void 0,onClick:R,onKeydown:y.value&&!p.value&&U},{default:()=>{var ce;return[gd(y.value||g.value,"v-list-item"),he&&H("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?H(or,{key:"prepend-defaults",disabled:!re,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var te;return[(te=r.prepend)==null?void 0:te.call(r,L.value)]}}):H(fn,null,[e.prependAvatar&&H(Ys,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&H(bn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),H("div",{class:"v-list-item__spacer"},null)]),H("div",{class:"v-list-item__content","data-no-activator":""},[j&&H(u3,{key:"title"},{default:()=>{var te;return[((te=r.title)==null?void 0:te.call(r,{title:e.title}))??e.title]}}),z&&H(jq,{key:"subtitle"},{default:()=>{var te;return[((te=r.subtitle)==null?void 0:te.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(ce=r.default)==null?void 0:ce.call(r,L.value)]),Q&&H("div",{key:"append",class:"v-list-item__append"},[r.append?H(or,{key:"append-defaults",disabled:!Y,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var te;return[(te=r.append)==null?void 0:te.call(r,L.value)]}}):H(fn,null,[e.appendIcon&&H(bn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&H(Ys,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),H("div",{class:"v-list-item__spacer"},null)])]}}),[[Ha("ripple"),y.value&&e.ripple]])}),{}}}),aZ=je({color:String,inset:Boolean,sticky:Boolean,title:String,...Xt(),...nr()},"VListSubheader"),oZ=gt()({name:"VListSubheader",props:aZ(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:i}=$a(ft(e,"color"));return Bt(()=>{const a=!!(n.default||e.title);return H(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:i},e.style]},{default:()=>{var o;return[a&&H("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}});const sZ=je({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Xt(),...vr()},"VDivider"),x3=gt()({name:"VDivider",props:sZ(),setup(e,t){let{attrs:n}=t;const{themeClasses:r}=Rr(e),{textColorClasses:i,textColorStyles:a}=$a(ft(e,"color")),o=ne(()=>{const s={};return e.length&&(s[e.vertical?"maxHeight":"maxWidth"]=yt(e.length)),e.thickness&&(s[e.vertical?"borderRightWidth":"borderTopWidth"]=yt(e.thickness)),s});return Bt(()=>H("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,i.value,e.class],style:[o.value,a.value,e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),lZ=je({items:Array,returnObject:Boolean},"VListChildren"),_3=gt()({name:"VListChildren",props:lZ(),setup(e,t){let{slots:n}=t;return r3(),()=>{var r,i;return((r=n.default)==null?void 0:r.call(n))??((i=e.items)==null?void 0:i.map(a=>{var f,d;let{children:o,props:s,type:l,raw:u}=a;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:s}))??H(x3,s,null);if(l==="subheader")return((d=n.subheader)==null?void 0:d.call(n,{props:s}))??H(oZ,s,null);const c={subtitle:n.subtitle?v=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...v,item:u})}:void 0,prepend:n.prepend?v=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...v,item:u})}:void 0,append:n.append?v=>{var g;return(g=n.append)==null?void 0:g.call(n,{...v,item:u})}:void 0,title:n.title?v=>{var g;return(g=n.title)==null?void 0:g.call(n,{...v,item:u})}:void 0},h=pb.filterProps(s);return o?H(pb,Ct({value:s==null?void 0:s.value},h),{activator:v=>{let{props:g}=v;const p={...s,...g,value:e.returnObject?u:s.value};return n.header?n.header({props:p}):H(rs,p,c)},default:()=>H(_3,{items:o},n)}):n.item?n.item({props:s}):H(rs,Ct(s,{value:e.returnObject?u:s.value}),c)}))}}}),S3=je({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Qh}},"list-items");function Dl(e,t){const n=ro(t,e.itemTitle,t),r=ro(t,e.itemValue,n),i=ro(t,e.itemChildren),a=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?ou(t,["children"]):t:void 0:ro(t,e.itemProps),o={title:n,value:r,...a};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(i)?E3(e,i):void 0,raw:t}}function E3(e,t){const n=[];for(const r of t)n.push(Dl(e,r));return n}function A3(e){const t=ne(()=>E3(e,e.items)),n=ne(()=>t.value.some(a=>a.value===null));function r(a){return n.value||(a=a.filter(o=>o!==null)),a.map(o=>e.returnObject&&typeof o=="string"?Dl(e,o):t.value.find(s=>e.valueComparator(o,s.value))||Dl(e,o))}function i(a){return e.returnObject?a.map(o=>{let{raw:s}=o;return s}):a.map(o=>{let{value:s}=o;return s})}return{items:t,transformIn:r,transformOut:i}}function uZ(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function cZ(e,t){const n=ro(t,e.itemType,"item"),r=uZ(t)?t:ro(t,e.itemTitle),i=ro(t,e.itemValue,void 0),a=ro(t,e.itemChildren),o=e.itemProps===!0?ou(t,["children"]):ro(t,e.itemProps),s={title:r,value:i,...o};return{type:n,title:s.title,value:s.value,props:s,children:n==="item"&&a?C3(e,a):void 0,raw:t}}function C3(e,t){const n=[];for(const r of t)n.push(cZ(e,r));return n}function fZ(e){return{items:ne(()=>C3(e,e.items))}}const hZ=je({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...Nq({selectStrategy:"single-leaf",openStrategy:"list"}),...el(),...Xt(),...Ao(),...pu(),...vs(),itemType:{type:String,default:"type"},...S3(),...Ki(),...nr(),...vr(),...Js({variant:"text"})},"VList"),Qx=gt()({name:"VList",props:hZ(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=fZ(e),{themeClasses:i}=Rr(e),{backgroundColorClasses:a,backgroundColorStyles:o}=ma(ft(e,"bgColor")),{borderClasses:s}=tl(e),{densityClasses:l}=ds(e),{dimensionStyles:u}=gu(e),{elevationClasses:c}=ps(e),{roundedClasses:h}=qi(e),{open:f,select:d}=Uq(e),v=ne(()=>e.lines?`v-list--${e.lines}-line`:void 0),g=ft(e,"activeColor"),p=ft(e,"baseColor"),y=ft(e,"color");r3(),Ws({VListGroup:{activeColor:g,baseColor:p,color:y,expandIcon:ft(e,"expandIcon"),collapseIcon:ft(e,"collapseIcon")},VListItem:{activeClass:ft(e,"activeClass"),activeColor:g,baseColor:p,color:y,density:ft(e,"density"),disabled:ft(e,"disabled"),lines:ft(e,"lines"),nav:ft(e,"nav"),slim:ft(e,"slim"),variant:ft(e,"variant")}});const m=ut(!1),b=nt();function w(D){m.value=!0}function x(D){m.value=!1}function _(D){var T;!m.value&&!(D.relatedTarget&&((T=b.value)!=null&&T.contains(D.relatedTarget)))&&C()}function S(D){if(b.value){if(D.key==="ArrowDown")C("next");else if(D.key==="ArrowUp")C("prev");else if(D.key==="Home")C("first");else if(D.key==="End")C("last");else return;D.preventDefault()}}function P(D){m.value=!0}function C(D){if(b.value)return u1(b.value,D)}return Bt(()=>H(e.tag,{ref:b,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},i.value,a.value,s.value,l.value,c.value,v.value,h.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||m.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:w,onFocusout:x,onFocus:_,onKeydown:S,onMousedown:P},{default:()=>[H(_3,{items:r.value,returnObject:e.returnObject},n)]})),{open:f,select:d,focus:C}}}),dZ={name:"node-list",props:["nodes","color","keywords","keywordSearchPattern"],components:{draggable:UD},data:()=>({d3:yK,highlightText:CD,removeExtraNewlines:op,mdiChevronRight:oq,mdiChevronDown:aq,mdiFile:VD,mdiFolder:hq,dragging:!1}),computed:{nodesList(){return Rp(this.nodes,e=>e.data==null?e.id:+e.data.name.replace(".txt",""))}},methods:{getNodeColor(e){return this.color(this.getNodeName(e))},getNodeName(e){return e.id.split("/").at(-1)},getDirectoryNumFilesMessage(e){return e.height>1?`(${e.children.filter(t=>t.height==0).length} / ${e.leaves().length})`:`(${e.children.length})`},getDirectoryBorder(e){return e.depth>1?"1px solid #ccc":"none"},mouseenterNode(e,t){this.dragging||mn(".tooltip").style("display","block").style("opacity",1).html(this.getTooltipHTML(t.data.text))},mousemoveNode(e,t){this.dragging||this.positionTooltip(e.x,e.y)},mouseleaveNode(e,t){this.dragging||mn(".tooltip").style("display","none").style("opacity",0).html("")},clickNode(){this.dragging=!1},mousedownNode(){this.dragging=!0,mn(".tooltip").style("display","none").style("opacity",0).html("")},dragstartNode(){this.dragging=!0,mn(".tooltip").style("display","none").style("opacity",0).html("")},dragendNode(){this.dragging=!1},positionTooltip(e,t){const i=mn(".tooltip"),a=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),o=i.node().getBoundingClientRect().width+2,s=i.node().getBoundingClientRect().height+2;let l=window.scrollX+e- -24;l>=a-o&&(l=e-o+-24);let u=window.scrollY+t-s-12;u<=0&&(u=0),i.style("left",`${l}px`).style("top",`${u}px`)},getTooltipHTML(e){const t=this.removeExtraNewlines(e);return this.highlightText(t,this.keywords,this.keywordSearchPattern)}}},vZ={class:"d-flex align-center"},pZ={class:"pl-1"},gZ={class:"px-1 directory-numfiles-message"};function mZ(e,t,n,r,i,a){const o=l1("node-list"),s=l1("draggable");return gn(),ar(Qx,{density:"compact",class:"file-list-container"},{default:vt(()=>[(gn(!0),ua(fn,null,xh(a.nodesList,(l,u)=>(gn(),ua(fn,null,[l.children&&l.children.length?(gn(),ar(pb,{key:0},{activator:vt(({isOpen:c,props:h})=>[H(rs,Ct(h,{variant:c?"tonal":"flat",style:{paddingInline:"0px !important",borderLeft:a.getDirectoryBorder(l)}}),{prepend:vt(()=>[H(bn,{size:"small",density:"compact",icon:c?e.mdiChevronDown:e.mdiChevronRight},null,8,["icon"])]),append:vt(()=>[Fr("span",gZ,Oa(a.getDirectoryNumFilesMessage(l)),1)]),default:vt(()=>[Fr("div",vZ,[H(bn,{size:"small",density:"compact",icon:e.mdiFolder,style:pw({color:a.getNodeColor(l)})},null,8,["icon","style"]),Fr("span",pZ,Oa(a.getNodeName(l)),1)])]),_:2},1040,["variant","style"])]),default:vt(()=>[H(o,{class:"py-0",nodes:e.d3.sort(l.children,c=>-c.height),color:n.color,keywords:n.keywords,keywordSearchPattern:n.keywordSearchPattern,style:{"margin-left":"6px"}},null,8,["nodes","color","keywords","keywordSearchPattern"])]),_:2},1024)):(gn(),ar(s,{key:1,class:"dragArea list-group",list:[{name:l.data.name,id:l.data.id}],group:{name:"people",pull:"clone",put:!1},"item-key":"name"},{item:vt(({element:c})=>[H(rs,{title:c.name,class:"file-item",style:{"padding-inline":"0px !important","border-left":"1px solid #ccc",height:"16px"},onClick:a.clickNode,onMouseenter:h=>a.mouseenterNode(h,l),onMousemove:h=>a.mousemoveNode(h,l),onMouseleave:h=>a.mouseleaveNode(h,l),onMousedown:a.mousedownNode,onDragstart:a.dragstartNode,onDragend:a.dragendNode},{prepend:vt(()=>[H(Cq,{class:"file-spacer"}),H(bn,{size:"small",density:"compact",icon:e.mdiFile},null,8,["icon"])]),_:2},1032,["title","onClick","onMouseenter","onMousemove","onMouseleave","onMousedown","onDragstart","onDragend"])]),_:2},1032,["list"]))],64))),256))]),_:1})}const yZ=pq(dZ,[["render",mZ]]);const bZ=je({text:String,onClick:Ra(),...Xt(),...vr()},"VLabel"),Jx=gt()({name:"VLabel",props:bZ(),setup(e,t){let{slots:n}=t;return Bt(()=>{var r;return H("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}});const T3=Symbol.for("vuetify:selection-control-group"),P3=je({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:wn,trueIcon:wn,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Qh},...Xt(),...Ao(),...vr()},"SelectionControlGroup"),wZ=je({...P3({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");gt()({name:"VSelectionControlGroup",props:wZ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Gn(e,"modelValue"),i=_o(),a=ne(()=>e.id||`v-selection-control-group-${i}`),o=ne(()=>e.name||a.value),s=new Set;return Ii(T3,{modelValue:r,forceUpdate:()=>{s.forEach(l=>l())},onForceUpdate:l=>{s.add(l),Oi(()=>{s.delete(l)})}}),Ws({[e.defaultsTarget]:{color:ft(e,"color"),disabled:ft(e,"disabled"),density:ft(e,"density"),error:ft(e,"error"),inline:ft(e,"inline"),modelValue:r,multiple:ne(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:o,falseIcon:ft(e,"falseIcon"),trueIcon:ft(e,"trueIcon"),readonly:ft(e,"readonly"),ripple:ft(e,"ripple"),type:ft(e,"type"),valueComparator:ft(e,"valueComparator")}}),Bt(()=>{var l;return H("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}});const O3=je({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Xt(),...P3()},"VSelectionControl");function xZ(e){const t=sr(T3,void 0),{densityClasses:n}=ds(e),r=Gn(e,"modelValue"),i=ne(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),a=ne(()=>e.falseValue!==void 0?e.falseValue:!1),o=ne(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),s=ne({get(){const d=t?t.modelValue.value:r.value;return o.value?va(d).some(v=>e.valueComparator(v,i.value)):e.valueComparator(d,i.value)},set(d){if(e.readonly)return;const v=d?i.value:a.value;let g=v;o.value&&(g=d?[...va(r.value),v]:va(r.value).filter(p=>!e.valueComparator(p,i.value))),t?t.modelValue.value=g:r.value=g}}),{textColorClasses:l,textColorStyles:u}=$a(ne(()=>{if(!(e.error||e.disabled))return s.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:h}=ma(ne(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),f=ne(()=>s.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:i,falseValue:a,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:h,icon:f}}const uA=gt()({name:"VSelectionControl",directives:{Ripple:rf},inheritAttrs:!1,props:O3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:i,densityClasses:a,icon:o,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:h,trueValue:f}=xZ(e),d=_o(),v=ut(!1),g=ut(!1),p=nt(),y=ne(()=>e.id||`input-${d}`),m=ne(()=>!e.disabled&&!e.readonly);i==null||i.onForceUpdate(()=>{p.value&&(p.value.checked=s.value)});function b(S){m.value&&(v.value=!0,Mp(S.target,":focus-visible")!==!1&&(g.value=!0))}function w(){v.value=!1,g.value=!1}function x(S){S.stopPropagation()}function _(S){m.value&&(e.readonly&&i&&tr(()=>i.forceUpdate()),s.value=S.target.checked)}return Bt(()=>{var T,B;const S=r.label?r.label({label:e.label,props:{for:y.value}}):e.label,[P,C]=bw(n),D=H("input",Ct({ref:p,checked:s.value,disabled:!!e.disabled,id:y.value,onBlur:w,onFocus:b,onInput:_,"aria-disabled":!!e.disabled,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},C),null);return H("div",Ct({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":v.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":e.inline},a.value,e.class]},P,{style:e.style}),[H("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(T=r.default)==null?void 0:T.call(r,{backgroundColorClasses:c,backgroundColorStyles:h}),dr(H("div",{class:["v-selection-control__input"]},[((B=r.input)==null?void 0:B.call(r,{model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:h,inputNode:D,icon:o.value,props:{onFocus:b,onBlur:w,id:y.value}}))??H(fn,null,[o.value&&H(bn,{key:"icon",icon:o.value},null),D])]),[[Ha("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),S&&H(Jx,{for:y.value,onClick:x},{default:()=>[S]})])}),{isFocused:v,input:p}}}),_Z=je({indeterminate:Boolean,indeterminateIcon:{type:wn,default:"$checkboxIndeterminate"},...O3({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),I3=gt()({name:"VCheckboxBtn",props:_Z(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=Gn(e,"indeterminate"),i=Gn(e,"modelValue");function a(l){r.value&&(r.value=!1)}const o=ne(()=>r.value?e.indeterminateIcon:e.falseIcon),s=ne(()=>r.value?e.indeterminateIcon:e.trueIcon);return Bt(()=>{const l=ou(uA.filterProps(e),["modelValue"]);return H(uA,Ct(l,{modelValue:i.value,"onUpdate:modelValue":[u=>i.value=u,a],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:s.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}});function M3(e){const{t}=am();function n(r){let{name:i}=r;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],o=e[`onClick:${i}`],s=o&&a?t(`$vuetify.input.${a}`,e.label??""):void 0;return H(bn,{icon:e[`${i}Icon`],"aria-label":s,onClick:o},null)}return{InputIcon:n}}const SZ=je({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Xt(),...nf({transition:{component:t3,leaveAbsolute:!0,group:!0}})},"VMessages"),EZ=gt()({name:"VMessages",props:SZ(),setup(e,t){let{slots:n}=t;const r=ne(()=>va(e.messages)),{textColorClasses:i,textColorStyles:a}=$a(ne(()=>e.color));return Bt(()=>H(ks,{transition:e.transition,tag:"div",class:["v-messages",i.value,e.class],style:[a.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((o,s)=>H("div",{class:"v-messages__message",key:`${s}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),e_=je({focused:Boolean,"onUpdate:focused":Ra()},"focus");function e0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();const n=Gn(e,"focused"),r=ne(()=>({[`${t}--focused`]:n.value}));function i(){n.value=!0}function a(){n.value=!1}return{focusClasses:r,isFocused:n,focus:i,blur:a}}const AZ=Symbol.for("vuetify:form");function t_(){return sr(AZ,null)}const CZ=je({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...e_()},"validation");function TZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_o();const r=Gn(e,"modelValue"),i=ne(()=>e.validationValue===void 0?r.value:e.validationValue),a=t_(),o=nt([]),s=ut(!0),l=ne(()=>!!(va(r.value===""?null:r.value).length||va(i.value===""?null:i.value).length)),u=ne(()=>!!(e.disabled??(a==null?void 0:a.isDisabled.value))),c=ne(()=>!!(e.readonly??(a==null?void 0:a.isReadonly.value))),h=ne(()=>{var w;return(w=e.errorMessages)!=null&&w.length?va(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),f=ne(()=>{let w=(e.validateOn??(a==null?void 0:a.validateOn.value))||"input";w==="lazy"&&(w="input lazy");const x=new Set((w==null?void 0:w.split(" "))??[]);return{blur:x.has("blur")||x.has("input"),input:x.has("input"),submit:x.has("submit"),lazy:x.has("lazy")}}),d=ne(()=>{var w;return e.error||(w=e.errorMessages)!=null&&w.length?!1:e.rules.length?s.value?o.value.length||f.value.lazy?null:!0:!o.value.length:!0}),v=ut(!1),g=ne(()=>({[`${t}--error`]:d.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),p=ne(()=>e.name??Qe(n));nm(()=>{a==null||a.register({id:p.value,validate:b,reset:y,resetValidation:m})}),fi(()=>{a==null||a.unregister(p.value)}),Gi(async()=>{f.value.lazy||await b(!0),a==null||a.update(p.value,d.value,h.value)}),uo(()=>f.value.input,()=>{bt(i,()=>{if(i.value!=null)b();else if(e.focused){const w=bt(()=>e.focused,x=>{x||b(),w()})}})}),uo(()=>f.value.blur,()=>{bt(()=>e.focused,w=>{w||b()})}),bt([d,h],()=>{a==null||a.update(p.value,d.value,h.value)});function y(){r.value=null,tr(m)}function m(){s.value=!0,f.value.lazy?o.value=[]:b(!0)}async function b(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=[];v.value=!0;for(const _ of e.rules){if(x.length>=+(e.maxErrors??1))break;const P=await(typeof _=="function"?_:()=>_)(i.value);if(P!==!0){if(P!==!1&&typeof P!="string"){console.warn(`${P} is not a valid value. Rule functions must return boolean true or a string.`);continue}x.push(P||"")}}return o.value=x,v.value=!1,s.value=w,o.value}return{errorMessages:h,isDirty:l,isDisabled:u,isReadonly:c,isPristine:s,isValid:d,isValidating:v,reset:y,resetValidation:m,validate:b,validationClasses:g}}const t0=je({id:String,appendIcon:wn,centerAffix:{type:Boolean,default:!0},prependIcon:wn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Ra(),"onClick:append":Ra(),...Xt(),...Ao(),...CZ()},"VInput"),zc=gt()({name:"VInput",props:{...t0()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:i}=t;const{densityClasses:a}=ds(e),{rtlClasses:o}=Xi(),{InputIcon:s}=M3(e),l=_o(),u=ne(()=>e.id||`input-${l}`),c=ne(()=>`${u.value}-messages`),{errorMessages:h,isDirty:f,isDisabled:d,isReadonly:v,isPristine:g,isValid:p,isValidating:y,reset:m,resetValidation:b,validate:w,validationClasses:x}=TZ(e,"v-input",u),_=ne(()=>({id:u,messagesId:c,isDirty:f,isDisabled:d,isReadonly:v,isPristine:g,isValid:p,isValidating:y,reset:m,resetValidation:b,validate:w})),S=ne(()=>{var P;return(P=e.errorMessages)!=null&&P.length||!g.value&&h.value.length?h.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Bt(()=>{var B,I,O,L;const P=!!(r.prepend||e.prependIcon),C=!!(r.append||e.appendIcon),D=S.value.length>0,T=!e.hideDetails||e.hideDetails==="auto"&&(D||!!r.details);return H("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,o.value,x.value,e.class],style:e.style},[P&&H("div",{key:"prepend",class:"v-input__prepend"},[(B=r.prepend)==null?void 0:B.call(r,_.value),e.prependIcon&&H(s,{key:"prepend-icon",name:"prepend"},null)]),r.default&&H("div",{class:"v-input__control"},[(I=r.default)==null?void 0:I.call(r,_.value)]),C&&H("div",{key:"append",class:"v-input__append"},[e.appendIcon&&H(s,{key:"append-icon",name:"append"},null),(O=r.append)==null?void 0:O.call(r,_.value)]),T&&H("div",{class:"v-input__details"},[H(EZ,{id:c.value,active:D,messages:S.value},{message:r.message}),(L=r.details)==null?void 0:L.call(r,_.value)])])}),{reset:m,resetValidation:b,validate:w,isValid:p,errorMessages:h}}});const n_=je({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),D3=je({value:null,disabled:Boolean,selectedClass:String},"group-item");function F3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Yi("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=_o();Ii(Symbol.for(`${t.description}:id`),i);const a=sr(t,null);if(!a){if(!n)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=ft(e,"value"),s=ne(()=>!!(a.disabled.value||e.disabled));a.register({id:i,value:o,disabled:s},r),fi(()=>{a.unregister(i)});const l=ne(()=>a.isSelected(i)),u=ne(()=>l.value&&[a.selectedClass.value,e.selectedClass]);return bt(l,c=>{r.emit("group:selected",{value:c})},{flush:"sync"}),{id:i,isSelected:l,toggle:()=>a.select(i,!l.value),select:c=>a.select(i,c),selectedClass:u,value:o,disabled:s,group:a}}function r_(e,t){let n=!1;const r=$o([]),i=Gn(e,"modelValue",[],f=>f==null?[]:k3(r,va(f)),f=>{const d=OZ(r,f);return e.multiple?d:d[0]}),a=Yi("useGroup");function o(f,d){const v=f,g=Symbol.for(`${t.description}:id`),y=LT(g,a==null?void 0:a.vnode).indexOf(d);Qe(v.value)==null&&(v.value=y),y>-1?r.splice(y,0,v):r.push(v)}function s(f){if(n)return;l();const d=r.findIndex(v=>v.id===f);r.splice(d,1)}function l(){const f=r.find(d=>!d.disabled);f&&e.mandatory==="force"&&!i.value.length&&(i.value=[f.id])}Gi(()=>{l()}),fi(()=>{n=!0});function u(f,d){const v=r.find(g=>g.id===f);if(!(d&&(v!=null&&v.disabled)))if(e.multiple){const g=i.value.slice(),p=g.findIndex(m=>m===f),y=~p;if(d=d??!y,y&&e.mandatory&&g.length<=1||!y&&e.max!=null&&g.length+1>e.max)return;p<0&&d?g.push(f):p>=0&&!d&&g.splice(p,1),i.value=g}else{const g=i.value.includes(f);if(e.mandatory&&g)return;i.value=d??!g?[f]:[]}}function c(f){if(e.multiple,i.value.length){const d=i.value[0],v=r.findIndex(y=>y.id===d);let g=(v+f)%r.length,p=r[g];for(;p.disabled&&g!==v;)g=(g+f)%r.length,p=r[g];if(p.disabled)return;i.value=[r[g].id]}else{const d=r.find(v=>!v.disabled);d&&(i.value=[d.id])}}const h={register:o,unregister:s,selected:i,select:u,disabled:ft(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:f=>i.value.includes(f),selectedClass:ne(()=>e.selectedClass),items:ne(()=>r),getItemIndex:f=>PZ(r,f)};return Ii(t,h),h}function PZ(e,t){const n=k3(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function k3(e,t){const n=[];return t.forEach(r=>{const i=e.find(o=>Qh(r,o.value)),a=e[r];(i==null?void 0:i.value)!=null?n.push(i.id):a!=null&&n.push(a.id)}),n}function OZ(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(a=>a.id===r);if(~i){const a=e[i];n.push(a.value!=null?a.value:i)}}),n}function cA(e){const n=Math.abs(e);return Math.sign(e)*(n/((1/.501-2)*(1-n)+1))}function fA(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:i,currentScrollOffset:a,isHorizontal:o}=e;const s=o?t.clientWidth:t.clientHeight,l=o?t.offsetLeft:t.offsetTop,u=i&&o?r-l-s:l,c=n+a,h=s+u,f=s*.4;return u<=a?a=Math.max(u-f,0):c<=h&&(a=Math.min(a-(c-h-f),r-n)),a}function IZ(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:i,isHorizontal:a}=e;const o=a?t.clientWidth:t.clientHeight,s=a?t.offsetLeft:t.offsetTop,l=i&&a?r-s-o/2-n/2:s+o/2-n/2;return Math.min(r-n,Math.max(0,l))}const MZ=Symbol.for("vuetify:v-slide-group"),B3=je({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:MZ},nextIcon:{type:wn,default:"$next"},prevIcon:{type:wn,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Xt(),...NT(),...nr(),...n_({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),hA=gt()({name:"VSlideGroup",props:B3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=Xi(),{displayClasses:i,mobile:a}=om(e),o=r_(e,e.symbol),s=ut(!1),l=ut(0),u=ut(0),c=ut(0),h=ne(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:d}=Sc(),{resizeRef:v,contentRect:g}=Sc(),p=ne(()=>o.selected.value.length?o.items.value.findIndex(Y=>Y.id===o.selected.value[0]):-1),y=ne(()=>o.selected.value.length?o.items.value.findIndex(Y=>Y.id===o.selected.value[o.selected.value.length-1]):-1);if(Hi){let Y=-1;bt(()=>[o.selected.value,d.value,g.value,h.value],()=>{cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{if(d.value&&g.value){const Q=h.value?"width":"height";u.value=d.value[Q],c.value=g.value[Q],s.value=u.value+1<c.value}if(p.value>=0&&v.value){const Q=v.value.children[y.value];p.value===0||!s.value?l.value=0:e.centerActive?l.value=IZ({selectedElement:Q,containerSize:u.value,contentSize:c.value,isRtl:r.value,isHorizontal:h.value}):s.value&&(l.value=fA({selectedElement:Q,containerSize:u.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:l.value,isHorizontal:h.value}))}})})}const m=ut(!1);let b=0,w=0;function x(Y){const Q=h.value?"clientX":"clientY";w=(r.value&&h.value?-1:1)*l.value,b=Y.touches[0][Q],m.value=!0}function _(Y){if(!s.value)return;const Q=h.value?"clientX":"clientY",re=r.value&&h.value?-1:1;l.value=re*(w+b-Y.touches[0][Q])}function S(Y){const Q=c.value-u.value;l.value<0||!s.value?l.value=0:l.value>=Q&&(l.value=Q),m.value=!1}function P(){f.value&&(f.value[h.value?"scrollLeft":"scrollTop"]=0)}const C=ut(!1);function D(Y){if(C.value=!0,!(!s.value||!v.value)){for(const Q of Y.composedPath())for(const re of v.value.children)if(re===Q){l.value=fA({selectedElement:re,containerSize:u.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:l.value,isHorizontal:h.value});return}}}function T(Y){C.value=!1}function B(Y){var Q;!C.value&&!(Y.relatedTarget&&((Q=v.value)!=null&&Q.contains(Y.relatedTarget)))&&O()}function I(Y){v.value&&(h.value?Y.key==="ArrowRight"?O(r.value?"prev":"next"):Y.key==="ArrowLeft"&&O(r.value?"next":"prev"):Y.key==="ArrowDown"?O("next"):Y.key==="ArrowUp"&&O("prev"),Y.key==="Home"?O("first"):Y.key==="End"&&O("last"))}function O(Y){var Q,re,he,ce,te;if(v.value)if(!Y)(Q=c1(v.value)[0])==null||Q.focus();else if(Y==="next"){const ee=(re=v.value.querySelector(":focus"))==null?void 0:re.nextElementSibling;ee?ee.focus():O("first")}else if(Y==="prev"){const ee=(he=v.value.querySelector(":focus"))==null?void 0:he.previousElementSibling;ee?ee.focus():O("last")}else Y==="first"?(ce=v.value.firstElementChild)==null||ce.focus():Y==="last"&&((te=v.value.lastElementChild)==null||te.focus())}function L(Y){const Q=l.value+(Y==="prev"?-1:1)*u.value;l.value=co(Q,0,c.value-u.value)}const R=ne(()=>{let Y=l.value>c.value-u.value?-(c.value-u.value)+cA(c.value-u.value-l.value):-l.value;l.value<=0&&(Y=cA(-l.value));const Q=r.value&&h.value?-1:1;return{transform:`translate${h.value?"X":"Y"}(${Q*Y}px)`,transition:m.value?"none":"",willChange:m.value?"transform":""}}),U=ne(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),$=ne(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return s.value||Math.abs(l.value)>0;case"mobile":return a.value||s.value||Math.abs(l.value)>0;default:return!a.value&&(s.value||Math.abs(l.value)>0)}}),j=ne(()=>Math.abs(l.value)>0),z=ne(()=>c.value>Math.abs(l.value)+u.value);return Bt(()=>H(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!h.value,"v-slide-group--has-affixes":$.value,"v-slide-group--is-overflowing":s.value},i.value,e.class],style:e.style,tabindex:C.value||o.selected.value.length?-1:0,onFocus:B},{default:()=>{var Y,Q,re;return[$.value&&H("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!j.value}],onClick:()=>j.value&&L("prev")},[((Y=n.prev)==null?void 0:Y.call(n,U.value))??H(aA,null,{default:()=>[H(bn,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),H("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:P},[H("div",{ref:v,class:"v-slide-group__content",style:R.value,onTouchstartPassive:x,onTouchmovePassive:_,onTouchendPassive:S,onFocusin:D,onFocusout:T,onKeydown:I},[(Q=n.default)==null?void 0:Q.call(n,U.value)])]),$.value&&H("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!z.value}],onClick:()=>z.value&&L("next")},[((re=n.next)==null?void 0:re.call(n,U.value))??H(aA,null,{default:()=>[H(bn,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:L,scrollOffset:l,focus:O}}}),R3=Symbol.for("vuetify:v-chip-group"),DZ=je({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Qh},...B3(),...Xt(),...n_({selectedClass:"v-chip--selected"}),...nr(),...vr(),...Js({variant:"tonal"})},"VChipGroup");gt()({name:"VChipGroup",props:DZ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{isSelected:i,select:a,next:o,prev:s,selected:l}=r_(e,R3);return Ws({VChip:{color:ft(e,"color"),disabled:ft(e,"disabled"),filter:ft(e,"filter"),variant:ft(e,"variant")}}),Bt(()=>{const u=hA.filterProps(e);return H(hA,Ct(u,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,select:a,next:o,prev:s,selected:l.value})]}})}),{}}});const FZ=je({activeClass:String,appendAvatar:String,appendIcon:wn,closable:Boolean,closeIcon:{type:wn,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:wn,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ra(),onClickOnce:Ra(),...el(),...Xt(),...Ao(),...vs(),...D3(),...Ki(),...Jm(),...vd(),...nr({tag:"span"}),...vr(),...Js({variant:"tonal"})},"VChip"),uc=gt()({name:"VChip",directives:{Ripple:rf},props:FZ(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{t:a}=am(),{borderClasses:o}=tl(e),{colorClasses:s,colorStyles:l,variantClasses:u}=md(e),{densityClasses:c}=ds(e),{elevationClasses:h}=ps(e),{roundedClasses:f}=qi(e),{sizeClasses:d}=pd(e),{themeClasses:v}=Rr(e),g=Gn(e,"modelValue"),p=F3(e,R3,!1),y=Qm(e,n),m=ne(()=>e.link!==!1&&y.isLink.value),b=ne(()=>!e.disabled&&e.link!==!1&&(!!p||e.link||y.isClickable.value)),w=ne(()=>({"aria-label":a(e.closeLabel),onClick(S){S.stopPropagation(),g.value=!1,r("click:close",S)}}));function x(S){var P;r("click",S),b.value&&((P=y.navigate)==null||P.call(y,S),p==null||p.toggle())}function _(S){(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),x(S))}return()=>{const S=y.isLink.value?"a":e.tag,P=!!(e.appendIcon||e.appendAvatar),C=!!(P||i.append),D=!!(i.close||e.closable),T=!!(i.filter||e.filter)&&p,B=!!(e.prependIcon||e.prependAvatar),I=!!(B||i.prepend),O=!p||p.isSelected.value;return g.value&&dr(H(S,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":b.value,"v-chip--filter":T,"v-chip--pill":e.pill},v.value,o.value,O?s.value:void 0,c.value,h.value,f.value,d.value,u.value,p==null?void 0:p.selectedClass.value,e.class],style:[O?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:y.href.value,tabindex:b.value?0:void 0,onClick:x,onKeydown:b.value&&!m.value&&_},{default:()=>{var L;return[gd(b.value,"v-chip"),T&&H(n3,{key:"filter"},{default:()=>[dr(H("div",{class:"v-chip__filter"},[i.filter?H(or,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},i.filter):H(bn,{key:"filter-icon",icon:e.filterIcon},null)]),[[us,p.isSelected.value]])]}),I&&H("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?H(or,{key:"prepend-defaults",disabled:!B,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},i.prepend):H(fn,null,[e.prependIcon&&H(bn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&H(Ys,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),H("div",{class:"v-chip__content","data-no-activator":""},[((L=i.default)==null?void 0:L.call(i,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:e.disabled}))??e.text]),C&&H("div",{key:"append",class:"v-chip__append"},[i.append?H(or,{key:"append-defaults",disabled:!P,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},i.append):H(fn,null,[e.appendIcon&&H(bn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&H(Ys,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),D&&H("button",Ct({key:"close",class:"v-chip__close",type:"button"},w.value),[i.close?H(or,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},i.close):H(bn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ha("ripple"),b.value&&e.ripple,null]])}}});function yy(e,t){return{x:e.x+t.x,y:e.y+t.y}}function kZ(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dA(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,i=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,a=n==="top"?0:n==="bottom"?t.height:n;return yy({x:i,y:a},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,i=n==="left"?0:n==="right"?t.width:n,a=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return yy({x:i,y:a},t)}return yy({x:t.width/2,y:t.height/2},t)}const L3={static:LZ,connected:UZ},BZ=je({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in L3},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function RZ(e,t){const n=nt({}),r=nt();Hi&&uo(()=>!!(t.isActive.value&&e.locationStrategy),a=>{var o,s;bt(()=>e.locationStrategy,a),Oi(()=>{window.removeEventListener("resize",i),r.value=void 0}),window.addEventListener("resize",i,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:r.value=(s=L3[e.locationStrategy](t,e,n))==null?void 0:s.updateLocation});function i(a){var o;(o=r.value)==null||o.call(r,a)}return{contentStyles:n,updateLocation:r}}function LZ(){}function NZ(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=ww(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function UZ(e,t,n){(Array.isArray(e.target.value)||Y4(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:a}=mw(()=>{const v=f1(t.location,e.isRtl.value),g=t.origin==="overlap"?v:t.origin==="auto"?x0(v):f1(t.origin,e.isRtl.value);return v.side===g.side&&v.align===_0(g).align?{preferredAnchor:x2(v),preferredOrigin:x2(g)}:{preferredAnchor:v,preferredOrigin:g}}),[o,s,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>ne(()=>{const g=parseFloat(t[v]);return isNaN(g)?1/0:g})),c=ne(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let h=!1;const f=new ResizeObserver(()=>{h&&d()});bt([e.target,e.contentEl],(v,g)=>{let[p,y]=v,[m,b]=g;m&&!Array.isArray(m)&&f.unobserve(m),p&&!Array.isArray(p)&&f.observe(p),b&&f.unobserve(b),y&&f.observe(y)},{immediate:!0}),Oi(()=>{f.disconnect()});function d(){if(h=!1,requestAnimationFrame(()=>h=!0),!e.target.value||!e.contentEl.value)return;const v=zT(e.target.value),g=NZ(e.contentEl.value,e.isRtl.value),p=Fp(e.contentEl.value),y=12;p.length||(p.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const m=p.reduce((T,B)=>{const I=B.getBoundingClientRect(),O=new kl({x:B===document.documentElement?0:I.x,y:B===document.documentElement?0:I.y,width:B.clientWidth,height:B.clientHeight});return T?new kl({x:Math.max(T.left,O.left),y:Math.max(T.top,O.top),width:Math.min(T.right,O.right)-Math.max(T.left,O.left),height:Math.min(T.bottom,O.bottom)-Math.max(T.top,O.top)}):O},void 0);m.x+=y,m.y+=y,m.width-=y*2,m.height-=y*2;let b={anchor:i.value,origin:a.value};function w(T){const B=new kl(g),I=dA(T.anchor,v),O=dA(T.origin,B);let{x:L,y:R}=kZ(I,O);switch(T.anchor.side){case"top":R-=c.value[0];break;case"bottom":R+=c.value[0];break;case"left":L-=c.value[0];break;case"right":L+=c.value[0];break}switch(T.anchor.align){case"top":R-=c.value[1];break;case"bottom":R+=c.value[1];break;case"left":L-=c.value[1];break;case"right":L+=c.value[1];break}return B.x+=L,B.y+=R,B.width=Math.min(B.width,l.value),B.height=Math.min(B.height,u.value),{overflows:S2(B,m),x:L,y:R}}let x=0,_=0;const S={x:0,y:0},P={x:!1,y:!1};let C=-1;for(;!(C++>10);){const{x:T,y:B,overflows:I}=w(b);x+=T,_+=B,g.x+=T,g.y+=B;{const O=_2(b.anchor),L=I.x.before||I.x.after,R=I.y.before||I.y.after;let U=!1;if(["x","y"].forEach($=>{if($==="x"&&L&&!P.x||$==="y"&&R&&!P.y){const j={anchor:{...b.anchor},origin:{...b.origin}},z=$==="x"?O==="y"?_0:x0:O==="y"?x0:_0;j.anchor=z(j.anchor),j.origin=z(j.origin);const{overflows:Y}=w(j);(Y[$].before<=I[$].before&&Y[$].after<=I[$].after||Y[$].before+Y[$].after<(I[$].before+I[$].after)/2)&&(b=j,U=P[$]=!0)}}),U)continue}I.x.before&&(x+=I.x.before,g.x+=I.x.before),I.x.after&&(x-=I.x.after,g.x-=I.x.after),I.y.before&&(_+=I.y.before,g.y+=I.y.before),I.y.after&&(_-=I.y.after,g.y-=I.y.after);{const O=S2(g,m);S.x=m.width-O.x.before-O.x.after,S.y=m.height-O.y.before-O.y.after,x+=O.x.before,g.x+=O.x.before,_+=O.y.before,g.y+=O.y.before}break}const D=_2(b.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${b.anchor.side} ${b.anchor.align}`,transformOrigin:`${b.origin.side} ${b.origin.align}`,top:yt(by(_)),left:e.isRtl.value?void 0:yt(by(x)),right:e.isRtl.value?yt(by(-x)):void 0,minWidth:yt(D==="y"?Math.min(o.value,v.width):o.value),maxWidth:yt(vA(co(S.x,o.value===1/0?0:o.value,l.value))),maxHeight:yt(vA(co(S.y,s.value===1/0?0:s.value,u.value)))}),{available:S,contentBox:g}}return bt(()=>[i.value,a.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>d()),tr(()=>{const v=d();if(!v)return;const{available:g,contentBox:p}=v;p.height>g.y&&requestAnimationFrame(()=>{d(),requestAnimationFrame(()=>{d()})})}),{updateLocation:d}}function by(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function vA(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let yb=!0;const Fg=[];function VZ(e){!yb||Fg.length?(Fg.push(e),bb()):(yb=!1,e(),bb())}let pA=-1;function bb(){cancelAnimationFrame(pA),pA=requestAnimationFrame(()=>{const e=Fg.shift();e&&e(),Fg.length?bb():yb=!0})}const hp={none:null,close:jZ,block:HZ,reposition:GZ},$Z=je({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in hp}},"VOverlay-scroll-strategies");function zZ(e,t){if(!Hi)return;let n;vo(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=vw(),await tr(),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=hp[e.scrollStrategy])==null||r.call(hp,t,e,n)}))}),Oi(()=>{n==null||n.stop()})}function jZ(e){function t(n){e.isActive.value=!1}N3(e.targetEl.value??e.contentEl.value,t)}function HZ(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,r=[...new Set([...Fp(e.targetEl.value,t.contained?n:void 0),...Fp(e.contentEl.value,t.contained?n:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,a=(s=>xw(s)&&s)(n||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((s,l)=>{s.style.setProperty("--v-body-scroll-x",yt(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",yt(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",yt(i)),s.classList.add("v-overlay-scroll-blocked")}),Oi(()=>{r.forEach((s,l)=>{const u=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y")),h=s.style.scrollBehavior;s.style.scrollBehavior="auto",s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-u,s.scrollTop=-c,s.style.scrollBehavior=h}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function GZ(e,t,n){let r=!1,i=-1,a=-1;function o(s){VZ(()=>{var c,h;const l=performance.now();(h=(c=e.updateLocation).value)==null||h.call(c,s),r=(performance.now()-l)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{n.run(()=>{N3(e.targetEl.value??e.contentEl.value,s=>{r?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{o(s)})})):o(s)})})}),Oi(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(i)})}function N3(e,t){const n=[document,...Fp(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Oi(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const wb=Symbol.for("vuetify:v-menu"),YZ=je({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function XZ(e,t){let n=()=>{};function r(o){n==null||n();const s=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=P4(s,()=>{t==null||t(o),l(o)})})}function i(){return r(!0)}function a(){return r(!1)}return{clearDelay:n,runOpenDelay:i,runCloseDelay:a}}const WZ=je({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...YZ()},"VOverlay-activator");function KZ(e,t){let{isActive:n,isTop:r}=t;const i=Yi("useActivator"),a=nt();let o=!1,s=!1,l=!0;const u=ne(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),c=ne(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!u.value),{runOpenDelay:h,runCloseDelay:f}=XZ(e,S=>{S===(e.openOnHover&&o||u.value&&s)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==S&&(l=!0),n.value=S)}),d=nt(),v={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(d.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var P;(P=S.sourceCapabilities)!=null&&P.firesTouchEvents||(o=!0,a.value=S.currentTarget||S.target,h())},onMouseleave:S=>{o=!1,f()},onFocus:S=>{Mp(S.target,":focus-visible")!==!1&&(s=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,h())},onBlur:S=>{s=!1,S.stopPropagation(),f()}},g=ne(()=>{const S={};return c.value&&(S.onClick=v.onClick),e.openOnHover&&(S.onMouseenter=v.onMouseenter,S.onMouseleave=v.onMouseleave),u.value&&(S.onFocus=v.onFocus,S.onBlur=v.onBlur),S}),p=ne(()=>{const S={};if(e.openOnHover&&(S.onMouseenter=()=>{o=!0,h()},S.onMouseleave=()=>{o=!1,f()}),u.value&&(S.onFocusin=()=>{s=!0,h()},S.onFocusout=()=>{s=!1,f()}),e.closeOnContentClick){const P=sr(wb,null);S.onClick=()=>{n.value=!1,P==null||P.closeParents()}}return S}),y=ne(()=>{const S={};return e.openOnHover&&(S.onMouseenter=()=>{l&&(o=!0,l=!1,h())},S.onMouseleave=()=>{o=!1,f()}),S});bt(r,S=>{S&&(e.openOnHover&&!o&&(!u.value||!s)||u.value&&!s&&(!e.openOnHover||!o))&&(n.value=!1)}),bt(n,S=>{S||setTimeout(()=>{d.value=void 0})},{flush:"post"});const m=nt();vo(()=>{m.value&&tr(()=>{a.value=Ip(m.value)})});const b=nt(),w=ne(()=>e.target==="cursor"&&d.value?d.value:b.value?Ip(b.value):U3(e.target,i)||a.value),x=ne(()=>Array.isArray(w.value)?void 0:w.value);let _;return bt(()=>!!e.activator,S=>{S&&Hi?(_=vw(),_.run(()=>{qZ(e,i,{activatorEl:a,activatorEvents:g})})):_&&_.stop()},{flush:"post",immediate:!0}),Oi(()=>{_==null||_.stop()}),{activatorEl:a,activatorRef:m,target:w,targetEl:x,targetRef:b,activatorEvents:g,contentEvents:p,scrimEvents:y}}function qZ(e,t,n){let{activatorEl:r,activatorEvents:i}=n;bt(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=s(u);c&&o(c)}l&&tr(()=>a())},{immediate:!0}),bt(()=>e.activatorProps,()=>{a()}),Oi(()=>{o()});function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&$4(l,Ct(i.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&z4(l,Ct(i.value,u))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=U3(l,t);return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,r.value}}function U3(e,t){var r,i;if(!e)return;let n;if(e==="parent"){let a=(i=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:i.parentNode;for(;a!=null&&a.hasAttribute("data-no-activator");)a=a.parentNode;n=a}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function ZZ(){if(!Hi)return ut(!1);const{ssr:e}=om();if(e){const t=ut(!1);return Gi(()=>{t.value=!0}),t}else return ut(!0)}const QZ=je({eager:Boolean},"lazy");function JZ(e,t){const n=ut(!1),r=ne(()=>n.value||e.eager||t.value);bt(t,()=>n.value=!0);function i(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:i}}function n0(){const t=Yi("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const gA=Symbol.for("vuetify:stack"),kf=$o([]);function eQ(e,t,n){const r=Yi("useStack"),i=!n,a=sr(gA,void 0),o=$o({activeChildren:new Set});Ii(gA,o);const s=ut(+t.value);uo(e,()=>{var h;const c=(h=kf.at(-1))==null?void 0:h[1];s.value=c?c+10:+t.value,i&&kf.push([r.uid,s.value]),a==null||a.activeChildren.add(r.uid),Oi(()=>{if(i){const f=xo(kf).findIndex(d=>d[0]===r.uid);kf.splice(f,1)}a==null||a.activeChildren.delete(r.uid)})});const l=ut(!0);i&&vo(()=>{var h;const c=((h=kf.at(-1))==null?void 0:h[0])===r.uid;setTimeout(()=>l.value=c)});const u=ne(()=>!o.activeChildren.size);return{globalTop:rm(l),localTop:u,stackStyles:ne(()=>({zIndex:s.value}))}}function tQ(e){return{teleportTarget:ne(()=>{const n=e.value;if(n===!0||!Hi)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let i=r.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",r.appendChild(i)),i})}}function nQ(){return!0}function V3(e,t,n){if(!e||$3(e,n)===!1)return!1;const r=jT(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(t),!i.some(a=>a==null?void 0:a.contains(e.target))}function $3(e,t){return(typeof t.value=="object"&&t.value.closeConditional||nQ)(e)}function rQ(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&V3(e,t,n)&&setTimeout(()=>{$3(e,n)&&r&&r(e)},0)}function mA(e,t){const n=jT(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const iQ={mounted(e,t){const n=i=>rQ(i,e,t),r=i=>{e._clickOutside.lastMousedownWasOutside=V3(i,e,t)};mA(e,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(mA(e,n=>{var a;if(!n||!((a=e._clickOutside)!=null&&a[t.instance.$.uid]))return;const{onClick:r,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function aQ(e){const{modelValue:t,color:n,...r}=e;return H(es,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&H("div",Ct({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const i_=je({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...WZ(),...Xt(),...pu(),...QZ(),...BZ(),...$Z(),...vr(),...nf()},"VOverlay"),kg=gt()({name:"VOverlay",directives:{ClickOutside:iQ},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...i_()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:i}=t;const a=Gn(e,"modelValue"),o=ne({get:()=>a.value,set:re=>{re&&e.disabled||(a.value=re)}}),{teleportTarget:s}=tQ(ne(()=>e.attach||e.contained)),{themeClasses:l}=Rr(e),{rtlClasses:u,isRtl:c}=Xi(),{hasContent:h,onAfterLeave:f}=JZ(e,o),d=ma(ne(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:g,stackStyles:p}=eQ(o,ft(e,"zIndex"),e._disableGlobalStack),{activatorEl:y,activatorRef:m,target:b,targetEl:w,targetRef:x,activatorEvents:_,contentEvents:S,scrimEvents:P}=KZ(e,{isActive:o,isTop:g}),{dimensionStyles:C}=gu(e),D=ZZ(),{scopeId:T}=n0();bt(()=>e.disabled,re=>{re&&(o.value=!1)});const B=nt(),I=nt(),{contentStyles:O,updateLocation:L}=RZ(e,{isRtl:c,contentEl:I,target:b,isActive:o});zZ(e,{root:B,contentEl:I,targetEl:w,isActive:o,updateLocation:L});function R(re){i("click:outside",re),e.persistent?Y():o.value=!1}function U(){return o.value&&v.value}Hi&&bt(o,re=>{re?window.addEventListener("keydown",$):window.removeEventListener("keydown",$)},{immediate:!0}),fi(()=>{Hi&&window.removeEventListener("keydown",$)});function $(re){var he,ce;re.key==="Escape"&&v.value&&(e.persistent?Y():(o.value=!1,(he=I.value)!=null&&he.contains(document.activeElement)&&((ce=y.value)==null||ce.focus())))}const j=h3();uo(()=>e.closeOnBack,()=>{Qq(j,re=>{v.value&&o.value?(re(!1),e.persistent?Y():o.value=!1):re()})});const z=nt();bt(()=>o.value&&(e.absolute||e.contained)&&s.value==null,re=>{if(re){const he=HT(B.value);he&&he!==document.scrollingElement&&(z.value=he.scrollTop)}});function Y(){e.noClickAnimation||I.value&&ac(I.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Dp})}function Q(){f(),i("afterLeave")}return Bt(()=>{var re;return H(fn,null,[(re=n.activator)==null?void 0:re.call(n,{isActive:o.value,props:Ct({ref:m,targetRef:x},_.value,e.activatorProps)}),D.value&&h.value&&H(CT,{disabled:!s.value,to:s.value},{default:()=>[H("div",Ct({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},l.value,u.value,e.class],style:[p.value,{"--v-overlay-opacity":e.opacity,top:yt(z.value)},e.style],ref:B},T,r),[H(aQ,Ct({color:d,modelValue:o.value&&!!e.scrim},P.value),null),H(ks,{appear:!0,persisted:!0,transition:e.transition,target:b.value,onAfterLeave:Q},{default:()=>{var he;return[dr(H("div",Ct({ref:I,class:["v-overlay__content",e.contentClass],style:[C.value,O.value]},S.value,e.contentProps),[(he=n.default)==null?void 0:he.call(n,{isActive:o})]),[[us,o.value],[Ha("click-outside"),{handler:R,closeConditional:U,include:()=>[y.value]}]])]}})])]})])}),{activatorEl:y,target:b,animateClick:Y,contentEl:I,globalTop:v,localTop:g,updateLocation:L}}}),wy=Symbol("Forwarded refs");function xy(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function af(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[wy]=n,new Proxy(e,{get(i,a){if(Reflect.has(i,a))return Reflect.get(i,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,a)){const s=Reflect.get(o.value,a);return typeof s=="function"?s.bind(o.value):s}}},has(i,a){if(Reflect.has(i,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,a))return!0;return!1},set(i,a,o){if(Reflect.has(i,a))return Reflect.set(i,a,o);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,a))return Reflect.set(s.value,a,o);return!1},getOwnPropertyDescriptor(i,a){var s;const o=Reflect.getOwnPropertyDescriptor(i,a);if(o)return o;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=xy(l.value,a)??("_"in l.value?xy((s=l.value._)==null?void 0:s.setupState,a):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[wy];if(!u)continue;const c=u.slice();for(;c.length;){const h=c.shift(),f=xy(h.value,a);if(f)return f;const d=h.value&&h.value[wy];d&&c.push(...d)}}}}})}const oQ=je({id:String,...ou(i_({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:e3}}),["absolute"])},"VMenu"),a_=gt()({name:"VMenu",props:oQ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Gn(e,"modelValue"),{scopeId:i}=n0(),a=_o(),o=ne(()=>e.id||`v-menu-${a}`),s=nt(),l=sr(wb,null),u=ut(0);Ii(wb,{register(){++u.value},unregister(){--u.value},closeParents(g){setTimeout(()=>{!u.value&&(g==null||g&&!O4(g,s.value.contentEl))&&(r.value=!1,l==null||l.closeParents())},40)}});async function c(g){var m,b,w;const p=g.relatedTarget,y=g.target;await tr(),r.value&&p!==y&&((m=s.value)!=null&&m.contentEl)&&((b=s.value)!=null&&b.globalTop)&&![document,s.value.contentEl].includes(y)&&!s.value.contentEl.contains(y)&&((w=c1(s.value.contentEl)[0])==null||w.focus())}bt(r,g=>{g?(l==null||l.register(),document.addEventListener("focusin",c,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",c))});function h(g){l==null||l.closeParents(g)}function f(g){var p,y,m;e.disabled||g.key==="Tab"&&(I4(c1((p=s.value)==null?void 0:p.contentEl,!1),g.shiftKey?"prev":"next",w=>w.tabIndex>=0)||(r.value=!1,(m=(y=s.value)==null?void 0:y.activatorEl)==null||m.focus()))}function d(g){var y;if(e.disabled)return;const p=(y=s.value)==null?void 0:y.contentEl;p&&r.value?g.key==="ArrowDown"?(g.preventDefault(),u1(p,"next")):g.key==="ArrowUp"&&(g.preventDefault(),u1(p,"prev")):["ArrowDown","ArrowUp"].includes(g.key)&&(r.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>d(g))))}const v=ne(()=>Ct({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":o.value,onKeydown:d},e.activatorProps));return Bt(()=>{const g=kg.filterProps(e);return H(kg,Ct({ref:s,id:o.value,class:["v-menu",e.class],style:e.style},g,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,absolute:!0,activatorProps:v.value,"onClick:outside":h,onKeydown:f},i),{activator:n.activator,default:function(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];return H(or,{root:"VMenu"},{default:()=>{var b;return[(b=n.default)==null?void 0:b.call(n,...y)]}})}})}),af({id:o,openChildren:u},s)}});const sQ=je({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Xt(),...nf({transition:{component:t3}})},"VCounter"),z3=gt()({name:"VCounter",functional:!0,props:sQ(),setup(e,t){let{slots:n}=t;const r=ne(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Bt(()=>H(ks,{transition:e.transition},{default:()=>[dr(H("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[us,e.active]])]})),{}}});const lQ=je({floating:Boolean,...Xt()},"VFieldLabel"),gv=gt()({name:"VFieldLabel",props:lQ(),setup(e,t){let{slots:n}=t;return Bt(()=>H(Jx,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function j3(e,t){const n=nt(),r=ut(!1);if(yw){const i=new IntersectionObserver(a=>{e==null||e(a,i),r.value=!!a.find(o=>o.isIntersecting)},t);fi(()=>{i.disconnect()}),bt(n,(a,o)=>{o&&(i.unobserve(o),r.value=!1),a&&i.observe(a)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const yA={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},o_=je({location:String},"location");function s_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Xi();return{locationStyles:ne(()=>{if(!e.location)return{};const{side:a,align:o}=f1(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function s(u){return n?n(u):0}const l={};return a!=="center"&&(t?l[yA[a]]=`calc(100% - ${s(a)}px)`:l[a]=0),o!=="center"?t?l[yA[o]]=`calc(100% - ${s(o)}px)`:l[o]=0:(a==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),l})}}const uQ=je({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Xt(),...o_({location:"top"}),...Ki(),...nr(),...vr()},"VProgressLinear"),cQ=gt()({name:"VProgressLinear",props:uQ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Gn(e,"modelValue"),{isRtl:i,rtlClasses:a}=Xi(),{themeClasses:o}=Rr(e),{locationStyles:s}=s_(e),{textColorClasses:l,textColorStyles:u}=$a(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:h}=ma(ne(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:d}=ma(e,"color"),{roundedClasses:v}=qi(e),{intersectionRef:g,isIntersecting:p}=j3(),y=ne(()=>parseInt(e.max,10)),m=ne(()=>parseInt(e.height,10)),b=ne(()=>parseFloat(e.bufferValue)/y.value*100),w=ne(()=>parseFloat(r.value)/y.value*100),x=ne(()=>i.value!==e.reverse),_=ne(()=>e.indeterminate?"fade-transition":"slide-x-transition"),S=ne(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function P(C){if(!g.value)return;const{left:D,right:T,width:B}=g.value.getBoundingClientRect(),I=x.value?B-C.clientX+(T-B):C.clientX-D;r.value=Math.round(I/B*y.value)}return Bt(()=>H(e.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&p.value,"v-progress-linear--reverse":x.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,o.value,a.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?yt(m.value):0,"--v-progress-linear-height":yt(m.value),...s.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:w.value,onClick:e.clickable&&P},{default:()=>[e.stream&&H("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[x.value?"left":"right"]:yt(-m.value),borderTop:`${yt(m.value/2)} dotted`,opacity:S.value,top:`calc(50% - ${yt(m.value/4)})`,width:yt(100-b.value,"%"),"--v-progress-linear-stream-to":yt(m.value*(x.value?1:-1))}},null),H("div",{class:["v-progress-linear__background",c.value],style:[h.value,{opacity:S.value,width:yt(e.stream?b.value:100,"%")}]},null),H(es,{name:_.value},{default:()=>[e.indeterminate?H("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(C=>H("div",{key:C,class:["v-progress-linear__indeterminate",C,f.value],style:d.value},null))]):H("div",{class:["v-progress-linear__determinate",f.value],style:[d.value,{width:yt(w.value,"%")}]},null)]}),n.default&&H("div",{class:"v-progress-linear__content"},[n.default({value:w.value,buffer:b.value})])]})),{}}}),l_=je({loading:[Boolean,String]},"loader");function u_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();return{loaderClasses:ne(()=>({[`${t}--loading`]:e.loading}))}}function H3(e,t){var r;let{slots:n}=t;return H("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||H(cQ,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const fQ=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],c_=je({appendInnerIcon:wn,bgColor:String,clearable:Boolean,clearIcon:{type:wn,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:wn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>fQ.includes(e)},"onClick:clear":Ra(),"onClick:appendInner":Ra(),"onClick:prependInner":Ra(),...Xt(),...l_(),...Ki(),...vr()},"VField"),f_=gt()({name:"VField",inheritAttrs:!1,props:{id:String,...e_(),...c_()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{themeClasses:a}=Rr(e),{loaderClasses:o}=u_(e),{focusClasses:s,isFocused:l,focus:u,blur:c}=e0(e),{InputIcon:h}=M3(e),{roundedClasses:f}=qi(e),{rtlClasses:d}=Xi(),v=ne(()=>e.dirty||e.active),g=ne(()=>!e.singleLine&&!!(e.label||i.label)),p=_o(),y=ne(()=>e.id||`input-${p}`),m=ne(()=>`${y.value}-messages`),b=nt(),w=nt(),x=nt(),_=ne(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:S,backgroundColorStyles:P}=ma(ft(e,"bgColor")),{textColorClasses:C,textColorStyles:D}=$a(ne(()=>e.error||e.disabled?void 0:v.value&&l.value?e.color:e.baseColor));bt(v,I=>{if(g.value){const O=b.value.$el,L=w.value.$el;requestAnimationFrame(()=>{const R=ww(O),U=L.getBoundingClientRect(),$=U.x-R.x,j=U.y-R.y-(R.height/2-U.height/2),z=U.width/.75,Y=Math.abs(z-R.width)>1?{maxWidth:yt(z)}:void 0,Q=getComputedStyle(O),re=getComputedStyle(L),he=parseFloat(Q.transitionDuration)*1e3||150,ce=parseFloat(re.getPropertyValue("--v-field-label-scale")),te=re.getPropertyValue("color");O.style.visibility="visible",L.style.visibility="hidden",ac(O,{transform:`translate(${$}px, ${j}px) scale(${ce})`,color:te,...Y},{duration:he,easing:Dp,direction:I?"normal":"reverse"}).finished.then(()=>{O.style.removeProperty("visibility"),L.style.removeProperty("visibility")})})}},{flush:"post"});const T=ne(()=>({isActive:v,isFocused:l,controlRef:x,blur:c,focus:u}));function B(I){I.target!==document.activeElement&&I.preventDefault()}return Bt(()=>{var $,j,z;const I=e.variant==="outlined",O=i["prepend-inner"]||e.prependInnerIcon,L=!!(e.clearable||i.clear),R=!!(i["append-inner"]||e.appendInnerIcon||L),U=()=>i.label?i.label({...T.value,label:e.label,props:{for:y.value}}):e.label;return H("div",Ct({class:["v-field",{"v-field--active":v.value,"v-field--appended":R,"v-field--center-affix":e.centerAffix??!_.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":O,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!U(),[`v-field--variant-${e.variant}`]:!0},a.value,S.value,s.value,o.value,f.value,d.value,e.class],style:[P.value,e.style],onClick:B},n),[H("div",{class:"v-field__overlay"},null),H(H3,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:i.loader}),O&&H("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&H(h,{key:"prepend-icon",name:"prependInner"},null),($=i["prepend-inner"])==null?void 0:$.call(i,T.value)]),H("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&g.value&&H(gv,{key:"floating-label",ref:w,class:[C.value],floating:!0,for:y.value,style:D.value},{default:()=>[U()]}),H(gv,{ref:b,for:y.value},{default:()=>[U()]}),(j=i.default)==null?void 0:j.call(i,{...T.value,props:{id:y.value,class:"v-field__input","aria-describedby":m.value},focus:u,blur:c})]),L&&H(n3,{key:"clear"},{default:()=>[dr(H("div",{class:"v-field__clearable",onMousedown:Y=>{Y.preventDefault(),Y.stopPropagation()}},[i.clear?i.clear():H(h,{name:"clear"},null)]),[[us,e.dirty]])]}),R&&H("div",{key:"append",class:"v-field__append-inner"},[(z=i["append-inner"])==null?void 0:z.call(i,T.value),e.appendInnerIcon&&H(h,{key:"append-icon",name:"appendInner"},null)]),H("div",{class:["v-field__outline",C.value],style:D.value},[I&&H(fn,null,[H("div",{class:"v-field__outline__start"},null),g.value&&H("div",{class:"v-field__outline__notch"},[H(gv,{ref:w,floating:!0,for:y.value},{default:()=>[U()]})]),H("div",{class:"v-field__outline__end"},null)]),_.value&&g.value&&H(gv,{ref:w,floating:!0,for:y.value},{default:()=>[U()]})])])}),{controlRef:x}}});function G3(e){const t=Object.keys(f_.props).filter(n=>!gw(n)&&n!=="class"&&n!=="style");return M4(e,t)}const hQ=["color","file","time","date","datetime-local","week","month"],h_=je({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...t0(),...c_()},"VTextField"),Bg=gt()({name:"VTextField",directives:{Intersect:qx},inheritAttrs:!1,props:h_(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const a=Gn(e,"modelValue"),{isFocused:o,focus:s,blur:l}=e0(e),u=ne(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:(a.value??"").toString().length),c=ne(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),h=ne(()=>["plain","underlined"].includes(e.variant));function f(_,S){var P,C;!e.autofocus||!_||(C=(P=S[0].target)==null?void 0:P.focus)==null||C.call(P)}const d=nt(),v=nt(),g=nt(),p=ne(()=>hQ.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function y(){var _;g.value!==document.activeElement&&((_=g.value)==null||_.focus()),o.value||s()}function m(_){r("mousedown:control",_),_.target!==g.value&&(y(),_.preventDefault())}function b(_){y(),r("click:control",_)}function w(_){_.stopPropagation(),y(),tr(()=>{a.value=null,UT(e["onClick:clear"],_)})}function x(_){var P;const S=_.target;if(a.value=S.value,(P=e.modelModifiers)!=null&&P.trim&&["text","search","password","tel","url"].includes(e.type)){const C=[S.selectionStart,S.selectionEnd];tr(()=>{S.selectionStart=C[0],S.selectionEnd=C[1]})}}return Bt(()=>{const _=!!(i.counter||e.counter!==!1&&e.counter!=null),S=!!(_||i.details),[P,C]=bw(n),{modelValue:D,...T}=zc.filterProps(e),B=G3(e);return H(zc,Ct({ref:d,modelValue:a.value,"onUpdate:modelValue":I=>a.value=I,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":h.value},e.class],style:e.style},P,T,{centerAffix:!h.value,focused:o.value}),{...i,default:I=>{let{id:O,isDisabled:L,isDirty:R,isReadonly:U,isValid:$}=I;return H(f_,Ct({ref:v,onMousedown:m,onClick:b,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},B,{id:O.value,active:p.value||R.value,dirty:R.value||e.dirty,disabled:L.value,focused:o.value,error:$.value===!1}),{...i,default:j=>{let{props:{class:z,...Y}}=j;const Q=dr(H("input",Ct({ref:g,value:a.value,onInput:x,autofocus:e.autofocus,readonly:U.value,disabled:L.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:l},Y,C),null),[[Ha("intersect"),{handler:f},null,{once:!0}]]);return H(fn,null,[e.prefix&&H("span",{class:"v-text-field__prefix"},[H("span",{class:"v-text-field__prefix__text"},[e.prefix])]),i.default?H("div",{class:z,"data-no-activator":""},[i.default(),Q]):OT(Q,{class:z}),e.suffix&&H("span",{class:"v-text-field__suffix"},[H("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:S?I=>{var O;return H(fn,null,[(O=i.details)==null?void 0:O.call(i,I),_&&H(fn,null,[H("span",null,null),H(z3,{active:e.persistentCounter||o.value,value:u.value,max:c.value},i.counter)])])}:void 0})}),af({},d,v,g)}});const dQ=je({renderless:Boolean,...Xt()},"VVirtualScrollItem"),vQ=gt()({name:"VVirtualScrollItem",inheritAttrs:!1,props:dQ(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{resizeRef:a,contentRect:o}=Sc(void 0,"border");bt(()=>{var s;return(s=o.value)==null?void 0:s.height},s=>{s!=null&&r("update:height",s)}),Bt(()=>{var s,l;return e.renderless?H(fn,null,[(s=i.default)==null?void 0:s.call(i,{itemRef:a})]):H("div",Ct({ref:a,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=i.default)==null?void 0:l.call(i)])})}}),pQ=-1,gQ=1,_y=100,mQ=je({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function yQ(e,t){const n=om(),r=ut(0);vo(()=>{r.value=parseFloat(e.itemHeight||0)});const i=ut(0),a=ut(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),o=ut(0),s=ut(0),l=nt(),u=nt();let c=0;const{resizeRef:h,contentRect:f}=Sc();vo(()=>{h.value=l.value});const d=ne(()=>{var j;return l.value===document.documentElement?n.height.value:((j=f.value)==null?void 0:j.height)||parseInt(e.height)||0}),v=ne(()=>!!(l.value&&u.value&&d.value&&r.value));let g=Array.from({length:t.value.length}),p=Array.from({length:t.value.length});const y=ut(0);let m=-1;function b(j){return g[j]||r.value}const w=D4(()=>{const j=performance.now();p[0]=0;const z=t.value.length;for(let Y=1;Y<=z-1;Y++)p[Y]=(p[Y-1]||0)+b(Y-1);y.value=Math.max(y.value,performance.now()-j)},y),x=bt(v,j=>{j&&(x(),c=u.value.offsetTop,w.immediate(),L(),~m&&tr(()=>{Hi&&window.requestAnimationFrame(()=>{U(m),m=-1})}))});Oi(()=>{w.clear()});function _(j,z){const Y=g[j],Q=r.value;r.value=Q?Math.min(r.value,z):z,(Y!==z||Q!==r.value)&&(g[j]=z,w())}function S(j){return j=co(j,0,t.value.length-1),p[j]||0}function P(j){return bQ(p,j)}let C=0,D=0,T=0;bt(d,(j,z)=>{z&&(L(),j<z&&requestAnimationFrame(()=>{D=0,L()}))});function B(){if(!l.value||!u.value)return;const j=l.value.scrollTop,z=performance.now();z-T>500?(D=Math.sign(j-C),c=u.value.offsetTop):D=j-C,C=j,T=z,L()}function I(){!l.value||!u.value||(D=0,T=0,L())}let O=-1;function L(){cancelAnimationFrame(O),O=requestAnimationFrame(R)}function R(){if(!l.value||!d.value)return;const j=C-c,z=Math.sign(D),Y=Math.max(0,j-_y),Q=co(P(Y),0,t.value.length),re=j+d.value+_y,he=co(P(re)+1,Q+1,t.value.length);if((z!==pQ||Q<i.value)&&(z!==gQ||he>a.value)){const ce=S(i.value)-S(Q),te=S(he)-S(a.value);Math.max(ce,te)>_y?(i.value=Q,a.value=he):(Q<=0&&(i.value=Q),he>=t.value.length&&(a.value=he))}o.value=S(i.value),s.value=S(t.value.length)-S(a.value)}function U(j){const z=S(j);!l.value||j&&!z?m=j:l.value.scrollTop=z}const $=ne(()=>t.value.slice(i.value,a.value).map((j,z)=>({raw:j,index:z+i.value})));return bt(t,()=>{g=Array.from({length:t.value.length}),p=Array.from({length:t.value.length}),w.immediate(),L()},{deep:!0}),{containerRef:l,markerRef:u,computedItems:$,paddingTop:o,paddingBottom:s,scrollToIndex:U,handleScroll:B,handleScrollend:I,handleItemResize:_}}function bQ(e,t){let n=e.length-1,r=0,i=0,a=null,o=-1;if(e[n]<t)return n;for(;r<=n;)if(i=r+n>>1,a=e[i],a>t)n=i-1;else if(a<t)o=i,r=i+1;else return a===t?i:r;return o}const wQ=je({items:{type:Array,default:()=>[]},renderless:Boolean,...mQ(),...Xt(),...pu()},"VVirtualScroll"),Y3=gt()({name:"VVirtualScroll",props:wQ(),setup(e,t){let{slots:n}=t;const r=Yi("VVirtualScroll"),{dimensionStyles:i}=gu(e),{containerRef:a,markerRef:o,handleScroll:s,handleScrollend:l,handleItemResize:u,scrollToIndex:c,paddingTop:h,paddingBottom:f,computedItems:d}=yQ(e,ft(e,"items"));return uo(()=>e.renderless,()=>{function v(){var y,m;const p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[p]("scroll",s,{passive:!0}),document[p]("scrollend",l)):((y=a.value)==null||y[p]("scroll",s,{passive:!0}),(m=a.value)==null||m[p]("scrollend",l))}Gi(()=>{a.value=HT(r.vnode.el,!0),v(!0)}),Oi(v)}),Bt(()=>{const v=d.value.map(g=>H(vQ,{key:g.index,renderless:e.renderless,"onUpdate:height":p=>u(g.index,p)},{default:p=>{var y;return(y=n.default)==null?void 0:y.call(n,{item:g.raw,index:g.index,...p})}}));return e.renderless?H(fn,null,[H("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:yt(h.value)}},null),v,H("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:yt(f.value)}},null)]):H("div",{ref:a,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:l,style:[i.value,e.style]},[H("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:yt(h.value),paddingBottom:yt(f.value)}},[v])])}),{scrollToIndex:c}}});function X3(e,t){const n=ut(!1);let r;function i(s){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function a(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(n.value){const l=bt(n,()=>{l(),s()})}else s()})}async function o(s){var c,h;if(s.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(h=e.value)==null?void 0:h.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await a();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const f=l.getBoundingClientRect().top;for(const d of u)if(d.getBoundingClientRect().top>=f){d.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const d of[...u].reverse())if(d.getBoundingClientRect().bottom<=f){d.focus();break}}}return{onListScroll:i,onListKeydown:o}}const W3=je({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:wn,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...S3({itemChildren:!1})},"Select"),xQ=je({...W3(),...ou(h_({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...nf({transition:{component:e3}})},"VSelect"),K3=gt()({name:"VSelect",props:xQ(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=am(),i=nt(),a=nt(),o=nt(),s=Gn(e,"menu"),l=ne({get:()=>s.value,set:$=>{var j;s.value&&!$&&((j=a.value)!=null&&j.openChildren)||(s.value=$)}}),{items:u,transformIn:c,transformOut:h}=A3(e),f=Gn(e,"modelValue",[],$=>c($===null?[null]:va($)),$=>{const j=h($);return e.multiple?j:j[0]??null}),d=ne(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),v=t_(),g=ne(()=>f.value.map($=>$.value)),p=ut(!1),y=ne(()=>l.value?e.closeText:e.openText);let m="",b;const w=ne(()=>e.hideSelected?u.value.filter($=>!f.value.some(j=>j===$)):u.value),x=ne(()=>e.hideNoData&&!w.value.length||e.readonly||(v==null?void 0:v.isReadonly.value)),_=ne(()=>{var $;return{...e.menuProps,activatorProps:{...(($=e.menuProps)==null?void 0:$.activatorProps)||{},"aria-haspopup":"listbox"}}}),S=nt(),{onListScroll:P,onListKeydown:C}=X3(S,i);function D($){e.openOnClear&&(l.value=!0)}function T(){x.value||(l.value=!l.value)}function B($){var re,he;if(!$.key||e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes($.key)&&$.preventDefault(),["Enter","ArrowDown"," "].includes($.key)&&(l.value=!0),["Escape","Tab"].includes($.key)&&(l.value=!1),$.key==="Home"?(re=S.value)==null||re.focus("first"):$.key==="End"&&((he=S.value)==null||he.focus("last"));const j=1e3;function z(ce){const te=ce.key.length===1,ee=!ce.ctrlKey&&!ce.metaKey&&!ce.altKey;return te&&ee}if(e.multiple||!z($))return;const Y=performance.now();Y-b>j&&(m=""),m+=$.key.toLowerCase(),b=Y;const Q=u.value.find(ce=>ce.title.toLowerCase().startsWith(m));Q!==void 0&&(f.value=[Q])}function I($){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.multiple){const z=f.value.findIndex(Y=>e.valueComparator(Y.value,$.value));if(j=z===-1,j)f.value=[...f.value,$];else{const Y=[...f.value];Y.splice(z,1),f.value=Y}}else f.value=j?[$]:[],l.value=!1}function O($){var j;(j=S.value)!=null&&j.$el.contains($.relatedTarget)||(l.value=!1)}function L(){var $;p.value&&(($=i.value)==null||$.focus())}function R($){p.value=!0}function U($){if($==null)f.value=[];else if(Mp(i.value,":autofill")||Mp(i.value,":-webkit-autofill")){const j=u.value.find(z=>z.title===$);j&&I(j)}else i.value&&(i.value.value="")}return bt(l,()=>{if(!e.hideSelected&&l.value&&f.value.length){const $=w.value.findIndex(j=>f.value.some(z=>e.valueComparator(z.value,j.value)));Hi&&window.requestAnimationFrame(()=>{var j;$>=0&&((j=o.value)==null||j.scrollToIndex($))})}}),bt(w,($,j)=>{p.value&&(!$.length&&e.hideNoData&&(l.value=!1),!j.length&&$.length&&(l.value=!0))}),Bt(()=>{const $=!!(e.chips||n.chip),j=!!(!e.hideNoData||w.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),z=f.value.length>0,Y=Bg.filterProps(e),Q=z||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return H(Bg,Ct({ref:i},Y,{modelValue:f.value.map(re=>re.props.value).join(", "),"onUpdate:modelValue":U,focused:p.value,"onUpdate:focused":re=>p.value=re,validationValue:f.externalValue,counterValue:d.value,dirty:z,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:Q,"onClick:clear":D,"onMousedown:control":T,onBlur:O,onKeydown:B,"aria-label":r(y.value),title:r(y.value)}),{...n,default:()=>H(fn,null,[H(a_,Ct({ref:a,modelValue:l.value,"onUpdate:modelValue":re=>l.value=re,activator:"parent",contentClass:"v-select__content",disabled:x.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:L},_.value),{default:()=>[j&&H(Qx,Ct({ref:S,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:re=>re.preventDefault(),onKeydown:C,onFocusin:R,onScrollPassive:P,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var re,he,ce;return[(re=n["prepend-item"])==null?void 0:re.call(n),!w.value.length&&!e.hideNoData&&(((he=n["no-data"])==null?void 0:he.call(n))??H(rs,{title:r(e.noDataText)},null)),H(Y3,{ref:o,renderless:!0,items:w.value},{default:te=>{var Se;let{item:ee,index:Ue,itemRef:ye}=te;const pe=Ct(ee.props,{ref:ye,key:Ue,onClick:()=>I(ee)});return((Se=n.item)==null?void 0:Se.call(n,{item:ee,index:Ue,props:pe}))??H(rs,Ct(pe,{role:"option"}),{prepend:ae=>{let{isSelected:ke}=ae;return H(fn,null,[e.multiple&&!e.hideSelected?H(I3,{key:ee.value,modelValue:ke,ripple:!1,tabindex:"-1"},null):void 0,ee.props.prependAvatar&&H(Ys,{image:ee.props.prependAvatar},null),ee.props.prependIcon&&H(bn,{icon:ee.props.prependIcon},null)])}})}}),(ce=n["append-item"])==null?void 0:ce.call(n)]}})]}),f.value.map((re,he)=>{function ce(ye){ye.stopPropagation(),ye.preventDefault(),I(re,!1)}const te={"onClick:close":ce,onMousedown(ye){ye.preventDefault(),ye.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ee=$?!!n.chip:!!n.selection,Ue=ee?VT($?n.chip({item:re,index:he,props:te}):n.selection({item:re,index:he})):void 0;if(!(ee&&!Ue))return H("div",{key:re.value,class:"v-select__selection"},[$?n.chip?H(or,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:re.title}}},{default:()=>[Ue]}):H(uc,Ct({key:"chip",closable:e.closableChips,size:"small",text:re.title,disabled:re.props.disabled},te),null):Ue??H("span",{class:"v-select__selection-text"},[re.title,e.multiple&&he<f.value.length-1&&H("span",{class:"v-select__selection-comma"},[ca(",")])])])})]),"append-inner":function(){var te;for(var re=arguments.length,he=new Array(re),ce=0;ce<re;ce++)he[ce]=arguments[ce];return H(fn,null,[(te=n["append-inner"])==null?void 0:te.call(n,...he),e.menuIcon?H(bn,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),af({isFocused:p,menu:l,select:I},i)}}),_Q=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),SQ=je({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function EQ(e,t,n){var s;const r=[],i=(n==null?void 0:n.default)??_Q,a=n!=null&&n.filterKeys?va(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let l=0;l<e.length;l++){const[u,c=u]=va(e[l]),h={},f={};let d=-1;if(t&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const p=a||Object.keys(c);for(const y of p){const m=ro(c,y),b=(s=n==null?void 0:n.customKeyFilter)==null?void 0:s[y];if(d=b?b(m,t,u):i(m,t,u),d!==-1&&d!==!1)b?h[y]=d:f[y]=d;else if((n==null?void 0:n.filterMode)==="every")continue e}}else d=i(u,t,u),d!==-1&&d!==!1&&(f.title=d);const v=Object.keys(f).length,g=Object.keys(h).length;if(!v&&!g||(n==null?void 0:n.filterMode)==="union"&&g!==o&&!v||(n==null?void 0:n.filterMode)==="intersection"&&(g!==o||!v))continue}r.push({index:l,matches:{...f,...h}})}return r}function AQ(e,t,n,r){const i=nt([]),a=nt(new Map),o=ne(()=>r!=null&&r.transform?Qe(t).map(l=>[l,r.transform(l)]):Qe(t));vo(()=>{const l=typeof n=="function"?n():Qe(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=EQ(o.value,u,{customKeyFilter:{...e.customKeyFilter,...Qe(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),h=Qe(t),f=[],d=new Map;c.forEach(v=>{let{index:g,matches:p}=v;const y=h[g];f.push(y),d.set(y.value,p)}),i.value=f,a.value=d});function s(l){return a.value.get(l.value)}return{filteredItems:i,filteredMatches:a,getMatches:s}}function CQ(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?H(fn,null,[H("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),H("span",{class:"v-combobox__mask"},[e.substr(t,n)]),H("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const TQ=je({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...SQ({filterKeys:["title"]}),...W3({hideNoData:!0,returnObject:!0}),...ou(h_({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...nf({transition:!1})},"VCombobox"),PQ=gt()({name:"VCombobox",props:TQ(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var ye;let{emit:n,slots:r}=t;const{t:i}=am(),a=nt(),o=ut(!1),s=ut(!0),l=ut(!1),u=nt(),c=nt(),h=Gn(e,"menu"),f=ne({get:()=>h.value,set:pe=>{var Se;h.value&&!pe&&((Se=u.value)!=null&&Se.openChildren)||(h.value=pe)}}),d=ut(-1);let v=!1;const g=ne(()=>{var pe;return(pe=a.value)==null?void 0:pe.color}),p=ne(()=>f.value?e.closeText:e.openText),{items:y,transformIn:m,transformOut:b}=A3(e),{textColorClasses:w,textColorStyles:x}=$a(g),_=Gn(e,"modelValue",[],pe=>m(va(pe)),pe=>{const Se=b(pe);return e.multiple?Se:Se[0]??null}),S=t_(),P=ut(e.multiple?"":((ye=_.value[0])==null?void 0:ye.title)??""),C=ne({get:()=>P.value,set:pe=>{var Se;if(P.value=pe??"",e.multiple||(_.value=[Dl(e,pe)]),pe&&e.multiple&&((Se=e.delimiters)!=null&&Se.length)){const ae=pe.split(new RegExp(`(?:${e.delimiters.join("|")})+`));ae.length>1&&(ae.forEach(ke=>{ke=ke.trim(),ke&&ce(Dl(e,ke))}),P.value="")}pe||(d.value=-1),s.value=!pe}}),D=ne(()=>typeof e.counterValue=="function"?e.counterValue(_.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?_.value.length:C.value.length);bt(P,pe=>{v?tr(()=>v=!1):o.value&&!f.value&&(f.value=!0),n("update:search",pe)}),bt(_,pe=>{var Se;e.multiple||(P.value=((Se=pe[0])==null?void 0:Se.title)??"")});const{filteredItems:T,getMatches:B}=AQ(e,y,()=>s.value?"":C.value),I=ne(()=>e.hideSelected?T.value.filter(pe=>!_.value.some(Se=>Se.value===pe.value)):T.value),O=ne(()=>_.value.map(pe=>pe.value)),L=ne(()=>{var Se;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&C.value===((Se=I.value[0])==null?void 0:Se.title))&&I.value.length>0&&!s.value&&!l.value}),R=ne(()=>e.hideNoData&&!I.value.length||e.readonly||(S==null?void 0:S.isReadonly.value)),U=nt(),{onListScroll:$,onListKeydown:j}=X3(U,a);function z(pe){v=!0,e.openOnClear&&(f.value=!0)}function Y(){R.value||(f.value=!0)}function Q(pe){R.value||(o.value&&(pe.preventDefault(),pe.stopPropagation()),f.value=!f.value)}function re(pe){var ke;if(k4(pe)||e.readonly||S!=null&&S.isReadonly.value)return;const Se=a.value.selectionStart,ae=_.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(pe.key))&&pe.preventDefault(),["Enter","ArrowDown"].includes(pe.key)&&(f.value=!0),["Escape"].includes(pe.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(pe.key)&&(L.value&&["Enter","Tab"].includes(pe.key)&&ce(T.value[0]),s.value=!0),pe.key==="ArrowDown"&&L.value&&((ke=U.value)==null||ke.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(pe.key)){if(d.value<0){pe.key==="Backspace"&&!C.value&&(d.value=ae-1);return}const Ce=d.value,We=_.value[d.value];We&&!We.props.disabled&&ce(We,!1),d.value=Ce>=ae-1?ae-2:Ce}if(pe.key==="ArrowLeft"){if(d.value<0&&Se>0)return;const Ce=d.value>-1?d.value-1:ae-1;_.value[Ce]?d.value=Ce:(d.value=-1,a.value.setSelectionRange(C.value.length,C.value.length))}if(pe.key==="ArrowRight"){if(d.value<0)return;const Ce=d.value+1;_.value[Ce]?d.value=Ce:(d.value=-1,a.value.setSelectionRange(0,0))}pe.key==="Enter"&&C.value&&(ce(Dl(e,C.value)),C.value="")}}function he(){var pe;o.value&&(s.value=!0,(pe=a.value)==null||pe.focus())}function ce(pe){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.multiple){const ae=_.value.findIndex(Ce=>e.valueComparator(Ce.value,pe.value)),ke=Se??!~ae;if(~ae){const Ce=ke?[..._.value,pe]:[..._.value];Ce.splice(ae,1),_.value=Ce}else ke&&(_.value=[..._.value,pe]);e.clearOnSelect&&(C.value="")}else{const ae=Se!==!1;_.value=ae?[pe]:[],P.value=ae?pe.title:"",tr(()=>{f.value=!1,s.value=!0})}}function te(pe){o.value=!0,setTimeout(()=>{l.value=!0})}function ee(pe){l.value=!1}function Ue(pe){(pe==null||pe===""&&!e.multiple)&&(_.value=[])}return bt(o,(pe,Se)=>{pe||pe===Se||(d.value=-1,f.value=!1,L.value&&!l.value&&!_.value.some(ae=>{let{value:ke}=ae;return ke===I.value[0].value})?ce(I.value[0]):e.multiple&&C.value&&ce(Dl(e,C.value)))}),bt(f,()=>{if(!e.hideSelected&&f.value&&_.value.length){const pe=I.value.findIndex(Se=>_.value.some(ae=>e.valueComparator(ae.value,Se.value)));Hi&&window.requestAnimationFrame(()=>{var Se;pe>=0&&((Se=c.value)==null||Se.scrollToIndex(pe))})}}),bt(I,(pe,Se)=>{o.value&&(!pe.length&&e.hideNoData&&(f.value=!1),!Se.length&&pe.length&&(f.value=!0))}),Bt(()=>{const pe=!!(e.chips||r.chip),Se=!!(!e.hideNoData||I.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),ae=_.value.length>0,ke=Bg.filterProps(e);return H(Bg,Ct({ref:a},ke,{modelValue:C.value,"onUpdate:modelValue":[Ce=>C.value=Ce,Ue],focused:o.value,"onUpdate:focused":Ce=>o.value=Ce,validationValue:_.externalValue,counterValue:D.value,dirty:ae,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!r.selection,"v-combobox--selecting-index":d.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:ae?void 0:e.placeholder,"onClick:clear":z,"onMousedown:control":Y,onKeydown:re}),{...r,default:()=>H(fn,null,[H(a_,Ct({ref:u,modelValue:f.value,"onUpdate:modelValue":Ce=>f.value=Ce,activator:"parent",contentClass:"v-combobox__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:he},e.menuProps),{default:()=>[Se&&H(Qx,Ct({ref:U,selected:O.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Ce=>Ce.preventDefault(),onKeydown:j,onFocusin:te,onFocusout:ee,onScrollPassive:$,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var Ce,We,X;return[(Ce=r["prepend-item"])==null?void 0:Ce.call(r),!I.value.length&&!e.hideNoData&&(((We=r["no-data"])==null?void 0:We.call(r))??H(rs,{title:i(e.noDataText)},null)),H(Y3,{ref:c,renderless:!0,items:I.value},{default:M=>{var we;let{item:k,index:W,itemRef:Z}=M;const be=Ct(k.props,{ref:Z,key:W,active:L.value&&W===0?!0:void 0,onClick:()=>ce(k,null)});return((we=r.item)==null?void 0:we.call(r,{item:k,index:W,props:be}))??H(rs,Ct(be,{role:"option"}),{prepend:tt=>{let{isSelected:_t}=tt;return H(fn,null,[e.multiple&&!e.hideSelected?H(I3,{key:k.value,modelValue:_t,ripple:!1,tabindex:"-1"},null):void 0,k.props.prependAvatar&&H(Ys,{image:k.props.prependAvatar},null),k.props.prependIcon&&H(bn,{icon:k.props.prependIcon},null)])},title:()=>{var tt,_t;return s.value?k.title:CQ(k.title,(tt=B(k))==null?void 0:tt.title,((_t=C.value)==null?void 0:_t.length)??0)}})}}),(X=r["append-item"])==null?void 0:X.call(r)]}})]}),_.value.map((Ce,We)=>{function X(Z){Z.stopPropagation(),Z.preventDefault(),ce(Ce,!1)}const M={"onClick:close":X,onMousedown(Z){Z.preventDefault(),Z.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},k=pe?!!r.chip:!!r.selection,W=k?VT(pe?r.chip({item:Ce,index:We,props:M}):r.selection({item:Ce,index:We})):void 0;if(!(k&&!W))return H("div",{key:Ce.value,class:["v-combobox__selection",We===d.value&&["v-combobox__selection--selected",w.value]],style:We===d.value?x.value:{}},[pe?r.chip?H(or,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Ce.title}}},{default:()=>[W]}):H(uc,Ct({key:"chip",closable:e.closableChips,size:"small",text:Ce.title,disabled:Ce.props.disabled},M),null):W??H("span",{class:"v-combobox__selection-text"},[Ce.title,e.multiple&&We<_.value.length-1&&H("span",{class:"v-combobox__selection-comma"},[ca(",")])])])})]),"append-inner":function(){var M;for(var Ce=arguments.length,We=new Array(Ce),X=0;X<Ce;X++)We[X]=arguments[X];return H(fn,null,[(M=r["append-inner"])==null?void 0:M.call(r,...We),(!e.hideNoData||e.items.length)&&e.menuIcon?H(bn,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:Q,onClick:F4,"aria-label":i(p.value),title:i(p.value)},null):void 0])}})}),af({isFocused:o,isPristine:s,menu:f,search:C,selectionIndex:d,filteredItems:T,select:ce},a)}}),OQ={class:"px-2"},IQ=0,MQ={__name:"SourceView",props:["data"],setup(e){const{keywords:t,updateKeywords:n,keywordSearchPattern:r}=sr("keywords"),a=e.data,o=nt([]),s=nt([]),l=nt(""),u=Array.from(new Set(a.map(v=>v.pathList[IQ]))),c=v=>$m(u.indexOf(v)/u.length);o.value=d();const h=ne(()=>`Found ${o.value==null?0:o.value.leaves().length} files.`),f=ne(()=>l.value===""?"Start typing a search term":`Press <kbd>enter</kbd> to search for "${l.value}"`);bt(t,()=>{o.value=d()});function d(){let v=null;if(t.value.length>0){const g=a.filter(p=>t.value.every(y=>bK(p.text,y,r.value)));g.length>0&&(v=rb().path(p=>p.path)(g))}else a.length>0&&(v=rb().path(g=>g.path)(a));return v}return(v,g)=>(gn(),ua(fn,null,[H($D,null,{default:vt(()=>[H(eo,null,{default:vt(()=>[H(Ml,null,{default:vt(()=>[ca(Oa(h.value),1)]),_:1}),H(Ml,{style:{"margin-top":"24px"}},{default:vt(()=>[H(PQ,{modelValue:s.value,"onUpdate:modelValue":[g[0]||(g[0]=p=>s.value=p),Qe(n)],search:l.value,"onUpdate:search":g[1]||(g[1]=p=>l.value=p),"onClick:clear":g[2]||(g[2]=p=>Qe(n)([])),"hide-no-data":!1,label:"Filter documents",density:"comfortable",variant:"outlined",clearable:"",chips:"","closable-chips":"","hide-selected":"","hide-details":"",multiple:""},{"no-data":vt(()=>[H(rs,null,{default:vt(()=>[H(u3,{innerHTML:f.value},null,8,["innerHTML"])]),_:1})]),_:1},8,["modelValue","search","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),H(x3),Fr("div",OQ,[o.value!==null?(gn(),ar(yZ,{key:0,nodes:o.value.children,color:c,keywords:Qe(t),keywordSearchPattern:Qe(r)},null,8,["nodes","keywords","keywordSearchPattern"])):(gn(),ar(eo,{key:1},{default:vt(()=>[ca("No data matching keywords :(")]),_:1}))])],64))}};const q3=je({divided:Boolean,...el(),...Xt(),...Ao(),...vs(),...Ki(),...nr(),...vr(),...Js()},"VBtnGroup"),bA=gt()({name:"VBtnGroup",props:q3(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{densityClasses:i}=ds(e),{borderClasses:a}=tl(e),{elevationClasses:o}=ps(e),{roundedClasses:s}=qi(e);Ws({VBtn:{height:"auto",color:ft(e,"color"),density:ft(e,"density"),flat:!0,variant:ft(e,"variant")}}),Bt(()=>H(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,a.value,i.value,o.value,s.value,e.class],style:e.style},n))}}),Z3=Symbol.for("vuetify:v-btn-toggle"),DQ=je({...q3(),...n_()},"VBtnToggle");gt()({name:"VBtnToggle",props:DQ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:i,prev:a,select:o,selected:s}=r_(e,Z3);return Bt(()=>{const l=bA.filterProps(e);return H(bA,Ct({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,next:i,prev:a,select:o,selected:s})]}})}),{next:i,prev:a,select:o}}});const FQ=je({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Xt(),...vd(),...nr({tag:"div"}),...vr()},"VProgressCircular"),kQ=gt()({name:"VProgressCircular",props:FQ(),setup(e,t){let{slots:n}=t;const r=20,i=2*Math.PI*r,a=nt(),{themeClasses:o}=Rr(e),{sizeClasses:s,sizeStyles:l}=pd(e),{textColorClasses:u,textColorStyles:c}=$a(ft(e,"color")),{textColorClasses:h,textColorStyles:f}=$a(ft(e,"bgColor")),{intersectionRef:d,isIntersecting:v}=j3(),{resizeRef:g,contentRect:p}=Sc(),y=ne(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),m=ne(()=>Number(e.width)),b=ne(()=>l.value?Number(e.size):p.value?p.value.width:Math.max(m.value,32)),w=ne(()=>r/(1-m.value/b.value)*2),x=ne(()=>m.value/b.value*w.value),_=ne(()=>yt((100-y.value)/100*i));return vo(()=>{d.value=a.value,g.value=a.value}),Bt(()=>H(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:y.value},{default:()=>[H("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${w.value} ${w.value}`},[H("circle",{class:["v-progress-circular__underlay",h.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),H("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":_.value},null)]),n.default&&H("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}}),BQ=["static","relative","fixed","absolute","sticky"],Q3=je({position:{type:String,validator:e=>BQ.includes(e)}},"position");function J3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cs();return{positionClasses:ne(()=>e.position?`${t}--${e.position}`:void 0)}}function RQ(e,t){bt(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&tr(()=>{t(!0)})},{immediate:!0})}const LQ=je({active:{type:Boolean,default:void 0},symbol:{type:null,default:Z3},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:wn,appendIcon:wn,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...el(),...Xt(),...Ao(),...pu(),...vs(),...D3(),...l_(),...o_(),...Q3(),...Ki(),...Jm(),...vd(),...nr({tag:"button"}),...vr(),...Js({variant:"elevated"})},"VBtn"),eF=gt()({name:"VBtn",directives:{Ripple:rf},props:LQ(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=Rr(e),{borderClasses:a}=tl(e),{colorClasses:o,colorStyles:s,variantClasses:l}=md(e),{densityClasses:u}=ds(e),{dimensionStyles:c}=gu(e),{elevationClasses:h}=ps(e),{loaderClasses:f}=u_(e),{locationStyles:d}=s_(e),{positionClasses:v}=J3(e),{roundedClasses:g}=qi(e),{sizeClasses:p,sizeStyles:y}=pd(e),m=F3(e,e.symbol,!1),b=Qm(e,n),w=ne(()=>{var C;return e.active!==void 0?e.active:b.isLink.value?(C=b.isActive)==null?void 0:C.value:m==null?void 0:m.isSelected.value}),x=ne(()=>(m==null?void 0:m.disabled.value)||e.disabled),_=ne(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),S=ne(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function P(C){var D;x.value||b.isLink.value&&(C.metaKey||C.ctrlKey||C.shiftKey||C.button!==0||n.target==="_blank")||((D=b.navigate)==null||D.call(b,C),m==null||m.toggle())}return RQ(b,m==null?void 0:m.select),Bt(()=>{var O,L;const C=b.isLink.value?"a":e.tag,D=!!(e.prependIcon||r.prepend),T=!!(e.appendIcon||r.append),B=!!(e.icon&&e.icon!==!0),I=(m==null?void 0:m.isSelected.value)&&(!b.isLink.value||((O=b.isActive)==null?void 0:O.value))||!m||((L=b.isActive)==null?void 0:L.value);return dr(H(C,{type:C==="a"?void 0:"button",class:["v-btn",m==null?void 0:m.selectedClass.value,{"v-btn--active":w.value,"v-btn--block":e.block,"v-btn--disabled":x.value,"v-btn--elevated":_.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},i.value,a.value,I?o.value:void 0,u.value,h.value,f.value,v.value,g.value,p.value,l.value,e.class],style:[I?s.value:void 0,c.value,d.value,y.value,e.style],disabled:x.value||void 0,href:b.href.value,onClick:P,value:S.value},{default:()=>{var R;return[gd(!0,"v-btn"),!e.icon&&D&&H("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?H(or,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):H(bn,{key:"prepend-icon",icon:e.prependIcon},null)]),H("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&B?H(bn,{key:"content-icon",icon:e.icon},null):H(or,{key:"content-defaults",disabled:!B,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var U;return[((U=r.default)==null?void 0:U.call(r))??e.text]}})]),!e.icon&&T&&H("span",{key:"append",class:"v-btn__append"},[r.append?H(or,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):H(bn,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&H("span",{key:"loader",class:"v-btn__loader"},[((R=r.loader)==null?void 0:R.call(r))??H(kQ,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Ha("ripple"),!x.value&&e.ripple,null]])}),{group:m}}});const NQ=gt()({name:"VCardActions",props:Xt(),setup(e,t){let{slots:n}=t;return Ws({VBtn:{slim:!0,variant:"text"}}),Bt(()=>{var r;return H("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),tF=Zc("v-card-subtitle"),nF=Zc("v-card-title"),UQ=je({appendAvatar:String,appendIcon:wn,prependAvatar:String,prependIcon:wn,subtitle:[String,Number],title:[String,Number],...Xt(),...Ao()},"VCardItem"),rF=gt()({name:"VCardItem",props:UQ(),setup(e,t){let{slots:n}=t;return Bt(()=>{var u;const r=!!(e.prependAvatar||e.prependIcon),i=!!(r||n.prepend),a=!!(e.appendAvatar||e.appendIcon),o=!!(a||n.append),s=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return H("div",{class:["v-card-item",e.class],style:e.style},[i&&H("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?H(or,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):H(fn,null,[e.prependAvatar&&H(Ys,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&H(bn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),H("div",{class:"v-card-item__content"},[s&&H(nF,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&H(tF,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&H("div",{key:"append",class:"v-card-item__append"},[n.append?H(or,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):H(fn,null,[e.appendIcon&&H(bn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&H(Ys,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),xb=Zc("v-card-text"),VQ=je({appendAvatar:String,appendIcon:wn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:wn,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...el(),...Xt(),...Ao(),...pu(),...vs(),...l_(),...o_(),...Q3(),...Ki(),...Jm(),...nr(),...vr(),...Js({variant:"elevated"})},"VCard"),dp=gt()({name:"VCard",directives:{Ripple:rf},props:VQ(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:i}=Rr(e),{borderClasses:a}=tl(e),{colorClasses:o,colorStyles:s,variantClasses:l}=md(e),{densityClasses:u}=ds(e),{dimensionStyles:c}=gu(e),{elevationClasses:h}=ps(e),{loaderClasses:f}=u_(e),{locationStyles:d}=s_(e),{positionClasses:v}=J3(e),{roundedClasses:g}=qi(e),p=Qm(e,n),y=ne(()=>e.link!==!1&&p.isLink.value),m=ne(()=>!e.disabled&&e.link!==!1&&(e.link||p.isClickable.value));return Bt(()=>{const b=y.value?"a":e.tag,w=!!(r.title||e.title!=null),x=!!(r.subtitle||e.subtitle!=null),_=w||x,S=!!(r.append||e.appendAvatar||e.appendIcon),P=!!(r.prepend||e.prependAvatar||e.prependIcon),C=!!(r.image||e.image),D=_||P||S,T=!!(r.text||e.text!=null);return dr(H(b,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":m.value},i.value,a.value,o.value,u.value,h.value,f.value,v.value,g.value,l.value,e.class],style:[s.value,c.value,d.value,e.style],href:p.href.value,onClick:m.value&&p.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var B;return[C&&H("div",{key:"image",class:"v-card__image"},[r.image?H(or,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):H(Zx,{key:"image-img",cover:!0,src:e.image},null)]),H(H3,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),D&&H(rF,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),T&&H(xb,{key:"text"},{default:()=>{var I;return[((I=r.text)==null?void 0:I.call(r))??e.text]}}),(B=r.default)==null?void 0:B.call(r),r.actions&&H(NQ,null,{default:r.actions}),gd(m.value,"v-card")]}}),[[Ha("ripple"),m.value&&e.ripple]])}),{}}});const d_=Symbol.for("vuetify:v-slider");function $Q(e,t,n){const r=n==="vertical",i=t.getBoundingClientRect(),a="touches"in e?e.touches[0]:e;return r?a.clientY-(i.top+i.height/2):a.clientX-(i.left+i.width/2)}function zQ(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const jQ=je({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Ki(),...vs({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),HQ=e=>{const t=ne(()=>parseFloat(e.min)),n=ne(()=>parseFloat(e.max)),r=ne(()=>+e.step>0?parseFloat(e.step):0),i=ne(()=>Math.max(w2(r.value),w2(t.value)));function a(o){if(o=parseFloat(o),r.value<=0)return o;const s=co(o,t.value,n.value),l=t.value%r.value,u=Math.round((s-l)/r.value)*r.value+l;return parseFloat(Math.min(u,n.value).toFixed(i.value))}return{min:t,max:n,step:r,decimals:i,roundValue:a}},GQ=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:i,onSliderEnd:a,getActiveThumb:o}=e;const{isRtl:s}=Xi(),l=ft(t,"reverse"),u=ne(()=>t.direction==="vertical"),c=ne(()=>u.value!==l.value),{min:h,max:f,step:d,decimals:v,roundValue:g}=n,p=ne(()=>parseInt(t.thumbSize,10)),y=ne(()=>parseInt(t.tickSize,10)),m=ne(()=>parseInt(t.trackSize,10)),b=ne(()=>(f.value-h.value)/d.value),w=ft(t,"disabled"),x=ne(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),_=ne(()=>t.error||t.disabled?void 0:t.trackColor??t.color),S=ne(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),P=ut(!1),C=ut(0),D=nt(),T=nt();function B(te){var We;const ee=t.direction==="vertical",Ue=ee?"top":"left",ye=ee?"height":"width",pe=ee?"clientY":"clientX",{[Ue]:Se,[ye]:ae}=(We=D.value)==null?void 0:We.$el.getBoundingClientRect(),ke=zQ(te,pe);let Ce=Math.min(Math.max((ke-Se-C.value)/ae,0),1)||0;return(ee?c.value:c.value!==s.value)&&(Ce=1-Ce),g(h.value+Ce*(f.value-h.value))}const I=te=>{a({value:B(te)}),P.value=!1,C.value=0},O=te=>{T.value=o(te),T.value&&(T.value.focus(),P.value=!0,T.value.contains(te.target)?C.value=$Q(te,T.value,t.direction):(C.value=0,i({value:B(te)})),r({value:B(te)}))},L={passive:!0,capture:!0};function R(te){i({value:B(te)})}function U(te){te.stopPropagation(),te.preventDefault(),I(te),window.removeEventListener("mousemove",R,L),window.removeEventListener("mouseup",U)}function $(te){var ee;I(te),window.removeEventListener("touchmove",R,L),(ee=te.target)==null||ee.removeEventListener("touchend",$)}function j(te){var ee;O(te),window.addEventListener("touchmove",R,L),(ee=te.target)==null||ee.addEventListener("touchend",$,{passive:!1})}function z(te){te.preventDefault(),O(te),window.addEventListener("mousemove",R,L),window.addEventListener("mouseup",U,{passive:!1})}const Y=te=>{const ee=(te-h.value)/(f.value-h.value)*100;return co(isNaN(ee)?0:ee,0,100)},Q=ft(t,"showTicks"),re=ne(()=>Q.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(te=>({value:te,position:Y(te),label:te.toString()})):Object.keys(t.ticks).map(te=>({value:parseFloat(te),position:Y(parseFloat(te)),label:t.ticks[te]})):b.value!==1/0?B4(b.value+1).map(te=>{const ee=h.value+te*d.value;return{value:ee,position:Y(ee)}}):[]:[]),he=ne(()=>re.value.some(te=>{let{label:ee}=te;return!!ee})),ce={activeThumbRef:T,color:ft(t,"color"),decimals:v,disabled:w,direction:ft(t,"direction"),elevation:ft(t,"elevation"),hasLabels:he,isReversed:l,indexFromEnd:c,min:h,max:f,mousePressed:P,numTicks:b,onSliderMousedown:z,onSliderTouchstart:j,parsedTicks:re,parseMouseMove:B,position:Y,readonly:ft(t,"readonly"),rounded:ft(t,"rounded"),roundValue:g,showTicks:Q,startOffset:C,step:d,thumbSize:p,thumbColor:x,thumbLabel:ft(t,"thumbLabel"),ticks:ft(t,"ticks"),tickSize:y,trackColor:_,trackContainerRef:D,trackFillColor:S,trackSize:m,vertical:u};return Ii(d_,ce),ce},YQ=je({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...Xt()},"VSliderThumb"),XQ=gt()({name:"VSliderThumb",directives:{Ripple:rf},props:YQ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const i=sr(d_),{isRtl:a,rtlClasses:o}=Xi();if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:l,disabled:u,thumbSize:c,thumbLabel:h,direction:f,isReversed:d,vertical:v,readonly:g,elevation:p,mousePressed:y,decimals:m,indexFromEnd:b}=i,w=ne(()=>u.value?void 0:p.value),{elevationClasses:x}=ps(w),{textColorClasses:_,textColorStyles:S}=$a(s),{pageup:P,pagedown:C,end:D,home:T,left:B,right:I,down:O,up:L}=R4,R=[P,C,D,T,B,I,O,L],U=ne(()=>l.value?[1,2,3]:[1,5,10]);function $(z,Y){if(!R.includes(z.key))return;z.preventDefault();const Q=l.value||.1,re=(e.max-e.min)/Q;if([B,I,O,L].includes(z.key)){const ce=(v.value?[a.value?B:I,d.value?O:L]:b.value!==a.value?[B,L]:[I,L]).includes(z.key)?1:-1,te=z.shiftKey?2:z.ctrlKey?1:0;Y=Y+ce*Q*U.value[te]}else if(z.key===T)Y=e.min;else if(z.key===D)Y=e.max;else{const he=z.key===C?1:-1;Y=Y-he*Q*(re>100?re/10:10)}return Math.max(e.min,Math.min(e.max,Y))}function j(z){const Y=$(z,e.modelValue);Y!=null&&r("update:modelValue",Y)}return Bt(()=>{const z=yt(b.value?100-e.position:e.position,"%");return H("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&y.value},e.class,o.value],style:[{"--v-slider-thumb-position":z,"--v-slider-thumb-size":yt(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!g.value,"aria-orientation":f.value,onKeydown:g.value?void 0:j},[H("div",{class:["v-slider-thumb__surface",_.value,x.value],style:{...S.value}},null),dr(H("div",{class:["v-slider-thumb__ripple",_.value],style:S.value},null),[[Ha("ripple"),e.ripple,null,{circle:!0,center:!0}]]),H(Mq,{origin:"bottom center"},{default:()=>{var Y;return[dr(H("div",{class:"v-slider-thumb__label-container"},[H("div",{class:["v-slider-thumb__label"]},[H("div",null,[((Y=n["thumb-label"])==null?void 0:Y.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?m.value:1)])])]),[[us,h.value&&e.focused||h.value==="always"]])]}})])}),{}}});const WQ=je({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Xt()},"VSliderTrack"),KQ=gt()({name:"VSliderTrack",props:WQ(),emits:{},setup(e,t){let{slots:n}=t;const r=sr(d_);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,parsedTicks:a,rounded:o,showTicks:s,tickSize:l,trackColor:u,trackFillColor:c,trackSize:h,vertical:f,min:d,max:v,indexFromEnd:g}=r,{roundedClasses:p}=qi(o),{backgroundColorClasses:y,backgroundColorStyles:m}=ma(c),{backgroundColorClasses:b,backgroundColorStyles:w}=ma(u),x=ne(()=>`inset-${f.value?"block":"inline"}-${g.value?"end":"start"}`),_=ne(()=>f.value?"height":"width"),S=ne(()=>({[x.value]:"0%",[_.value]:"100%"})),P=ne(()=>e.stop-e.start),C=ne(()=>({[x.value]:yt(e.start,"%"),[_.value]:yt(P.value,"%")})),D=ne(()=>s.value?(f.value?a.value.slice().reverse():a.value).map((B,I)=>{var L;const O=B.value!==d.value&&B.value!==v.value?yt(B.position,"%"):void 0;return H("div",{key:B.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":B.position>=e.start&&B.position<=e.stop,"v-slider-track__tick--first":B.value===d.value,"v-slider-track__tick--last":B.value===v.value}],style:{[x.value]:O}},[(B.label||n["tick-label"])&&H("div",{class:"v-slider-track__tick-label"},[((L=n["tick-label"])==null?void 0:L.call(n,{tick:B,index:I}))??B.label])])}):[]);return Bt(()=>H("div",{class:["v-slider-track",p.value,e.class],style:[{"--v-slider-track-size":yt(h.value),"--v-slider-tick-size":yt(l.value)},e.style]},[H("div",{class:["v-slider-track__background",b.value,{"v-slider-track__background--opacity":!!i.value||!c.value}],style:{...S.value,...w.value}},null),H("div",{class:["v-slider-track__fill",y.value],style:{...C.value,...m.value}},null),s.value&&H("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}]},[D.value])])),{}}}),qQ=je({...e_(),...jQ(),...t0(),modelValue:{type:[Number,String],default:0}},"VSlider"),ZQ=gt()({name:"VSlider",props:qQ(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const i=nt(),{rtlClasses:a}=Xi(),o=HQ(e),s=Gn(e,"modelValue",void 0,_=>o.roundValue(_??o.min.value)),{min:l,max:u,mousePressed:c,roundValue:h,onSliderMousedown:f,onSliderTouchstart:d,trackContainerRef:v,position:g,hasLabels:p,readonly:y}=GQ({props:e,steps:o,onSliderStart:()=>{r("start",s.value)},onSliderEnd:_=>{let{value:S}=_;const P=h(S);s.value=P,r("end",P)},onSliderMove:_=>{let{value:S}=_;return s.value=h(S)},getActiveThumb:()=>{var _;return(_=i.value)==null?void 0:_.$el}}),{isFocused:m,focus:b,blur:w}=e0(e),x=ne(()=>g(s.value));return Bt(()=>{const _=zc.filterProps(e),S=!!(e.label||n.label||n.prepend);return H(zc,Ct({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":m.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style},_,{focused:m.value}),{...n,prepend:S?P=>{var C,D;return H(fn,null,[((C=n.label)==null?void 0:C.call(n,P))??(e.label?H(Jx,{id:P.id.value,class:"v-slider__label",text:e.label},null):void 0),(D=n.prepend)==null?void 0:D.call(n,P)])}:void 0,default:P=>{let{id:C,messagesId:D}=P;return H("div",{class:"v-slider__container",onMousedown:y.value?void 0:f,onTouchstartPassive:y.value?void 0:d},[H("input",{id:C.value,name:e.name||C.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),H(KQ,{ref:v,start:0,stop:x.value},{"tick-label":n["tick-label"]}),H(XQ,{ref:i,"aria-describedby":D.value,focused:m.value,min:l.value,max:u.value,modelValue:s.value,"onUpdate:modelValue":T=>s.value=T,position:x.value,elevation:e.elevation,onFocus:b,onBlur:w,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}});const QQ=je({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...t0(),...c_()},"VTextarea"),JQ=gt()({name:"VTextarea",directives:{Intersect:qx},inheritAttrs:!1,props:QQ(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const a=Gn(e,"modelValue"),{isFocused:o,focus:s,blur:l}=e0(e),u=ne(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),c=ne(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function h(T,B){var I,O;!e.autofocus||!T||(O=(I=B[0].target)==null?void 0:I.focus)==null||O.call(I)}const f=nt(),d=nt(),v=ut(""),g=nt(),p=ne(()=>e.persistentPlaceholder||o.value||e.active);function y(){var T;g.value!==document.activeElement&&((T=g.value)==null||T.focus()),o.value||s()}function m(T){y(),r("click:control",T)}function b(T){r("mousedown:control",T)}function w(T){T.stopPropagation(),y(),tr(()=>{a.value="",UT(e["onClick:clear"],T)})}function x(T){var I;const B=T.target;if(a.value=B.value,(I=e.modelModifiers)!=null&&I.trim){const O=[B.selectionStart,B.selectionEnd];tr(()=>{B.selectionStart=O[0],B.selectionEnd=O[1]})}}const _=nt(),S=nt(+e.rows),P=ne(()=>["plain","underlined"].includes(e.variant));vo(()=>{e.autoGrow||(S.value=+e.rows)});function C(){e.autoGrow&&tr(()=>{if(!_.value||!d.value)return;const T=getComputedStyle(_.value),B=getComputedStyle(d.value.$el),I=parseFloat(T.getPropertyValue("--v-field-padding-top"))+parseFloat(T.getPropertyValue("--v-input-padding-top"))+parseFloat(T.getPropertyValue("--v-field-padding-bottom")),O=_.value.scrollHeight,L=parseFloat(T.lineHeight),R=Math.max(parseFloat(e.rows)*L+I,parseFloat(B.getPropertyValue("--v-input-control-height"))),U=parseFloat(e.maxRows)*L+I||1/0,$=co(O??0,R,U);S.value=Math.floor(($-I)/L),v.value=yt($)})}Gi(C),bt(a,C),bt(()=>e.rows,C),bt(()=>e.maxRows,C),bt(()=>e.density,C);let D;return bt(_,T=>{T?(D=new ResizeObserver(C),D.observe(_.value)):D==null||D.disconnect()}),fi(()=>{D==null||D.disconnect()}),Bt(()=>{const T=!!(i.counter||e.counter||e.counterValue),B=!!(T||i.details),[I,O]=bw(n),{modelValue:L,...R}=zc.filterProps(e),U=G3(e);return H(zc,Ct({ref:f,modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":P.value},e.class],style:e.style},I,R,{centerAffix:S.value===1&&!P.value,focused:o.value}),{...i,default:$=>{let{id:j,isDisabled:z,isDirty:Y,isReadonly:Q,isValid:re}=$;return H(f_,Ct({ref:d,style:{"--v-textarea-control-height":v.value},onClick:m,onMousedown:b,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},U,{id:j.value,active:p.value||Y.value,centerAffix:S.value===1&&!P.value,dirty:Y.value||e.dirty,disabled:z.value,focused:o.value,error:re.value===!1}),{...i,default:he=>{let{props:{class:ce,...te}}=he;return H(fn,null,[e.prefix&&H("span",{class:"v-text-field__prefix"},[e.prefix]),dr(H("textarea",Ct({ref:g,class:ce,value:a.value,onInput:x,autofocus:e.autofocus,readonly:Q.value,disabled:z.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:y,onBlur:l},te,O),null),[[Ha("intersect"),{handler:h},null,{once:!0}]]),e.autoGrow&&dr(H("textarea",{class:[ce,"v-textarea__sizer"],id:`${te.id}-sizer`,"onUpdate:modelValue":ee=>a.value=ee,ref:_,readonly:!0,"aria-hidden":"true"},null),[[kT,a.value]]),e.suffix&&H("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:B?$=>{var j;return H(fn,null,[(j=i.details)==null?void 0:j.call(i,$),T&&H(fn,null,[H("span",null,null),H(z3,{active:e.persistentCounter||o.value,value:u.value,max:c.value},i.counter)])])}:void 0})}),af({},f,d,g)}});const eJ=je({id:String,text:String,...ou(i_({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),wA=gt()({name:"VTooltip",props:eJ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Gn(e,"modelValue"),{scopeId:i}=n0(),a=_o(),o=ne(()=>e.id||`v-tooltip-${a}`),s=nt(),l=ne(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=ne(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=ne(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),h=ne(()=>Ct({"aria-describedby":o.value},e.activatorProps));return Bt(()=>{const f=kg.filterProps(e);return H(kg,Ct({ref:s,class:["v-tooltip",e.class],style:e.style,id:o.value},f,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:h.value,_disableGlobalStack:!0},i),{activator:n.activator,default:function(){var p;for(var d=arguments.length,v=new Array(d),g=0;g<d;g++)v[g]=arguments[g];return((p=n.default)==null?void 0:p.call(n,...v))??e.text}})}),af({},s)}}),tJ={class:"d-flex align-center"},nJ=["name","placeholder"],rJ={key:1,class:"pile-title"},iJ={class:"d-flex align-center flex-wrap",style:{gap:"4px"}},aJ=Fr("span",null,"Keywords:",-1),oJ=Fr("span",null,"Model settings",-1),sJ={class:"d-flex align-center",style:{gap:"12px"}},lJ={class:"pr-1"},uJ=["textContent"],cJ={__name:"Pile",props:["piles","pile","pileIndex","summaryModels","enablePileEditName","clonePile","removePile","updatePileName","getPileTopicKeywords","getPileSummary","togglePileSummary","validatePileChange","setPileActiveNode","removePileNode"],setup(e){const t=e,n=t.piles,r=t.pile,i=t.pileIndex,a=t.summaryModels,o=t.enablePileEditName,s=t.clonePile,l=t.removePile,u=t.updatePileName,c=t.getPileTopicKeywords,h=t.getPileSummary,f=t.togglePileSummary,d=t.validatePileChange,v=t.setPileActiveNode,g=t.removePileNode;function p(y){const m=n[y].activeNode!==null,b=n[y].summaryText!==null&&n[y].showSummary;return m||b?12:4}return(y,m)=>(gn(),ar(eo,{cols:p(Qe(i))},{default:vt(()=>[Fr("div",{class:"pile-controls-floating-wrapper",style:pw({left:`calc(100% - ${Qe(i)>0?76:52}px)`,width:`${Qe(i)>0?76:52}px`})},[H(dp,{class:"d-flex justify-end"},{default:vt(()=>[H(bn,{density:"comfortable",icon:Qe(vq),onClick:m[0]||(m[0]=b=>Qe(o)(Qe(i))),title:"Edit pile name"},null,8,["icon"]),H(bn,{density:"comfortable",icon:Qe(uq),onClick:m[1]||(m[1]=b=>Qe(s)(Qe(i))),title:"Copy pile"},null,8,["icon"]),Qe(i)>0?(gn(),ar(bn,{key:0,density:"comfortable",icon:Qe(sq),onClick:m[2]||(m[2]=b=>Qe(l)(Qe(i))),title:"Remove pile"},null,8,["icon"])):to("",!0)]),_:1})],4),H(dp,null,{default:vt(()=>[H(rF,null,{default:vt(()=>[H(nF,null,{default:vt(()=>[Fr("div",tJ,[Qe(r).editNameEnabled?(gn(),ua("input",{key:0,name:"Pile"+Qe(i),type:"text",style:{width:"100%"},placeholder:Qe(r).name,onBlur:m[3]||(m[3]=b=>Qe(u)(b.target.value,Qe(i)))},null,40,nJ)):(gn(),ua("span",rJ,Oa(Qe(r).name),1))])]),_:1}),H(tF,{class:"mt-2"},{default:vt(()=>[Fr("div",iJ,[aJ,(gn(!0),ua(fn,null,xh(Qe(c)(Qe(i)),b=>(gn(),ar(uc,{label:"",density:"comfortable"},{default:vt(()=>[ca(Oa(b),1)]),_:2},1024))),256))])]),_:1})]),_:1}),H(eo,{class:"pt-0"},{default:vt(()=>[H(Ml,null,{default:vt(()=>[H(eo,{class:"d-flex flex-wrap align-center",style:{gap:"12px"}},{default:vt(()=>[H(K3,{modelValue:Qe(r).summaryModel,"onUpdate:modelValue":m[4]||(m[4]=b=>Qe(r).summaryModel=b),items:Qe(a),label:"Summary model",density:"compact",variant:"outlined","return-object":"","hide-details":""},null,8,["modelValue","items"]),H(eF,{disabled:Qe(r).nodeList.length==0,loading:Qe(r).summaryLoading,onClick:m[5]||(m[5]=b=>Qe(h)(Qe(i)))},{default:vt(()=>[ca(" Summarize ")]),_:1},8,["disabled","loading"]),Qe(r).summaryModel.settings!==null?(gn(),ar(a_,{key:0,location:"bottom center",offset:"10","close-on-content-click":!1},{activator:vt(({props:b})=>[H(wA,{location:"top center"},{activator:vt(({props:w})=>[H(bn,Ct({icon:Qe(lq)},Ct(b,w)),null,16,["icon"])]),default:vt(()=>[oJ]),_:2},1024)]),default:vt(()=>[H(dp,{"min-width":"400"},{default:vt(()=>[H(xb,null,{default:vt(()=>[Object.hasOwn(Qe(r).summaryModel.settings,"temperature")?(gn(),ar(Ml,{key:0},{default:vt(()=>[H(eo,null,{default:vt(()=>[H(uc,{label:""},{default:vt(()=>[ca("Temperature")]),_:1}),H(ZQ,{modelValue:Qe(r).summaryModel.settings.temperature,"onUpdate:modelValue":m[6]||(m[6]=b=>Qe(r).summaryModel.settings.temperature=b),class:"temperature-slider",min:0,max:1,step:.1,ticks:jo(0,1.1,.1).map(b=>Number(b).toFixed(1)),"show-ticks":"always","tick-size":"2","hide-details":""},null,8,["modelValue","ticks"])]),_:1})]),_:1})):to("",!0),Object.hasOwn(Qe(r).summaryModel.settings,"instructions")?(gn(),ar(Ml,{key:1},{default:vt(()=>[H(eo,null,{default:vt(()=>[H(JQ,{"model-value":Qe(r).summaryModel.settings.instructions,"onUpdate:modelValue":m[7]||(m[7]=b=>Qe(r).summaryModel.settings.instructions=b),class:"instructions-textarea",label:"Provide additional instructions to the model",variant:"outlined",rows:"1","hide-details":"","auto-grow":""},null,8,["model-value"])]),_:1})]),_:1})):to("",!0)]),_:1})]),_:1})]),_:1})):to("",!0),Qe(r).summaryText!==null?(gn(),ar(wA,{key:1,location:"top center"},{activator:vt(({props:b})=>[H(bn,Ct({icon:Qe(r).showSummary?Qe(cq):Qe(fq),disabled:Qe(r).summaryText==null,onClick:m[8]||(m[8]=w=>Qe(f)(Qe(i)))},Ct(y.menu,b)),null,16,["icon","disabled"])]),default:vt(()=>[Fr("span",null,Oa(Qe(r).showSummary?"Hide summary":"Show summary"),1)]),_:1})):to("",!0)]),_:1})]),_:1}),H(Mg,null,{default:vt(()=>[Qe(r).showSummary&&Qe(r).summaryText!==null?(gn(),ar(Ml,{key:0},{default:vt(()=>[H(eo,{class:"pt-0"},{default:vt(()=>[Fr("div",sJ,[(gn(!0),ua(fn,null,xh(Qe(r).summaryStats,b=>(gn(),ua("div",null,[Fr("span",lJ,Oa(b.name)+":",1),H(uc,{label:"",density:"comfortable"},{default:vt(()=>[ca(Oa(b.value),1)]),_:2},1024)]))),256))]),Fr("div",{class:"mt-2 summary-text",textContent:Oa(Qe(r).summaryText)},null,8,uJ)]),_:1})]),_:1})):to("",!0)]),_:1})]),_:1}),H(eo,{class:"pt-0"},{default:vt(()=>[H(Qe(UD),{class:"dragArea list-group drag-container","item-key":"id",animation:"150",modelValue:Qe(r).nodeList,"onUpdate:modelValue":m[9]||(m[9]=b=>Qe(r).nodeList=b),group:{name:"people",pull:"clone"},onChange:m[10]||(m[10]=b=>Qe(d)(b,Qe(i)))},{item:vt(({element:b,index:w})=>[H(uc,{closable:"",label:"",color:Qe(r).activeNode!==null&&Qe(r).activeNode.id==b.id?"primary":"",onClick:x=>Qe(v)(b,Qe(i)),"onClick:close":x=>Qe(g)(b,w,Qe(i))},{default:vt(()=>[ca(Oa(b.name),1)]),_:2},1032,["color","onClick","onClick:close"])]),_:1},8,["modelValue"])]),_:1}),H(Mg,null,{default:vt(()=>[dr(Fr("div",null,[H(xb,{class:"pt-0 node-text",innerHTML:Qe(r).activeNodeHTML},null,8,["innerHTML"])],512),[[us,Qe(r).activeNode!==null]])]),_:1})]),_:1})]),_:1},8,["cols"]))}};var _b={exports:{}},v_={},xA={},iF=v_;v_.except=function(e,t){if(t instanceof Array){if(~t.indexOf(e))return e}else for(var n in t)if(n===e)return t[n];return!1};v_.among=function e(t,n,r){if(r==null)return e(t,0,n);for(var i=t.slice(),a,o,s=0;s<r.length&&(a=r[s],a=xA[a]||(xA[a]=new RegExp(r[s]+"$")),o=r[s+1],typeof o=="function"?t=t.replace(a,function(l){var u=arguments[""+(arguments.length-2)];return u>=n?o.apply(null,arguments):l+" "}):t=t.replace(a,function(l){var u=arguments[""+(arguments.length-2)];return u>=n?o:l+" "}),t===i);s+=2);return t.replace(/ /g,"")};var Es=iF,Ba="aeiouy",fJ=Ba+"wxY",hJ="cdeghkmnrt",_A=RegExp("^.*?(["+Ba+"][^"+Ba+"]|$)"),dJ=/^(gener|commun|arsen)/,vJ=/(bb|dd|ff|gg|mm|nn|pp|rr|tt)$/,pJ=RegExp("(["+Ba+"])y","g"),gJ=RegExp("(.[^"+Ba+"])[yY]$"),mJ={skis:"ski",skies:"sky",dying:"die",lying:"lie",tying:"tie",idly:"idl",gently:"gentl",ugly:"ugli",early:"earli",only:"onli",singly:"singl",sky:"sky",news:"news",howe:"howe",atlas:"atlas",cosmos:"cosmos",bias:"bias",andes:"andes"},yJ=["inning","outing","canning","herring","earring","proceed","exceed","succeed"],bJ=function(e){var t=Es.except(e,mJ);if(t)return t;if(e.length<3)return e;e[0]==="y"&&(e="Y"+e.substr(1)),e=e.replace(pJ,"$1Y");var n,r;(r=dJ.exec(e))?n=r[0].length:n=_A.exec(e)[0].length;var i=n+_A.exec(e.substr(n))[0].length;return e=e.replace(/^'/,""),e=e.replace(/'(s'?)?$/,""),e=Es.among(e,["sses","ss","(ied|ies)",function(a,o,s){return s>1?"i":"ie"},"(["+Ba+"].*?[^us])s",function(a,o){return o}]),t=Es.except(e,yJ),t||(e=Es.among(e,["(eed|eedly)",function(a,o,s){return s>=n?"ee":a+" "},"(["+Ba+"].*?)(ed|edly|ing|ingly)",function(a,o,s,l){return/(?:at|bl|iz)$/.test(o)?o+"e":vJ.test(o)?o.substr(0,o.length-1):SA(e.substr(0,l+o.length))&&l+o.length<=n?o+"e":o}]),e=e.replace(gJ,"$1i"),e=Es.among(e,n,["(izer|ization)","ize","(ational|ation|ator)","ate","enci","ence","anci","ance","abli","able","entli","ent","tional","tion","(alism|aliti|alli)","al","fulness","ful","(ousli|ousness)","ous","(iveness|iviti)","ive","(biliti|bli)","ble","ogi",function(a,o){return e[o-1]==="l"?"og":"ogi"},"fulli","ful","lessli","less","li",function(a,o){return~hJ.indexOf(e[o-1])?"":"li"}]),e=Es.among(e,n,["ational","ate","tional","tion","alize","al","(icate|iciti|ical)","ic","(ful|ness)","","ative",function(a,o){return o>=i?"":"ative"}]),e=Es.among(e,i,["(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ism|ate|iti|ous|ive|ize)","","ion",function(a,o){return~"st".indexOf(e[o-1])?"":a}]),e=Es.among(e,n,["e",function(a,o){return o>=i||!SA(e,o-2)?"":"e"},"l",function(a,o){return e[o-1]==="l"&&o>=i?"":"l"}]),e=e.replace(/Y/g,"y"),e)};function SA(e,t){return t==null&&(t=e.length-2),e.length<3&&(t=0),!!(!~Ba.indexOf(e[t-1])&&~Ba.indexOf(e[t])&&!~fJ.indexOf(e[t+1])||t===0&&~Ba.indexOf(e[t])&&!~Ba.indexOf(e[t+1]))}(function(e,t){var n=iF;t=e.exports=bJ,t.among=n.among,t.except=n.except})(_b,_b.exports);var wJ=_b.exports;const xJ=vu(wJ),_J=["'","","(",")","[","]","{","}","<",">",":",",","","","","","","!",".","","","-","","?","","","","",";","/","","","","&","@","*","\\","","^","","","$","","","","","","","","","","","","#","","%","","","","","","~","","_","|","","","","","","","SOURCE","TITLE","PUBLISHED","LOCATION","a","able","about","above","abroad","according","accordingly","across","actually","adj","after","afterwards","again","against","ago","ahead","aint","all","allow","allows","almost","alone","along","alongside","already","also","although","always","am","amid","amidst","among","amongst","an","and","another","any","anybody","anyhow","anyone","anything","anyway","anyways","anywhere","apart","appear","appreciate","appropriate","are","arent","around","as","as","aside","ask","asking","associated","at","available","away","awfully","b","back","backward","backwards","be","became","because","become","becomes","becoming","been","before","beforehand","begin","behind","being","believe","below","beside","besides","best","better","between","beyond","both","brief","but","by","c","came","can","cannot","cant","cant","caption","cause","causes","certain","certainly","changes","clearly","cmon","co","co.","com","come","comes","concerning","consequently","consider","considering","constructor","contain","containing","contains","corresponding","could","couldnt","course","cs","currently","d","dare","darent","definitely","described","despite","did","didnt","different","directly","do","does","doesnt","doing","done","dont","down","downwards","during","e","each","edu","eg","eight","eighty","either","else","elsewhere","end","ending","enough","entirely","especially","et","etc","even","ever","evermore","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","f","fairly","far","farther","few","fewer","fifth","first","five","followed","following","follows","for","forever","former","formerly","forth","forward","found","four","from","further","furthermore","g","get","gets","getting","given","gives","go","goes","going","gone","got","gotten","greetings","h","had","hadnt","half","happens","hardly","has","hasnt","have","havent","having","he","hed","hell","hello","help","hence","her","here","hereafter","hereby","herein","heres","hereupon","hers","herself","hes","hi","him","himself","his","hither","hopefully","how","howbeit","however","hundred","i","id","ie","if","ignored","ill","im","immediate","in","inasmuch","inc","inc.","indeed","indicate","indicated","indicates","inner","inside","insofar","instead","into","inward","is","isnt","it","itd","itll","its","its","itself","ive","j","just","k","keep","keeps","kept","know","known","knows","l","last","lately","later","latter","latterly","least","less","lest","let","lets","like","liked","likely","likewise","little","look","looking","looks","low","lower","ltd","m","made","mainly","make","makes","many","may","maybe","maynt","me","mean","meantime","meanwhile","merely","might","mightnt","mine","minus","miss","more","moreover","most","mostly","mr","mrs","much","must","mustnt","my","myself","n","name","namely","nd","near","nearly","necessary","need","neednt","needs","neither","never","neverf","neverless","nevertheless","new","next","nine","ninety","no","nobody","non","none","nonetheless","noone","no-one","nor","normally","not","nothing","notwithstanding","novel","now","nowhere","o","obviously","of","off","often","oh","ok","okay","old","on","once","one","ones","ones","only","onto","opposite","or","other","others","otherwise","ought","oughtnt","our","ours","ourselves","out","outside","over","overall","own","p","particular","particularly","past","per","perhaps","placed","please","plus","possible","presumably","probably","provided","provides","q","que","quite","qv","r","rather","rd","re","really","reasonably","recent","recently","regarding","regardless","regards","relatively","respectively","right","round","s","said","same","saw","say","saying","says","second","secondly","see","seeing","seem","seemed","seeming","seems","seen","self","selves","sensible","sent","serious","seriously","seven","several","shall","shant","she","shed","shell","shes","should","shouldnt","since","six","so","some","somebody","someday","somehow","someone","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specified","specify","specifying","still","sub","such","sup","sure","t","take","taken","taking","tell","tends","th","than","thank","thanks","thanx","that","thatll","thats","thats","thatve","the","their","theirs","them","themselves","then","thence","there","thereafter","thereby","thered","therefore","therein","therell","therere","theres","theres","thereupon","thereve","these","they","theyd","theyll","theyre","theyve","thing","things","think","third","thirty","this","thorough","thoroughly","those","though","three","through","throughout","thru","thus","till","to","together","too","took","toward","towards","tried","tries","truly","try","trying","ts","twice","two","u","un","under","underneath","undoing","unfortunately","unless","unlike","unlikely","until","unto","up","upon","upwards","us","use","used","useful","uses","using","usually","v","value","various","versus","very","via","viz","vs","w","want","wants","was","wasnt","way","we","wed","welcome","well","well","went","were","were","werent","weve","what","whatever","whatll","whats","whatve","when","whence","whenever","where","whereafter","whereas","whereby","wherein","wheres","whereupon","wherever","whether","which","whichever","while","whilst","whither","who","whod","whoever","whole","wholl","whom","whomever","whos","whose","why","will","willing","wish","with","within","without","wonder","wont","would","wouldnt","x","y","yes","yet","you","youd","youll","your","youre","yours","yourself","yourselves","youve","z","zero"];var SJ={en_las2024:_J};function EJ(e,t,n,r,i,a,o){var s=[],l=new Array,u={},c=new Array,h={};if(r=r||Array("en"),e&&e.length>0){var f=new Array;r.forEach(function(L){f=f.concat(SJ[L])});for(var d=0;d<e.length;d++)if(e[d]!=""){l[d]=new Array;var v=e[d]?e[d].split(/[\s,\"]+/):null;if(v)for(var g=0;g<v.length;g++){var p=v[g].toLowerCase().replace(/[^a-z\'A-Z0-9\u00C0-\u00ff ]+/g,""),y=xJ(p);p==""||!y||p.length==1||f.indexOf(p.replace("'",""))>-1||f.indexOf(y)>-1||p.indexOf("http")==0||(u[y]?u[y]=u[y]+1:y&&(u[y]=1,c.push(y),h[y]=p),l[d].push(c.indexOf(y)))}}var m=c.length;l.length;var b=parseInt(t),w=i||.1,x=a||.01;l=l.filter(L=>L.length),yv.configure(l,m,1e4,2e3,100,10,o),yv.gibbs(b,w,x),yv.getTheta();for(var _=yv.getPhi(),S=n,P=0;P<_.length;P++){for(var C=new Array,p=0;p<_[P].length;p++)C.push(""+_[P][p].toPrecision(2)+"_"+c[p]+"_"+h[c[p]]);C.sort().reverse(),S>c.length&&(S=c.length);for(var D=[],T=0;T<S;T++){var B=C[T].split("_")[2],I=parseInt(C[T].split("_")[0]*100);if(!(I<2)){var O={};O.term=B,O.probability=parseFloat(C[T].split("_")[0]),D.push(O)}}s.push(D)}}return s}function Sy(e){for(var t=new Array,n=0;n<e;n++)t[n]=0;return t}function mv(e,t){for(var n=new Array,r=0;r<e;r++){n[r]=new Array;for(var i=0;i<t;i++)n[r][i]=0}return n}var yv=new function(){this.configure=function(e,t,n,r,i,a,o){this.ITERATIONS=n,this.BURN_IN=r,this.THIN_INTERVAL=i,this.SAMPLE_LAG=a,this.RANDOM_SEED=o,this.documents=e,this.V=t,this.dispcol=0,this.numstats=0},this.initialState=function(e){var t,n=this.documents.length;for(this.nw=mv(this.V,e),this.nd=mv(n,e),this.nwsum=Sy(e),this.ndsum=Sy(n),this.z=new Array,t=0;t<n;t++)this.z[t]=new Array;for(var r=0;r<n;r++){var i=this.documents[r].length;this.z[r]=new Array;for(var a=0;a<i;a++){var o=parseInt(""+this.getRandom()*e);this.z[r][a]=o,this.nw[this.documents[r][a]][o]++,this.nd[r][o]++,this.nwsum[o]++}this.ndsum[r]=i}},this.gibbs=function(e,t,n){var r;for(this.K=e,this.alpha=t,this.beta=n,this.SAMPLE_LAG>0&&(this.thetasum=mv(this.documents.length,this.K),this.phisum=mv(this.K,this.V),this.numstats=0),this.initialState(e),r=0;r<this.ITERATIONS;r++){for(var i=0;i<this.z.length;i++)for(var a=0;a<this.z[i].length;a++){var o=this.sampleFullConditional(i,a);this.z[i][a]=o}r<this.BURN_IN&&r%this.THIN_INTERVAL==0&&this.dispcol++,r>this.BURN_IN&&r%this.THIN_INTERVAL==0&&this.dispcol++,r>this.BURN_IN&&this.SAMPLE_LAG>0&&r%this.SAMPLE_LAG==0&&(this.updateParams(),r%this.THIN_INTERVAL!=0&&this.dispcol++),this.dispcol>=100&&(this.dispcol=0)}},this.sampleFullConditional=function(e,t){var n=this.z[e][t];this.nw[this.documents[e][t]][n]--,this.nd[e][n]--,this.nwsum[n]--,this.ndsum[e]--;for(var r=Sy(this.K),i=0;i<this.K;i++)r[i]=(this.nw[this.documents[e][t]][i]+this.beta)/(this.nwsum[i]+this.V*this.beta)*(this.nd[e][i]+this.alpha)/(this.ndsum[e]+this.K*this.alpha);for(var i=1;i<r.length;i++)r[i]+=r[i-1];var a=this.getRandom()*r[this.K-1];for(n=0;n<r.length&&!(a<r[n]);n++);return this.nw[this.documents[e][t]][n]++,this.nd[e][n]++,this.nwsum[n]++,this.ndsum[e]++,n},this.updateParams=function(){for(var e=0;e<this.documents.length;e++)for(var t=0;t<this.K;t++)this.thetasum[e][t]+=(this.nd[e][t]+this.alpha)/(this.ndsum[e]+this.K*this.alpha);for(var t=0;t<this.K;t++)for(var n=0;n<this.V;n++)this.phisum[t][n]+=(this.nw[n][t]+this.beta)/(this.nwsum[t]+this.V*this.beta);this.numstats++},this.getTheta=function(){for(var e=new Array,t=0;t<this.documents.length;t++)e[t]=new Array;if(this.SAMPLE_LAG>0)for(var n=0;n<this.documents.length;n++)for(var r=0;r<this.K;r++)e[n][r]=this.thetasum[n][r]/this.numstats;else for(var n=0;n<this.documents.length;n++)for(var r=0;r<this.K;r++)e[n][r]=(this.nd[n][r]+this.alpha)/(this.ndsum[n]+this.K*this.alpha);return e},this.getPhi=function(){for(var e=new Array,t=0;t<this.K;t++)e[t]=new Array;if(this.SAMPLE_LAG>0)for(var n=0;n<this.K;n++)for(var r=0;r<this.V;r++)e[n][r]=this.phisum[n][r]/this.numstats;else for(var n=0;n<this.K;n++)for(var r=0;r<this.V;r++)e[n][r]=(this.nw[r][n]+this.beta)/(this.nwsum[n]+this.V*this.beta);return e},this.getRandom=function(){if(this.RANDOM_SEED){var e=Math.sin(this.RANDOM_SEED++)*1e6;return e-Math.floor(e)}else return Math.random()}};const AJ={class:"d-flex align-center justify-center fill-height"},CJ={__name:"ListView",props:["data"],setup(e){const{keywords:t,updateKeywords:n,keywordSearchPattern:r}=sr("keywords"),{baseURL:i}=sr("baseURL"),o=e.data,s=nt(0),l=nt([]),u=nt({}),c=nt([{title:"GPT-3.5 Turbo",value:"gpt-3.5-turbo",settings:{temperature:.2,instructions:""}}]);h(),u.value=Object.fromEntries(o.map(T=>[T.id,T])),bt(t,()=>{C()});function h(T={}){const B={id:s.value,name:`Pile ${s.value+1}`,editNameEnabled:!1,topicKeywords:[],nodeList:[],activeNode:null,activeNodeHTML:null,summaryModel:c.value[0],summaryText:null,summaryStats:null,summaryLoading:!1,showSummary:!0};l.value.push({...B,...T}),s.value++}function f(T){h({name:l.value[T].name.slice(),nodeList:structuredClone(l.value[T].nodeList.map(B=>xo(B)))})}function d(T){l.value.splice(T,1)}function v(T){l.value[T].editNameEnabled=!0,tr(()=>{document.querySelector(`input[name="Pile${T}"]`).focus()})}function g(T,B){T!==""&&(l.value[B].name=T),l.value[B].editNameEnabled=!1}function p(T){let B=["..."];const I=l.value[T].nodeList.map(O=>op(u.value[O.id].text));return I.length>0&&(B=EJ(I,1,5,["en_las2024"])[0].map(L=>L.term)),l.value[T].topicKeywords=B,B}function y(T){const B=l.value[T].nodeList.map(I=>op(u.value[I.id].text));if(B.length>0){x(T),l.value[T].summaryLoading=!0;const I={model:l.value[T].summaryModel.value,documents:B,settings:l.value[T].summaryModel.settings};m(I).then(O=>{console.log(O),l.value[T].summaryStats=b(O),l.value[T].summaryText=O.summary_text}).catch(O=>{console.log(O),l.value[T].summaryText="Summary failed; check logs."}).finally(()=>{l.value[T].summaryLoading=!1})}}async function m(T){const B=`${i}/summarize`;return await(await fetch(B,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Connection:"keep-alive"},body:JSON.stringify(T)})).json()}function b(T){const B=[];if(T.rogue_scores!==null){const I=T.rogue_scores,O=uv(I.rouge1),L=uv(I.rouge2),R=uv(I.rougeL);B.push({name:"Unigrams",value:O}),B.push({name:"Bigrams",value:L}),B.push({name:"Sequences",value:R})}if(T.input_length!==null&&T.output_length!==null){const I=T.input_length,O=T.output_length,L=uv((1-O/I)*100,2);B.push({name:"Reduction",value:`${O} / ${I} (${L}%)`})}return B}function w(T){l.value[T].showSummary=!l.value[T].showSummary}function x(T){l.value[T].summaryText=null,l.value[T].summaryStats=null}function _(T,B){const I=l.value[B].nodeList;Object.hasOwn(T,"added")&&(I.filter(O=>O.id==T.added.element.id).length>1?l.value[B].nodeList.splice(T.added.newIndex,1):x(B))}function S(T,B){let I=u.value[T.id];const O=l.value[B].activeNode;O!==null&&O.id==T.id?I=null:l.value[B].activeNodeHTML=P(I.text),l.value[B].activeNode=I}function P(T){const B=op(T);return CD(B,t.value,r.value)}function C(){l.value.forEach((T,B)=>{T.activeNode!==null&&(l.value[B].activeNodeHTML=P(T.activeNode.text))})}function D(T,B,I){l.value[I].nodeList.splice(B,1);const O=l.value[I].activeNode;O!==null&&O.id==T.id&&(l.value[I].activeNode=null),x(I)}return(T,B)=>(gn(),ar($D,{fluid:""},{default:vt(()=>[H(Ml,null,{default:vt(()=>[(gn(!0),ua(fn,null,xh(l.value,(I,O)=>(gn(),ar(cJ,{piles:l.value,pile:I,"pile-index":O,"summary-models":c.value,"enable-pile-edit-name":v,"clone-pile":f,"remove-pile":d,"update-pile-name":g,"get-pile-topic-keywords":p,"get-pile-summary":y,"toggle-pile-summary":w,"validate-pile-change":_,"set-pile-active-node":S,"remove-pile-node":D},null,8,["piles","pile","pile-index","summary-models"]))),256)),H(eo,{cols:"4"},{default:vt(()=>[H(dp,{class:"fill-height",style:{"min-height":"72px"}},{default:vt(()=>[Fr("div",AJ,[H(eF,{onClick:h},{default:vt(()=>[ca("New pile")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}))}};var aF={};(function(e){(function(t){var n=t.Promise,r=n&&"resolve"in n&&"reject"in n&&"all"in n&&"race"in n&&function(){var C;return new n(function(D){C=D}),typeof C=="function"}();e?(e.Promise=r?n:P,e.Polyfill=P):r||(t.Promise=P);var i="pending",a="sealed",o="fulfilled",s="rejected",l=function(){};function u(C){return Object.prototype.toString.call(C)==="[object Array]"}var c=typeof setImmediate<"u"?setImmediate:setTimeout,h=[],f;function d(){for(var C=0;C<h.length;C++)h[C][0](h[C][1]);h=[],f=!1}function v(C,D){h.push([C,D]),f||(f=!0,c(d,0))}function g(C,D){function T(I){m(D,I)}function B(I){w(D,I)}try{C(T,B)}catch(I){B(I)}}function p(C){var D=C.owner,T=D.state_,B=D.data_,I=C[T],O=C.then;if(typeof I=="function"){T=o;try{B=I(B)}catch(L){w(O,L)}}y(O,B)||(T===o&&m(O,B),T===s&&w(O,B))}function y(C,D){var T;try{if(C===D)throw new TypeError("A promises callback cannot return that same promise.");if(D&&(typeof D=="function"||typeof D=="object")){var B=D.then;if(typeof B=="function")return B.call(D,function(I){T||(T=!0,D!==I?m(C,I):b(C,I))},function(I){T||(T=!0,w(C,I))}),!0}}catch(I){return T||w(C,I),!0}return!1}function m(C,D){(C===D||!y(C,D))&&b(C,D)}function b(C,D){C.state_===i&&(C.state_=a,C.data_=D,v(_,C))}function w(C,D){C.state_===i&&(C.state_=a,C.data_=D,v(S,C))}function x(C){var D=C.then_;C.then_=void 0;for(var T=0;T<D.length;T++)p(D[T])}function _(C){C.state_=o,x(C)}function S(C){C.state_=s,x(C)}function P(C){if(typeof C!="function")throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof P))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],g(C,this)}P.prototype={constructor:P,state_:i,then_:null,data_:void 0,then:function(C,D){var T={owner:this,then:new this.constructor(l),fulfilled:C,rejected:D};return this.state_===o||this.state_===s?v(p,T):this.then_.push(T),T.then},catch:function(C){return this.then(null,C)}},P.all=function(C){var D=this;if(!u(C))throw new TypeError("You must pass an array to Promise.all().");return new D(function(T,B){var I=[],O=0;function L($){return O++,function(j){I[$]=j,--O||T(I)}}for(var R=0,U;R<C.length;R++)U=C[R],U&&typeof U.then=="function"?U.then(L(R),B):I[R]=U;O||T(I)})},P.race=function(C){var D=this;if(!u(C))throw new TypeError("You must pass an array to Promise.race().");return new D(function(T,B){for(var I=0,O;I<C.length;I++)O=C[I],O&&typeof O.then=="function"?O.then(T,B):T(O)})},P.resolve=function(C){var D=this;return C&&typeof C=="object"&&C.constructor===D?C:new D(function(T){T(C)})},P.reject=function(C){var D=this;return new D(function(T,B){B(C)})}})(typeof window<"u"?window:typeof Ko<"u"?Ko:typeof self<"u"?self:Ko)})(aF);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var EA=Object.getOwnPropertySymbols,TJ=Object.prototype.hasOwnProperty,PJ=Object.prototype.propertyIsEnumerable;function OJ(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function IJ(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var MJ=IJ()?Object.assign:function(e,t){for(var n,r=OJ(e),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)TJ.call(n,o)&&(r[o]=n[o]);if(EA){i=EA(n);for(var s=0;s<i.length;s++)PJ.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r};const DJ=vu(MJ);/*!
 * @pixi/polyfill - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */window.Promise||(window.Promise=aF.Polyfill);Object.assign||(Object.assign=DJ);var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FJ=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(ri.performance&&ri.performance.now)){var kJ=Date.now();ri.performance||(ri.performance={}),ri.performance.now=function(){return Date.now()-kJ}}var Ey=Date.now(),AA=["ms","moz","webkit","o"];for(var Ay=0;Ay<AA.length&&!ri.requestAnimationFrame;++Ay){var Cy=AA[Ay];ri.requestAnimationFrame=ri[Cy+"RequestAnimationFrame"],ri.cancelAnimationFrame=ri[Cy+"CancelAnimationFrame"]||ri[Cy+"CancelRequestAnimationFrame"]}ri.requestAnimationFrame||(ri.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),n=FJ+Ey-t;return n<0&&(n=0),Ey=t,setTimeout(function(){Ey=Date.now(),e(performance.now())},n)});ri.cancelAnimationFrame||(ri.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||(window.Int32Array=Array);var oF={exports:{}};(function(e){(function(t){var n=/iPhone/i,r=/iPod/i,i=/iPad/i,a=/\bAndroid(?:.+)Mobile\b/i,o=/Android/i,s=/\bAndroid(?:.+)SD4930UR\b/i,l=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,u=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,h=/BlackBerry/i,f=/BB10/i,d=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i;function p(m,b){return m.test(b)}function y(m){var b=m||(typeof navigator<"u"?navigator.userAgent:""),w=b.split("[FBAN");w[1]!==void 0&&(b=w[0]),(w=b.split("Twitter"))[1]!==void 0&&(b=w[0]);var x={apple:{phone:p(n,b)&&!p(u,b),ipod:p(r,b),tablet:!p(n,b)&&p(i,b)&&!p(u,b),device:(p(n,b)||p(r,b)||p(i,b))&&!p(u,b)},amazon:{phone:p(s,b),tablet:!p(s,b)&&p(l,b),device:p(s,b)||p(l,b)},android:{phone:!p(u,b)&&p(s,b)||!p(u,b)&&p(a,b),tablet:!p(u,b)&&!p(s,b)&&!p(a,b)&&(p(l,b)||p(o,b)),device:!p(u,b)&&(p(s,b)||p(l,b)||p(a,b)||p(o,b))||p(/\bokhttp\b/i,b)},windows:{phone:p(u,b),tablet:p(c,b),device:p(u,b)||p(c,b)},other:{blackberry:p(h,b),blackberry10:p(f,b),opera:p(d,b),firefox:p(g,b),chrome:p(v,b),device:p(h,b)||p(f,b)||p(d,b)||p(g,b)||p(v,b)}};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}e.exports&&typeof window>"u"?e.exports=y:e.exports&&typeof window<"u"?(e.exports=y(),e.exports.isMobile=y):t.isMobile=y()})(Ko)})(oF);var BJ=oF.exports;const Xo=vu(BJ);/*!
 * @pixi/settings - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function RJ(e){var t=!0;if(Xo.tablet||Xo.phone){if(t=!1,Xo.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var r=parseInt(n[1],10);r>=11&&(t=!0)}}if(Xo.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i){var a=parseInt(i[1],10);a>=7&&(t=!0)}}}return t?e:4}function LJ(){return!Xo.apple.device}var Ut={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:RJ(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Xo.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:LJ(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},sF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,h,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var d=new i(c,h||l,f),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],d]:l._events[v].push(d):(l._events[v]=d,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)t.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,d=h.length,v=new Array(d);f<d;f++)v[f]=h[f].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,c,h,f,d,v){var g=n?n+u:u;if(!this._events[g])return!1;var p=this._events[g],y=arguments.length,m,b;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),y){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,c),!0;case 3:return p.fn.call(p.context,c,h),!0;case 4:return p.fn.call(p.context,c,h,f),!0;case 5:return p.fn.call(p.context,c,h,f,d),!0;case 6:return p.fn.call(p.context,c,h,f,d,v),!0}for(b=1,m=new Array(y-1);b<y;b++)m[b-1]=arguments[b];p.fn.apply(p.context,m)}else{var w=p.length,x;for(b=0;b<w;b++)switch(p[b].once&&this.removeListener(u,p[b].fn,void 0,!0),y){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,c);break;case 3:p[b].fn.call(p[b].context,c,h);break;case 4:p[b].fn.call(p[b].context,c,h,f);break;default:if(!m)for(x=1,m=new Array(y-1);x<y;x++)m[x-1]=arguments[x];p[b].fn.apply(p[b].context,m)}}return!0},s.prototype.on=function(u,c,h){return a(this,u,c,h,!1)},s.prototype.once=function(u,c,h){return a(this,u,c,h,!0)},s.prototype.removeListener=function(u,c,h,f){var d=n?n+u:u;if(!this._events[d])return this;if(!c)return o(this,d),this;var v=this._events[d];if(v.fn)v.fn===c&&(!f||v.once)&&(!h||v.context===h)&&o(this,d);else{for(var g=0,p=[],y=v.length;g<y;g++)(v[g].fn!==c||f&&!v[g].once||h&&v[g].context!==h)&&p.push(v[g]);p.length?this._events[d]=p.length===1?p[0]:p:o(this,d)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(sF);var NJ=sF.exports;const mu=vu(NJ);var p_={exports:{}};p_.exports=r0;p_.exports.default=r0;function r0(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,a=lF(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var s,l,u,c,h,f,d;if(r&&(a=jJ(e,t,a,n)),e.length>80*n){s=u=e[0],l=c=e[1];for(var v=n;v<i;v+=n)h=e[v],f=e[v+1],h<s&&(s=h),f<l&&(l=f),h>u&&(u=h),f>c&&(c=f);d=Math.max(u-s,c-l),d=d!==0?32767/d:0}return $h(a,o,n,s,l,d,0),o}function lF(e,t,n,r,i){var a,o;if(i===Ab(e,t,n,r)>0)for(a=t;a<n;a+=r)o=CA(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=CA(a,e[a],e[a+1],o);return o&&i0(o,o.next)&&(jh(o),o=o.next),o}function tu(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(i0(n,n.next)||jn(n.prev,n,n.next)===0)){if(jh(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function $h(e,t,n,r,i,a,o){if(e){!o&&a&&WJ(e,r,i,a);for(var s=e,l,u;e.prev!==e.next;){if(l=e.prev,u=e.next,a?VJ(e,r,i,a):UJ(e)){t.push(l.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),jh(e),e=u.next,s=u.next;continue}if(e=u,e===s){o?o===1?(e=$J(tu(e),t,n),$h(e,t,n,r,i,a,2)):o===2&&zJ(e,t,n,r,i,a):$h(tu(e),t,n,r,i,a,1);break}}}}function UJ(e){var t=e.prev,n=e,r=e.next;if(jn(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,d=s>l?s>u?s:u:l>u?l:u,v=r.next;v!==t;){if(v.x>=c&&v.x<=f&&v.y>=h&&v.y<=d&&cc(i,s,a,l,o,u,v.x,v.y)&&jn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function VJ(e,t,n,r){var i=e.prev,a=e,o=e.next;if(jn(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,h=a.y,f=o.y,d=s<l?s<u?s:u:l<u?l:u,v=c<h?c<f?c:f:h<f?h:f,g=s>l?s>u?s:u:l>u?l:u,p=c>h?c>f?c:f:h>f?h:f,y=Sb(d,v,t,n,r),m=Sb(g,p,t,n,r),b=e.prevZ,w=e.nextZ;b&&b.z>=y&&w&&w.z<=m;){if(b.x>=d&&b.x<=g&&b.y>=v&&b.y<=p&&b!==i&&b!==o&&cc(s,c,l,h,u,f,b.x,b.y)&&jn(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=d&&w.x<=g&&w.y>=v&&w.y<=p&&w!==i&&w!==o&&cc(s,c,l,h,u,f,w.x,w.y)&&jn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=y;){if(b.x>=d&&b.x<=g&&b.y>=v&&b.y<=p&&b!==i&&b!==o&&cc(s,c,l,h,u,f,b.x,b.y)&&jn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=m;){if(w.x>=d&&w.x<=g&&w.y>=v&&w.y<=p&&w!==i&&w!==o&&cc(s,c,l,h,u,f,w.x,w.y)&&jn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function $J(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!i0(i,a)&&uF(i,r,r.next,a)&&zh(i,a)&&zh(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),jh(r),jh(r.next),r=e=a),r=r.next}while(r!==e);return tu(r)}function zJ(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&ZJ(o,s)){var l=cF(o,s);o=tu(o,o.next),l=tu(l,l.next),$h(o,t,n,r,i,a,0),$h(l,t,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==e)}function jJ(e,t,n,r){var i=[],a,o,s,l,u;for(a=0,o=t.length;a<o;a++)s=t[a]*r,l=a<o-1?t[a+1]*r:e.length,u=lF(e,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(qJ(u));for(i.sort(HJ),a=0;a<i.length;a++)n=GJ(i[a],n);return n}function HJ(e,t){return e.x-t.x}function GJ(e,t){var n=YJ(e,t);if(!n)return t;var r=cF(n,e);return tu(r,r.next),tu(n,n.next)}function YJ(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a&&(a=s,o=n.x<n.next.x?n:n.next,s===r))return o}n=n.next}while(n!==t);if(!o)return null;var l=o,u=o.x,c=o.y,h=1/0,f;n=o;do r>=n.x&&n.x>=u&&r!==n.x&&cc(i<c?r:a,i,u,c,i<c?a:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),zh(n,e)&&(f<h||f===h&&(n.x>o.x||n.x===o.x&&XJ(o,n)))&&(o=n,h=f)),n=n.next;while(n!==l);return o}function XJ(e,t){return jn(e.prev,e,t.prev)<0&&jn(t.next,e,e.next)<0}function WJ(e,t,n,r){var i=e;do i.z===0&&(i.z=Sb(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,KJ(i)}function KJ(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ,!!r);t++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return e}function Sb(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function qJ(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function cc(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function ZJ(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!QJ(e,t)&&(zh(e,t)&&zh(t,e)&&JJ(e,t)&&(jn(e.prev,e,t.prev)||jn(e,t.prev,t))||i0(e,t)&&jn(e.prev,e,e.next)>0&&jn(t.prev,t,t.next)>0)}function jn(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function i0(e,t){return e.x===t.x&&e.y===t.y}function uF(e,t,n,r){var i=wv(jn(e,t,n)),a=wv(jn(e,t,r)),o=wv(jn(n,r,e)),s=wv(jn(n,r,t));return!!(i!==a&&o!==s||i===0&&bv(e,n,t)||a===0&&bv(e,r,t)||o===0&&bv(n,e,r)||s===0&&bv(n,t,r))}function bv(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function wv(e){return e>0?1:e<0?-1:0}function QJ(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&uF(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function zh(e,t){return jn(e.prev,e,e.next)<0?jn(e,t,e.next)>=0&&jn(e,e.prev,t)>=0:jn(e,t,e.prev)<0||jn(e,e.next,t)<0}function JJ(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function cF(e,t){var n=new Eb(e.i,e.x,e.y),r=new Eb(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function CA(e,t,n,r){var i=new Eb(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function jh(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Eb(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r0.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(Ab(e,0,a,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;o-=Math.abs(Ab(e,u,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,v=r[s+2]*n;h+=Math.abs((e[f]-e[v])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[v+1]-e[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function Ab(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}r0.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var eee=p_.exports;const fF=vu(eee);var yu={},Rg={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Rg.exports;(function(e,t){(function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,a=typeof Ko=="object"&&Ko;(a.global===a||a.window===a||a.self===a)&&(n=a);var o,s=2147483647,l=36,u=1,c=26,h=38,f=700,d=72,v=128,g="-",p=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-u,x=Math.floor,_=String.fromCharCode,S;function P(z){throw new RangeError(b[z])}function C(z,Y){for(var Q=z.length,re=[];Q--;)re[Q]=Y(z[Q]);return re}function D(z,Y){var Q=z.split("@"),re="";Q.length>1&&(re=Q[0]+"@",z=Q[1]),z=z.replace(m,".");var he=z.split("."),ce=C(he,Y).join(".");return re+ce}function T(z){for(var Y=[],Q=0,re=z.length,he,ce;Q<re;)he=z.charCodeAt(Q++),he>=55296&&he<=56319&&Q<re?(ce=z.charCodeAt(Q++),(ce&64512)==56320?Y.push(((he&1023)<<10)+(ce&1023)+65536):(Y.push(he),Q--)):Y.push(he);return Y}function B(z){return C(z,function(Y){var Q="";return Y>65535&&(Y-=65536,Q+=_(Y>>>10&1023|55296),Y=56320|Y&1023),Q+=_(Y),Q}).join("")}function I(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:l}function O(z,Y){return z+22+75*(z<26)-((Y!=0)<<5)}function L(z,Y,Q){var re=0;for(z=Q?x(z/f):z>>1,z+=x(z/Y);z>w*c>>1;re+=l)z=x(z/w);return x(re+(w+1)*z/(z+h))}function R(z){var Y=[],Q=z.length,re,he=0,ce=v,te=d,ee,Ue,ye,pe,Se,ae,ke,Ce,We;for(ee=z.lastIndexOf(g),ee<0&&(ee=0),Ue=0;Ue<ee;++Ue)z.charCodeAt(Ue)>=128&&P("not-basic"),Y.push(z.charCodeAt(Ue));for(ye=ee>0?ee+1:0;ye<Q;){for(pe=he,Se=1,ae=l;ye>=Q&&P("invalid-input"),ke=I(z.charCodeAt(ye++)),(ke>=l||ke>x((s-he)/Se))&&P("overflow"),he+=ke*Se,Ce=ae<=te?u:ae>=te+c?c:ae-te,!(ke<Ce);ae+=l)We=l-Ce,Se>x(s/We)&&P("overflow"),Se*=We;re=Y.length+1,te=L(he-pe,re,pe==0),x(he/re)>s-ce&&P("overflow"),ce+=x(he/re),he%=re,Y.splice(he++,0,ce)}return B(Y)}function U(z){var Y,Q,re,he,ce,te,ee,Ue,ye,pe,Se,ae=[],ke,Ce,We,X;for(z=T(z),ke=z.length,Y=v,Q=0,ce=d,te=0;te<ke;++te)Se=z[te],Se<128&&ae.push(_(Se));for(re=he=ae.length,he&&ae.push(g);re<ke;){for(ee=s,te=0;te<ke;++te)Se=z[te],Se>=Y&&Se<ee&&(ee=Se);for(Ce=re+1,ee-Y>x((s-Q)/Ce)&&P("overflow"),Q+=(ee-Y)*Ce,Y=ee,te=0;te<ke;++te)if(Se=z[te],Se<Y&&++Q>s&&P("overflow"),Se==Y){for(Ue=Q,ye=l;pe=ye<=ce?u:ye>=ce+c?c:ye-ce,!(Ue<pe);ye+=l)X=Ue-pe,We=l-pe,ae.push(_(O(pe+X%We,0))),Ue=x(X/We);ae.push(_(O(Ue,0))),ce=L(Q,Ce,re==he),Q=0,++re}++Q,++Y}return ae.join("")}function $(z){return D(z,function(Y){return p.test(Y)?R(Y.slice(4).toLowerCase()):Y})}function j(z){return D(z,function(Y){return y.test(Y)?"xn--"+U(Y):Y})}if(o={version:"1.4.1",ucs2:{decode:T,encode:B},decode:R,encode:U,toASCII:j,toUnicode:$},r&&i)if(e.exports==r)i.exports=o;else for(S in o)o.hasOwnProperty(S)&&(r[S]=o[S]);else n.punycode=o})(Ko)})(Rg,Rg.exports);var tee=Rg.exports,nee=Error,ree=EvalError,iee=RangeError,aee=ReferenceError,hF=SyntaxError,yd=TypeError,oee=URIError,see=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},TA=typeof Symbol<"u"&&Symbol,lee=see,uee=function(){return typeof TA!="function"||typeof Symbol!="function"||typeof TA("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lee()},Ty={__proto__:null,foo:{}},cee=Object,fee=function(){return{__proto__:Ty}.foo===Ty.foo&&!(Ty instanceof cee)},hee="Function.prototype.bind called on incompatible ",dee=Object.prototype.toString,vee=Math.max,pee="[object Function]",PA=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var a=0;a<n.length;a+=1)r[a+t.length]=n[a];return r},gee=function(t,n){for(var r=[],i=n||0,a=0;i<t.length;i+=1,a+=1)r[a]=t[i];return r},mee=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},yee=function(t){var n=this;if(typeof n!="function"||dee.apply(n)!==pee)throw new TypeError(hee+n);for(var r=gee(arguments,1),i,a=function(){if(this instanceof i){var c=n.apply(this,PA(r,arguments));return Object(c)===c?c:this}return n.apply(t,PA(r,arguments))},o=vee(0,n.length-r.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(i=Function("binder","return function ("+mee(s,",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i},bee=yee,g_=Function.prototype.bind||bee,wee=Function.prototype.call,xee=Object.prototype.hasOwnProperty,_ee=g_,See=_ee.call(wee,xee),an,Eee=nee,Aee=ree,Cee=iee,Tee=aee,jc=hF,bc=yd,Pee=oee,dF=Function,Py=function(e){try{return dF('"use strict"; return ('+e+").constructor;")()}catch{}},Ul=Object.getOwnPropertyDescriptor;if(Ul)try{Ul({},"")}catch{Ul=null}var Oy=function(){throw new bc},Oee=Ul?function(){try{return arguments.callee,Oy}catch{try{return Ul(arguments,"callee").get}catch{return Oy}}}():Oy,Hu=uee(),Iee=fee(),xr=Object.getPrototypeOf||(Iee?function(e){return e.__proto__}:null),rc={},Mee=typeof Uint8Array>"u"||!xr?an:xr(Uint8Array),Vl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?an:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?an:ArrayBuffer,"%ArrayIteratorPrototype%":Hu&&xr?xr([][Symbol.iterator]()):an,"%AsyncFromSyncIteratorPrototype%":an,"%AsyncFunction%":rc,"%AsyncGenerator%":rc,"%AsyncGeneratorFunction%":rc,"%AsyncIteratorPrototype%":rc,"%Atomics%":typeof Atomics>"u"?an:Atomics,"%BigInt%":typeof BigInt>"u"?an:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?an:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?an:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?an:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Eee,"%eval%":eval,"%EvalError%":Aee,"%Float32Array%":typeof Float32Array>"u"?an:Float32Array,"%Float64Array%":typeof Float64Array>"u"?an:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?an:FinalizationRegistry,"%Function%":dF,"%GeneratorFunction%":rc,"%Int8Array%":typeof Int8Array>"u"?an:Int8Array,"%Int16Array%":typeof Int16Array>"u"?an:Int16Array,"%Int32Array%":typeof Int32Array>"u"?an:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Hu&&xr?xr(xr([][Symbol.iterator]())):an,"%JSON%":typeof JSON=="object"?JSON:an,"%Map%":typeof Map>"u"?an:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Hu||!xr?an:xr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?an:Promise,"%Proxy%":typeof Proxy>"u"?an:Proxy,"%RangeError%":Cee,"%ReferenceError%":Tee,"%Reflect%":typeof Reflect>"u"?an:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?an:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Hu||!xr?an:xr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?an:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Hu&&xr?xr(""[Symbol.iterator]()):an,"%Symbol%":Hu?Symbol:an,"%SyntaxError%":jc,"%ThrowTypeError%":Oee,"%TypedArray%":Mee,"%TypeError%":bc,"%Uint8Array%":typeof Uint8Array>"u"?an:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?an:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?an:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?an:Uint32Array,"%URIError%":Pee,"%WeakMap%":typeof WeakMap>"u"?an:WeakMap,"%WeakRef%":typeof WeakRef>"u"?an:WeakRef,"%WeakSet%":typeof WeakSet>"u"?an:WeakSet};if(xr)try{null.error}catch(e){var Dee=xr(xr(e));Vl["%Error.prototype%"]=Dee}var Fee=function e(t){var n;if(t==="%AsyncFunction%")n=Py("async function () {}");else if(t==="%GeneratorFunction%")n=Py("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Py("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&xr&&(n=xr(i.prototype))}return Vl[t]=n,n},OA={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bd=g_,Lg=See,kee=bd.call(Function.call,Array.prototype.concat),Bee=bd.call(Function.apply,Array.prototype.splice),IA=bd.call(Function.call,String.prototype.replace),Ng=bd.call(Function.call,String.prototype.slice),Ree=bd.call(Function.call,RegExp.prototype.exec),Lee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Nee=/\\(\\)?/g,Uee=function(t){var n=Ng(t,0,1),r=Ng(t,-1);if(n==="%"&&r!=="%")throw new jc("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new jc("invalid intrinsic syntax, expected opening `%`");var i=[];return IA(t,Lee,function(a,o,s,l){i[i.length]=s?IA(l,Nee,"$1"):o||a}),i},Vee=function(t,n){var r=t,i;if(Lg(OA,r)&&(i=OA[r],r="%"+i[0]+"%"),Lg(Vl,r)){var a=Vl[r];if(a===rc&&(a=Fee(r)),typeof a>"u"&&!n)throw new bc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:a}}throw new jc("intrinsic "+t+" does not exist!")},of=function(t,n){if(typeof t!="string"||t.length===0)throw new bc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new bc('"allowMissing" argument must be a boolean');if(Ree(/^%?[^%]*%?$/,t)===null)throw new jc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Uee(t),i=r.length>0?r[0]:"",a=Vee("%"+i+"%",n),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],Bee(r,kee([0,1],u)));for(var c=1,h=!0;c<r.length;c+=1){var f=r[c],d=Ng(f,0,1),v=Ng(f,-1);if((d==='"'||d==="'"||d==="`"||v==='"'||v==="'"||v==="`")&&d!==v)throw new jc("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(l=!0),i+="."+f,o="%"+i+"%",Lg(Vl,o))s=Vl[o];else if(s!=null){if(!(f in s)){if(!n)throw new bc("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ul&&c+1>=r.length){var g=Ul(s,f);h=!!g,h&&"get"in g&&!("originalValue"in g.get)?s=g.get:s=s[f]}else h=Lg(s,f),s=s[f];h&&!l&&(Vl[o]=s)}}return s},vF={exports:{}},Iy,MA;function m_(){if(MA)return Iy;MA=1;var e=of,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Iy=t,Iy}var $ee=of,vp=$ee("%Object.getOwnPropertyDescriptor%",!0);if(vp)try{vp([],"length")}catch{vp=null}var pF=vp,DA=m_(),zee=hF,Gu=yd,FA=pF,jee=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Gu("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Gu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Gu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Gu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Gu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Gu("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!FA&&FA(t,n);if(DA)DA(t,n,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:a===null&&l?l.writable:!a});else if(s||!i&&!a&&!o)t[n]=r;else throw new zee("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Cb=m_(),gF=function(){return!!Cb};gF.hasArrayLengthDefineBug=function(){if(!Cb)return null;try{return Cb([],"length",{value:1}).length!==1}catch{return!0}};var Hee=gF,Gee=of,kA=jee,Yee=Hee(),BA=pF,RA=yd,Xee=Gee("%Math.floor%"),Wee=function(t,n){if(typeof t!="function")throw new RA("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Xee(n)!==n)throw new RA("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in t&&BA){var o=BA(t,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!r)&&(Yee?kA(t,"length",n,!0,!0):kA(t,"length",n)),t};(function(e){var t=g_,n=of,r=Wee,i=yd,a=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(o,a),l=m_(),u=n("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var d=s(t,o,arguments);return r(d,1+u(0,f.length-(arguments.length-1)),!0)};var c=function(){return s(t,a,arguments)};l?l(e.exports,"apply",{value:c}):e.exports.apply=c})(vF);var Kee=vF.exports,mF=of,yF=Kee,qee=yF(mF("String.prototype.indexOf")),Zee=function(t,n){var r=mF(t,!!n);return typeof r=="function"&&qee(t,".prototype.")>-1?yF(r):r};const Qee={},Jee=Object.freeze(Object.defineProperty({__proto__:null,default:Qee},Symbol.toStringTag,{value:"Module"})),ete=$x(Jee);var y_=typeof Map=="function"&&Map.prototype,My=Object.getOwnPropertyDescriptor&&y_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ug=y_&&My&&typeof My.get=="function"?My.get:null,LA=y_&&Map.prototype.forEach,b_=typeof Set=="function"&&Set.prototype,Dy=Object.getOwnPropertyDescriptor&&b_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Vg=b_&&Dy&&typeof Dy.get=="function"?Dy.get:null,NA=b_&&Set.prototype.forEach,tte=typeof WeakMap=="function"&&WeakMap.prototype,vh=tte?WeakMap.prototype.has:null,nte=typeof WeakSet=="function"&&WeakSet.prototype,ph=nte?WeakSet.prototype.has:null,rte=typeof WeakRef=="function"&&WeakRef.prototype,UA=rte?WeakRef.prototype.deref:null,ite=Boolean.prototype.valueOf,ate=Object.prototype.toString,ote=Function.prototype.toString,ste=String.prototype.match,w_=String.prototype.slice,Bs=String.prototype.replace,lte=String.prototype.toUpperCase,VA=String.prototype.toLowerCase,bF=RegExp.prototype.test,$A=Array.prototype.concat,no=Array.prototype.join,ute=Array.prototype.slice,zA=Math.floor,Tb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Fy=Object.getOwnPropertySymbols,Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Hc||"symbol")?Symbol.toStringTag:null,wF=Object.prototype.propertyIsEnumerable,jA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function HA(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||bF.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-zA(-e):zA(e);if(r!==e){var i=String(r),a=w_.call(t,i.length+1);return Bs.call(i,n,"$&_")+"."+Bs.call(Bs.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Bs.call(t,n,"$&_")}var Ob=ete,GA=Ob.custom,YA=_F(GA)?GA:null,cte=function e(t,n,r,i){var a=n||{};if(Os(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Os(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Os(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Os(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Os(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return EF(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return s?HA(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return s?HA(t,u):u}var c=typeof a.depth>"u"?5:a.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof t=="object")return Ib(t)?"[Array]":"[Object]";var h=Pte(a,r);if(typeof i>"u")i=[];else if(SF(i,t)>=0)return"[Circular]";function f(I,O,L){if(O&&(i=ute.call(i),i.push(O)),L){var R={depth:a.depth};return Os(a,"quoteStyle")&&(R.quoteStyle=a.quoteStyle),e(I,R,r+1,i)}return e(I,a,r+1,i)}if(typeof t=="function"&&!XA(t)){var d=bte(t),v=xv(t,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(v.length>0?" { "+no.call(v,", ")+" }":"")}if(_F(t)){var g=Hc?Bs.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Pb.call(t);return typeof t=="object"&&!Hc?Bf(g):g}if(Ate(t)){for(var p="<"+VA.call(String(t.nodeName)),y=t.attributes||[],m=0;m<y.length;m++)p+=" "+y[m].name+"="+xF(fte(y[m].value),"double",a);return p+=">",t.childNodes&&t.childNodes.length&&(p+="..."),p+="</"+VA.call(String(t.nodeName))+">",p}if(Ib(t)){if(t.length===0)return"[]";var b=xv(t,f);return h&&!Tte(b)?"["+Mb(b,h)+"]":"[ "+no.call(b,", ")+" ]"}if(dte(t)){var w=xv(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!wF.call(t,"cause")?"{ ["+String(t)+"] "+no.call($A.call("[cause]: "+f(t.cause),w),", ")+" }":w.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+no.call(w,", ")+" }"}if(typeof t=="object"&&o){if(YA&&typeof t[YA]=="function"&&Ob)return Ob(t,{depth:c-r});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(wte(t)){var x=[];return LA&&LA.call(t,function(I,O){x.push(f(O,t,!0)+" => "+f(I,t))}),WA("Map",Ug.call(t),x,h)}if(Ste(t)){var _=[];return NA&&NA.call(t,function(I){_.push(f(I,t))}),WA("Set",Vg.call(t),_,h)}if(xte(t))return ky("WeakMap");if(Ete(t))return ky("WeakSet");if(_te(t))return ky("WeakRef");if(pte(t))return Bf(f(Number(t)));if(mte(t))return Bf(f(Tb.call(t)));if(gte(t))return Bf(ite.call(t));if(vte(t))return Bf(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Ko)return"{ [object globalThis] }";if(!hte(t)&&!XA(t)){var S=xv(t,f),P=jA?jA(t)===Object.prototype:t instanceof Object||t.constructor===Object,C=t instanceof Object?"":"null prototype",D=!P&&qr&&Object(t)===t&&qr in t?w_.call(nl(t),8,-1):C?"Object":"",T=P||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",B=T+(D||C?"["+no.call($A.call([],D||[],C||[]),": ")+"] ":"");return S.length===0?B+"{}":h?B+"{"+Mb(S,h)+"}":B+"{ "+no.call(S,", ")+" }"}return String(t)};function xF(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function fte(e){return Bs.call(String(e),/"/g,"&quot;")}function Ib(e){return nl(e)==="[object Array]"&&(!qr||!(typeof e=="object"&&qr in e))}function hte(e){return nl(e)==="[object Date]"&&(!qr||!(typeof e=="object"&&qr in e))}function XA(e){return nl(e)==="[object RegExp]"&&(!qr||!(typeof e=="object"&&qr in e))}function dte(e){return nl(e)==="[object Error]"&&(!qr||!(typeof e=="object"&&qr in e))}function vte(e){return nl(e)==="[object String]"&&(!qr||!(typeof e=="object"&&qr in e))}function pte(e){return nl(e)==="[object Number]"&&(!qr||!(typeof e=="object"&&qr in e))}function gte(e){return nl(e)==="[object Boolean]"&&(!qr||!(typeof e=="object"&&qr in e))}function _F(e){if(Hc)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Pb)return!1;try{return Pb.call(e),!0}catch{}return!1}function mte(e){if(!e||typeof e!="object"||!Tb)return!1;try{return Tb.call(e),!0}catch{}return!1}var yte=Object.prototype.hasOwnProperty||function(e){return e in this};function Os(e,t){return yte.call(e,t)}function nl(e){return ate.call(e)}function bte(e){if(e.name)return e.name;var t=ste.call(ote.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function SF(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function wte(e){if(!Ug||!e||typeof e!="object")return!1;try{Ug.call(e);try{Vg.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function xte(e){if(!vh||!e||typeof e!="object")return!1;try{vh.call(e,vh);try{ph.call(e,ph)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function _te(e){if(!UA||!e||typeof e!="object")return!1;try{return UA.call(e),!0}catch{}return!1}function Ste(e){if(!Vg||!e||typeof e!="object")return!1;try{Vg.call(e);try{Ug.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Ete(e){if(!ph||!e||typeof e!="object")return!1;try{ph.call(e,ph);try{vh.call(e,vh)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Ate(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function EF(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return EF(w_.call(e,0,t.maxStringLength),t)+r}var i=Bs.call(Bs.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Cte);return xF(i,"single",t)}function Cte(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+lte.call(t.toString(16))}function Bf(e){return"Object("+e+")"}function ky(e){return e+" { ? }"}function WA(e,t,n,r){var i=r?Mb(n,r):no.call(n,", ");return e+" ("+t+") {"+i+"}"}function Tte(e){for(var t=0;t<e.length;t++)if(SF(e[t],`
`)>=0)return!1;return!0}function Pte(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=no.call(Array(e.indent+1)," ");else return null;return{base:n,prev:no.call(Array(t+1),n)}}function Mb(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+no.call(e,","+n)+`
`+t.prev}function xv(e,t){var n=Ib(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Os(e,i)?t(e[i],e):""}var a=typeof Fy=="function"?Fy(e):[],o;if(Hc){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)Os(e,l)&&(n&&String(Number(l))===l&&l<e.length||Hc&&o["$"+l]instanceof Symbol||(bF.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof Fy=="function")for(var u=0;u<a.length;u++)wF.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}var AF=of,sf=Zee,Ote=cte,Ite=yd,_v=AF("%WeakMap%",!0),Sv=AF("%Map%",!0),Mte=sf("WeakMap.prototype.get",!0),Dte=sf("WeakMap.prototype.set",!0),Fte=sf("WeakMap.prototype.has",!0),kte=sf("Map.prototype.get",!0),Bte=sf("Map.prototype.set",!0),Rte=sf("Map.prototype.has",!0),x_=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},Lte=function(e,t){var n=x_(e,t);return n&&n.value},Nte=function(e,t,n){var r=x_(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},Ute=function(e,t){return!!x_(e,t)},Vte=function(){var t,n,r,i={assert:function(a){if(!i.has(a))throw new Ite("Side channel does not contain "+Ote(a))},get:function(a){if(_v&&a&&(typeof a=="object"||typeof a=="function")){if(t)return Mte(t,a)}else if(Sv){if(n)return kte(n,a)}else if(r)return Lte(r,a)},has:function(a){if(_v&&a&&(typeof a=="object"||typeof a=="function")){if(t)return Fte(t,a)}else if(Sv){if(n)return Rte(n,a)}else if(r)return Ute(r,a);return!1},set:function(a,o){_v&&a&&(typeof a=="object"||typeof a=="function")?(t||(t=new _v),Dte(t,a,o)):Sv?(n||(n=new Sv),Bte(n,a,o)):(r||(r={key:{},next:null}),Nte(r,a,o))}};return i},$te=String.prototype.replace,zte=/%20/g,By={RFC1738:"RFC1738",RFC3986:"RFC3986"},__={default:By.RFC3986,formatters:{RFC1738:function(e){return $te.call(e,zte,"+")},RFC3986:function(e){return String(e)}},RFC1738:By.RFC1738,RFC3986:By.RFC3986},jte=__,Ry=Object.prototype.hasOwnProperty,Cl=Array.isArray,Ja=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Hte=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(Cl(r)){for(var i=[],a=0;a<r.length;++a)typeof r[a]<"u"&&i.push(r[a]);n.obj[n.prop]=i}}},CF=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Gte=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Cl(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Ry.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return Cl(t)&&!Cl(n)&&(i=CF(t,r)),Cl(t)&&Cl(n)?(n.forEach(function(a,o){if(Ry.call(t,o)){var s=t[o];s&&typeof s=="object"&&a&&typeof a=="object"?t[o]=e(s,a,r):t.push(a)}else t[o]=a}),t):Object.keys(n).reduce(function(a,o){var s=n[o];return Ry.call(a,o)?a[o]=e(a[o],s,r):a[o]=s,a},i)},Yte=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Xte=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Wte=function(t,n,r,i,a){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var s="",l=0;l<o.length;++l){var u=o.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||a===jte.RFC1738&&(u===40||u===41)){s+=o.charAt(l);continue}if(u<128){s=s+Ja[u];continue}if(u<2048){s=s+(Ja[192|u>>6]+Ja[128|u&63]);continue}if(u<55296||u>=57344){s=s+(Ja[224|u>>12]+Ja[128|u>>6&63]+Ja[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|o.charCodeAt(l)&1023),s+=Ja[240|u>>18]+Ja[128|u>>12&63]+Ja[128|u>>6&63]+Ja[128|u&63]}return s},Kte=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var a=n[i],o=a.obj[a.prop],s=Object.keys(o),l=0;l<s.length;++l){var u=s[l],c=o[u];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:o,prop:u}),r.push(c))}return Hte(n),t},qte=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Zte=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Qte=function(t,n){return[].concat(t,n)},Jte=function(t,n){if(Cl(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},TF={arrayToObject:CF,assign:Yte,combine:Qte,compact:Kte,decode:Xte,encode:Wte,isBuffer:Zte,isRegExp:qte,maybeMap:Jte,merge:Gte},PF=Vte,pp=TF,gh=__,ene=Object.prototype.hasOwnProperty,KA={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},Vo=Array.isArray,tne=Array.prototype.push,OF=function(e,t){tne.apply(e,Vo(t)?t:[t])},nne=Date.prototype.toISOString,qA=gh.default,Wr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:pp.encode,encodeValuesOnly:!1,format:qA,formatter:gh.formatters[qA],indices:!1,serializeDate:function(t){return nne.call(t)},skipNulls:!1,strictNullHandling:!1},rne=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Ly={},ine=function e(t,n,r,i,a,o,s,l,u,c,h,f,d,v,g,p){for(var y=t,m=p,b=0,w=!1;(m=m.get(Ly))!==void 0&&!w;){var x=m.get(t);if(b+=1,typeof x<"u"){if(x===b)throw new RangeError("Cyclic object value");w=!0}typeof m.get(Ly)>"u"&&(b=0)}if(typeof l=="function"?y=l(n,y):y instanceof Date?y=h(y):r==="comma"&&Vo(y)&&(y=pp.maybeMap(y,function(R){return R instanceof Date?h(R):R})),y===null){if(a)return s&&!v?s(n,Wr.encoder,g,"key",f):n;y=""}if(rne(y)||pp.isBuffer(y)){if(s){var _=v?n:s(n,Wr.encoder,g,"key",f);return[d(_)+"="+d(s(y,Wr.encoder,g,"value",f))]}return[d(n)+"="+d(String(y))]}var S=[];if(typeof y>"u")return S;var P;if(r==="comma"&&Vo(y))v&&s&&(y=pp.maybeMap(y,s)),P=[{value:y.length>0?y.join(",")||null:void 0}];else if(Vo(l))P=l;else{var C=Object.keys(y);P=u?C.sort(u):C}for(var D=i&&Vo(y)&&y.length===1?n+"[]":n,T=0;T<P.length;++T){var B=P[T],I=typeof B=="object"&&typeof B.value<"u"?B.value:y[B];if(!(o&&I===null)){var O=Vo(y)?typeof r=="function"?r(D,B):D:D+(c?"."+B:"["+B+"]");p.set(t,b);var L=PF();L.set(Ly,p),OF(S,e(I,O,r,i,a,o,r==="comma"&&v&&Vo(y)?null:s,l,u,c,h,f,d,v,g,L))}}return S},ane=function(t){if(!t)return Wr;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Wr.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=gh.default;if(typeof t.format<"u"){if(!ene.call(gh.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=gh.formatters[r],a=Wr.filter;return(typeof t.filter=="function"||Vo(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Wr.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Wr.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Wr.charsetSentinel,delimiter:typeof t.delimiter>"u"?Wr.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Wr.encode,encoder:typeof t.encoder=="function"?t.encoder:Wr.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Wr.encodeValuesOnly,filter:a,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Wr.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Wr.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Wr.strictNullHandling}},one=function(e,t){var n=e,r=ane(t),i,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):Vo(r.filter)&&(a=r.filter,i=a);var o=[];if(typeof n!="object"||n===null)return"";var s;t&&t.arrayFormat in KA?s=t.arrayFormat:t&&"indices"in t?s=t.indices?"indices":"repeat":s="indices";var l=KA[s];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=l==="comma"&&t&&t.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=PF(),h=0;h<i.length;++h){var f=i[h];r.skipNulls&&n[f]===null||OF(o,ine(n[f],f,l,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var d=o.join(r.delimiter),v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),d.length>0?v+d:""},Gc=TF,Db=Object.prototype.hasOwnProperty,sne=Array.isArray,br={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Gc.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lne=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},IF=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},une="utf8=%26%2310003%3B",cne="utf8=%E2%9C%93",fne=function(t,n){var r={__proto__:null},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,a),s=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===cne?u="utf-8":o[l]===une&&(u="iso-8859-1"),s=l,l=o.length);for(l=0;l<o.length;++l)if(l!==s){var c=o[l],h=c.indexOf("]="),f=h===-1?c.indexOf("="):h+1,d,v;f===-1?(d=n.decoder(c,br.decoder,u,"key"),v=n.strictNullHandling?null:""):(d=n.decoder(c.slice(0,f),br.decoder,u,"key"),v=Gc.maybeMap(IF(c.slice(f+1),n),function(g){return n.decoder(g,br.decoder,u,"value")})),v&&n.interpretNumericEntities&&u==="iso-8859-1"&&(v=lne(v)),c.indexOf("[]=")>-1&&(v=sne(v)?[v]:v),Db.call(r,d)?r[d]=Gc.combine(r[d],v):r[d]=v}return r},hne=function(e,t,n,r){for(var i=r?t:IF(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if(s==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,u=parseInt(l,10);!n.parseArrays&&l===""?o={0:i}:!isNaN(u)&&s!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[],o[u]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},dne=function(t,n,r,i){if(t){var a=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(a),u=l?a.slice(0,l.index):a,c=[];if(u){if(!r.plainObjects&&Db.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var h=0;r.depth>0&&(l=s.exec(a))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&Db.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+a.slice(l.index)+"]"),hne(c,n,r,i)}},vne=function(t){if(!t)return br;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?br.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?br.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:br.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:br.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:br.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:br.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:br.comma,decoder:typeof t.decoder=="function"?t.decoder:br.decoder,delimiter:typeof t.delimiter=="string"||Gc.isRegExp(t.delimiter)?t.delimiter:br.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:br.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:br.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:br.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:br.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:br.strictNullHandling}},pne=function(e,t){var n=vne(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?fne(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var s=a[o],l=dne(s,r[s],n,typeof e=="string");i=Gc.merge(i,l,n)}return n.allowSparse===!0?i:Gc.compact(i)},gne=one,mne=pne,yne=__,bne={formats:yne,parse:mne,stringify:gne},wne=tee;function pa(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var xne=/^([a-z0-9.+-]+:)/i,_ne=/:[0-9]*$/,Sne=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Ene=["<",">",'"',"`"," ","\r",`
`,"	"],Ane=["{","}","|","\\","^","`"].concat(Ene),Fb=["'"].concat(Ane),ZA=["%","/","?",";","#"].concat(Fb),QA=["/","?","#"],Cne=255,JA=/^[+a-z0-9A-Z_-]{0,63}$/,Tne=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Pne={javascript:!0,"javascript:":!0},kb={javascript:!0,"javascript:":!0},wc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Bb=bne;function wd(e,t,n){if(e&&typeof e=="object"&&e instanceof pa)return e;var r=new pa;return r.parse(e,t,n),r}pa.prototype.parse=function(e,t,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",a=e.split(i),o=/\\/g;a[0]=a[0].replace(o,"/"),e=a.join(i);var s=e;if(s=s.trim(),!n&&e.split("#").length===1){var l=Sne.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=Bb.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=xne.exec(s);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@/]+@[^@/]+/)){var h=s.substr(0,2)==="//";h&&!(u&&kb[u])&&(s=s.substr(2),this.slashes=!0)}if(!kb[u]&&(h||u&&!wc[u])){for(var f=-1,d=0;d<QA.length;d++){var v=s.indexOf(QA[d]);v!==-1&&(f===-1||v<f)&&(f=v)}var g,p;f===-1?p=s.lastIndexOf("@"):p=s.lastIndexOf("@",f),p!==-1&&(g=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(g)),f=-1;for(var d=0;d<ZA.length;d++){var v=s.indexOf(ZA[d]);v!==-1&&(f===-1||v<f)&&(f=v)}f===-1&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var m=this.hostname.split(/\./),d=0,b=m.length;d<b;d++){var w=m[d];if(w&&!w.match(JA)){for(var x="",_=0,S=w.length;_<S;_++)w.charCodeAt(_)>127?x+="x":x+=w[_];if(!x.match(JA)){var P=m.slice(0,d),C=m.slice(d+1),D=w.match(Tne);D&&(P.push(D[1]),C.unshift(D[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=P.join(".");break}}}this.hostname.length>Cne?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=wne.toASCII(this.hostname));var T=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+T,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Pne[c])for(var d=0,b=Fb.length;d<b;d++){var I=Fb[d];if(s.indexOf(I)!==-1){var O=encodeURIComponent(I);O===I&&(O=escape(I)),s=s.split(I).join(O)}}var L=s.indexOf("#");L!==-1&&(this.hash=s.substr(L),s=s.slice(0,L));var R=s.indexOf("?");if(R!==-1?(this.search=s.substr(R),this.query=s.substr(R+1),t&&(this.query=Bb.parse(this.query)),s=s.slice(0,R)):t&&(this.search="",this.query={}),s&&(this.pathname=s),wc[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var T=this.pathname||"",U=this.search||"";this.path=T+U}return this.href=this.format(),this};function One(e){return typeof e=="string"&&(e=wd(e)),e instanceof pa?e.format():pa.prototype.format.call(e)}pa.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=Bb.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||wc[t])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),o=o.replace("#","%23"),t+i+n+o+r};function Ine(e,t){return wd(e,!1,!0).resolve(t)}pa.prototype.resolve=function(e){return this.resolveObject(wd(e,!1,!0)).format()};function Mne(e,t){return e?wd(e,!1,!0).resolveObject(t):t}pa.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new pa;t.parse(e,!1,!0),e=t}for(var n=new pa,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];l!=="protocol"&&(n[l]=e[l])}return wc[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!wc[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var h=u[c];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,!e.host&&!kb[e.protocol]){for(var b=(e.pathname||"").split("/");b.length&&!(e.host=b.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),n.pathname=b.join("/")}else n.pathname=e.pathname;if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",d=n.search||"";n.path=f+d}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&n.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",p=g||v||n.host&&e.pathname,y=p,m=n.pathname&&n.pathname.split("/")||[],b=e.pathname&&e.pathname.split("/")||[],w=n.protocol&&!wc[n.protocol];if(w&&(n.hostname="",n.port=null,n.host&&(m[0]===""?m[0]=n.host:m.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(b[0]===""?b[0]=e.host:b.unshift(e.host)),e.host=null),p=p&&(b[0]===""||m[0]==="")),g)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,m=b;else if(b.length)m||(m=[]),m.pop(),m=m.concat(b),n.search=e.search,n.query=e.query;else if(e.search!=null){if(w){n.host=m.shift(),n.hostname=n.host;var x=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;x&&(n.auth=x.shift(),n.hostname=x.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!m.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=m.slice(-1)[0],S=(n.host||e.host||m.length>1)&&(_==="."||_==="..")||_==="",P=0,C=m.length;C>=0;C--)_=m[C],_==="."?m.splice(C,1):_===".."?(m.splice(C,1),P++):P&&(m.splice(C,1),P--);if(!p&&!y)for(;P--;P)m.unshift("..");p&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),S&&m.join("/").substr(-1)!=="/"&&m.push("");var D=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(w){n.hostname=D?"":m.length?m.shift():"",n.host=n.hostname;var x=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;x&&(n.auth=x.shift(),n.hostname=x.shift(),n.host=n.hostname)}return p=p||n.host&&m.length,p&&!D&&m.unshift(""),m.length>0?n.pathname=m.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n};pa.prototype.parseHost=function(){var e=this.host,t=_ne.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};yu.parse=wd;yu.resolve=Ine;yu.resolveObject=Mne;yu.format=One;yu.Url=pa;/*!
 * @pixi/constants - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var nu={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},Rb={UNKNOWN:0,WEBGL:1,CANVAS:2},Lt={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},Rs={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},S_={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},$g={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},oi={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},MF={LINEAR:1,NEAREST:0},mh={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},Dne={OFF:0,POW2:1,ON:2},Fne={AUTO:0,MANUAL:1},Ls={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};/*!
 * @pixi/utils - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ut.RETINA_PREFIX=/@([0-9\.]+)x/;Ut.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var eC=!1,tC="5.1.6";function kne(e){if(!eC){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c PixiJS `+tC+" -  "+e+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("PixiJS "+tC+" - "+e+" - http://www.pixijs.com/");eC=!0}}var Ny;function Bne(){return typeof Ny>"u"&&(Ny=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Ut.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t),i=!!(r&&r.getContextAttributes().stencil);if(r){var a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,i}catch{return!1}}()),Ny}function zg(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function DF(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e}function Rne(e){return typeof e=="string"&&e[0]==="#"&&(e=e.substr(1)),parseInt(e,16)}function Lne(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[Lt.NORMAL_NPM]=Lt.NORMAL,e[Lt.ADD_NPM]=Lt.ADD,e[Lt.SCREEN_NPM]=Lt.SCREEN,t[Lt.NORMAL]=Lt.NORMAL_NPM,t[Lt.ADD]=Lt.ADD_NPM,t[Lt.SCREEN]=Lt.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}var FF=Lne();function kF(e,t){return FF[t?1:0][e]}function Nne(e,t,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function E_(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var n=e>>16&255,r=e>>8&255,i=e&255;return n=n*t+.5|0,r=r*t+.5|0,i=i*t+.5|0,(t*255<<24)+(n<<16)+(r<<8)+i}function Une(e,t,n,r){return n=n||new Float32Array(4),n[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(e&255)/255,(r||r===void 0)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function Vne(e,t){t===void 0&&(t=null);var n=e*6;if(t=t||new Uint16Array(n),t.length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function xc(e,t,n){var r=e.length,i;if(!(t>=r||n===0)){n=t+n>r?r-t:n;var a=r-n;for(i=t;i<a;++i)e[i]=e[i+n];e.length=a}}var $ne=0;function Yc(){return++$ne}function fc(e){return e===0?0:e<0?-1:1}function jg(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function nC(e){return!(e&e-1)&&!!e}function rC(e){var t=(e>65535)<<4;e>>>=t;var n=(e>255)<<3;return e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1}var iC={},Lo=Object.create(null),pl=Object.create(null);function zne(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n),a=i.data,o=a.length,s={top:null,left:null,right:null,bottom:null},l=null,u,c,h;for(u=0;u<o;u+=4)a[u+3]!==0&&(c=u/4%t,h=~~(u/4/t),s.top===null&&(s.top=h),(s.left===null||c<s.left)&&(s.left=c),(s.right===null||s.right<c)&&(s.right=c+1),(s.bottom===null||s.bottom<h)&&(s.bottom=h));return s.top!==null&&(t=s.right-s.left,n=s.bottom-s.top+1,l=r.getImageData(s.left,s.top,t,n)),{height:n,width:t,data:l}}var xd=function(t,n,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Ut.RESOLUTION,this.resize(t,n)},_d={width:{configurable:!0},height:{configurable:!0}};xd.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};xd.prototype.resize=function(t,n){this.canvas.width=t*this.resolution,this.canvas.height=n*this.resolution};xd.prototype.destroy=function(){this.context=null,this.canvas=null};_d.width.get=function(){return this.canvas.width};_d.width.set=function(e){this.canvas.width=e};_d.height.get=function(){return this.canvas.height};_d.height.set=function(e){this.canvas.height=e};Object.defineProperties(xd.prototype,_d);var Ev;function jne(e,t){if(t===void 0&&(t=window.location),e.indexOf("data:")===0)return"";t=t||window.location,Ev||(Ev=document.createElement("a")),Ev.href=e,e=yu.parse(Ev.href);var n=!e.port&&t.port===""||e.port===t.port;return e.hostname!==t.hostname||!n||e.protocol!==t.protocol?"anonymous":""}function Hg(e,t){var n=Ut.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):t!==void 0?t:1}var aC={};function Hne(e,t,n){if(n===void 0&&(n=3),!aC[t]){var r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(r))),aC[t]=!0}}/*!
 * @pixi/math - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yn=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this.x=t,this.y=n};Yn.prototype.clone=function(){return new Yn(this.x,this.y)};Yn.prototype.copyFrom=function(t){return this.set(t.x,t.y),this};Yn.prototype.copyTo=function(t){return t.set(this.x,this.y),t};Yn.prototype.equals=function(t){return t.x===this.x&&t.y===this.y};Yn.prototype.set=function(t,n){this.x=t||0,this.y=n||(n!==0?this.x:0)};var $i=function(t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=n},Sd={x:{configurable:!0},y:{configurable:!0}};$i.prototype.clone=function(t,n){t===void 0&&(t=null),n===void 0&&(n=null);var r=t||this.cb,i=n||this.scope;return new $i(r,i,this._x,this._y)};$i.prototype.set=function(t,n){var r=t||0,i=n||(n!==0?r:0);(this._x!==r||this._y!==i)&&(this._x=r,this._y=i,this.cb.call(this.scope))};$i.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this};$i.prototype.copyTo=function(t){return t.set(this._x,this._y),t};$i.prototype.equals=function(t){return t.x===this._x&&t.y===this._y};Sd.x.get=function(){return this._x};Sd.x.set=function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))};Sd.y.get=function(){return this._y};Sd.y.set=function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))};Object.defineProperties($i.prototype,Sd);var Hh=Math.PI*2,Gne=180/Math.PI,Yne=Math.PI/180,kr={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},ln=function(t,n,r,i,a,o){t===void 0&&(t=1),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=o,this.array=null},A_={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};ln.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]};ln.prototype.set=function(t,n,r,i,a,o){return this.a=t,this.b=n,this.c=r,this.d=i,this.tx=a,this.ty=o,this};ln.prototype.toArray=function(t,n){this.array||(this.array=new Float32Array(9));var r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r};ln.prototype.apply=function(t,n){n=n||new Yn;var r=t.x,i=t.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n};ln.prototype.applyInverse=function(t,n){n=n||new Yn;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,a=t.y;return n.x=this.d*r*i+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*a+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n};ln.prototype.translate=function(t,n){return this.tx+=t,this.ty+=n,this};ln.prototype.scale=function(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this};ln.prototype.rotate=function(t){var n=Math.cos(t),r=Math.sin(t),i=this.a,a=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=a*n-this.d*r,this.d=a*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this};ln.prototype.append=function(t){var n=this.a,r=this.b,i=this.c,a=this.d;return this.a=t.a*n+t.b*i,this.b=t.a*r+t.b*a,this.c=t.c*n+t.d*i,this.d=t.c*r+t.d*a,this.tx=t.tx*n+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*a+this.ty,this};ln.prototype.setTransform=function(t,n,r,i,a,o,s,l,u){return this.a=Math.cos(s+u)*a,this.b=Math.sin(s+u)*a,this.c=-Math.sin(s-l)*o,this.d=Math.cos(s-l)*o,this.tx=t-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this};ln.prototype.prepend=function(t){var n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this};ln.prototype.decompose=function(t){var n=this.a,r=this.b,i=this.c,a=this.d,o=-Math.atan2(-i,a),s=Math.atan2(r,n),l=Math.abs(o+s);return l<1e-5||Math.abs(Hh-l)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(i*i+a*a),t.position.x=this.tx,t.position.y=this.ty,t};ln.prototype.invert=function(){var t=this.a,n=this.b,r=this.c,i=this.d,a=this.tx,o=t*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*a)/o,this.ty=-(t*this.ty-n*a)/o,this};ln.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this};ln.prototype.clone=function(){var t=new ln;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t};ln.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t};ln.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this};A_.IDENTITY.get=function(){return new ln};A_.TEMP_MATRIX.get=function(){return new ln};Object.defineProperties(ln,A_);var xl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],_l=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Sl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],El=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Lb=[],BF=[],Av=Math.sign;function Xne(){for(var e=0;e<16;e++){var t=[];Lb.push(t);for(var n=0;n<16;n++)for(var r=Av(xl[e]*xl[n]+Sl[e]*_l[n]),i=Av(_l[e]*xl[n]+El[e]*_l[n]),a=Av(xl[e]*Sl[n]+Sl[e]*El[n]),o=Av(_l[e]*Sl[n]+El[e]*El[n]),s=0;s<16;s++)if(xl[s]===r&&_l[s]===i&&Sl[s]===a&&El[s]===o){t.push(s);break}}for(var l=0;l<16;l++){var u=new ln;u.set(xl[l],_l[l],Sl[l],El[l],0,0),BF.push(u)}}Xne();var Nn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return xl[e]},uY:function(e){return _l[e]},vX:function(e){return Sl[e]},vY:function(e){return El[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return Lb[e][t]},sub:function(e,t){return Lb[e][Nn.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Nn.S:Nn.N:Math.abs(t)*2<=Math.abs(e)?e>0?Nn.E:Nn.W:t>0?e>0?Nn.SE:Nn.SW:e>0?Nn.NE:Nn.NW},matrixAppendRotationInv:function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=BF[Nn.inv(t)];i.tx=n,i.ty=r,e.append(i)}},is=function(){this.worldTransform=new ln,this.localTransform=new ln,this.position=new $i(this.onChange,this,0,0),this.scale=new $i(this.onChange,this,1,1),this.pivot=new $i(this.onChange,this,0,0),this.skew=new $i(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},C_={rotation:{configurable:!0}};is.prototype.onChange=function(){this._localID++};is.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++};is.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)};is.prototype.updateTransform=function(t){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale._x,n.b=this._sx*this.scale._x,n.c=this._cy*this.scale._y,n.d=this._sy*this.scale._y,n.tx=this.position._x-(this.pivot._x*n.a+this.pivot._y*n.c),n.ty=this.position._y-(this.pivot._x*n.b+this.pivot._y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=n.a*r.a+n.b*r.c,i.b=n.a*r.b+n.b*r.d,i.c=n.c*r.a+n.d*r.c,i.d=n.c*r.b+n.d*r.d,i.tx=n.tx*r.a+n.ty*r.c+r.tx,i.ty=n.tx*r.b+n.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}};is.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++};C_.rotation.get=function(){return this._rotation};C_.rotation.set=function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())};Object.defineProperties(is.prototype,C_);is.IDENTITY=new is;var tn=function(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=kr.RECT},Ed={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},RF={EMPTY:{configurable:!0}};Ed.left.get=function(){return this.x};Ed.right.get=function(){return this.x+this.width};Ed.top.get=function(){return this.y};Ed.bottom.get=function(){return this.y+this.height};RF.EMPTY.get=function(){return new tn(0,0,0,0)};tn.prototype.clone=function(){return new tn(this.x,this.y,this.width,this.height)};tn.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this};tn.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t};tn.prototype.contains=function(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height};tn.prototype.pad=function(t,n){t=t||0,n=n||(n!==0?t:0),this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2};tn.prototype.fit=function(t){var n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),a=Math.min(this.y+this.height,t.y+t.height);this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(a-i,0)};tn.prototype.ceil=function(t,n){t===void 0&&(t=1),n===void 0&&(n=.001);var r=Math.ceil((this.x+this.width-n)*t)/t,i=Math.ceil((this.y+this.height-n)*t)/t;this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=i-this.y};tn.prototype.enlarge=function(t){var n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),a=Math.max(this.y+this.height,t.y+t.height);this.x=n,this.width=r-n,this.y=i,this.height=a-i};Object.defineProperties(tn.prototype,Ed);Object.defineProperties(tn,RF);var Gh=function(t,n,r){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),this.x=t,this.y=n,this.radius=r,this.type=kr.CIRC};Gh.prototype.clone=function(){return new Gh(this.x,this.y,this.radius)};Gh.prototype.contains=function(t,n){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,a=this.y-n;return i*=i,a*=a,i+a<=r};Gh.prototype.getBounds=function(){return new tn(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};var Yh=function(t,n,r,i){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=t,this.y=n,this.width=r,this.height=i,this.type=kr.ELIP};Yh.prototype.clone=function(){return new Yh(this.x,this.y,this.width,this.height)};Yh.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1};Yh.prototype.getBounds=function(){return new tn(this.x-this.width,this.y-this.height,this.width,this.height)};var $s=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof Yn){for(var r=[],i=0,a=t.length;i<a;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=kr.POLY,this.closeStroke=!0};$s.prototype.clone=function(){var t=new $s(this.points.slice());return t.closeStroke=this.closeStroke,t};$s.prototype.contains=function(t,n){for(var r=!1,i=this.points.length/2,a=0,o=i-1;a<i;o=a++){var s=this.points[a*2],l=this.points[a*2+1],u=this.points[o*2],c=this.points[o*2+1],h=l>n!=c>n&&t<(u-s)*((n-l)/(c-l))+s;h&&(r=!r)}return r};var Gg=function(t,n,r,i,a){t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=t,this.y=n,this.width=r,this.height=i,this.radius=a,this.type=kr.RREC};Gg.prototype.clone=function(){return new Gg(this.x,this.y,this.width,this.height,this.radius)};Gg.prototype.contains=function(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){if(n>=this.y+this.radius&&n<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=n-(this.y+this.radius),a=this.radius*this.radius;if(r*r+i*i<=a||(r=t-(this.x+this.width-this.radius),r*r+i*i<=a)||(i=n-(this.y+this.height-this.radius),r*r+i*i<=a)||(r=t-(this.x+this.radius),r*r+i*i<=a))return!0}return!1};/*!
 * @pixi/display - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ut.SORTABLE_CHILDREN=!1;var Zi=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Zi.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};Zi.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0};Zi.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?tn.EMPTY:(t=t||new tn(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)};Zi.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)};Zi.prototype.addQuad=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY,o=t[0],s=t[1];n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,o=t[2],s=t[3],n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,o=t[4],s=t[5],n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,o=t[6],s=t[7],n=o<n?o:n,r=s<r?s:r,i=o>i?o:i,a=s>a?s:a,this.minX=n,this.minY=r,this.maxX=i,this.maxY=a};Zi.prototype.addFrame=function(t,n,r,i,a){var o=t.worldTransform,s=o.a,l=o.b,u=o.c,c=o.d,h=o.tx,f=o.ty,d=this.minX,v=this.minY,g=this.maxX,p=this.maxY,y=s*n+u*r+h,m=l*n+c*r+f;d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,y=s*i+u*r+h,m=l*i+c*r+f,d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,y=s*n+u*a+h,m=l*n+c*a+f,d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,y=s*i+u*a+h,m=l*i+c*a+f,d=y<d?y:d,v=m<v?m:v,g=y>g?y:g,p=m>p?m:p,this.minX=d,this.minY=v,this.maxX=g,this.maxY=p};Zi.prototype.addVertexData=function(t,n,r){for(var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY,l=n;l<r;l+=2){var u=t[l],c=t[l+1];i=u<i?u:i,a=c<a?c:a,o=u>o?u:o,s=c>s?c:s}this.minX=i,this.minY=a,this.maxX=o,this.maxY=s};Zi.prototype.addVertices=function(t,n,r,i){for(var a=t.worldTransform,o=a.a,s=a.b,l=a.c,u=a.d,c=a.tx,h=a.ty,f=this.minX,d=this.minY,v=this.maxX,g=this.maxY,p=r;p<i;p+=2){var y=n[p],m=n[p+1],b=o*y+l*m+c,w=u*m+s*y+h;f=b<f?b:f,d=w<d?w:d,v=b>v?b:v,g=w>g?w:g}this.minX=f,this.minY=d,this.maxX=v,this.maxY=g};Zi.prototype.addBounds=function(t){var n=this.minX,r=this.minY,i=this.maxX,a=this.maxY;this.minX=t.minX<n?t.minX:n,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>a?t.maxY:a};Zi.prototype.addBoundsMask=function(t,n){var r=t.minX>n.minX?t.minX:n.minX,i=t.minY>n.minY?t.minY:n.minY,a=t.maxX<n.maxX?t.maxX:n.maxX,o=t.maxY<n.maxY?t.maxY:n.maxY;if(r<=a&&i<=o){var s=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<s?r:s,this.minY=i<l?i:l,this.maxX=a>u?a:u,this.maxY=o>c?o:c}};Zi.prototype.addBoundsArea=function(t,n){var r=t.minX>n.x?t.minX:n.x,i=t.minY>n.y?t.minY:n.y,a=t.maxX<n.x+n.width?t.maxX:n.x+n.width,o=t.maxY<n.y+n.height?t.maxY:n.y+n.height;if(r<=a&&i<=o){var s=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<s?r:s,this.minY=i<l?i:l,this.maxX=a>u?a:u,this.maxY=o>c?o:c}};var Ar=function(e){function t(){e.call(this),this.tempDisplayObjectParent=null,this.transform=new is,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Zi,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return t.mixin=function(i){for(var a=Object.keys(i),o=0;o<a.length;++o){var s=a[o];Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(i,s))}},n._tempDisplayObjectParent.get=function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent},t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(i,a){return i||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),a||(this._boundsRect||(this._boundsRect=new tn),a=this._boundsRect),this._bounds.getRectangle(a)},t.prototype.getLocalBounds=function(i){var a=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,i||(this._localBoundsRect||(this._localBoundsRect=new tn),i=this._localBoundsRect);var s=this.getBounds(!1,i);return this.parent=o,this.transform=a,s},t.prototype.toGlobal=function(i,a,o){return o===void 0&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(i,a)},t.prototype.toLocal=function(i,a,o,s){return a&&(i=a.toGlobal(i,o,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(i,o)},t.prototype.render=function(i){},t.prototype.setParent=function(i){if(!i||!i.addChild)throw new Error("setParent: Argument must be a Container");return i.addChild(this),i},t.prototype.setTransform=function(i,a,o,s,l,u,c,h,f){return i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=1),s===void 0&&(s=1),l===void 0&&(l=0),u===void 0&&(u=0),c===void 0&&(c=0),h===void 0&&(h=0),f===void 0&&(f=0),this.position.x=i,this.position.y=a,this.scale.x=o||1,this.scale.y=s||1,this.rotation=l,this.skew.x=u,this.skew.y=c,this.pivot.x=h,this.pivot.y=f,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n.x.get=function(){return this.position.x},n.x.set=function(r){this.transform.position.x=r},n.y.get=function(){return this.position.y},n.y.set=function(r){this.transform.position.y=r},n.worldTransform.get=function(){return this.transform.worldTransform},n.localTransform.get=function(){return this.transform.localTransform},n.position.get=function(){return this.transform.position},n.position.set=function(r){this.transform.position.copyFrom(r)},n.scale.get=function(){return this.transform.scale},n.scale.set=function(r){this.transform.scale.copyFrom(r)},n.pivot.get=function(){return this.transform.pivot},n.pivot.set=function(r){this.transform.pivot.copyFrom(r)},n.skew.get=function(){return this.transform.skew},n.skew.set=function(r){this.transform.skew.copyFrom(r)},n.rotation.get=function(){return this.transform.rotation},n.rotation.set=function(r){this.transform.rotation=r},n.angle.get=function(){return this.transform.rotation*Gne},n.angle.set=function(r){this.transform.rotation=r*Yne},n.zIndex.get=function(){return this._zIndex},n.zIndex.set=function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},n.worldVisible.get=function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},n.mask.get=function(){return this._mask},n.mask.set=function(r){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=r,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(t.prototype,n),t}(mu);Ar.prototype.displayObjectUpdateTransform=Ar.prototype.updateTransform;function Wne(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var yn=function(e){function t(){e.call(this),this.children=[],this.sortableChildren=Ut.SORTABLE_CHILDREN,this.sortDirty=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0}};return t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(i){var a=arguments,o=arguments.length;if(o>1)for(var s=0;s<o;s++)this.addChild(a[s]);else i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this);return i},t.prototype.addChildAt=function(i,a){if(a<0||a>this.children.length)throw new Error(i+"addChildAt: The index "+a+" supplied is out of bounds "+this.children.length);return i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.splice(a,0,i),this._boundsID++,this.onChildrenChange(a),i.emit("added",this),this.emit("childAdded",i,this,a),i},t.prototype.swapChildren=function(i,a){if(i!==a){var o=this.getChildIndex(i),s=this.getChildIndex(a);this.children[o]=a,this.children[s]=i,this.onChildrenChange(o<s?o:s)}},t.prototype.getChildIndex=function(i){var a=this.children.indexOf(i);if(a===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return a},t.prototype.setChildIndex=function(i,a){if(a<0||a>=this.children.length)throw new Error("The index "+a+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(i);xc(this.children,o,1),this.children.splice(a,0,i),this.onChildrenChange(a)},t.prototype.getChildAt=function(i){if(i<0||i>=this.children.length)throw new Error("getChildAt: Index ("+i+") does not exist.");return this.children[i]},t.prototype.removeChild=function(i){var a=arguments,o=arguments.length;if(o>1)for(var s=0;s<o;s++)this.removeChild(a[s]);else{var l=this.children.indexOf(i);if(l===-1)return null;i.parent=null,i.transform._parentID=-1,xc(this.children,l,1),this._boundsID++,this.onChildrenChange(l),i.emit("removed",this),this.emit("childRemoved",i,this,l)}return i},t.prototype.removeChildAt=function(i){var a=this.getChildAt(i);return a.parent=null,a.transform._parentID=-1,xc(this.children,i,1),this._boundsID++,this.onChildrenChange(i),a.emit("removed",this),this.emit("childRemoved",a,this,i),a},t.prototype.removeChildren=function(i,a){i===void 0&&(i=0);var o=i,s=typeof a=="number"?a:this.children.length,l=s-o,u;if(l>0&&l<=s){u=this.children.splice(o,l);for(var c=0;c<u.length;++c)u[c].parent=null,u[c].transform&&(u[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(i);for(var h=0;h<u.length;++h)u[h].emit("removed",this),this.emit("childRemoved",u[h],this,h);return u}else if(l===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var i=!1,a=0,o=this.children.length;a<o;++a){var s=this.children[a];s._lastSortedIndex=a,!i&&s.zIndex!==0&&(i=!0)}i&&this.children.length>1&&this.children.sort(Wne),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var i=0,a=this.children.length;i<a;++i){var o=this.children[i];o.visible&&o.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var i=0;i<this.children.length;i++){var a=this.children[i];!a.visible||!a.renderable||(a.calculateBounds(),a._mask?(a._mask.calculateBounds(),this._bounds.addBoundsMask(a._bounds,a._mask._bounds)):a.filterArea?this._bounds.addBoundsArea(a._bounds,a.filterArea):this._bounds.addBounds(a._bounds))}this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.render=function(i){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(i);else{this._render(i);for(var a=0,o=this.children.length;a<o;++a)this.children[a].render(i)}},t.prototype.renderAdvanced=function(i){i.batch.flush();var a=this.filters,o=this._mask;if(a){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<a.length;s++)a[s].enabled&&this._enabledFilters.push(a[s]);this._enabledFilters.length&&i.filter.push(this,this._enabledFilters)}o&&i.mask.push(this,this._mask),this._render(i);for(var l=0,u=this.children.length;l<u;l++)this.children[l].render(i);i.batch.flush(),o&&i.mask.pop(this,this._mask),a&&this._enabledFilters&&this._enabledFilters.length&&i.filter.pop()},t.prototype._render=function(i){},t.prototype.destroy=function(i){e.prototype.destroy.call(this),this.sortDirty=!1;var a=typeof i=="boolean"?i:i&&i.children,o=this.removeChildren(0,this.children.length);if(a)for(var s=0;s<o.length;++s)o[s].destroy(i)},n.width.get=function(){return this.scale.x*this.getLocalBounds().width},n.width.set=function(r){var i=this.getLocalBounds().width;i!==0?this.scale.x=r/i:this.scale.x=1,this._width=r},n.height.get=function(){return this.scale.y*this.getLocalBounds().height},n.height.set=function(r){var i=this.getLocalBounds().height;i!==0?this.scale.y=r/i:this.scale.y=1,this._height=r},Object.defineProperties(t.prototype,n),t}(Ar);yn.prototype.containerUpdateTransform=yn.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kne={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};Ar.mixin(Kne);var qne=9,Yg=100,Zne=0,Qne=0,LF=2,oC=1,Jne=-1e3,ere=-1e3,tre=2,di=function(t){this._hookDiv=null,(Xo.tablet||Xo.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width=Yg+"px",n.style.height=Yg+"px",n.style.position="absolute",n.style.top=Zne+"px",n.style.left=Qne+"px",n.style.zIndex=LF,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};di.prototype.createTouchHook=function(){var t=this,n=document.createElement("button");n.style.width=oC+"px",n.style.height=oC+"px",n.style.position="absolute",n.style.top=Jne+"px",n.style.left=ere+"px",n.style.zIndex=tre,n.style.backgroundColor="#FF0000",n.title="HOOK DIV",n.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(n),this._hookDiv=n};di.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)};di.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))};di.prototype.deactivate=function(){!this.isActive||this.isMobileAccessibility||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};di.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var n=t.children,r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}};di.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var o=this.children[a];if(o.renderId!==this.renderId)o._accessibleActive=!1,xc(this.children,a,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,a--,this.children.length===0&&this.deactivate();else{i=o._accessibleDiv;var s=o.hitArea,l=o.worldTransform;o.hitArea?(i.style.left=(l.tx+s.x*l.a)*n+"px",i.style.top=(l.ty+s.y*l.d)*r+"px",i.style.width=s.width*l.a*n+"px",i.style.height=s.height*l.d*r+"px"):(s=o.getBounds(),this.capHitArea(s),i.style.left=s.x*n+"px",i.style.top=s.y*r+"px",i.style.width=s.width*n+"px",i.style.height=s.height*r+"px",i.title!==o.accessibleTitle&&o.accessibleTitle!==null&&(i.title=o.accessibleTitle),i.getAttribute("aria-label")!==o.accessibleHint&&o.accessibleHint!==null&&i.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}};di.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)};di.prototype.addChild=function(t){var n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=Yg+"px",n.style.height=Yg+"px",n.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=LF,n.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&t.accessibleTitle!==null?n.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(n.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&n.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=n,n.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex};di.prototype._onClick=function(t){var n=this.renderer.plugins.interaction;n.dispatchEvent(t.target.displayObject,"click",n.eventData),n.dispatchEvent(t.target.displayObject,"pointertap",n.eventData),n.dispatchEvent(t.target.displayObject,"tap",n.eventData)};di.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var n=this.renderer.plugins.interaction;n.dispatchEvent(t.target.displayObject,"mouseover",n.eventData)};di.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var n=this.renderer.plugins.interaction;n.dispatchEvent(t.target.displayObject,"mouseout",n.eventData)};di.prototype._onKeyDown=function(t){t.keyCode===qne&&this.activate()};di.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()};di.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};/*!
 * @pixi/runner - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var In=function(t){this.items=[],this._name=t,this._aliasCount=0},T_={empty:{configurable:!0},name:{configurable:!0}};In.prototype.emit=function(t,n,r,i,a,o,s,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,c=u.name,h=u.items;this._aliasCount++;for(var f=0,d=h.length;f<d;f++)h[f][c](t,n,r,i,a,o,s,l);return h===this.items&&this._aliasCount--,this};In.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))};In.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this};In.prototype.remove=function(t){var n=this.items.indexOf(t);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this};In.prototype.contains=function(t){return this.items.indexOf(t)!==-1};In.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this};In.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null};T_.empty.get=function(){return this.items.length===0};T_.name.get=function(){return this._name};Object.defineProperties(In.prototype,T_);In.prototype.dispatch=In.prototype.emit;In.prototype.run=In.prototype.emit;/*!
 * @pixi/ticker - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ut.TARGET_FPMS=.06;var lf={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},bu=function(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=0),i===void 0&&(i=!1),this.fn=t,this.context=n,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1};bu.prototype.match=function(t,n){return n=n||null,this.fn===t&&this.context===n};bu.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n};bu.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this};bu.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=t?null:n,this.previous=null,n};var dn=function(){var t=this;this._head=new bu(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Ut.TARGET_FPMS,this.elapsedMS=1/Ut.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(n){t._requestId=null,t.started&&(t.update(n),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},uf={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},P_={shared:{configurable:!0},system:{configurable:!0}};dn.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))};dn.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)};dn.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};dn.prototype.add=function(t,n,r){return r===void 0&&(r=lf.NORMAL),this._addListener(new bu(t,n,r))};dn.prototype.addOnce=function(t,n,r){return r===void 0&&(r=lf.NORMAL),this._addListener(new bu(t,n,r,!0))};dn.prototype._addListener=function(t){var n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this};dn.prototype.remove=function(t,n){for(var r=this._head.next;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this};dn.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};dn.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};dn.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}};dn.prototype.update=function(t){t===void 0&&(t=performance.now());var n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Ut.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t};uf.FPS.get=function(){return 1e3/this.elapsedMS};uf.minFPS.get=function(){return 1e3/this._maxElapsedMS};uf.minFPS.set=function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,Ut.TARGET_FPMS);this._maxElapsedMS=1/n};uf.maxFPS.get=function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0};uf.maxFPS.set=function(e){if(e===0)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}};P_.shared.get=function(){if(!dn._shared){var e=dn._shared=new dn;e.autoStart=!0,e._protected=!0}return dn._shared};P_.system.get=function(){if(!dn._system){var e=dn._system=new dn;e.autoStart=!0,e._protected=!0}return dn._system};Object.defineProperties(dn.prototype,uf);Object.defineProperties(dn,P_);var O_=function(){};O_.init=function(t){var n=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,lf.LOW)},get:function(){return this._ticker}}),this.stop=function(){n._ticker.stop()},this.start=function(){n._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?dn.shared:new dn,t.autoStart&&this.start()};O_.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};/*!
 * @pixi/core - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mi=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this._width=t,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new In("setRealSize"),this.onUpdate=new In("update"),this.onError=new In("onError")},a0={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Mi.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)};Mi.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)};Mi.prototype.resize=function(t,n){(t!==this._width||n!==this._height)&&(this._width=t,this._height=n,this.onResize.run(t,n))};a0.valid.get=function(){return!!this._width&&!!this._height};Mi.prototype.update=function(){this.destroyed||this.onUpdate.run()};Mi.prototype.load=function(){return Promise.resolve()};a0.width.get=function(){return this._width};a0.height.get=function(){return this._height};Mi.prototype.upload=function(t,n,r){return!1};Mi.prototype.style=function(t,n,r){return!1};Mi.prototype.dispose=function(){};Mi.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)};Object.defineProperties(Mi.prototype,a0);var Ad=function(e){function t(n){var r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;e.call(this,r,i),this.source=n,this.noSubImage=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.crossOrigin=function(r,i,a){a===void 0&&i.indexOf("data:")!==0?r.crossOrigin=jne(i):a!==!1&&(r.crossOrigin=typeof a=="string"?a:"anonymous")},t.prototype.upload=function(r,i,a,o){var s=r.gl,l=i.realWidth,u=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),!this.noSubImage&&i.target===s.TEXTURE_2D&&a.width===l&&a.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,i.type,o):(a.width=l,a.height=u,s.texImage2D(i.target,0,i.format,i.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(r,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Mi),I_=function(e){function t(n,r){if(r=r||{},!(n instanceof HTMLImageElement)){var i=new Image;e.crossOrigin(i,n,r.crossorigin),i.src=n,n=i}e.call(this,n),!n.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=n.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap!==void 0?r.createBitmap:Ut.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=r.premultiplyAlpha!==!1,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(r){var i=this;return r!==void 0&&(this.createBitmap=r),this._load?this._load:(this._load=new Promise(function(a){i.url=i.source.src;var o=i,s=o.source,l=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,i.createBitmap?a(i.process()):a(i))};s.complete&&s.src?l():(s.onload=l,s.onerror=function(u){return i.onError.run(u)})}),this._load)},t.prototype.process=function(){var r=this;return this._process!==null?this._process:this.bitmap!==null||!window.createImageBitmap?Promise.resolve(this):(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(i){return r.destroyed?Promise.reject():(r.bitmap=i,r.update(),r._process=null,Promise.resolve(r))}),this._process)},t.prototype.upload=function(r,i,a){if(i.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return e.prototype.upload.call(this,r,i,a);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,i,a,this.bitmap),!this.preserveBitmap){var o=!0;for(var s in i._glTextures){var l=i._glTextures[s];if(l!==a&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t}(Ad),Nb=[];function NF(e,t){if(!e)return null;var n="";if(typeof e=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=Nb.length-1;i>=0;--i){var a=Nb[i];if(a.test&&a.test(e,n))return new a(e,t)}return new I_(e,t)}var M_=function(e){function t(n,r){var i=r||{},a=i.width,o=i.height;if(!a||!o)throw new Error("BufferResource width or height invalid");e.call(this,a,o),this.data=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(r,i,a){var o=r.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),a.width===i.width&&a.height===i.height?o.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(a.width=i.width,a.height=i.height,o.texImage2D(i.target,0,a.internalFormat,i.width,i.height,0,i.format,a.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(Mi),nre={scaleMode:MF.NEAREST,format:S_.RGBA,premultiplyAlpha:!1},$n=function(e){function t(r,i){r===void 0&&(r=null),i===void 0&&(i=null),e.call(this),i=i||{};var a=i.premultiplyAlpha,o=i.mipmap,s=i.anisotropicLevel,l=i.scaleMode,u=i.width,c=i.height,h=i.wrapMode,f=i.format,d=i.type,v=i.target,g=i.resolution,p=i.resourceOptions;r&&!(r instanceof Mi)&&(r=NF(r,p),r.internal=!0),this.width=u||0,this.height=c||0,this.resolution=g||Ut.RESOLUTION,this.mipmap=o!==void 0?o:Ut.MIPMAP_TEXTURES,this.anisotropicLevel=s!==void 0?s:Ut.ANISOTROPIC_LEVEL,this.wrapMode=h||Ut.WRAP_MODE,this.scaleMode=l!==void 0?l:Ut.SCALE_MODE,this.format=f||S_.RGBA,this.type=d||oi.UNSIGNED_BYTE,this.target=v||$g.TEXTURE_2D,this.premultiplyAlpha=a!==!1,this.uid=Yc(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={realWidth:{configurable:!0},realHeight:{configurable:!0}};return n.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},n.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},t.prototype.setStyle=function(i,a){var o;return i!==void 0&&i!==this.scaleMode&&(this.scaleMode=i,o=!0),a!==void 0&&a!==this.mipmap&&(this.mipmap=a,o=!0),o&&this.dirtyStyleId++,this},t.prototype.setSize=function(i,a,o){return this.resolution=o||this.resolution,this.width=i,this.height=a,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(i,a,o){return this.resolution=o||this.resolution,this.width=i/this.resolution,this.height=a/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=nC(this.realWidth)&&nC(this.realHeight)},t.prototype.setResolution=function(i){var a=this.resolution;return a===i?this:(this.resolution=i,this.valid&&(this.width=this.width*a/i,this.height=this.height*a/i,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(i){if(this.resource===i)return this;if(this.resource)throw new Error("Resource can be set only once");return i.bind(this),this.resource=i,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(i){this.emit("error",this,i)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete pl[this.cacheId],delete Lo[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.from=function(i,a){var o=null;typeof i=="string"?o=i:(i._pixiId||(i._pixiId="pixiid_"+Yc()),o=i._pixiId);var s=pl[o];return s||(s=new t(i,a),s.cacheId=o,t.addToCache(s,o)),s},t.fromBuffer=function(i,a,o,s){i=i||new Float32Array(a*o*4);var l=new M_(i,{width:a,height:o}),u=i instanceof Float32Array?oi.FLOAT:oi.UNSIGNED_BYTE;return new t(l,Object.assign(nre,s||{width:a,height:o,type:u}))},t.addToCache=function(i,a){a&&(i.textureCacheIds.indexOf(a)===-1&&i.textureCacheIds.push(a),pl[a]&&console.warn("BaseTexture added to the cache with an id ["+a+"] that already had an entry"),pl[a]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var a=pl[i];if(a){var o=a.textureCacheIds.indexOf(i);return o>-1&&a.textureCacheIds.splice(o,1),delete pl[i],a}}else if(i&&i.textureCacheIds){for(var s=0;s<i.textureCacheIds.length;++s)delete pl[i.textureCacheIds[s]];return i.textureCacheIds.length=0,i}return null},Object.defineProperties(t.prototype,n),t}(mu);$n._globalBatch=0;var UF=function(e){function t(n,r){r=r||{};var i,a=n;Array.isArray(n)&&(i=n,a=n.length),e.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<a;o++){var s=new $n;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=a,this._load=null,i)for(var l=0;l<a;l++)this.addResourceAt(NF(i[l],r),l)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.dispose=function(){for(var r=0,i=this.length;r<i;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,i){var a=this.items[i];if(!a)throw new Error("Index "+i+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[i].setResource(r),this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=$g.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var i=0;i<this.length;i++)this.items[i].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}),a=i.map(function(o){return o.load()});return this._load=Promise.all(a).then(function(){var o=i[0],s=o.width,l=o.height;return r.resize(s,l),Promise.resolve(r)}),this._load},t.prototype.upload=function(r,i,a){var o=this,s=o.length,l=o.itemDirtyIds,u=o.items,c=r.gl;a.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,i.format,this._width,this._height,s,0,i.format,i.type,null);for(var h=0;h<s;h++){var f=u[h];l[h]<f.dirtyId&&(l[h]=f.dirtyId,f.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,h,f.resource.width,f.resource.height,1,i.format,i.type,f.resource.source))}return!0},t}(Mi),VF=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(r){var i=window.OffscreenCanvas;return i&&r instanceof i?!0:r instanceof HTMLCanvasElement},t}(Ad),$F=function(e){function t(n,r){if(r=r||{},e.call(this,n,r),this.length!==t.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var i=0;i<t.SIDES;i++)this.items[i].target=$g.TEXTURE_CUBE_MAP_POSITIVE_X+i;r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=$g.TEXTURE_CUBE_MAP},t.prototype.upload=function(r,i,a){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var l=this.items[s];o[s]<l.dirtyId&&(o[s]=l.dirtyId,l.valid&&l.resource.upload(r,l,a))}return!0},t}(UF);$F.SIDES=6;var zF=function(e){function t(n,r){r=r||{},e.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=n,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(i){if(r._resolve=function(){r.resize(r.source.width,r.source.height),i(r)},/^\<svg/.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,i=new Image;e.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(a){i.onerror=null,r.onError.run(a)},i.onload=function(){var a=i.width,o=i.height;if(!a||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=a*r.scale,l=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(s=r._overrideWidth||r._overrideHeight/o*a,l=r._overrideHeight||r._overrideWidth/a*o),s=Math.round(s),l=Math.round(l);var u=r.source;u.width=s,u.height=l,u._pixiId="canvas_"+Yc(),u.getContext("2d").drawImage(i,0,0,a,o,0,0,s,l),r._resolve(),r._resolve=null}},t.getSize=function(r){var i=t.SVG_SIZE.exec(r),a={};return i&&(a[i[1]]=Math.round(parseFloat(i[3])),a[i[5]]=Math.round(parseFloat(i[7]))),a},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,i){return i==="svg"||typeof r=="string"&&r.indexOf("data:image/svg+xml;base64")===0||typeof r=="string"&&r.indexOf("<svg")===0},t}(Ad);zF.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var jF=function(e){function t(r,i){if(i=i||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]),e.crossOrigin(a,r[0].src||r[0],i.crossorigin);for(var o=0;o<r.length;++o){var s=document.createElement("source"),l=r[o],u=l.src,c=l.mime;u=u||r[o];var h=u.split("?").shift().toLowerCase(),f=h.substr(h.lastIndexOf(".")+1);c=c||"video/"+f,s.src=u,s.type=c,a.appendChild(s)}r=a}e.call(this,r),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=i.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),i.autoLoad!==!1&&this.load()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return t.prototype.update=function(i){if(i===void 0&&(i=0),!this.destroyed){var a=dn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-a),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this,i),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var i=this;if(this._load)return this._load;var a=this.source;return(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0),a.addEventListener("play",this._onPlayStart.bind(this)),a.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(a.addEventListener("canplay",this._onCanPlay),a.addEventListener("canplaythrough",this._onCanPlay),a.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){i.valid?o(i):(i._resolve=o,a.load())}),this._load},t.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},t.prototype._isSourcePlaying=function(){var i=this.source;return i.currentTime>0&&i.paused===!1&&i.ended===!1&&i.readyState>2},t.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(dn.shared.add(this.update,this),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(dn.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){var i=this,a=i.source;a.removeEventListener("canplay",this._onCanPlay),a.removeEventListener("canplaythrough",this._onCanPlay);var o=this.valid;this.resize(a.videoWidth,a.videoHeight),!o&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&a.play()},t.prototype.dispose=function(){this._isAutoUpdating&&dn.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),e.prototype.dispose.call(this)},n.autoUpdate.get=function(){return this._autoUpdate},n.autoUpdate.set=function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isAutoUpdating?(dn.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(dn.shared.add(this.update,this),this._isAutoUpdating=!0))},n.updateFPS.get=function(){return this._updateFPS},n.updateFPS.set=function(r){r!==this._updateFPS&&(this._updateFPS=r)},t.test=function(i,a){return i instanceof HTMLVideoElement||t.TYPES.indexOf(a)>-1},Object.defineProperties(t.prototype,n),t}(Ad);jF.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var rre=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(r){return!!window.createImageBitmap&&r instanceof ImageBitmap},t}(Ad);Nb.push(I_,rre,VF,jF,zF,M_,$F,UF);var Di=function(t){this.renderer=t};Di.prototype.destroy=function(){this.renderer=null};var ire=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(r,i,a){var o=r.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),a.width===i.width&&a.height===i.height?o.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(a.width=i.width,a.height=i.height,o.texImage2D(i.target,0,o.DEPTH_COMPONENT16,i.width,i.height,0,i.format,i.type,this.data)),!0},t}(M_),gs=function(t,n){this.width=Math.ceil(t||100),this.height=Math.ceil(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new In("disposeFramebuffer")},HF={colorTexture:{configurable:!0}};HF.colorTexture.get=function(){return this.colorTextures[0]};gs.prototype.addColorTexture=function(t,n){return t===void 0&&(t=0),this.colorTextures[t]=n||new $n(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this};gs.prototype.addDepthTexture=function(t){return this.depthTexture=t||new $n(new ire(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:S_.DEPTH_COMPONENT,type:oi.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this};gs.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this};gs.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this};gs.prototype.resize=function(t,n){if(t=Math.ceil(t),n=Math.ceil(n),!(t===this.width&&n===this.height)){this.width=t,this.height=n,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],a=i.resolution;i.setSize(t/a,n/a)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,n/o)}}};gs.prototype.dispose=function(){this.disposeRunner.run(this,!1)};Object.defineProperties(gs.prototype,HF);var gp=function(e){function t(n){if(typeof n=="number"){var r=arguments[0],i=arguments[1],a=arguments[2],o=arguments[3];n={width:r,height:i,scaleMode:a,resolution:o}}e.call(this,null,n);var s=n||{},l=s.width,u=s.height;this.mipmap=!1,this.width=Math.ceil(l)||100,this.height=Math.ceil(u)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new gs(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.stencilMaskStack=[],this.filterStack=[{}]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(r,i){r=Math.ceil(r),i=Math.ceil(i),this.framebuffer.resize(r*this.resolution,i*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.framebuffer=null},t}($n),D_=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};D_.prototype.set=function(t,n,r){var i=n.width,a=n.height;if(r){var o=t.width/2/i,s=t.height/2/a,l=t.x/i+o,u=t.y/a+s;r=Nn.add(r,Nn.NW),this.x0=l+o*Nn.uX(r),this.y0=u+s*Nn.uY(r),r=Nn.add(r,2),this.x1=l+o*Nn.uX(r),this.y1=u+s*Nn.uY(r),r=Nn.add(r,2),this.x2=l+o*Nn.uX(r),this.y2=u+s*Nn.uY(r),r=Nn.add(r,2),this.x3=l+o*Nn.uX(r),this.y3=u+s*Nn.uY(r)}else this.x0=t.x/i,this.y0=t.y/a,this.x1=(t.x+t.width)/i,this.y1=t.y/a,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/a,this.x3=t.x/i,this.y3=(t.y+t.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var sC=new D_,nn=function(e){function t(r,i,a,o,s,l){if(e.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new tn(0,0,1,1)),r instanceof t&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=sC,this.uvMatrix=null,this.orig=a||i,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=l?new Yn(l.x,l.y):new Yn(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(i){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=i.width,this._frame.height=i.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(i){if(this.baseTexture){if(i){var a=this.baseTexture,o=a.resource;o&&Lo[o.url]&&t.removeFromCache(o.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===sC&&(this._uvs=new D_),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(i,a){a===void 0&&(a={});var o=null;typeof i=="string"?o=i:(i._pixiId||(i._pixiId="pixiid_"+Yc()),o=i._pixiId);var s=Lo[o];return s||(a.resolution||(a.resolution=Hg(i)),s=new t(new $n(i,a)),s.baseTexture.cacheId=o,$n.addToCache(s.baseTexture,o),t.addToCache(s,o)),s},t.fromBuffer=function(i,a,o,s){return new t($n.fromBuffer(i,a,o,s))},t.fromLoader=function(i,a,o){var s=new I_(i);s.url=a;var l=new $n(s,{scaleMode:Ut.SCALE_MODE,resolution:Hg(a)}),u=new t(l);return o||(o=a),$n.addToCache(u.baseTexture,o),t.addToCache(u,o),o!==a&&($n.addToCache(u.baseTexture,a),t.addToCache(u,a)),u},t.addToCache=function(i,a){a&&(i.textureCacheIds.indexOf(a)===-1&&i.textureCacheIds.push(a),Lo[a]&&console.warn("Texture added to the cache with an id ["+a+"] that already had an entry"),Lo[a]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var a=Lo[i];if(a){var o=a.textureCacheIds.indexOf(i);return o>-1&&a.textureCacheIds.splice(o,1),delete Lo[i],a}}else if(i&&i.textureCacheIds){for(var s=0;s<i.textureCacheIds.length;++s)Lo[i.textureCacheIds[s]]===i&&delete Lo[i.textureCacheIds[s]];return i.textureCacheIds.length=0,i}return null},n.resolution.get=function(){return this.baseTexture.resolution},n.frame.get=function(){return this._frame},n.frame.set=function(r){this._frame=r,this.noFrame=!1;var i=r.x,a=r.y,o=r.width,s=r.height,l=i+o>this.baseTexture.width,u=a+s>this.baseTexture.height;if(l||u){var c=l&&u?"and":"or",h="X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width,f="Y: "+a+" + "+s+" = "+(a+s)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+c+" "+f)}this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},n.rotate.get=function(){return this._rotate},n.rotate.set=function(r){this._rotate=r,this.valid&&this.updateUvs()},n.width.get=function(){return this.orig.width},n.height.get=function(){return this.orig.height},Object.defineProperties(t.prototype,n),t}(mu);function are(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new nn(new $n(new VF(e)))}function o0(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}nn.EMPTY=new nn(new $n);o0(nn.EMPTY);o0(nn.EMPTY.baseTexture);nn.WHITE=are();o0(nn.WHITE);o0(nn.WHITE.baseTexture);var cf=function(e){function t(n,r){var i=null;if(!(n instanceof gp)){var a=arguments[1],o=arguments[2],s=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,n=new gp({width:a,height:o,scaleMode:s,resolution:l})}e.call(this,n,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(r,i,a){a===void 0&&(a=!0),r=Math.ceil(r),i=Math.ceil(i),this.valid=r>0&&i>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=i,a&&this.baseTexture.resize(r,i),this.updateUvs()},t.prototype.setResolution=function(r){var i=this,a=i.baseTexture;a.resolution!==r&&(a.setResolution(r),this.resize(a.width,a.height,!1))},t.create=function(r){return typeof r=="number"&&(r={width:r,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new gp(r))},t}(nn),za=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};za.prototype.createTexture=function(t,n){var r=new gp(Object.assign({width:t,height:n,resolution:1},this.textureOptions));return new cf(r)};za.prototype.getOptimalTexture=function(t,n,r){r===void 0&&(r=1);var i=za.SCREEN_KEY;t*=r,n*=r,(!this.enableFullScreen||t!==this._pixelsWidth||n!==this._pixelsHeight)&&(t=jg(t),n=jg(n),i=(t&65535)<<16|n&65535),this.texturePool[i]||(this.texturePool[i]=[]);var a=this.texturePool[i].pop();return a||(a=this.createTexture(t,n)),a.filterPoolKey=i,a.setResolution(r),a};za.prototype.getFilterTexture=function(t,n){var r=this.getOptimalTexture(t.width,t.height,n||t.resolution);return r.filterFrame=t.filterFrame,r};za.prototype.returnTexture=function(t){var n=t.filterPoolKey;t.filterFrame=null,this.texturePool[n].push(t)};za.prototype.returnFilterTexture=function(t){this.returnTexture(t)};za.prototype.clear=function(t){if(t=t!==!1,t)for(var n in this.texturePool){var r=this.texturePool[n];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}};za.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){var n=za.SCREEN_KEY,r=this.texturePool[n];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}};za.SCREEN_KEY="screen";var Xh=function(t,n,r,i,a,o,s){r===void 0&&(r=!1),i===void 0&&(i=5126),this.buffer=t,this.size=n,this.normalized=r,this.type=i,this.stride=a,this.start=o,this.instance=s};Xh.prototype.destroy=function(){this.buffer=null};Xh.from=function(t,n,r,i,a){return new Xh(t,n,r,i,a)};var ore=0,Br=function(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=ore++,this.disposeRunner=new In("disposeBuffer")};Br.prototype.update=function(t){this.data=t||this.data,this._updateID++};Br.prototype.dispose=function(){this.disposeRunner.run(this,!1)};Br.prototype.destroy=function(){this.dispose(),this.data=null};Br.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Br(t)};function GF(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}var sre={Float32Array,Uint32Array,Int32Array,Uint8Array};function lre(e,t){for(var n=0,r=0,i={},a=0;a<e.length;a++)r+=t[a],n+=e[a].length;for(var o=new ArrayBuffer(n*4),s=null,l=0,u=0;u<e.length;u++){var c=t[u],h=e[u],f=GF(h);i[f]||(i[f]=new sre[f](o)),s=i[f];for(var d=0;d<h.length;d++){var v=(d/c|0)*r+l,g=d%c;s[v+g]=h[d]}l+=c}return new Float32Array(o)}var YF={5126:4,5123:2,5121:1},ure=0,cre={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Cr=function(t,n){t===void 0&&(t=[]),n===void 0&&(n={}),this.buffers=t,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=ure++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new In("disposeGeometry"),this.refCount=0};Cr.prototype.addAttribute=function(t,n,r,i,a,o,s,l){if(i===void 0&&(i=!1),l===void 0&&(l=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n.data||(n instanceof Array&&(n=new Float32Array(n)),n=new Br(n));var u=t.split("|");if(u.length>1){for(var c=0;c<u.length;c++)this.addAttribute(u[c],n,r,i,a);return this}var h=this.buffers.indexOf(n);return h===-1&&(this.buffers.push(n),h=this.buffers.length-1),this.attributes[t]=new Xh(h,r,i,a,o,s,l),this.instanced=this.instanced||l,this};Cr.prototype.getAttribute=function(t){return this.attributes[t]};Cr.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]};Cr.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Br(t)),t.index=!0,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this};Cr.prototype.getIndex=function(){return this.indexBuffer};Cr.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],n=[],r=new Br,i;for(i in this.attributes){var a=this.attributes[i],o=this.buffers[a.buffer];t.push(o.data),n.push(a.size*YF[a.type]/4),a.buffer=0}for(r.data=lre(t,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this};Cr.prototype.getSize=function(){for(var t in this.attributes){var n=this.attributes[t],r=this.buffers[n.buffer];return r.data.length/(n.stride/4||n.size)}return 0};Cr.prototype.dispose=function(){this.disposeRunner.run(this,!1)};Cr.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null};Cr.prototype.clone=function(){for(var t=new Cr,n=0;n<this.buffers.length;n++)t.buffers[n]=new Br(this.buffers[n].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Xh(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t};Cr.merge=function(t){for(var n=new Cr,r=[],i=[],a=[],o,s=0;s<t.length;s++){o=t[s];for(var l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,a[l]=0}for(var u=0;u<o.buffers.length;u++)r[u]=new cre[GF(o.buffers[u].data)](i[u]),n.buffers[u]=new Br(r[u]);for(var c=0;c<t.length;c++){o=t[c];for(var h=0;h<o.buffers.length;h++)r[h].set(o.buffers[h].data,a[h]),a[h]+=o.buffers[h].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.index=!0;for(var f=0,d=0,v=0,g=0,p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){g=p;break}for(var y in o.attributes){var m=o.attributes[y];(m.buffer|0)===g&&(d+=m.size*YF[m.type]/4)}for(var b=0;b<t.length;b++){for(var w=t[b].indexBuffer.data,x=0;x<w.length;x++)n.indexBuffer.data[x+v]+=f;f+=o.buffers[g].data.length/d,v+=w.length}}return n};var fre=function(e){function t(){e.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Cr),XF=function(e){function t(){e.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Br(this.vertices),this.uvBuffer=new Br(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(r,i){var a=0,o=0;return this.uvs[0]=a,this.uvs[1]=o,this.uvs[2]=a+i.width/r.width,this.uvs[3]=o,this.uvs[4]=a+i.width/r.width,this.uvs[5]=o+i.height/r.height,this.uvs[6]=a,this.uvs[7]=o+i.height/r.height,a=i.x,o=i.y,this.vertices[0]=a,this.vertices[1]=o,this.vertices[2]=a+i.width,this.vertices[3]=o,this.vertices[4]=a+i.width,this.vertices[5]=o+i.height,this.vertices[6]=a,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Cr),hre=0,zi=function(t,n){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=hre++,this.static=!!n};zi.prototype.update=function(){this.dirtyId++};zi.prototype.add=function(t,n,r){this.uniforms[t]=new zi(n,r)};zi.from=function(t,n){return new zi(t,n)};var WF=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new tn,this.destinationFrame=new tn,this.filters=[]};WF.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var dre=function(e){function t(n){e.call(this,n),this.defaultFilterStack=[{}],this.texturePool=new za,this.texturePool.setScreenSize(n.view),this.statePool=[],this.quad=new fre,this.quadUv=new XF,this.tempRect=new tn,this.activeState={},this.globalUniforms=new zi({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=n.view.width,this._pixelsHeight=n.view.height}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(r,i){for(var a=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new WF,l=i[0].resolution,u=i[0].padding,c=i[0].autoFit,h=i[0].legacy,f=1;f<i.length;f++){var d=i[f];l=Math.min(l,d.resolution),u=Math.max(u,d.padding),c=c||d.autoFit,h=h||d.legacy}o.length===1&&(this.defaultFilterStack[0].renderTexture=a.renderTexture.current),o.push(s),s.resolution=l,s.legacy=h,s.target=r,s.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),s.sourceFrame.pad(u),c&&s.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),s.sourceFrame.ceil(l),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l),s.filters=i,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height,s.renderTexture.filterFrame=s.sourceFrame,a.renderTexture.bind(s.renderTexture,s.sourceFrame),a.renderTexture.clear()},t.prototype.pop=function(){var r=this.defaultFilterStack,i=r.pop(),a=i.filters;this.activeState=i;var o=this.globalUniforms.uniforms;o.outputFrame=i.sourceFrame,o.resolution=i.resolution;var s=o.inputSize,l=o.inputPixel,u=o.inputClamp;if(s[0]=i.destinationFrame.width,s[1]=i.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],l[0]=s[0]*i.resolution,l[1]=s[1]*i.resolution,l[2]=1/l[0],l[3]=1/l[1],u[0]=.5*l[2],u[1]=.5*l[3],u[2]=i.sourceFrame.width*s[2]-.5*l[2],u[3]=i.sourceFrame.height*s[3]-.5*l[3],i.legacy){var c=o.filterArea;c[0]=i.destinationFrame.width,c[1]=i.destinationFrame.height,c[2]=i.sourceFrame.x,c[3]=i.sourceFrame.y,o.filterClamp=o.inputClamp}this.globalUniforms.update();var h=r[r.length-1];if(a.length===1)a[0].apply(this,i.renderTexture,h.renderTexture,!1,i),this.returnFilterTexture(i.renderTexture);else{var f=i.renderTexture,d=this.getOptimalFilterTexture(f.width,f.height,i.resolution);d.filterFrame=f.filterFrame;var v=0;for(v=0;v<a.length-1;++v){a[v].apply(this,f,d,!0,i);var g=f;f=d,d=g}a[v].apply(this,f,h.renderTexture,!1,i),this.returnFilterTexture(f),this.returnFilterTexture(d)}i.clear(),this.statePool.push(i)},t.prototype.applyFilter=function(r,i,a,o){var s=this.renderer;s.renderTexture.bind(a,a?a.filterFrame:null),o&&s.renderTexture.clear(),r.uniforms.uSampler=i,r.uniforms.filterGlobals=this.globalUniforms,s.state.set(r.state),s.shader.bind(r),r.legacy?(this.quadUv.map(i._frame,i.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Rs.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Rs.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,i){var a=this.activeState,o=a.sourceFrame,s=a.destinationFrame,l=i._texture,u=l.orig,c=r.set(s.width,0,0,s.height,o.x,o.y),h=i.worldTransform.copyTo(ln.TEMP_MATRIX);return h.invert(),c.prepend(h),c.scale(1/u.width,1/u.height),c.translate(i.anchor.x,i.anchor.y),c},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,i,a){return a===void 0&&(a=1),this.texturePool.getOptimalTexture(r,i,a)},t.prototype.getFilterTexture=function(r,i){if(typeof r=="number"){var a=r;r=i,i=a}r=r||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(r.width,r.height,i||r.resolution);return o.filterFrame=r.filterFrame,o},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(Di),ms=function(t){this.renderer=t};ms.prototype.flush=function(){};ms.prototype.destroy=function(){this.renderer=null};ms.prototype.start=function(){};ms.prototype.stop=function(){this.flush()};ms.prototype.render=function(t){};var vre=function(e){function t(n){e.call(this,n),this.emptyRenderer=new ms(n),this.currentRenderer=this.emptyRenderer}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t}(Di);Ut.PREFER_ENV=Xo.any?nu.WEBGL:nu.WEBGL2;var lC=0,pre=function(e){function t(r){e.call(this,r),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isLost:{configurable:!0}};return n.isLost.get=function(){return!this.gl||this.gl.isContextLost()},t.prototype.contextChange=function(i){this.gl=i,this.renderer.gl=i,this.renderer.CONTEXT_UID=lC++,i.isContextLost()&&i.getExtension("WEBGL_lose_context")&&i.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(i){this.gl=i,this.validateContext(i),this.renderer.gl=i,this.renderer.CONTEXT_UID=lC++,this.renderer.runners.contextChange.run(i)},t.prototype.initFromOptions=function(i){var a=this.createContext(this.renderer.view,i);this.initFromContext(a)},t.prototype.createContext=function(i,a){var o;if(Ut.PREFER_ENV>=nu.WEBGL2&&(o=i.getContext("webgl2",a)),o)this.webGLVersion=2;else if(this.webGLVersion=1,o=i.getContext("webgl",a)||i.getContext("experimental-webgl",a),!o)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=o,this.getExtensions(),o},t.prototype.getExtensions=function(){var i=this,a=i.gl;this.webGLVersion===1?Object.assign(this.extensions,{drawBuffers:a.getExtension("WEBGL_draw_buffers"),depthTexture:a.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:a.getExtension("WEBGL_lose_context"),vertexArrayObject:a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:a.getExtension("OES_element_index_uint"),floatTexture:a.getExtension("OES_texture_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear"),textureHalfFloat:a.getExtension("OES_texture_half_float"),textureHalfFloatLinear:a.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,{anisotropicFiltering:a.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:a.getExtension("EXT_color_buffer_float"),floatTextureLinear:a.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(i){i.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},t.prototype.destroy=function(){var i=this.renderer.view;i.removeEventListener("webglcontextlost",this.handleContextLost),i.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.gl.flush()},t.prototype.validateContext=function(i){var a=i.getContextAttributes();a.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(t.prototype,n),t}(Di),gre=function(e){function t(r){e.call(this,r),this.managedFramebuffers=[],this.unknownFramebuffer=new gs(10,10)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return t.prototype.contextChange=function(){var i=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new tn,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var a=this.renderer.context.extensions.drawBuffers,o=this.renderer.context.extensions.depthTexture;Ut.PREFER_ENV===nu.WEBGL_LEGACY&&(a=null,o=null),a?i.drawBuffers=function(s){return a.drawBuffersWEBGL(s)}:(this.hasMRT=!1,i.drawBuffers=function(){}),o||(this.writeDepthTexture=!1)}},t.prototype.bind=function(i,a){var o=this,s=o.gl;if(i){var l=i.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(i);this.current!==i&&(this.current=i,s.bindFramebuffer(s.FRAMEBUFFER,l.framebuffer)),l.dirtyId!==i.dirtyId&&(l.dirtyId=i.dirtyId,l.dirtyFormat!==i.dirtyFormat?(l.dirtyFormat=i.dirtyFormat,this.updateFramebuffer(i)):l.dirtySize!==i.dirtySize&&(l.dirtySize=i.dirtySize,this.resizeFramebuffer(i)));for(var u=0;u<i.colorTextures.length;u++)i.colorTextures[u].texturePart?this.renderer.texture.unbind(i.colorTextures[u].texture):this.renderer.texture.unbind(i.colorTextures[u]);i.depthTexture&&this.renderer.texture.unbind(i.depthTexture),a?this.setViewport(a.x,a.y,a.width,a.height):this.setViewport(0,0,i.width,i.height)}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),a?this.setViewport(a.x,a.y,a.width,a.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(i,a,o,s){var l=this.viewport;(l.width!==o||l.height!==s||l.x!==i||l.y!==a)&&(l.x=i,l.y=a,l.width=o,l.height=s,this.gl.viewport(i,a,o,s))},n.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},t.prototype.clear=function(i,a,o,s){var l=this,u=l.gl;u.clearColor(i,a,o,s),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT)},t.prototype.initFramebuffer=function(i){var a=this,o=a.gl,s={framebuffer:o.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return i.glFramebuffers[this.CONTEXT_UID]=s,this.managedFramebuffers.push(i),i.disposeRunner.add(this),s},t.prototype.resizeFramebuffer=function(i){var a=this,o=a.gl,s=i.glFramebuffers[this.CONTEXT_UID];s.stencil&&(o.bindRenderbuffer(o.RENDERBUFFER,s.stencil),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i.width,i.height));for(var l=i.colorTextures,u=0;u<l.length;u++)this.renderer.texture.bind(l[u],0);i.depthTexture&&this.renderer.texture.bind(i.depthTexture,0)},t.prototype.updateFramebuffer=function(i){var a=this,o=a.gl,s=i.glFramebuffers[this.CONTEXT_UID],l=i.colorTextures,u=l.length;o.drawBuffers||(u=Math.min(u,1));for(var c=[],h=0;h<u;h++){var f=i.colorTextures[h];f.texturePart?(this.renderer.texture.bind(f.texture,0),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+h,o.TEXTURE_CUBE_MAP_NEGATIVE_X+f.side,f.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(f,0),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+h,o.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,0)),c.push(o.COLOR_ATTACHMENT0+h)}if(c.length>1&&o.drawBuffers(c),i.depthTexture){var d=this.writeDepthTexture;if(d){var v=i.depthTexture;this.renderer.texture.bind(v,0),o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,0)}}!s.stencil&&(i.stencil||i.depth)&&(s.stencil=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,s.stencil),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i.width,i.height),i.depthTexture||o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s.stencil))},t.prototype.disposeFramebuffer=function(i,a){var o=i.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(o){delete i.glFramebuffers[this.CONTEXT_UID];var l=this.managedFramebuffers.indexOf(i);l>=0&&this.managedFramebuffers.splice(l,1),i.disposeRunner.remove(this),a||(s.deleteFramebuffer(o.framebuffer),o.stencil&&s.deleteRenderbuffer(o.stencil))}},t.prototype.disposeAll=function(i){var a=this.managedFramebuffers;this.managedFramebuffers=[];for(var o=0;o<a.length;o++)this.disposeFramebuffer(a[o],i)},t.prototype.forceStencil=function(){var i=this.current;if(i){var a=i.glFramebuffers[this.CONTEXT_UID];if(!(!a||a.stencil)){i.enableStencil();var o=i.width,s=i.height,l=this.gl,u=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,u),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,o,s),a.stencil=u,l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,u)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new tn},Object.defineProperties(t.prototype,n),t}(Di),mre=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Uy={5126:4,5123:2,5121:1},yre=function(e){function t(n){e.call(this,n),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!r.createVertexArray){var a=this.renderer.context.extensions.vertexArrayObject;Ut.PREFER_ENV===nu.WEBGL_LEGACY&&(a=null),a?(r.createVertexArray=function(){return a.createVertexArrayOES()},r.bindVertexArray=function(s){return a.bindVertexArrayOES(s)},r.deleteVertexArray=function(s){return a.deleteVertexArrayOES(s)}):(this.hasVao=!1,r.createVertexArray=function(){},r.bindVertexArray=function(){},r.deleteVertexArray=function(){})}if(!r.vertexAttribDivisor){var o=r.getExtension("ANGLE_instanced_arrays");o?(r.vertexAttribDivisor=function(s,l){return o.vertexAttribDivisorANGLE(s,l)},r.drawElementsInstanced=function(s,l,u,c,h){return o.drawElementsInstancedANGLE(s,l,u,c,h)},r.drawArraysInstanced=function(s,l,u,c){return o.drawArraysInstancedANGLE(s,l,u,c)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex},t.prototype.bind=function(r,i){i=i||this.renderer.shader.shader;var a=this,o=a.gl,s=r.glVertexArrayObjects[this.CONTEXT_UID];s||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=s={});var l=s[i.program.id]||this.initGeometryVao(r,i.program);this._activeGeometry=r,this._activeVao!==l&&(this._activeVao=l,this.hasVao?o.bindVertexArray(l):this.activateVao(r,i.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,i=this,a=i.gl,o=0;o<r.buffers.length;o++){var s=r.buffers[o],l=s._glBuffers[this.CONTEXT_UID];if(s._updateID!==l.updateID){l.updateID=s._updateID;var u=s.index?a.ELEMENT_ARRAY_BUFFER:a.ARRAY_BUFFER;if(a.bindBuffer(u,l.buffer),this._boundBuffer=l,l.byteLength>=s.data.byteLength)a.bufferSubData(u,0,s.data);else{var c=s.static?a.STATIC_DRAW:a.DYNAMIC_DRAW;l.byteLength=s.data.byteLength,a.bufferData(u,s.data,c)}}}},t.prototype.checkCompatibility=function(r,i){var a=r.attributes,o=i.attributeData;for(var s in o)if(!a[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(r,i){var a=r.attributes,o=i.attributeData,s=["g",r.id];for(var l in a)o[l]&&s.push(l);return s.join("-")},t.prototype.initGeometryVao=function(r,i){this.checkCompatibility(r,i);var a=this.gl,o=this.CONTEXT_UID,s=this.getSignature(r,i),l=r.glVertexArrayObjects[this.CONTEXT_UID],u=l[s];if(u)return l[i.id]=u,u;var c=r.buffers,h=r.attributes,f={},d={};for(var v in c)f[v]=0,d[v]=0;for(var g in h)!h[g].size&&i.attributeData[g]?h[g].size=i.attributeData[g].size:h[g].size||console.warn("PIXI Geometry attribute '"+g+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[h[g].buffer]+=h[g].size*Uy[h[g].type];for(var p in h){var y=h[p],m=y.size;y.stride===void 0&&(f[y.buffer]===m*Uy[y.type]?y.stride=0:y.stride=f[y.buffer]),y.start===void 0&&(y.start=d[y.buffer],d[y.buffer]+=m*Uy[y.type])}u=a.createVertexArray(),a.bindVertexArray(u);for(var b=0;b<c.length;b++){var w=c[b];w._glBuffers[o]||(w._glBuffers[o]=new mre(a.createBuffer()),this.managedBuffers[w.id]=w,w.disposeRunner.add(this)),w._glBuffers[o].refCount++}return this.activateVao(r,i),this._activeVao=u,l[i.id]=u,l[s]=u,u},t.prototype.disposeBuffer=function(r,i){if(this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var a=r._glBuffers[this.CONTEXT_UID],o=this.gl;r.disposeRunner.remove(this),a&&(i||o.deleteBuffer(a.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(r,i){if(this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var a=r.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=r.buffers;if(r.disposeRunner.remove(this),!!a){for(var l=0;l<s.length;l++){var u=s[l]._glBuffers[this.CONTEXT_UID];u.refCount--,u.refCount===0&&!i&&this.disposeBuffer(s[l],i)}if(!i){for(var c in a)if(c[0]==="g"){var h=a[c];this._activeVao===h&&this.unbind(),o.deleteVertexArray(h)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var i=Object.keys(this.managedGeometries),a=0;a<i.length;a++)this.disposeGeometry(this.managedGeometries[i[a]],r);i=Object.keys(this.managedBuffers);for(var o=0;o<i.length;o++)this.disposeBuffer(this.managedBuffers[i[o]],r)},t.prototype.activateVao=function(r,i){var a=this.gl,o=this.CONTEXT_UID,s=r.buffers,l=r.attributes;r.indexBuffer&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,r.indexBuffer._glBuffers[o].buffer);var u=null;for(var c in l){var h=l[c],f=s[h.buffer],d=f._glBuffers[o];if(i.attributeData[c]){u!==d&&(a.bindBuffer(a.ARRAY_BUFFER,d.buffer),u=d);var v=i.attributeData[c].location;if(a.enableVertexAttribArray(v),a.vertexAttribPointer(v,h.size,h.type||a.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)a.vertexAttribDivisor(v,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,i,a,o){var s=this,l=s.gl,u=this._activeGeometry;if(u.indexBuffer){var c=u.indexBuffer.data.BYTES_PER_ELEMENT,h=c===2?l.UNSIGNED_SHORT:l.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?u.instanced?l.drawElementsInstanced(r,i||u.indexBuffer.data.length,h,(a||0)*c,o||1):l.drawElements(r,i||u.indexBuffer.data.length,h,(a||0)*c):console.warn("unsupported index buffer type: uint32")}else u.instanced?l.drawArraysInstanced(r,a,i||u.getSize(),o||1):l.drawArrays(r,a,i||u.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(Di);function KF(e,t,n,r){var i=uC(e,e.VERTEX_SHADER,t),a=uC(e,e.FRAGMENT_SHADER,n),o=e.createProgram();if(e.attachShader(o,i),e.attachShader(o,a),r)for(var s in r)e.bindAttribLocation(o,r[s],s);return e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(o,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),e.getProgramInfoLog(o)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(o)),e.deleteProgram(o),o=null),e.deleteShader(i),e.deleteShader(a),o}function uC(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.warn(n),console.error(e.getShaderInfoLog(r)),null)}function qF(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return Vy(2*t);case"bvec3":return Vy(3*t);case"bvec4":return Vy(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Vy(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}var ZF={},Cv=ZF;function QF(){if(Cv===ZF||Cv.isContextLost()){var e=document.createElement("canvas"),t;Ut.PREFER_ENV>=nu.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Cv=t}return Cv}var Tv;function bre(){if(!Tv){Tv=Ls.MEDIUM;var e=QF();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Tv=t.precision?Ls.HIGH:Ls.MEDIUM}}return Tv}function cC(e,t,n){if(e.substring(0,9)!=="precision"){var r=t;return t===Ls.HIGH&&n!==Ls.HIGH&&(r=Ls.MEDIUM),"precision "+r+` float;
`+e}else if(n!==Ls.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var wre={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xre(e){return wre[e]}var Pv=null,fC={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function JF(e,t){if(!Pv){var n=Object.keys(fC);Pv={};for(var r=0;r<n.length;++r){var i=n[r];Pv[e[i]]=fC[i]}}return Pv[t]}var _re={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Sre={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Ere(e,t){var n=0,r=`var v = null;
    var cv = null
    var gl = renderer.gl`;for(var i in e.uniforms){var a=t[i];if(!a){e.uniforms[i].group&&(r+=`
                    renderer.shader.syncUniformGroup(uv.`+i+`);
                `);continue}if(a.type==="float"&&a.size===1)r+=`
            if(uv.`+i+" !== ud."+i+`.value)
            {
                ud.`+i+".value = uv."+i+`
                gl.uniform1f(ud.`+i+".location, uv."+i+`)
            }
`;else if((a.type==="sampler2D"||a.type==="samplerCube"||a.type==="sampler2DArray")&&a.size===1&&!a.isArray)r+=`
            renderer.texture.bind(uv.`+i+", "+n+`);

            if(ud.`+i+".value !== "+n+`)
            {
                ud.`+i+".value = "+n+`;
                gl.uniform1i(ud.`+i+".location, "+n+`);
; // eslint-disable-line max-len
            }
`,n++;else if(a.type==="mat3"&&a.size===1)e.uniforms[i].a!==void 0?r+=`
                gl.uniformMatrix3fv(ud.`+i+".location, false, uv."+i+`.toArray(true));
                
`:r+=`
                gl.uniformMatrix3fv(ud.`+i+".location, false, uv."+i+`);
                
`;else if(a.type==="vec2"&&a.size===1)e.uniforms[i].x!==void 0?r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud.`+i+`.location, v.x, v.y);
                }
`:r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud.`+i+`.location, v[0], v[1]);
                }
                
`;else if(a.type==="vec4"&&a.size===1)e.uniforms[i].width!==void 0?r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud.`+i+`.location, v.x, v.y, v.width, v.height)
                }
`:r+=`
                cv = ud.`+i+`.value;
                v = uv.`+i+`;

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud.`+i+`.location, v[0], v[1], v[2], v[3])
                }
                
`;else{var o=a.size===1?_re:Sre,s=o[a.type].replace("location","ud."+i+".location");r+=`
            cv = ud.`+i+`.value;
            v = uv.`+i+`;
            `+s+`;
`}}return new Function("ud","uv","renderer",r)}var Are=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Cre(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=Are.replace(/%forloop%/gi,Tre(e));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))e=e/2|0;else break}return e}function Tre(e){for(var t="",n=0;n<e;++n)n>0&&(t+=`
else `),n<e-1&&(t+="if(test == "+n+".0){}");return t}var Rf;function Pre(){if(typeof Rf=="boolean")return Rf;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Rf=e({a:"b"},"a","b")===!0}catch{Rf=!1}return Rf}var Ore=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Ire=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Mre=0,Ov={},as=function e(t,n,r){r===void 0&&(r="pixi-shader"),this.id=Mre++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Ov[r]?(Ov[r]++,r+="-"+Ov[r]):Ov[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=cC(this.vertexSrc,Ut.PRECISION_VERTEX,Ls.HIGH),this.fragmentSrc=cC(this.fragmentSrc,Ut.PRECISION_FRAGMENT,bre())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},F_={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};as.prototype.extractData=function(t,n){var r=QF();if(r){var i=KF(r,t,n);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}};as.prototype.getAttributeData=function(t,n){for(var r={},i=[],a=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES),o=0;o<a;o++){var s=n.getActiveAttrib(t,o),l=JF(n,s.type),u={type:l,name:s.name,size:xre(l),location:0};r[s.name]=u,i.push(u)}i.sort(function(h,f){return h.name>f.name?1:-1});for(var c=0;c<i.length;c++)i[c].location=c;return r};as.prototype.getUniformData=function(t,n){for(var r={},i=n.getProgramParameter(t,n.ACTIVE_UNIFORMS),a=0;a<i;a++){var o=n.getActiveUniform(t,a),s=o.name.replace(/\[.*?\]/,""),l=o.name.match(/\[.*?\]/,""),u=JF(n,o.type);r[s]={type:u,size:o.size,isArray:l,value:qF(u,o.size)}}return r};F_.defaultVertexSrc.get=function(){return Ire};F_.defaultFragmentSrc.get=function(){return Ore};as.from=function(t,n,r){var i=t+n,a=iC[i];return a||(iC[i]=a=new as(t,n,r)),a};Object.defineProperties(as,F_);var ya=function(t,n){this.program=t,n?n instanceof zi?this.uniformGroup=n:this.uniformGroup=new zi(n):this.uniformGroup=new zi({});for(var r in t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},ek={uniforms:{configurable:!0}};ya.prototype.checkUniformExists=function(t,n){if(n.uniforms[t])return!0;for(var r in n.uniforms){var i=n.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1};ya.prototype.destroy=function(){this.uniformGroup=null};ek.uniforms.get=function(){return this.uniformGroup.uniforms};ya.from=function(t,n,r){var i=as.from(t,n);return new ya(i,r)};Object.defineProperties(ya.prototype,ek);var Ub=0,Vb=1,$b=2,zb=3,jb=4,os=function(){this.data=0,this.blendMode=Lt.NORMAL,this.polygonOffset=0,this.blend=!0},vi={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};vi.blend.get=function(){return!!(this.data&1<<Ub)};vi.blend.set=function(e){!!(this.data&1<<Ub)!==e&&(this.data^=1<<Ub)};vi.offsets.get=function(){return!!(this.data&1<<Vb)};vi.offsets.set=function(e){!!(this.data&1<<Vb)!==e&&(this.data^=1<<Vb)};vi.culling.get=function(){return!!(this.data&1<<$b)};vi.culling.set=function(e){!!(this.data&1<<$b)!==e&&(this.data^=1<<$b)};vi.depthTest.get=function(){return!!(this.data&1<<zb)};vi.depthTest.set=function(e){!!(this.data&1<<zb)!==e&&(this.data^=1<<zb)};vi.clockwiseFrontFace.get=function(){return!!(this.data&1<<jb)};vi.clockwiseFrontFace.set=function(e){!!(this.data&1<<jb)!==e&&(this.data^=1<<jb)};vi.blendMode.get=function(){return this._blendMode};vi.blendMode.set=function(e){this.blend=e!==Lt.NONE,this._blendMode=e};vi.polygonOffset.get=function(){return this._polygonOffset};vi.polygonOffset.set=function(e){this.offsets=!!e,this._polygonOffset=e};os.for2d=function(){var t=new os;return t.depthTest=!1,t.blend=!0,t};Object.defineProperties(os.prototype,vi);var Dre=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Fre=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,tk=function(e){function t(i,a,o){var s=as.from(i||t.defaultVertexSrc,a||t.defaultFragmentSrc);e.call(this,s,o),this.padding=0,this.resolution=Ut.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new os}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return t.prototype.apply=function(a,o,s,l,u){a.applyFilter(this,o,s,l,u)},n.blendMode.get=function(){return this.state.blendMode},n.blendMode.set=function(i){this.state.blendMode=i},r.defaultVertexSrc.get=function(){return Dre},r.defaultFragmentSrc.get=function(){return Fre},Object.defineProperties(t.prototype,n),Object.defineProperties(t,r),t}(ya);tk.SOURCE_KEY_MAP={};var kre=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Bre=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,hC=new ln,s0=function(t,n){this._texture=t,this.mapCoord=new ln,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1},k_={texture:{configurable:!0}};k_.texture.get=function(){return this._texture};k_.texture.set=function(e){this._texture=e,this._updateID=-1};s0.prototype.multiplyUvs=function(t,n){n===void 0&&(n=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var a=t[i],o=t[i+1];n[i]=a*r.a+o*r.c+r.tx,n[i+1]=a*r.b+o*r.d+r.ty}return n};s0.prototype.update=function(t){var n=this._texture;if(!n||!n.valid||!t&&this._updateID===n._updateID)return!1;this._updateID=n._updateID;var r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=n.orig,a=n.trim;a&&(hC.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(hC));var o=n.baseTexture,s=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(n._frame.x+l+u)/o.width,s[1]=(n._frame.y+l+u)/o.height,s[2]=(n._frame.x+n._frame.width-l+u)/o.width,s[3]=(n._frame.y+n._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0};Object.defineProperties(s0.prototype,k_);var Rre=function(e){function t(n){var r=new ln;e.call(this,kre,Bre),n.renderable=!1,this.maskSprite=n,this.maskMatrix=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(r,i,a,o){var s=this.maskSprite,l=this.maskSprite.texture;l.valid&&(l.transform||(l.transform=new s0(l,0)),l.transform.update(),this.uniforms.npmAlpha=l.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=l,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,s).prepend(l.transform.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=l.transform.uClampFrame,r.applyFilter(this,i,a,o))},t}(tk),Lre=function(e){function t(n){e.call(this,n),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(r,i){if(i.isSprite)this.pushSpriteMask(r,i);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&i.isFastRect()){var a=i.worldTransform,o=Math.atan2(a.b,a.a);o=Math.round(o*(180/Math.PI)),o%90?this.pushStencilMask(i):this.pushScissorMask(r,i)}else this.pushStencilMask(i)},t.prototype.pop=function(r,i){i.isSprite?this.popSpriteMask(r,i):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(r,i):this.popStencilMask(r,i)},t.prototype.pushSpriteMask=function(r,i){var a=this.alphaMaskPool[this.alphaMaskIndex];a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new Rre(i)]),a[0].resolution=this.renderer.resolution,a[0].maskSprite=i;var o=r.filterArea;r.filterArea=i.getBounds(!0),this.renderer.filter.push(r,a),r.filterArea=o,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(r){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(r)},t.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},t.prototype.pushScissorMask=function(r,i){i.renderable=!0;var a=this.renderer._activeRenderTarget,o=i.getBounds();o.fit(a.size),i.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var s=this.renderer.resolution;this.renderer.gl.scissor(o.x*s,(a.root?a.size.height-o.y-o.height:o.y)*s,o.width*s,o.height*s),this.scissorRenderTarget=a,this.scissorData=i,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var r=this.renderer,i=r.gl;i.disable(i.SCISSOR_TEST)},t}(Di),Nre=function(e){function t(n){e.call(this,n),this.stencilMaskStack=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setMaskStack=function(r){var i=this.renderer.gl,a=this.stencilMaskStack.length;this.stencilMaskStack=r,r.length!==a&&(r.length===0?i.disable(i.STENCIL_TEST):(i.enable(i.STENCIL_TEST),this._useCurrent()))},t.prototype.pushStencil=function(r){var i=this.renderer.gl,a=this.stencilMaskStack.length;a===0&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),this.stencilMaskStack.push(r),i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},t.prototype.popStencil=function(){var r=this.renderer.gl,i=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(r.disable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.clearStencil(0)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){e.prototype.destroy.call(this,this),this.stencilMaskStack=null},t}(Di),Ure=function(e){function t(n){e.call(this,n),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ln,this.transform=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(r,i,a,o){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,a,o),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,i,a,o){var s=this.projectionMatrix;o?(s.a=1/r.width*2*a,s.d=-1/r.height*2*a,s.tx=-1-i.x*s.a,s.ty=1-i.y*s.d):(s.a=1/r.width*2*a,s.d=1/r.height*2*a,s.tx=-1-i.x*s.a,s.ty=-1-i.y*s.d)},t.prototype.setTransform=function(){},t}(Di),Yu=new tn,Vre=function(e){function t(n){e.call(this,n),this.clearColor=n._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new tn,this.destinationFrame=new tn}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(r,i,a){r===void 0&&(r=null),this.current=r;var o=this.renderer,s;if(r){var l=r.baseTexture;s=l.resolution,a||(Yu.width=l.realWidth,Yu.height=l.realHeight,a=Yu),i||(i=a),this.renderer.framebuffer.bind(l.framebuffer,a),this.renderer.projection.update(a,i,s,!1),this.renderer.stencil.setMaskStack(l.stencilMaskStack)}else s=this.renderer.resolution,a||(Yu.width=o.width,Yu.height=o.height,a=Yu),i||(i=a),o.framebuffer.bind(null,a),this.renderer.projection.update(a,i,s,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(i),this.destinationFrame.x=a.x/s,this.destinationFrame.y=a.y/s,this.destinationFrame.width=a.width/s,this.destinationFrame.height=a.height/s,i===a&&this.sourceFrame.copyFrom(this.destinationFrame)},t.prototype.clear=function(r){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor,this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3])},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(Di),nk=function(t,n){this.program=t,this.uniformData=n,this.uniformGroups={}};nk.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var $re=0,zre=function(e){function t(n){e.call(this,n),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=$re++}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.systemCheck=function(){if(!Pre())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,i){r.uniforms.globals=this.renderer.globalUniforms;var a=r.program,o=a.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(r);return this.shader=r,this.program!==a&&(this.program=a,this.gl.useProgram(o.program)),i||this.syncUniformGroup(r.uniformGroup),o},t.prototype.setUniforms=function(r){var i=this.shader.program,a=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(a.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r){var i=this.getglProgram();(!r.static||r.dirtyId!==i.uniformGroups[r.id])&&(i.uniformGroups[r.id]=r.dirtyId,this.syncUniforms(r,i))},t.prototype.syncUniforms=function(r,i){var a=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);a(i.uniformData,r.uniforms,this.renderer)},t.prototype.createSyncGroups=function(r){var i=this.getSignature(r,this.shader.program.uniformData);return this.cache[i]||(this.cache[i]=Ere(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[i],r.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(r,i){var a=r.uniforms,o=[];for(var s in a)o.push(s),i[s]&&o.push(i[s].type);return o.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(r){var i=this.gl,a=r.program,o={};for(var s in a.attributeData)o[s]=a.attributeData[s].location;var l=KF(i,a.vertexSrc,a.fragmentSrc,o),u={};for(var c in a.uniformData){var h=a.uniformData[c];u[c]={location:i.getUniformLocation(l,c),value:qF(h.type,h.size)}}var f=new nk(l,u);return a.glPrograms[this.renderer.CONTEXT_UID]=f,f},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(Di);function jre(e,t){return t===void 0&&(t=[]),t[Lt.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.ADD]=[e.ONE,e.ONE],t[Lt.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.NONE]=[0,0],t[Lt.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Lt.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Lt.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Lt.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Lt.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Lt.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Lt.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Lt.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Lt.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Lt.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var Hre=0,Gre=1,Yre=2,Xre=3,Wre=4,Kre=function(e){function t(n){e.call(this,n),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Lt.NONE,this._blendEq=!1,this.map=[],this.map[Hre]=this.setBlend,this.map[Gre]=this.setOffset,this.map[Yre]=this.setCullFace,this.map[Xre]=this.setDepthTest,this.map[Wre]=this.setFrontFace,this.checks=[],this.defaultState=new os,this.defaultState.blend=!0,this.defaultState.depth=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(r){this.gl=r,this.blendModes=jre(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var i=this.stateId^r.data,a=0;i;)i&1&&this.map[a].call(this,!!(r.data&1<<a)),i=i>>1,a++;this.stateId=r.data}for(var o=0;o<this.checks.length;o++)this.checks[o](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var i=0;i<this.map.length;i++)this.map[i].call(this,!!(r.data&1<<i));for(var a=0;a<this.checks.length;a++)this.checks[a](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var i=this.blendModes[r],a=this.gl;i.length===2?a.blendFunc(i[0],i[1]):a.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,a.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,i){this.gl.polygonOffset(r,i)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,i){var a=this.checks.indexOf(r);i&&a===-1?this.checks.push(r):!i&&a!==-1&&this.checks.splice(a,1)},t.checkBlendMode=function(r,i){r.setBlendMode(i.blendMode)},t.checkPolygonOffset=function(r,i){r.setPolygonOffset(i.polygonOffset,0)},t}(Di),qre=function(e){function t(n){e.call(this,n),this.count=0,this.checkCount=0,this.maxIdle=Ut.GC_MAX_IDLE,this.checkCountMax=Ut.GC_MAX_CHECK_COUNT,this.mode=Ut.GC_MODE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postrender=function(){this.count++,this.mode!==Fne.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var r=this.renderer.texture,i=r.managedTextures,a=!1,o=0;o<i.length;o++){var s=i[o];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(r.destroyTexture(s,!0),i[o]=null,a=!0)}if(a){for(var l=0,u=0;u<i.length;u++)i[u]!==null&&(i[l++]=i[u]);i.length=l}},t.prototype.unload=function(r){var i=this.renderer.textureSystem;r._texture&&r._texture._glRenderTargets&&i.destroyTexture(r._texture);for(var a=r.children.length-1;a>=0;a--)this.unload(r.children[a])},t}(Di),$y=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Zre=function(e){function t(n){e.call(this,n),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new $n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var i=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var a=0;a<i;a++)this.boundTextures[a]=null;this.emptyTextures={};var o=new $y(r.createTexture());r.bindTexture(r.TEXTURE_2D,o.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=o,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new $y(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var s=0;s<6;s++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var l=0;l<this.boundTextures.length;l++)this.bind(null,l)},t.prototype.bind=function(r,i){i===void 0&&(i=0);var a=this,o=a.gl;if(r){if(r=r.baseTexture||r,r.valid){r.touched=this.renderer.textureGC.count;var s=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.currentLocation!==i&&(this.currentLocation=i,o.activeTexture(o.TEXTURE0+i)),this.boundTextures[i]!==r&&o.bindTexture(r.target,s.texture),s.dirtyId!==r.dirtyId&&this.updateTexture(r),this.boundTextures[i]=r}}else this.currentLocation!==i&&(this.currentLocation=i,o.activeTexture(o.TEXTURE0+i)),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[o.TEXTURE_2D].texture),this.boundTextures[i]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var i=this,a=i.gl,o=i.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<o.length;s++)o[s]===this.unknownTexture&&this.bind(null,s)}for(var l=0;l<o.length;l++)o[l]===r&&(this.currentLocation!==l&&(a.activeTexture(a.TEXTURE0+l),this.currentLocation=l),a.bindTexture(a.TEXTURE_2D,this.emptyTextures[r.target].texture),o[l]=null)},t.prototype.initTexture=function(r){var i=new $y(this.gl.createTexture());return i.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),i},t.prototype.initTextureType=function(r,i){if(i.internalFormat=r.format,i.type=r.type,this.webGLVersion===2){var a=this.renderer.gl;r.type===a.FLOAT&&r.format===a.RGBA&&(i.internalFormat=a.RGBA32F),r.type===oi.HALF_FLOAT&&(i.type=a.HALF_FLOAT),i.type===a.HALF_FLOAT&&r.format===a.RGBA&&(i.internalFormat=a.RGBA16F)}},t.prototype.updateTexture=function(r){var i=r._glTextures[this.CONTEXT_UID];if(i){var a=this.renderer;if(this.initTextureType(r,i),!(r.resource&&r.resource.upload(a,r,i))){var o=r.realWidth,s=r.realHeight,l=a.gl;(i.width!==o||i.height!==s||i.dirtyId<0)&&(i.width=o,i.height=s,l.texImage2D(r.target,0,i.internalFormat,o,s,0,r.format,i.type,null))}r.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(r),i.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,i){var a=this,o=a.gl;if(r=r.baseTexture||r,r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),o.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!i)){var s=this.managedTextures.indexOf(r);s!==-1&&xc(this.managedTextures,s,1)}},t.prototype.updateTextureStyle=function(r){var i=r._glTextures[this.CONTEXT_UID];i&&((r.mipmap===Dne.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?(i.mipmap=0,i.wrapMode=mh.CLAMP):(i.mipmap=r.mipmap>=1,i.wrapMode=r.wrapMode),r.resource&&r.resource.style(this.renderer,r,i)||this.setStyle(r,i),i.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,i){var a=this.gl;if(i.mipmap&&a.generateMipmap(r.target),a.texParameteri(r.target,a.TEXTURE_WRAP_S,i.wrapMode),a.texParameteri(r.target,a.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){a.texParameteri(r.target,a.TEXTURE_MIN_FILTER,r.scaleMode?a.LINEAR_MIPMAP_LINEAR:a.NEAREST_MIPMAP_NEAREST);var o=this.renderer.context.extensions.anisotropicFiltering;if(o&&r.anisotropicLevel>0&&r.scaleMode===MF.LINEAR){var s=Math.min(r.anisotropicLevel,a.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));a.texParameterf(r.target,o.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else a.texParameteri(r.target,a.TEXTURE_MIN_FILTER,r.scaleMode?a.LINEAR:a.NEAREST);a.texParameteri(r.target,a.TEXTURE_MAG_FILTER,r.scaleMode?a.LINEAR:a.NEAREST)},t}(Di),zy=new ln,Qre=function(e){function t(r,i){e.call(this),i=Object.assign({},Ut.RENDER_OPTIONS,i),i.roundPixels&&(Ut.ROUND_PIXELS=i.roundPixels,Hne("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=Rb.UNKNOWN,this.screen=new tn(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||Ut.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new yn,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return t.prototype.initPlugins=function(i){for(var a in i)this.plugins[a]=new i[a](this)},n.width.get=function(){return this.view.width},n.height.get=function(){return this.view.height},t.prototype.resize=function(i,a){this.screen.width=i,this.screen.height=a,this.view.width=i*this.resolution,this.view.height=a*this.resolution,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px")},t.prototype.generateTexture=function(i,a,o,s){s=s||i.getLocalBounds(),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var l=cf.create(s.width|0,s.height|0,a,o);return zy.tx=-s.x,zy.ty=-s.y,this.render(i,l,!1,zy,!!i.parent),l},t.prototype.destroy=function(i){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;i&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=Rb.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n.backgroundColor.get=function(){return this._backgroundColor},n.backgroundColor.set=function(r){this._backgroundColor=r,this._backgroundColorString=DF(r),zg(r,this._backgroundColorRgba)},Object.defineProperties(t.prototype,n),t}(mu),Ya=function(e){function t(n){n===void 0&&(n={}),e.call(this,"WebGL",n),n=this.options,this.type=Rb.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new In("destroy"),contextChange:new In("contextChange"),reset:new In("reset"),update:new In("update"),postrender:new In("postrender"),prerender:new In("prerender"),resize:new In("resize")},this.globalUniforms=new zi({projectionMatrix:new ln},!0),this.addSystem(Lre,"mask").addSystem(pre,"context").addSystem(Kre,"state").addSystem(zre,"shader").addSystem(Zre,"texture").addSystem(yre,"geometry").addSystem(gre,"framebuffer").addSystem(Nre,"stencil").addSystem(Ure,"projection").addSystem(qre,"textureGC").addSystem(dre,"filter").addSystem(Vre,"renderTexture").addSystem(vre,"batch"),this.initPlugins(t.__plugins),n.context?this.context.initFromContext(n.context):this.context.initFromOptions({alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&this.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,kne(this.context.webGLVersion===2?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(r){if(Bne())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(r,i){i||(i=r.name);var a=new r(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');this[i]=a;for(var o in this.runners)this.runners[o].add(a);return this},t.prototype.render=function(r,i,a,o,s){if(this.renderingToScreen=!i,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var l=r.parent;r.parent=this._tempDisplayObjectParent,r.updateTransform(),r.parent=l}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(r,i){e.prototype.resize.call(this,r,i),this.runners.resize.run(r,i)},t.prototype.reset=function(){return this.runners.reset.run(),this},t.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},t.prototype.destroy=function(r){this.runners.destroy.run();for(var i in this.runners)this.runners[i].destroy();e.prototype.destroy.call(this,r),this.gl=null},t.registerPlugin=function(r,i){t.__plugins=t.__plugins||{},t.__plugins[r]=i},t}(Qre);function Jre(e){return Ya.create(e)}var Hb=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},Cd=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},ff={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};ff.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View};ff.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View};ff.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View};ff.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View};ff.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View};Cd.prototype.view=function(t){return this[t+"View"]};Cd.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null};Cd.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}};Object.defineProperties(Cd.prototype,ff);var eie=function(e){function t(n){e.call(this,n),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=os.for2d(),this.size=2e3*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._drawCalls=[];for(var r=0;r<this.size/4;r++)this._drawCalls[r]=new Hb;this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),n.runners.contextChange.add(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var r=this.renderer.gl;Ut.PREFER_ENV===nu.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Ut.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Cre(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){r._texture.valid&&(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedElements[this._bufferSize++]=r)},t.prototype.flush=function(){if(this._vertexCount!==0){var r=this.getAttributeBuffer(this._vertexCount),i=this.getIndexBuffer(this._indexCount),a=this.renderer.gl,o=this,s=o._bufferedElements,l=o._drawCalls,u=o.MAX_TEXTURES,c=o._packedGeometries,h=o.vertexSize,f=this.renderer.textureGC.count,d=0,v=0,g,p,y=0,m=l[0],b=0,w=-1;m.textureCount=0,m.start=0,m.blend=w;var x=++$n._globalBatch,_;for(_=0;_<this._bufferSize;++_){var S=s[_];s[_]=null,g=S._texture.baseTexture;var P=FF[g.premultiplyAlpha?1:0][S.blendMode];w!==P&&(w=P,p=null,y=u,x++),p!==g&&(p=g,g._batchEnabled!==x&&(y===u&&(x++,y=0,m.size=v-m.start,m=l[b++],m.textureCount=0,m.blend=w,m.start=v),g.touched=f,g._batchEnabled=x,g._id=y,m.textures[m.textureCount++]=g,y++)),this.packInterleavedGeometry(S,r,i,d,v),d+=S.vertexData.length/2*h,v+=S.indices.length}$n._globalBatch=x,m.size=v-m.start,Ut.CAN_UPLOAD_SAME_BUFFER?(c[this._flushId]._buffer.update(r.rawBinaryData,0),c[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,c[this._flushId]=new this.geometryClass),c[this._flushId]._buffer.update(r.rawBinaryData,0),c[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.bind(c[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++);var C=this.renderer.texture,D=this.renderer.state;for(_=0;_<b;_++){for(var T=l[_],B=T.textureCount,I=0;I<B;I++)C.bind(T.textures[I],I),T.textures[I]=null;D.setBlendMode(T.blend),a.drawElements(T.type,T.size,a.UNSIGNED_SHORT,T.start*2)}this._bufferSize=0,this._vertexCount=0,this._indexCount=0}},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Ut.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._drawCalls=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var i=jg(Math.ceil(r/8)),a=rC(i),o=i*8;this._aBuffers.length<=a&&(this._iBuffers.length=a+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new Cd(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(r){var i=jg(Math.ceil(r/12)),a=rC(i),o=i*12;this._iBuffers.length<=a&&(this._iBuffers.length=a+1);var s=this._iBuffers[a];return s||(this._iBuffers[a]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(r,i,a,o,s){for(var l=i.uint32View,u=i.float32View,c=o/this.vertexSize,h=r.uvs,f=r.indices,d=r.vertexData,v=r._texture.baseTexture._id,g=Math.min(r.worldAlpha,1),p=g<1&&r._texture.baseTexture.premultiplyAlpha?E_(r._tintRGB,g):r._tintRGB+(g*255<<24),y=0;y<d.length;y+=2)u[o++]=d[y],u[o++]=d[y+1],u[o++]=h[y],u[o++]=h[y+1],l[o++]=p,u[o++]=v;for(var m=0;m<f.length;m++)a[s++]=c+f[m]},t}(ms),B_=function(t,n){if(this.vertexSrc=t,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};B_.prototype.generateShader=function(t){if(!this.programCache[t]){for(var n=new Int32Array(t),r=0;r<t;r++)n[r]=r;this.defaultGroupCache[t]=zi.from({uSamplers:n},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new as(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ln,default:this.defaultGroupCache[t]};return new ya(this.programCache[t],a)};B_.prototype.generateSampleSrc=function(t){var n="";n+=`
`,n+=`
`;for(var r=0;r<t;r++)r>0&&(n+=`
else `),r<t-1&&(n+="if(vTextureId < "+r+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n};var rk=function(e){function t(n){n===void 0&&(n=!1),e.call(this),this._buffer=new Br(null,n,!1),this._indexBuffer=new Br(null,n,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,oi.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,oi.FLOAT).addAttribute("aColor",this._buffer,4,!0,oi.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,oi.FLOAT).addIndex(this._indexBuffer)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Cr),ik=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,ak=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Td=function(){},R_={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};Td.create=function(t){var n=Object.assign({vertex:ik,fragment:ak,geometryClass:rk,vertexSize:6},t),r=n.vertex,i=n.fragment,a=n.vertexSize,o=n.geometryClass;return function(s){function l(u){s.call(this,u),this.shaderGenerator=new B_(r,i),this.geometryClass=o,this.vertexSize=a}return s&&(l.__proto__=s),l.prototype=Object.create(s&&s.prototype),l.prototype.constructor=l,l}(eie)};R_.defaultVertexSrc.get=function(){return ik};R_.defaultFragmentTemplate.get=function(){return ak};Object.defineProperties(Td,R_);var tie=Td.create();/*!
 * @pixi/extract - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ok=new tn,sk=4,ss=function(t){this.renderer=t,t.extract=this};ss.prototype.image=function(t,n,r){var i=new Image;return i.src=this.base64(t,n,r),i};ss.prototype.base64=function(t,n,r){return this.canvas(t).toDataURL(n,r)};ss.prototype.canvas=function(t){var n=this.renderer,r,i,a=!1,o,s=!1;t&&(t instanceof cf?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(r=o.baseTexture.resolution,i=o.frame,a=!1,n.renderTexture.bind(o)):(r=this.renderer.resolution,a=!0,i=ok,i.width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var l=Math.floor(i.width*r),u=Math.floor(i.height*r),c=new xd(l,u,1),h=new Uint8Array(sk*l*u),f=n.gl;f.readPixels(i.x*r,i.y*r,l,u,f.RGBA,f.UNSIGNED_BYTE,h);var d=c.context.getImageData(0,0,l,u);return ss.arrayPostDivide(h,d.data),c.context.putImageData(d,0,0),a&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-u)),s&&o.destroy(!0),c.canvas};ss.prototype.pixels=function(t){var n=this.renderer,r,i,a,o=!1;t&&(t instanceof cf?a=t:(a=this.renderer.generateTexture(t),o=!0)),a?(r=a.baseTexture.resolution,i=a.frame,n.renderTexture.bind(a)):(r=n.resolution,i=ok,i.width=n.width,i.height=n.height,n.renderTexture.bind(null));var s=i.width*r,l=i.height*r,u=new Uint8Array(sk*s*l),c=n.gl;return c.readPixels(i.x*r,i.y*r,s,l,c.RGBA,c.UNSIGNED_BYTE,u),o&&a.destroy(!0),ss.arrayPostDivide(u,u),u};ss.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};ss.arrayPostDivide=function(t,n){for(var r=0;r<t.length;r+=4){var i=n[r+3]=t[r+3];i!==0?(n[r]=Math.round(Math.min(t[r]*255/i,255)),n[r+1]=Math.round(Math.min(t[r+1]*255/i,255)),n[r+2]=Math.round(Math.min(t[r+2]*255/i,255))):(n[r]=t[r],n[r+1]=t[r+1],n[r+2]=t[r+2])}};/*!
 * @pixi/interaction - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xc=function(){this.global=new Yn,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},lk={pointerId:{configurable:!0}};lk.pointerId.get=function(){return this.identifier};Xc.prototype.getLocalPosition=function(t,n,r){return t.worldTransform.applyInverse(r||this.global,n)};Xc.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0};Xc.prototype.reset=function(){this.isPrimary=!1};Object.defineProperties(Xc.prototype,lk);var L_=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};L_.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget};L_.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var _c=function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE},Xa={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};_c.prototype._doSet=function(t,n){n?this._flags=this._flags|t:this._flags=this._flags&~t};Xa.pointerId.get=function(){return this._pointerId};Xa.flags.get=function(){return this._flags};Xa.flags.set=function(e){this._flags=e};Xa.none.get=function(){return this._flags===this.constructor.FLAGS.NONE};Xa.over.get=function(){return(this._flags&this.constructor.FLAGS.OVER)!==0};Xa.over.set=function(e){this._doSet(this.constructor.FLAGS.OVER,e)};Xa.rightDown.get=function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0};Xa.rightDown.set=function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)};Xa.leftDown.get=function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0};Xa.leftDown.set=function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)};Object.defineProperties(_c.prototype,Xa);_c.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var nie={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ar.mixin(nie);var Iv=1,Mv={target:null,data:{global:null}},rie=function(e){function t(n,r){e.call(this),r=r||{},this.renderer=n,this.autoPreventDefault=r.autoPreventDefault!==void 0?r.autoPreventDefault:!0,this.interactionFrequency=r.interactionFrequency||10,this.mouse=new Xc,this.mouse.identifier=Iv,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[Iv]=this.mouse,this.interactionDataPool=[],this.eventData=new L_,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new Yn,this.resolution=1,this.delayedEvents=[],this.setTargetElement(this.renderer.view,this.renderer.resolution)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hitTest=function(r,i){return Mv.target=null,Mv.data.global=r,i||(i=this.renderer._lastObjectRendered),this.processInteractive(Mv,i,null,!0),Mv.target},t.prototype.setTargetElement=function(r,i){i===void 0&&(i=1),this.removeEvents(),this.interactionDOMElement=r,this.resolution=i,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(dn.system.add(this.update,this,lf.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(dn.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(r){if(this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var i in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(i)){var a=this.activeInteractionData[i];if(a.originalEvent&&a.pointerType!=="touch"){var o=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a);this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){if(r=r||"default",this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":this.interactionDOMElement.style.cursor=i;break;case"function":i(r);break;case"object":Object.assign(this.interactionDOMElement.style,i);break}else typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,i,a){(!a.stopPropagationHint||r===a.stopsPropagatingAt)&&(a.currentTarget=r,a.type=i,r.emit(i,a),r[i]&&r[i](a))},t.prototype.delayDispatchEvent=function(r,i,a){this.delayedEvents.push({displayObject:r,eventString:i,eventData:a})},t.prototype.mapPositionToPoint=function(r,i,a){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:0,height:0};var s=1/this.resolution;r.x=(i-o.left)*(this.interactionDOMElement.width/o.width)*s,r.y=(a-o.top)*(this.interactionDOMElement.height/o.height)*s},t.prototype.processInteractive=function(r,i,a,o,s,l){if(!i||!i.visible)return!1;var u=r.data.global;s=i.interactive||s;var c=!1,h=s,f=!0;if(i.hitArea?(o&&(i.worldTransform.applyInverse(u,this._tempPoint),i.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?c=!0:(o=!1,f=!1)),h=!1):i._mask&&o&&(i._mask.containsPoint&&i._mask.containsPoint(u)||(o=!1)),f&&i.interactiveChildren&&i.children)for(var d=i.children,v=d.length-1;v>=0;v--){var g=d[v],p=this.processInteractive(r,g,a,o,h,!0);if(p){if(!g.parent)continue;h=!1,p&&(r.target&&(o=!1),c=!0)}}s&&(o&&!r.target&&!i.hitArea&&i.containsPoint&&i.containsPoint(u)&&(c=!0),i.interactive&&(c&&!r.target&&(r.target=i),a&&a(r,i,!!c)));var y=this.delayedEvents;if(y.length&&!l){r.stopPropagationHint=!1;var m=y.length;this.delayedEvents=[];for(var b=0;b<m;b++){var w=y[b],x=w.displayObject,_=w.eventString,S=w.eventData;S.stopsPropagatingAt===x&&(S.stopPropagationHint=!0),this.dispatchEvent(x,_,S)}}return c},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);if(this.autoPreventDefault&&i[0].isNormalized){var a=r.cancelable||!("cancelable"in r);a&&r.preventDefault()}for(var o=i.length,s=0;s<o;s++){var l=i[s],u=this.getInteractionDataForPointerId(l),c=this.configureInteractionEventForDOMEvent(this.eventData,l,u);if(c.data.originalEvent=r,this.processInteractive(c,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),l.pointerType==="touch")this.emit("touchstart",c);else if(l.pointerType==="mouse"||l.pointerType==="pen"){var h=l.button===2;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,i,a){var o=r.data,s=r.data.identifier;if(a){if(i.trackedPointers[s]||(i.trackedPointers[s]=new _c(s)),this.dispatchEvent(i,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(i,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var l=o.button===2;l?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,l?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,i,a){for(var o=this.normalizeToPointerData(r),s=o.length,l=r.target!==this.interactionDOMElement?"outside":"",u=0;u<s;u++){var c=o[u],h=this.getInteractionDataForPointerId(c),f=this.configureInteractionEventForDOMEvent(this.eventData,c,h);if(f.data.originalEvent=r,this.processInteractive(f,this.renderer._lastObjectRendered,a,i||!l),this.emit(i?"pointercancel":"pointerup"+l,f),c.pointerType==="mouse"||c.pointerType==="pen"){var d=c.button===2;this.emit(d?"rightup"+l:"mouseup"+l,f)}else c.pointerType==="touch"&&(this.emit(i?"touchcancel":"touchend"+l,f),this.releaseInteractionDataForPointerId(c.pointerId,h))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,i){var a=r.data,o=r.data.identifier;i.trackedPointers[o]!==void 0&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",r),a.pointerType==="touch"&&this.dispatchEvent(i,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,i,a){var o=r.data,s=r.data.identifier,l=i.trackedPointers[s],u=o.pointerType==="touch",c=o.pointerType==="mouse"||o.pointerType==="pen",h=!1;if(c){var f=o.button===2,d=_c.FLAGS,v=f?d.RIGHT_DOWN:d.LEFT_DOWN,g=l!==void 0&&l.flags&v;a?(this.dispatchEvent(i,f?"rightup":"mouseup",r),g&&(this.dispatchEvent(i,f?"rightclick":"click",r),h=!0)):g&&this.dispatchEvent(i,f?"rightupoutside":"mouseupoutside",r),l&&(f?l.rightDown=!1:l.leftDown=!1)}a?(this.dispatchEvent(i,"pointerup",r),u&&this.dispatchEvent(i,"touchend",r),l&&((!c||h)&&this.dispatchEvent(i,"pointertap",r),u&&(this.dispatchEvent(i,"tap",r),l.over=!1))):l&&(this.dispatchEvent(i,"pointerupoutside",r),u&&this.dispatchEvent(i,"touchendoutside",r)),l&&l.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r);(i[0].pointerType==="mouse"||i[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);for(var a=i.length,o=0;o<a;o++){var s=i[o],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);u.data.originalEvent=r,this.processInteractive(u,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),s.pointerType==="touch"&&this.emit("touchmove",u),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mousemove",u)}i[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,i,a){var o=r.data,s=o.pointerType==="touch",l=o.pointerType==="mouse"||o.pointerType==="pen";l&&this.processPointerOverOut(r,i,a),(!this.moveWhenInside||a)&&(this.dispatchEvent(i,"pointermove",r),s&&this.dispatchEvent(i,"touchmove",r),l&&this.dispatchEvent(i,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var i=this.normalizeToPointerData(r),a=i[0];a.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),a.pointerType==="mouse"||a.pointerType==="pen"?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,i,a){var o=r.data,s=r.data.identifier,l=o.pointerType==="mouse"||o.pointerType==="pen",u=i.trackedPointers[s];a&&!u&&(u=i.trackedPointers[s]=new _c(s)),u!==void 0&&(a&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(i,"pointerover",r),l&&this.delayDispatchEvent(i,"mouseover",r)),l&&this.cursor===null&&(this.cursor=i.cursor)):u.over&&(u.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),l&&this.dispatchEvent(i,"mouseout",r),u.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(r){var i=this.normalizeToPointerData(r),a=i[0],o=this.getInteractionDataForPointerId(a),s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=a,a.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(r){var i=r.pointerId,a;return i===Iv||r.pointerType==="mouse"?a=this.mouse:this.activeInteractionData[i]?a=this.activeInteractionData[i]:(a=this.interactionDataPool.pop()||new Xc,a.identifier=i,this.activeInteractionData[i]=a),a.copyEvent(r),a},t.prototype.releaseInteractionDataForPointerId=function(r){var i=this.activeInteractionData[r];i&&(delete this.activeInteractionData[r],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(r,i,a){return r.data=a,this.mapPositionToPoint(a.global,i.clientX,i.clientY),i.pointerType==="touch"&&(i.globalX=a.global.x,i.globalY=a.global.y),a.originalEvent=i,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var i=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var a=0,o=r.changedTouches.length;a<o;a++){var s=r.changedTouches[a];typeof s.button>"u"&&(s.button=r.touches.length?1:0),typeof s.buttons>"u"&&(s.buttons=r.touches.length?1:0),typeof s.isPrimary>"u"&&(s.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof window.PointerEvent))&&(typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=Iv),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0),i.push(r);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(mu);/*!
 * @pixi/graphics - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var N_={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,n){if(n===void 0&&(n=20),!this.adaptive)return n;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Wc=function(){this.reset()};Wc.prototype.clone=function(){var t=new Wc;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t};Wc.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=nn.WHITE,this.matrix=null,this.visible=!1};Wc.prototype.destroy=function(){this.texture=null,this.matrix=null};var Wh=function(t,n,r,i){n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]};Wh.prototype.clone=function(){return new Wh(this.shape,this.fillStyle,this.lineStyle,this.matrix)};Wh.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var uk={build:function(t){var n=t.shape,r=t.points,i=n.x,a=n.y,o,s;if(r.length=0,t.type===kr.CIRC?(o=n.radius,s=n.radius):(o=n.width,s=n.height),!(o===0||s===0)){var l=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));l/=2.3;for(var u=Math.PI*2/l,c=0;c<l;c++)r.push(i+Math.sin(-u*c)*o,a+Math.cos(-u*c)*s);r.push(r[0],r[1])}},triangulate:function(t,n){var r=t.points,i=n.points,a=n.indices,o=i.length/2,s=o;i.push(t.shape.x,t.shape.y);for(var l=0;l<r.length;l+=2)i.push(r[l],r[l+1]),a.push(o++,s,o)}};function dC(e,t){e.lineStyle.native?aie(e,t):iie(e,t)}function iie(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(r.length!==0){var a=e.lineStyle,o=new Yn(r[0],r[1]),s=new Yn(r[r.length-2],r[r.length-1]),l=n.type!==kr.POLY||n.closeStroke,u=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var c=s.x+(o.x-s.x)*.5,h=s.y+(o.y-s.y)*.5;r.unshift(c,h),r.push(c,h)}var f=t.points,d=r.length/2,v=r.length,g=f.length/2,p=a.width/2,y=r[0],m=r[1],b=r[2],w=r[3],x=0,_=0,S=-(m-w),P=y-b,C=0,D=0,T=0,B=0,I=Math.sqrt(S*S+P*P);S/=I,P/=I,S*=p,P*=p;var O=a.alignment,L=(1-O)*2,R=O*2;f.push(y-S*L,m-P*L),f.push(y+S*R,m+P*R);for(var U=1;U<d-1;++U){y=r[(U-1)*2],m=r[(U-1)*2+1],b=r[U*2],w=r[U*2+1],x=r[(U+1)*2],_=r[(U+1)*2+1],S=-(m-w),P=y-b,I=Math.sqrt(S*S+P*P),S/=I,P/=I,S*=p,P*=p,C=-(w-_),D=b-x,I=Math.sqrt(C*C+D*D),C/=I,D/=I,C*=p,D*=p;var $=-P+m-(-P+w),j=-S+b-(-S+y),z=(-S+y)*(-P+w)-(-S+b)*(-P+m),Y=-D+_-(-D+w),Q=-C+b-(-C+x),re=(-C+x)*(-D+w)-(-C+b)*(-D+_),he=$*Q-Y*j;if(Math.abs(he)<.1){he+=10.1,f.push(b-S*L,w-P*L),f.push(b+S*R,w+P*R);continue}var ce=(j*re-Q*z)/he,te=(Y*z-$*re)/he,ee=(ce-b)*(ce-b)+(te-w)*(te-w);ee>196*p*p?(T=S-C,B=P-D,I=Math.sqrt(T*T+B*B),T/=I,B/=I,T*=p,B*=p,f.push(b-T*L,w-B*L),f.push(b+T*R,w+B*R),f.push(b-T*R*L,w-B*L),v++):(f.push(b+(ce-b)*L,w+(te-w)*L),f.push(b-(ce-b)*R,w-(te-w)*R))}y=r[(d-2)*2],m=r[(d-2)*2+1],b=r[(d-1)*2],w=r[(d-1)*2+1],S=-(m-w),P=y-b,I=Math.sqrt(S*S+P*P),S/=I,P/=I,S*=p,P*=p,f.push(b-S*L,w-P*L),f.push(b+S*R,w+P*R);for(var Ue=t.indices,ye=0;ye<v-2;++ye)Ue.push(g,g+1,g+2),g++}}function aie(e,t){var n=0,r=e.shape,i=e.points||r.points,a=r.type!==kr.POLY||r.closeStroke;if(i.length!==0){var o=t.points,s=t.indices,l=i.length/2,u=o.length/2,c=u;for(o.push(i[0],i[1]),n=1;n<l;n++)o.push(i[n*2],i[n*2+1]),s.push(c,c+1),c++;a&&s.push(c,u)}}var ck={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,n){var r=t.points,i=t.holes,a=n.points,o=n.indices;if(r.length>=6){for(var s=[],l=0;l<i.length;l++){var u=i[l];s.push(r.length/2),r=r.concat(u.points)}var c=fF(r,s,2);if(!c)return;for(var h=a.length/2,f=0;f<c.length;f+=3)o.push(c[f]+h),o.push(c[f+1]+h),o.push(c[f+2]+h);for(var d=0;d<r.length;d++)a.push(r[d])}}},oie={build:function(t){var n=t.shape,r=n.x,i=n.y,a=n.width,o=n.height,s=t.points;s.length=0,s.push(r,i,r+a,i,r+a,i+o,r,i+o)},triangulate:function(t,n){var r=t.points,i=n.points,a=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),n.indices.push(a,a+1,a+2,a+1,a+2,a+3)}},sie={build:function(t){var n=t.shape,r=t.points,i=n.x,a=n.y,o=n.width,s=n.height,l=n.radius;r.length=0,Dv(i,a+l,i,a,i+l,a,r),Dv(i+o-l,a,i+o,a,i+o,a+l,r),Dv(i+o,a+s-l,i+o,a+s,i+o-l,a+s,r),Dv(i+l,a+s,i,a+s,i,a+s-l,r)},triangulate:function(t,n){for(var r=t.points,i=n.points,a=n.indices,o=i.length/2,s=fF(r,null,2),l=0,u=s.length;l<u;l+=3)a.push(s[l]+o),a.push(s[l+1]+o),a.push(s[l+2]+o);for(var c=0,h=r.length;c<h;c++)i.push(r[c],r[++c])}};function Xu(e,t,n){var r=t-e;return e+r*n}function Dv(e,t,n,r,i,a,o){o===void 0&&(o=[]);for(var s=20,l=o,u=0,c=0,h=0,f=0,d=0,v=0,g=0,p=0;g<=s;++g)p=g/s,u=Xu(e,n,p),c=Xu(t,r,p),h=Xu(n,i,p),f=Xu(r,a,p),d=Xu(u,h,p),v=Xu(c,f,p),l.push(d,v);return l}var vC=[],Fv=[],Wu=new Yn,ru={};ru[kr.POLY]=ck;ru[kr.CIRC]=uk;ru[kr.ELIP]=uk;ru[kr.RECT]=oie;ru[kr.RREC]=sie;var lie=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},fk=function(e){function t(){e.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Zi,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={bounds:{configurable:!0}};return n.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var i=0;i<this.drawCalls.length;i++)this.drawCalls[i].textures.length=0,Fv.push(this.drawCalls[i]);this.drawCalls.length=0;for(var a=0;a<this.batches.length;a++){var o=this.batches[a];o.start=0,o.attribStart=0,o.style=null,vC.push(o)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(i,a,o,s){var l=new Wh(i,a,o,s);return this.graphicsData.push(l),this.dirty++,this},t.prototype.drawHole=function(i,a){if(!this.graphicsData.length)return null;var o=new Wh(i,null,null,a),s=this.graphicsData[this.graphicsData.length-1];return o.lineStyle=s.lineStyle,s.holes.push(o),this.dirty++,this},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i);for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(i){for(var a=this.graphicsData,o=0;o<a.length;++o){var s=a[o];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(i,Wu):Wu.copyFrom(i),s.shape.contains(Wu.x,Wu.y))){if(s.holes)for(var l=0;l<s.holes.length;l++){var u=s.holes[l];if(u.shape.contains(Wu.x,Wu.y))return!1}return!0}}return!1},t.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty){if(this.graphicsData.length===0){this.batchable=!0;return}if(this.dirty!==this.cacheDirty)for(var i=0;i<this.graphicsData.length;i++){var a=this.graphicsData[i];if(a.fillStyle&&!a.fillStyle.texture.baseTexture.valid||a.lineStyle&&!a.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var o=this.uvs,s=null,l=null,u=0,c=!1;if(this.batches.length>0){s=this.batches[this.batches.length-1];var h=s.style;l=h.texture.baseTexture,u=h.color+h.alpha,c=!!h.native}for(var f=this.shapeIndex;f<this.graphicsData.length;f++){this.shapeIndex++;var d=this.graphicsData[f],v=ru[d.type],g=d.fillStyle,p=d.lineStyle;v.build(d),d.matrix&&this.transformPoints(d.points,d.matrix);for(var y=0;y<2;y++){var m=y===0?g:p;if(m.visible){var b=m.texture.baseTexture,w=this.indices.length,x=this.points.length/2;s&&(l!==b||u!==m.color+m.alpha||c!==!!m.native)&&(s.size=w-s.start,s.attribSize=x-s.attribStart,s.size>0&&(s=null)),s||(s=vC.pop()||new lie,this.batches.push(s),b.wrapMode=mh.REPEAT,l=b,u=m.color+m.alpha,c=m.native,s.style=m,s.start=w,s.attribStart=x);var _=this.points.length/2;if(y===0)d.holes.length?(this.processHoles(d.holes),ck.triangulate(d,this)):v.triangulate(d,this);else{dC(d,this);for(var S=0;S<d.holes.length;S++)dC(d.holes[S],this)}var P=this.points.length/2-_;this.addUvs(this.points,o,m.texture,_,P,m.matrix)}}}var C=this.indices.length,D=this.points.length/2;if(!s){this.batchable=!0;return}if(s.size=C-s.start,s.attribSize=D-s.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var T=0;T<this.batches.length;T++)for(var B=this.batches[T],I=0;I<B.size;I++){var O=B.start+I;this.indicesUint16[O]=this.indicesUint16[O]-B.attribStart}}else this.buildDrawCalls()}},t.prototype.isBatchable=function(){for(var i=this.batches,a=0;a<i.length;a++)if(i[a].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var i=++$n._globalBatch,a=0;a<this.drawCalls.length;a++)this.drawCalls[a].textures.length=0,Fv.push(this.drawCalls[a]);this.drawCalls.length=0;var o=this.uvs,s=this.colors,l=this.textureIds,u=Fv.pop()||new Hb;u.textureCount=0,u.start=0,u.size=0,u.type=Rs.TRIANGLES;var c=0,h=null,f=0,d=!1,v=Rs.TRIANGLES,g=0;this.drawCalls.push(u);for(var p=0;p<this.batches.length;p++){var y=this.batches[p],m=8,b=y.style,w=b.texture.baseTexture;d!==!!b.native&&(d=b.native,v=d?Rs.LINES:Rs.TRIANGLES,h=null,c=m,i++),h!==w&&(h=w,w._batchEnabled!==i&&(c===m&&(i++,c=0,u.size>0&&(u=Fv.pop()||new Hb,this.drawCalls.push(u)),u.start=g,u.size=0,u.textureCount=0,u.type=v),w.touched=1,w._batchEnabled=i,w._id=c,w.wrapMode=10497,u.textures[u.textureCount++]=w,c++)),u.size+=y.size,g+=y.size,f=w._id,this.addColors(s,b.color,b.alpha,y.attribSize),this.addTextureIds(l,f,y.attribSize)}$n._globalBatch=i;for(var x=this.points,_=new ArrayBuffer(x.length*3*4),S=new Float32Array(_),P=new Uint32Array(_),C=0,D=0;D<x.length/2;D++)S[C++]=x[D*2],S[C++]=x[D*2+1],S[C++]=o[D*2],S[C++]=o[D*2+1],P[C++]=s[D],S[C++]=l[D];this._buffer.update(_),this._indexBuffer.update(this.indicesUint16)},t.prototype.processHoles=function(i){for(var a=0;a<i.length;a++){var o=i[a],s=ru[o.type];s.build(o),o.matrix&&this.transformPoints(o.points,o.matrix)}},t.prototype.calculateBounds=function(){var i=1/0,a=-1/0,o=1/0,s=-1/0;if(this.graphicsData.length)for(var l=null,u=0,c=0,h=0,f=0,d=0;d<this.graphicsData.length;d++){var v=this.graphicsData[d],g=v.type,p=v.lineStyle?v.lineStyle.width:0;if(l=v.shape,g===kr.RECT||g===kr.RREC)u=l.x-p/2,c=l.y-p/2,h=l.width+p,f=l.height+p,i=u<i?u:i,a=u+h>a?u+h:a,o=c<o?c:o,s=c+f>s?c+f:s;else if(g===kr.CIRC)u=l.x,c=l.y,h=l.radius+p/2,f=l.radius+p/2,i=u-h<i?u-h:i,a=u+h>a?u+h:a,o=c-f<o?c-f:o,s=c+f>s?c+f:s;else if(g===kr.ELIP)u=l.x,c=l.y,h=l.width+p/2,f=l.height+p/2,i=u-h<i?u-h:i,a=u+h>a?u+h:a,o=c-f<o?c-f:o,s=c+f>s?c+f:s;else for(var y=l.points,m=0,b=0,w=0,x=0,_=0,S=0,P=0,C=0,D=0;D+2<y.length;D+=2)u=y[D],c=y[D+1],m=y[D+2],b=y[D+3],w=Math.abs(m-u),x=Math.abs(b-c),f=p,h=Math.sqrt(w*w+x*x),!(h<1e-9)&&(_=(f/h*x+w)/2,S=(f/h*w+x)/2,P=(m+u)/2,C=(b+c)/2,i=P-_<i?P-_:i,a=P+_>a?P+_:a,o=C-S<o?C-S:o,s=C+S>s?C+S:s)}else i=0,a=0,o=0,s=0;var T=this.boundsPadding;this._bounds.minX=i-T,this._bounds.maxX=a+T,this._bounds.minY=o-T,this._bounds.maxY=s+T},t.prototype.transformPoints=function(i,a){for(var o=0;o<i.length/2;o++){var s=i[o*2],l=i[o*2+1];i[o*2]=a.a*s+a.c*l+a.tx,i[o*2+1]=a.b*s+a.d*l+a.ty}},t.prototype.addColors=function(i,a,o,s){for(var l=(a>>16)+(a&65280)+((a&255)<<16),u=E_(l,o);s-- >0;)i.push(u)},t.prototype.addTextureIds=function(i,a,o){for(;o-- >0;)i.push(a)},t.prototype.addUvs=function(i,a,o,s,l,u){for(var c=0,h=a.length,f=o.frame;c<l;){var d=i[(s+c)*2],v=i[(s+c)*2+1];if(u){var g=u.a*d+u.c*v+u.tx;v=u.b*d+u.d*v+u.ty,d=g}c++,a.push(d/f.width,v/f.height)}var p=o.baseTexture;(f.width<p.width||f.height<p.height)&&this.adjustUvs(a,o,h,l)},t.prototype.adjustUvs=function(i,a,o,s){for(var l=a.baseTexture,u=1e-6,c=o+s*2,h=a.frame,f=h.width/l.width,d=h.height/l.height,v=h.x/h.width,g=h.y/h.height,p=Math.floor(i[o]+u),y=Math.floor(i[o+1]+u),m=o+2;m<c;m+=2)p=Math.min(p,Math.floor(i[m]+u)),y=Math.min(y,Math.floor(i[m+1]+u));v-=p,g-=y;for(var b=o;b<c;b+=2)i[b]=(i[b]+v)*f,i[b+1]=(i[b+1]+g)*d},Object.defineProperties(t.prototype,n),t}(rk);fk.BATCHABLE_SIZE=100;var uie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},t}(Wc),Xg=function(){};Xg.curveLength=function(t,n,r,i,a,o,s,l){for(var u=10,c=0,h=0,f=0,d=0,v=0,g=0,p=0,y=0,m=0,b=0,w=0,x=t,_=n,S=1;S<=u;++S)h=S/u,f=h*h,d=f*h,v=1-h,g=v*v,p=g*v,y=p*t+3*g*h*r+3*v*f*a+d*s,m=p*n+3*g*h*i+3*v*f*o+d*l,b=x-y,w=_-m,x=y,_=m,c+=Math.sqrt(b*b+w*w);return c};Xg.curveTo=function(t,n,r,i,a,o,s){var l=s[s.length-2],u=s[s.length-1];s.length-=2;var c=N_._segmentsCount(Xg.curveLength(l,u,t,n,r,i,a,o)),h=0,f=0,d=0,v=0,g=0;s.push(l,u);for(var p=1,y=0;p<=c;++p)y=p/c,h=1-y,f=h*h,d=f*h,v=y*y,g=v*y,s.push(d*l+3*f*y*t+3*h*v*r+g*a,d*u+3*f*y*n+3*h*v*i+g*o)};var Wg=function(){};Wg.curveLength=function(t,n,r,i,a,o){var s=t-2*r+a,l=n-2*i+o,u=2*r-2*t,c=2*i-2*n,h=4*(s*s+l*l),f=4*(s*u+l*c),d=u*u+c*c,v=2*Math.sqrt(h+f+d),g=Math.sqrt(h),p=2*h*g,y=2*Math.sqrt(d),m=f/g;return(p*v+g*f*(v-y)+(4*d*h-f*f)*Math.log((2*g+m+v)/(m+y)))/(4*p)};Wg.curveTo=function(t,n,r,i,a){for(var o=a[a.length-2],s=a[a.length-1],l=N_._segmentsCount(Wg.curveLength(o,s,t,n,r,i)),u=0,c=0,h=1;h<=l;++h){var f=h/l;u=o+(t-o)*f,c=s+(n-s)*f,a.push(u+(t+(r-t)*f-u)*f,c+(n+(i-n)*f-c)*f)}};var Kg=function(){};Kg.curveTo=function(t,n,r,i,a,o){var s=o[o.length-2],l=o[o.length-1],u=l-n,c=s-t,h=i-n,f=r-t,d=Math.abs(u*f-c*h);if(d<1e-8||a===0)return(o[o.length-2]!==t||o[o.length-1]!==n)&&o.push(t,n),null;var v=u*u+c*c,g=h*h+f*f,p=u*h+c*f,y=a*Math.sqrt(v)/d,m=a*Math.sqrt(g)/d,b=y*p/v,w=m*p/g,x=y*f+m*c,_=y*h+m*u,S=c*(m+b),P=u*(m+b),C=f*(y+w),D=h*(y+w),T=Math.atan2(P-_,S-x),B=Math.atan2(D-_,C-x);return{cx:x+t,cy:_+n,radius:a,startAngle:T,endAngle:B,anticlockwise:c*h>f*u}};Kg.arc=function(t,n,r,i,a,o,s,l,u){for(var c=s-o,h=N_._segmentsCount(Math.abs(c)*a,Math.ceil(Math.abs(c)/Hh)*40),f=c/(h*2),d=f*2,v=Math.cos(f),g=Math.sin(f),p=h-1,y=p%1/p,m=0;m<=p;++m){var b=m+y*m,w=f+o+d*b,x=Math.cos(w),_=-Math.sin(w);u.push((v*x+g*_)*a+r,(v*-_+g*x)*a+i)}};var cie=function(e){function t(n,r,i,a,o,s){o=o||a/2;for(var l=-1*Math.PI/2+s,u=i*2,c=Hh/u,h=[],f=0;f<u;f++){var d=f%2?o:a,v=f*c+l;h.push(n+d*Math.cos(v),r+d*Math.sin(v))}e.call(this,h)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}($s),fie=new Float32Array(3),jy={},Na=function(e){function t(r){r===void 0&&(r=null),e.call(this),this.geometry=r||new fk,this.geometry.refCount++,this.shader=null,this.state=os.for2d(),this._fillStyle=new Wc,this._lineStyle=new uie,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=Lt.NORMAL}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return t.prototype.clone=function(){return this.finishPoly(),new t(this.geometry)},n.blendMode.set=function(r){this.state.blendMode=r},n.blendMode.get=function(){return this.state.blendMode},n.tint.get=function(){return this._tint},n.tint.set=function(r){this._tint=r},n.fill.get=function(){return this._fillStyle},n.line.get=function(){return this._lineStyle},t.prototype.lineStyle=function(i,a,o,s,l){return i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=1),s===void 0&&(s=.5),l===void 0&&(l=!1),this.lineTextureStyle(i,nn.WHITE,a,o,null,s,l),this},t.prototype.lineTextureStyle=function(i,a,o,s,l,u,c){i===void 0&&(i=0),a===void 0&&(a=nn.WHITE),o===void 0&&(o=16777215),s===void 0&&(s=1),l===void 0&&(l=null),u===void 0&&(u=.5),c===void 0&&(c=!1),this.currentPath&&this.startPoly();var h=i>0&&s>0;return h?(l&&(l=l.clone(),l.invert()),Object.assign(this._lineStyle,{color:o,width:i,alpha:s,matrix:l,texture:a,alignment:u,native:c,visible:h})):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var i=this.currentPath.points,a=this.currentPath.points.length;a>2&&(this.drawShape(this.currentPath),this.currentPath=new $s,this.currentPath.closeStroke=!1,this.currentPath.points.push(i[a-2],i[a-1]))}else this.currentPath=new $s,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(i,a){return this.startPoly(),this.currentPath.points[0]=i,this.currentPath.points[1]=a,this},t.prototype.lineTo=function(i,a){this.currentPath||this.moveTo(0,0);var o=this.currentPath.points,s=o[o.length-2],l=o[o.length-1];return(s!==i||l!==a)&&o.push(i,a),this},t.prototype._initCurve=function(i,a){i===void 0&&(i=0),a===void 0&&(a=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[i,a]):this.moveTo(i,a)},t.prototype.quadraticCurveTo=function(i,a,o,s){this._initCurve();var l=this.currentPath.points;return l.length===0&&this.moveTo(0,0),Wg.curveTo(i,a,o,s,l),this},t.prototype.bezierCurveTo=function(i,a,o,s,l,u){return this._initCurve(),Xg.curveTo(i,a,o,s,l,u,this.currentPath.points),this},t.prototype.arcTo=function(i,a,o,s,l){this._initCurve(i,a);var u=this.currentPath.points,c=Kg.curveTo(i,a,o,s,l,u);if(c){var h=c.cx,f=c.cy,d=c.radius,v=c.startAngle,g=c.endAngle,p=c.anticlockwise;this.arc(h,f,d,v,g,p)}return this},t.prototype.arc=function(i,a,o,s,l,u){if(u===void 0&&(u=!1),s===l)return this;!u&&l<=s?l+=Hh:u&&s<=l&&(s+=Hh);var c=l-s;if(c===0)return this;var h=i+Math.cos(s)*o,f=a+Math.sin(s)*o,d=this.geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var g=Math.abs(v[v.length-2]-h),p=Math.abs(v[v.length-1]-f);g<d&&p<d||v.push(h,f)}else this.moveTo(h,f),v=this.currentPath.points;return Kg.arc(h,f,i,a,o,s,l,u,v),this},t.prototype.beginFill=function(i,a){return i===void 0&&(i=0),a===void 0&&(a=1),this.beginTextureFill(nn.WHITE,i,a)},t.prototype.beginTextureFill=function(i,a,o,s){i===void 0&&(i=nn.WHITE),a===void 0&&(a=16777215),o===void 0&&(o=1),s===void 0&&(s=null),this.currentPath&&this.startPoly();var l=o>0;return l?(s&&(s=s.clone(),s.invert()),Object.assign(this._fillStyle,{color:a,alpha:o,texture:i,matrix:s,visible:l})):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(i,a,o,s){return this.drawShape(new tn(i,a,o,s))},t.prototype.drawRoundedRect=function(i,a,o,s,l){return this.drawShape(new Gg(i,a,o,s,l))},t.prototype.drawCircle=function(i,a,o){return this.drawShape(new Gh(i,a,o))},t.prototype.drawEllipse=function(i,a,o,s){return this.drawShape(new Yh(i,a,o,s))},t.prototype.drawPolygon=function(i){var a=arguments,o=i,s=!0;if(o.points&&(s=o.closeStroke,o=o.points),!Array.isArray(o)){o=new Array(arguments.length);for(var l=0;l<o.length;++l)o[l]=a[l]}var u=new $s(o);return u.closeStroke=s,this.drawShape(u),this},t.prototype.drawShape=function(i){return this._holeMode?this.geometry.drawHole(i,this._matrix):this.geometry.drawShape(i,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(i,a,o,s,l,u){return u===void 0&&(u=0),this.drawPolygon(new cie(i,a,o,s,l,u))},t.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){return!1},t.prototype._render=function(i){this.finishPoly();var a=this.geometry;a.updateBatches(),a.batchable?(this.batchDirty!==a.batchDirty&&this._populateBatches(),this._renderBatched(i)):(i.batch.flush(),this._renderDirect(i))},t.prototype._populateBatches=function(){var i=this.geometry,a=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=i.batchDirty,this.vertexData=new Float32Array(i.points);for(var o=0,s=i.batches.length;o<s;o++){var l=i.batches[o],u=l.style.color,c=new Float32Array(this.vertexData.buffer,l.attribStart*4*2,l.attribSize*2),h=new Float32Array(i.uvsFloat32.buffer,l.attribStart*4*2,l.attribSize*2),f=new Uint16Array(i.indicesUint16.buffer,l.start*2,l.size),d={vertexData:c,blendMode:a,indices:f,uvs:h,_batchRGB:zg(u),_tintRGB:u,_texture:l.style.texture,alpha:l.style.alpha,worldAlpha:1};this.batches[o]=d}},t.prototype._renderBatched=function(i){if(this.batches.length){i.batch.setObjectRenderer(i.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var a=0,o=this.batches.length;a<o;a++){var s=this.batches[a];s.worldAlpha=this.worldAlpha*s.alpha,i.plugins[this.pluginName].render(s)}}},t.prototype._renderDirect=function(i){var a=this._resolveDirectShader(i),o=this.geometry,s=this.tint,l=this.worldAlpha,u=a.uniforms,c=o.drawCalls;u.translationMatrix=this.transform.worldTransform,u.tint[0]=(s>>16&255)/255*l,u.tint[1]=(s>>8&255)/255*l,u.tint[2]=(s&255)/255*l,u.tint[3]=l,i.shader.bind(a),i.geometry.bind(o,a),i.state.set(this.state);for(var h=0,f=c.length;h<f;h++)this._renderDrawCallDirect(i,o.drawCalls[h])},t.prototype._renderDrawCallDirect=function(i,a){for(var o=a.textureCount,s=0;s<o;s++)i.texture.bind(a.textures[s],s);i.geometry.draw(a.type,a.size,a.start)},t.prototype._resolveDirectShader=function(i){var a=this.shader,o=this.pluginName;if(!a){if(!jy[o]){for(var s=new Int32Array(16),l=0;l<16;l++)s[l]=l;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new ln,default:zi.from({uSamplers:s},!0)},c=i.plugins[o]._shader.program;jy[o]=new ya(c,u)}a=jy[o]}return a},t.prototype._calculateBounds=function(){this.finishPoly();var i=this.geometry.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)},t.prototype.containsPoint=function(i){return this.worldTransform.applyInverse(i,t._TEMP_POINT),this.geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var i=zg(this.tint,fie),a=0;a<this.batches.length;a++){var o=this.batches[a],s=o._batchRGB,l=i[0]*s[0]*255,u=i[1]*s[1]*255,c=i[2]*s[2]*255,h=(l<<16)+(u<<8)+(c|0);o._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)}}},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,h=this.geometry.points,f=this.vertexData,d=0,v=0;v<h.length;v+=2){var g=h[v],p=h[v+1];f[d++]=a*g+s*p+u,f[d++]=l*p+o*g+c}}},t.prototype.closePath=function(){var i=this.currentPath;return i&&(i.closeStroke=!0),this},t.prototype.setMatrix=function(i){return this._matrix=i,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,i)},Object.defineProperties(t.prototype,n),t}(yn);Na._TEMP_POINT=new Yn;/*!
 * @pixi/sprite - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Lf=new Yn,hie=new Uint16Array([0,1,2,0,2,3]),ja=function(e){function t(r){e.call(this),this._anchor=new $i(this._onAnchorUpdate,this,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=Lt.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=r||nn.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=hie,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Ut.ROUND_PIXELS}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=fc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=fc(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var i=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===i._updateID)){this._textureID!==i._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=i._updateID;var a=this.transform.worldTransform,o=a.a,s=a.b,l=a.c,u=a.d,c=a.tx,h=a.ty,f=this.vertexData,d=i.trim,v=i.orig,g=this._anchor,p=0,y=0,m=0,b=0;if(d?(y=d.x-g._x*v.width,p=y+d.width,b=d.y-g._y*v.height,m=b+d.height):(y=-g._x*v.width,p=y+v.width,b=-g._y*v.height,m=b+v.height),f[0]=o*y+l*b+c,f[1]=u*b+s*y+h,f[2]=o*p+l*b+c,f[3]=u*b+s*p+h,f[4]=o*p+l*m+c,f[5]=u*m+s*p+h,f[6]=o*y+l*m+c,f[7]=u*m+s*y+h,this._roundPixels)for(var w=0;w<8;w++)f[w]=Math.round(f[w])}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this._texture,a=this.vertexTrimmedData,o=i.orig,s=this._anchor,l=this.transform.worldTransform,u=l.a,c=l.b,h=l.c,f=l.d,d=l.tx,v=l.ty,g=-s._x*o.width,p=g+o.width,y=-s._y*o.height,m=y+o.height;a[0]=u*g+h*y+d,a[1]=f*y+c*g+v,a[2]=u*p+h*y+d,a[3]=f*y+c*p+v,a[4]=u*p+h*m+d,a[5]=f*m+c*p+v,a[6]=u*g+h*m+d,a[7]=f*m+c*g+v},t.prototype._render=function(i){this.calculateVertices(),i.batch.setObjectRenderer(i.plugins[this.pluginName]),i.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var i=this._texture.trim,a=this._texture.orig;!i||i.width===a.width&&i.height===a.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(i){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new tn),i=this._localBoundsRect),this._bounds.getRectangle(i)):e.prototype.getLocalBounds.call(this,i)},t.prototype.containsPoint=function(i){this.worldTransform.applyInverse(i,Lf);var a=this._texture.orig.width,o=this._texture.orig.height,s=-a*this.anchor.x,l=0;return Lf.x>=s&&Lf.x<s+a&&(l=-o*this.anchor.y,Lf.y>=l&&Lf.y<l+o)},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var a=typeof i=="boolean"?i:i&&i.texture;if(a){var o=typeof i=="boolean"?i:i&&i.baseTexture;this._texture.destroy(!!o)}this._texture=null,this.shader=null},t.from=function(i,a){var o=i instanceof nn?i:nn.from(i,a);return new t(o)},n.roundPixels.set=function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},n.roundPixels.get=function(){return this._roundPixels},n.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},n.width.set=function(r){var i=fc(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r},n.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},n.height.set=function(r){var i=fc(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r},n.anchor.get=function(){return this._anchor},n.anchor.set=function(r){this._anchor.copyFrom(r)},n.tint.get=function(){return this._tint},n.tint.set=function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},n.texture.get=function(){return this._texture},n.texture.set=function(r){this._texture!==r&&(this._texture=r||nn.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},Object.defineProperties(t.prototype,n),t}(yn);/*!
 * @pixi/text - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hk={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Gb={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:hk.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},die=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ls=function(t){this.styleID=0,this.reset(),V_(this,t,t)},pt={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};ls.prototype.clone=function(){var t={};return V_(t,this,Gb),new ls(t)};ls.prototype.reset=function(){V_(this,Gb,Gb)};pt.align.get=function(){return this._align};pt.align.set=function(e){this._align!==e&&(this._align=e,this.styleID++)};pt.breakWords.get=function(){return this._breakWords};pt.breakWords.set=function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)};pt.dropShadow.get=function(){return this._dropShadow};pt.dropShadow.set=function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)};pt.dropShadowAlpha.get=function(){return this._dropShadowAlpha};pt.dropShadowAlpha.set=function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)};pt.dropShadowAngle.get=function(){return this._dropShadowAngle};pt.dropShadowAngle.set=function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)};pt.dropShadowBlur.get=function(){return this._dropShadowBlur};pt.dropShadowBlur.set=function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)};pt.dropShadowColor.get=function(){return this._dropShadowColor};pt.dropShadowColor.set=function(e){var t=U_(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)};pt.dropShadowDistance.get=function(){return this._dropShadowDistance};pt.dropShadowDistance.set=function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)};pt.fill.get=function(){return this._fill};pt.fill.set=function(e){var t=U_(e);this._fill!==t&&(this._fill=t,this.styleID++)};pt.fillGradientType.get=function(){return this._fillGradientType};pt.fillGradientType.set=function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)};pt.fillGradientStops.get=function(){return this._fillGradientStops};pt.fillGradientStops.set=function(e){vie(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)};pt.fontFamily.get=function(){return this._fontFamily};pt.fontFamily.set=function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)};pt.fontSize.get=function(){return this._fontSize};pt.fontSize.set=function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)};pt.fontStyle.get=function(){return this._fontStyle};pt.fontStyle.set=function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)};pt.fontVariant.get=function(){return this._fontVariant};pt.fontVariant.set=function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)};pt.fontWeight.get=function(){return this._fontWeight};pt.fontWeight.set=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)};pt.letterSpacing.get=function(){return this._letterSpacing};pt.letterSpacing.set=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)};pt.lineHeight.get=function(){return this._lineHeight};pt.lineHeight.set=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)};pt.leading.get=function(){return this._leading};pt.leading.set=function(e){this._leading!==e&&(this._leading=e,this.styleID++)};pt.lineJoin.get=function(){return this._lineJoin};pt.lineJoin.set=function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)};pt.miterLimit.get=function(){return this._miterLimit};pt.miterLimit.set=function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)};pt.padding.get=function(){return this._padding};pt.padding.set=function(e){this._padding!==e&&(this._padding=e,this.styleID++)};pt.stroke.get=function(){return this._stroke};pt.stroke.set=function(e){var t=U_(e);this._stroke!==t&&(this._stroke=t,this.styleID++)};pt.strokeThickness.get=function(){return this._strokeThickness};pt.strokeThickness.set=function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)};pt.textBaseline.get=function(){return this._textBaseline};pt.textBaseline.set=function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)};pt.trim.get=function(){return this._trim};pt.trim.set=function(e){this._trim!==e&&(this._trim=e,this.styleID++)};pt.whiteSpace.get=function(){return this._whiteSpace};pt.whiteSpace.set=function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)};pt.wordWrap.get=function(){return this._wordWrap};pt.wordWrap.set=function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)};pt.wordWrapWidth.get=function(){return this._wordWrapWidth};pt.wordWrapWidth.set=function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)};ls.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,n=this.fontFamily;Array.isArray(this.fontFamily)||(n=this.fontFamily.split(","));for(var r=n.length-1;r>=0;r--){var i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&die.indexOf(i)<0&&(i='"'+i+'"'),n[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+n.join(",")};Object.defineProperties(ls.prototype,pt);function pC(e){return typeof e=="number"?DF(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function U_(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=pC(e[t]);return e}else return pC(e)}function vie(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function V_(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var ot=function(t,n,r,i,a,o,s,l,u){this.text=t,this.style=n,this.width=r,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=l,this.fontProperties=u};ot.measureText=function(t,n,r,i){i===void 0&&(i=ot._canvas),r=r??n.wordWrap;var a=n.toFontString(),o=ot.measureFont(a);o.fontSize===0&&(o.fontSize=n.fontSize,o.ascent=n.fontSize);var s=i.getContext("2d");s.font=a;for(var l=r?ot.wordWrap(t,n,i):t,u=l.split(/(?:\r\n|\r|\n)/),c=new Array(u.length),h=0,f=0;f<u.length;f++){var d=s.measureText(u[f]).width+(u[f].length-1)*n.letterSpacing;c[f]=d,h=Math.max(h,d)}var v=h+n.strokeThickness;n.dropShadow&&(v+=n.dropShadowDistance);var g=n.lineHeight||o.fontSize+n.strokeThickness,p=Math.max(g,o.fontSize+n.strokeThickness)+(u.length-1)*(g+n.leading);return n.dropShadow&&(p+=n.dropShadowDistance),new ot(t,n,v,p,u,c,g+n.leading,h,o)};ot.wordWrap=function(t,n,r){r===void 0&&(r=ot._canvas);for(var i=r.getContext("2d"),a=0,o="",s="",l={},u=n.letterSpacing,c=n.whiteSpace,h=ot.collapseSpaces(c),f=ot.collapseNewlines(c),d=!h,v=n.wordWrapWidth+u,g=ot.tokenize(t),p=0;p<g.length;p++){var y=g[p];if(ot.isNewline(y)){if(!f){s+=ot.addLine(o),d=!h,o="",a=0;continue}y=" "}if(h){var m=ot.isBreakingSpace(y),b=ot.isBreakingSpace(o[o.length-1]);if(m&&b)continue}var w=ot.getFromCache(y,u,l,i);if(w>v)if(o!==""&&(s+=ot.addLine(o),o="",a=0),ot.canBreakWords(y,n.breakWords))for(var x=y.split(""),_=0;_<x.length;_++){for(var S=x[_],P=1;x[_+P];){var C=x[_+P],D=S[S.length-1];if(!ot.canBreakChars(D,C,y,_,n.breakWords))S+=C;else break;P++}_+=S.length-1;var T=ot.getFromCache(S,u,l,i);T+a>v&&(s+=ot.addLine(o),d=!1,o="",a=0),o+=S,a+=T}else{o.length>0&&(s+=ot.addLine(o),o="",a=0);var B=p===g.length-1;s+=ot.addLine(y,!B),d=!1,o="",a=0}else w+a>v&&(d=!1,s+=ot.addLine(o),o="",a=0),(o.length>0||!ot.isBreakingSpace(y)||d)&&(o+=y,a+=w)}return s+=ot.addLine(o,!1),s};ot.addLine=function(t,n){return n===void 0&&(n=!0),t=ot.trimRight(t),t=n?t+`
`:t,t};ot.getFromCache=function(t,n,r,i){var a=r[t];if(a===void 0){var o=t.length*n;a=i.measureText(t).width+o,r[t]=a}return a};ot.collapseSpaces=function(t){return t==="normal"||t==="pre-line"};ot.collapseNewlines=function(t){return t==="normal"};ot.trimRight=function(t){if(typeof t!="string")return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!ot.isBreakingSpace(r))break;t=t.slice(0,-1)}return t};ot.isNewline=function(t){return typeof t!="string"?!1:ot._newlines.indexOf(t.charCodeAt(0))>=0};ot.isBreakingSpace=function(t){return typeof t!="string"?!1:ot._breakingSpaces.indexOf(t.charCodeAt(0))>=0};ot.tokenize=function(t){var n=[],r="";if(typeof t!="string")return n;for(var i=0;i<t.length;i++){var a=t[i];if(ot.isBreakingSpace(a)||ot.isNewline(a)){r!==""&&(n.push(r),r=""),n.push(a);continue}r+=a}return r!==""&&n.push(r),n};ot.canBreakWords=function(t,n){return n};ot.canBreakChars=function(t,n,r,i,a){return!0};ot.measureFont=function(t){if(ot._fonts[t])return ot._fonts[t];var n={},r=ot._canvas,i=ot._context;i.font=t;var a=ot.METRICS_STRING+ot.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(ot.BASELINE_SYMBOL).width),l=2*s;s=s*ot.BASELINE_MULTIPLIER|0,r.width=o,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var u=i.getImageData(0,0,o,l).data,c=u.length,h=o*4,f=0,d=0,v=!1;for(f=0;f<s;++f){for(var g=0;g<h;g+=4)if(u[d+g]!==255){v=!0;break}if(!v)d+=h;else break}for(n.ascent=s-f,d=c-h,v=!1,f=l;f>s;--f){for(var p=0;p<h;p+=4)if(u[d+p]!==255){v=!0;break}if(!v)d-=h;else break}return n.descent=f-s,n.fontSize=n.ascent+n.descent,ot._fonts[t]=n,n};ot.clearMetrics=function(t){t===void 0&&(t=""),t?delete ot._fonts[t]:ot._fonts={}};var qg=function(){try{var e=new OffscreenCanvas(0,0);return e.getContext("2d")?e:document.createElement("canvas")}catch{return document.createElement("canvas")}}();qg.width=qg.height=10;ot._canvas=qg;ot._context=qg.getContext("2d");ot._fonts={};ot.METRICS_STRING="|q";ot.BASELINE_SYMBOL="M";ot.BASELINE_MULTIPLIER=1.4;ot._newlines=[10,13];ot._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var pie={texture:!0,children:!1,baseTexture:!0},l0=function(e){function t(r,i,a){a=a||document.createElement("canvas"),a.width=3,a.height=3;var o=nn.from(a);o.orig=new tn,o.trim=new tn,e.call(this,o),this.canvas=a,this.context=this.canvas.getContext("2d"),this._resolution=Ut.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=r,this.style=i,this.localStyleID=-1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return t.prototype.updateText=function(i){var a=this._style;if(this.localStyleID!==a.styleID&&(this.dirty=!0,this.localStyleID=a.styleID),!(!this.dirty&&i)){this._font=this._style.toFontString();var o=this.context,s=ot.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),l=s.width,u=s.height,c=s.lines,h=s.lineHeight,f=s.lineWidths,d=s.maxLineWidth,v=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,l)+a.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,u)+a.padding*2)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=a.strokeThickness,o.textBaseline=a.textBaseline,o.lineJoin=a.lineJoin,o.miterLimit=a.miterLimit;for(var g,p,y=a.dropShadow?2:1,m=0;m<y;++m){var b=a.dropShadow&&m===0,w=b?u*2:0,x=w*this.resolution;if(b){o.fillStyle="black",o.strokeStyle="black";var _=a.dropShadowColor,S=zg(typeof _=="number"?_:Rne(_));o.shadowColor="rgba("+S[0]*255+","+S[1]*255+","+S[2]*255+","+a.dropShadowAlpha+")",o.shadowBlur=a.dropShadowBlur,o.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,o.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance+x}else o.fillStyle=this._generateFillStyle(a,c),o.strokeStyle=a.stroke,o.shadowColor=0,o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;for(var P=0;P<c.length;P++)g=a.strokeThickness/2,p=a.strokeThickness/2+P*h+v.ascent,a.align==="right"?g+=d-f[P]:a.align==="center"&&(g+=(d-f[P])/2),a.stroke&&a.strokeThickness&&this.drawLetterSpacing(c[P],g+a.padding,p+a.padding-w,!0),a.fill&&this.drawLetterSpacing(c[P],g+a.padding,p+a.padding-w)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(i,a,o,s){s===void 0&&(s=!1);var l=this._style,u=l.letterSpacing;if(u===0){s?this.context.strokeText(i,a,o):this.context.fillText(i,a,o);return}for(var c=a,h=Array.from?Array.from(i):i.split(""),f=this.context.measureText(i).width,d=0,v=0;v<h.length;++v){var g=h[v];s?this.context.strokeText(g,c,o):this.context.fillText(g,c,o),d=this.context.measureText(i.substring(v+1)).width,c+=f-d+u,f=d}},t.prototype.updateTexture=function(){var i=this.canvas;if(this._style.trim){var a=zne(i);a.data&&(i.width=a.width,i.height=a.height,this.context.putImageData(a.data,0,0))}var o=this._texture,s=this._style,l=s.trim?0:s.padding,u=o.baseTexture;o.trim.width=o._frame.width=Math.ceil(i.width/this._resolution),o.trim.height=o._frame.height=Math.ceil(i.height/this._resolution),o.trim.x=-l,o.trim.y=-l,o.orig.width=o._frame.width-l*2,o.orig.height=o._frame.height-l*2,this._onTextureUpdate(),u.setRealSize(i.width,i.height,this._resolution),this.dirty=!1},t.prototype._render=function(i){this._autoResolution&&this._resolution!==i.resolution&&(this._resolution=i.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,i)},t.prototype.getLocalBounds=function(i){return this.updateText(!0),e.prototype.getLocalBounds.call(this,i)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(i,a){if(Array.isArray(i.fill)){if(i.fill.length===1)return i.fill[0]}else return i.fill;var o,s,l,u,c=Math.ceil(this.canvas.width/this._resolution),h=Math.ceil(this.canvas.height/this._resolution),f=i.fill.slice(),d=i.fillGradientStops.slice();if(!d.length)for(var v=f.length+1,g=1;g<v;++g)d.push(g/v);if(f.unshift(i.fill[0]),d.unshift(0),f.push(i.fill[i.fill.length-1]),d.push(1),i.fillGradientType===hk.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,0,c/2,h),s=(f.length+1)*a.length,l=0;for(var p=0;p<a.length;p++){l+=1;for(var y=0;y<f.length;y++)typeof d[y]=="number"?u=d[y]/a.length+p/a.length:u=l/s,o.addColorStop(u,f[y]),l++}}else{o=this.context.createLinearGradient(0,h/2,c,h/2),s=f.length+1,l=1;for(var m=0;m<f.length;m++)typeof d[m]=="number"?u=d[m]:u=l/s,o.addColorStop(u,f[m]),l++}return o},t.prototype.destroy=function(i){typeof i=="boolean"&&(i={children:i}),i=Object.assign({},pie,i),e.prototype.destroy.call(this,i),this.context=null,this.canvas=null,this._style=null},n.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},n.width.set=function(r){this.updateText(!0);var i=fc(this.scale.x)||1;this.scale.x=i*r/this._texture.orig.width,this._width=r},n.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},n.height.set=function(r){this.updateText(!0);var i=fc(this.scale.y)||1;this.scale.y=i*r/this._texture.orig.height,this._height=r},n.style.get=function(){return this._style},n.style.set=function(r){r=r||{},r instanceof ls?this._style=r:this._style=new ls(r),this.localStyleID=-1,this.dirty=!0},n.text.get=function(){return this._text},n.text.set=function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},n.resolution.get=function(){return this._resolution},n.resolution.set=function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},Object.defineProperties(t.prototype,n),t}(ja);/*!
 * @pixi/prepare - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ut.UPLOADS_PER_FRAME=4;var $_=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};$_.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};$_.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var rl=function(t){var n=this;this.limiter=new $_(Ut.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(xie),this.registerFindHook(_ie),this.registerFindHook(gie),this.registerFindHook(mie),this.registerFindHook(yie),this.registerUploadHook(bie),this.registerUploadHook(wie)};rl.prototype.upload=function(t,n){typeof t=="function"&&(n=t,t=null),t&&this.add(t),this.queue.length?(n&&this.completes.push(n),this.ticking||(this.ticking=!0,dn.system.addOnce(this.tick,this,lf.UTILITY))):n&&n()};rl.prototype.tick=function(){setTimeout(this.delayedTick,0)};rl.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],n=!1;if(t&&!t._destroyed){for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),n=!0;break}}n||this.queue.shift()}if(this.queue.length)dn.system.addOnce(this.tick,this,lf.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var o=0,s=a.length;o<s;o++)a[o]()}};rl.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this};rl.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this};rl.prototype.add=function(t){for(var n=0,r=this.addHooks.length;n<r&&!this.addHooks[n](t,this.queue);n++);if(t instanceof yn)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this};rl.prototype.destroy=function(){this.ticking&&dn.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};function gie(e,t){var n=!1;if(e&&e._textures&&e._textures.length){for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof nn){var i=e._textures[r].baseTexture;t.indexOf(i)===-1&&(t.push(i),n=!0)}}return n}function mie(e,t){return e instanceof $n?(t.indexOf(e)===-1&&t.push(e),!0):!1}function yie(e,t){if(e._texture&&e._texture instanceof nn){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function bie(e,t){return t instanceof l0?(t.updateText(!0),!0):!1}function wie(e,t){if(t instanceof ls){var n=t.toFontString();return ot.measureFont(n),!0}return!1}function xie(e,t){if(e instanceof l0){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function _ie(e,t){return e instanceof ls?(t.indexOf(e)===-1&&t.push(e),!0):!1}var Sie=function(e){function t(n){e.call(this,n),this.uploadHookHelper=this.renderer,this.registerFindHook(Cie),this.registerUploadHook(Eie),this.registerUploadHook(Aie)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(rl);function Eie(e,t){return t instanceof $n?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function Aie(e,t){return t instanceof Na?((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0):!1}function Cie(e,t){return e instanceof Na?(t.push(e),!0):!1}/*!
 * @pixi/app - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wo=function e(t){var n=this;t=Object.assign({forceCanvas:!1},t),this.renderer=Jre(t),this.stage=new yn,e._plugins.forEach(function(r){r.init.call(n,t)})},z_={view:{configurable:!0},screen:{configurable:!0}};wo.registerPlugin=function(t){wo._plugins.push(t)};wo.prototype.render=function(){this.renderer.render(this.stage)};z_.view.get=function(){return this.renderer.view};z_.screen.get=function(){return this.renderer.screen};wo.prototype.destroy=function(t,n){var r=this,i=wo._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(r)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null};Object.defineProperties(wo.prototype,z_);wo._plugins=[];var j_=function(){};j_.init=function(t){var n=this;Object.defineProperty(this,"resizeTo",{set:function(i){window.removeEventListener("resize",this.resize),this._resizeTo=i,i&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){n._resizeTo&&(n._resizeTo===window?n.renderer.resize(window.innerWidth,window.innerHeight):n.renderer.resize(n._resizeTo.clientWidth,n._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null};j_.destroy=function(){this.resizeTo=null,this.resize=null};wo.registerPlugin(j_);var Tie=(e,t={})=>{if(!e)return;const n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={};let a=14;for(;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(o,s,l){s&&(i[n.q.name][s]=l)}),i};const dk=vu(Tie);class kv{constructor(t,n=!1,r){this._fn=t,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function gC(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}class zo{constructor(){this._head=this._tail=void 0}handlers(t=!1){let n=this._head;if(t)return!!n;const r=[];for(;n;)r.push(n),n=n._next;return r}has(t){if(!(t instanceof kv))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}dispatch(){let t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}add(t,n=null){if(typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return gC(this,new kv(t,!1,n))}once(t,n=null){if(typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return gC(this,new kv(t,!0,n))}detach(t){if(!(t instanceof kv))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}detachAll(){let t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function gl(){}function mC(e,t,n,r){var i=0,a=e.length;(function o(s){if(s||i===a){n&&n(s);return}r?setTimeout(function(){t(e[i++],o)},1):t(e[i++],o)})()}function Pie(e){return function(){if(e===null)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,arguments)}}function Oie(e,t){if(t==null)t=1;else if(t===0)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:t,saturated:gl,unsaturated:gl,buffer:t/4,empty:gl,drain:gl,error:gl,started:!1,paused:!1,push:function(s,l){i(s,!1,l)},kill:function(){n=0,r.drain=gl,r.started=!1,r._tasks=[]},unshift:function(s,l){i(s,!0,l)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var s=r._tasks.shift();r._tasks.length===0&&r.empty(),n+=1,n===r.concurrency&&r.saturated(),e(s.data,Pie(a(s)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){r.paused!==!0&&(r.paused=!0)},resume:function(){if(r.paused!==!1){r.paused=!1;for(var s=1;s<=r.concurrency;s++)r.process()}}};function i(o,s,l){if(l!=null&&typeof l!="function")throw new Error("task callback must be a function");if(r.started=!0,o==null&&r.idle()){setTimeout(function(){return r.drain()},1);return}var u={data:o,callback:typeof l=="function"?l:gl};s?r._tasks.unshift(u):r._tasks.push(u),setTimeout(function(){return r.process()},1)}function a(o){return function(){n-=1,o.callback.apply(o,arguments),arguments[0]!=null&&r.error(arguments[0],o.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var Hy={};function Iie(e,t){var n=this;Hy[e.url]?(e.data=Hy[e.url],e.complete()):e.onComplete.once(function(){return Hy[n.url]=n.data}),t()}function yC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vk(e,t,n){return t&&yC(e.prototype,t),n&&yC(e,n),e}var Mie=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Bv=null,Die=0,bC=200,Fie=204,kie=1223,Bie=2;function Rie(){}var It=function(){e.setExtensionLoadType=function(r,i){wC(e._loadTypeMap,r,i)},e.setExtensionXhrType=function(r,i){wC(e._xhrTypeMap,r,i)};function e(n,r,i){if(typeof n!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=n,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=i.crossOrigin===!0?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Rie,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new zo,this.onProgress=new zo,this.onComplete=new zo,this.onAfterMiddleware=new zo}var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(r){var i=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(i)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:Mie&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t._hasFlag=function(r){return(this._flags&r)!==0},t._setFlag=function(r,i){this._flags=i?this._flags|r:this._flags&~r},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var i=this.metadata.mimeType,a=0;a<this.url.length;++a)this.data.appendChild(this._createSource(r,this.url[a],Array.isArray(i)?i[a]:i));else{var o=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(o)?o[0]:o))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=e.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t._createSource=function(r,i,a){a||(a=r+"/"+this._getExtension(i));var o=document.createElement("source");return o.src=i,o.type=a,o},t._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var r=this.xhr;this.abort(Gy(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t._xhrOnTimeout=function(){var r=this.xhr;this.abort(Gy(r)+" Request timed out.")},t._xhrOnAbort=function(){var r=this.xhr;this.abort(Gy(r)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var r=this.xhr,i="",a=typeof r.status>"u"?bC:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(i=r.responseText),a===Die&&(i.length>0||r.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?a=bC:a===kie&&(a=Fie);var o=a/100|0;if(o===Bie)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=e.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(i,"text/xml")}else{var l=document.createElement("div");l.innerHTML=i,this.data=l}this.type=e.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=r.response||i;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t._determineCrossOrigin=function(r,i){if(r.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";i=i||window.location,Bv||(Bv=document.createElement("a")),Bv.href=r,r=dk(Bv.href,{strictMode:!0});var a=!r.port&&i.port===""||r.port===i.port,o=r.protocol?r.protocol+":":"";return r.host!==i.hostname||!a||o!==i.protocol?"anonymous":""},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var r=this.url,i="";if(this.isDataUrl){var a=r.indexOf("/");i=r.substring(a+1,r.indexOf(";",a))}else{var o=r.indexOf("?"),s=r.indexOf("#"),l=Math.min(o>-1?o:r.length,s>-1?s:r.length);r=r.substring(0,l),i=r.substring(r.lastIndexOf(".")+1)}return i.toLowerCase()},t._getMimeFromXhrType=function(r){switch(r){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},vk(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();It.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};It.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};It.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};It.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};It._loadTypeMap={gif:It.LOAD_TYPE.IMAGE,png:It.LOAD_TYPE.IMAGE,bmp:It.LOAD_TYPE.IMAGE,jpg:It.LOAD_TYPE.IMAGE,jpeg:It.LOAD_TYPE.IMAGE,tif:It.LOAD_TYPE.IMAGE,tiff:It.LOAD_TYPE.IMAGE,webp:It.LOAD_TYPE.IMAGE,tga:It.LOAD_TYPE.IMAGE,svg:It.LOAD_TYPE.IMAGE,"svg+xml":It.LOAD_TYPE.IMAGE,mp3:It.LOAD_TYPE.AUDIO,ogg:It.LOAD_TYPE.AUDIO,wav:It.LOAD_TYPE.AUDIO,mp4:It.LOAD_TYPE.VIDEO,webm:It.LOAD_TYPE.VIDEO};It._xhrTypeMap={xhtml:It.XHR_RESPONSE_TYPE.DOCUMENT,html:It.XHR_RESPONSE_TYPE.DOCUMENT,htm:It.XHR_RESPONSE_TYPE.DOCUMENT,xml:It.XHR_RESPONSE_TYPE.DOCUMENT,tmx:It.XHR_RESPONSE_TYPE.DOCUMENT,svg:It.XHR_RESPONSE_TYPE.DOCUMENT,tsx:It.XHR_RESPONSE_TYPE.DOCUMENT,gif:It.XHR_RESPONSE_TYPE.BLOB,png:It.XHR_RESPONSE_TYPE.BLOB,bmp:It.XHR_RESPONSE_TYPE.BLOB,jpg:It.XHR_RESPONSE_TYPE.BLOB,jpeg:It.XHR_RESPONSE_TYPE.BLOB,tif:It.XHR_RESPONSE_TYPE.BLOB,tiff:It.XHR_RESPONSE_TYPE.BLOB,webp:It.XHR_RESPONSE_TYPE.BLOB,tga:It.XHR_RESPONSE_TYPE.BLOB,json:It.XHR_RESPONSE_TYPE.JSON,text:It.XHR_RESPONSE_TYPE.TEXT,txt:It.XHR_RESPONSE_TYPE.TEXT,ttf:It.XHR_RESPONSE_TYPE.BUFFER,otf:It.XHR_RESPONSE_TYPE.BUFFER};It.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function wC(e,t,n){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=n)}function Gy(e){return e.toString().replace("object ","")}var Lie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Nie(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],a=0;a<r.length;++a)n<e.length?r[a]=e.charCodeAt(n++)&255:r[a]=0;i[0]=r[0]>>2,i[1]=(r[0]&3)<<4|r[1]>>4,i[2]=(r[1]&15)<<2|r[2]>>6,i[3]=r[2]&63;var o=n-(e.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)t+=Lie.charAt(i[s])}return t}var xC=window.URL||window.webkitURL;function Uie(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===It.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof e.data=="string"){var n=e.xhr.getResponseHeader("content-type");if(n&&n.indexOf("image")===0){e.data=new Image,e.data.src="data:"+n+";base64,"+Nie(e.xhr.responseText),e.type=It.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var r=xC.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=r,e.type=It.TYPE.IMAGE,e.data.onload=function(){xC.revokeObjectURL(r),e.data.onload=null,t()};return}}t()}var Vie={caching:Iie,parsing:Uie},Yy=100,$ie=/(#[\w-]+)?$/,Zo=function(){function e(n,r){var i=this;n===void 0&&(n=""),r===void 0&&(r=10),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(s,l){return i._loadResource(s,l)},this._queue=Oie(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new zo,this.onError=new zo,this.onLoad=new zo,this.onStart=new zo,this.onComplete=new zo;for(var a=0;a<e._defaultBeforeMiddleware.length;++a)this.pre(e._defaultBeforeMiddleware[a]);for(var o=0;o<e._defaultAfterMiddleware.length;++o)this.use(e._defaultAfterMiddleware[o])}var t=e.prototype;return t.add=function(r,i,a,o){if(Array.isArray(r)){for(var s=0;s<r.length;++s)this.add(r[s]);return this}if(typeof r=="object"&&(o=i||r.callback||r.onComplete,a=r,i=r.url,r=r.name||r.key||r.url),typeof i!="string"&&(o=a,a=i,i=r),typeof i!="string")throw new Error("No url passed to add resource to loader.");if(typeof a=="function"&&(o=a,a=null),this.loading&&(!a||!a.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(i=this._prepareUrl(i),this.resources[r]=new It(r,i,a),typeof o=="function"&&this.resources[r].onAfterMiddleware.once(o),this.loading){for(var l=a.parentResource,u=[],c=0;c<l.children.length;++c)l.children[c].isComplete||u.push(l.children[c]);var h=l.progressChunk*(u.length+1),f=h/(u.length+2);l.children.push(this.resources[r]),l.progressChunk=f;for(var d=0;d<u.length;++d)u[d].progressChunk=f;this.resources[r].progressChunk=f}return this._queue.push(this.resources[r]),this},t.pre=function(r){return this._beforeMiddleware.push(r),this},t.use=function(r){return this._afterMiddleware.push(r),this},t.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var i=this.resources[r];i._onLoadBinding&&i._onLoadBinding.detach(),i.isLoading&&i.abort()}return this.resources={},this},t.load=function(r){if(typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=this._queue._tasks.length,a=Yy/i,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=a;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(r){var i=dk(r,{strictMode:!0}),a;if(i.protocol||!i.path||r.indexOf("//")===0?a=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?a=this.baseUrl+"/"+r:a=this.baseUrl+r,this.defaultQueryString){var o=$ie.exec(a)[0];a=a.substr(0,a.length-o.length),a.indexOf("?")!==-1?a+="&"+this.defaultQueryString:a+="?"+this.defaultQueryString,a+=o}return a},t._loadResource=function(r,i){var a=this;r._dequeue=i,mC(this._beforeMiddleware,function(o,s){o.call(a,r,function(){s(r.isComplete?{}:null)})},function(){r.isComplete?a._onLoad(r):(r._onLoadBinding=r.onComplete.once(a._onLoad,a),r.load())},!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=Yy,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(r){var i=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),mC(this._afterMiddleware,function(a,o){a.call(i,r,o)},function(){r.onAfterMiddleware.dispatch(r),i.progress=Math.min(Yy,i.progress+r.progressChunk),i.onProgress.dispatch(i,r),r.error?i.onError.dispatch(r.error,i,r):i.onLoad.dispatch(i,r),i._resourcesParsing.splice(i._resourcesParsing.indexOf(r),1),i._queue.idle()&&i._resourcesParsing.length===0&&i._onComplete()},!0)},vk(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r}}]),e}();Zo._defaultBeforeMiddleware=[];Zo._defaultAfterMiddleware=[];Zo.pre=function(t){return Zo._defaultBeforeMiddleware.push(t),Zo};Zo.use=function(t){return Zo._defaultAfterMiddleware.push(t),Zo};/*!
 * @pixi/loaders - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pk=function(){};pk.use=function(t,n){t.data&&t.type===It.TYPE.IMAGE&&(t.texture=nn.fromLoader(t.data,t.url,t.name)),n()};var Ua=function(e){function t(r,i){var a=this;e.call(this,r,i),mu.call(this);for(var o=0;o<t._plugins.length;++o){var s=t._plugins[o],l=s.pre,u=s.use;l&&this.pre(l),u&&this.use(u)}this.onStart.add(function(c){return a.emit("start",c)}),this.onProgress.add(function(c,h){return a.emit("progress",c,h)}),this.onError.add(function(c,h,f){return a.emit("error",c,h,f)}),this.onLoad.add(function(c,h){return a.emit("load",c,h)}),this.onComplete.add(function(c,h){return a.emit("complete",c,h)}),this._protected=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={shared:{configurable:!0}};return t.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},n.shared.get=function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},Object.defineProperties(t,n),t}(Zo);Object.assign(Ua.prototype,mu.prototype);Ua._plugins=[];Ua.registerPlugin=function(t){return Ua._plugins.push(t),t.add&&t.add(),Ua};Ua.registerPlugin({use:Vie.parsing});Ua.registerPlugin(pk);var H_=function(){};H_.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Ua.shared:new Ua};H_.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Kh=It;/*!
 * @pixi/particles - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kc=function(t,n,r){this.geometry=new Cr,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var a=t[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||oi.FLOAT,offset:a.offset},n[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};Kc.prototype.initBuffers=function(){var t=this.geometry,n=0;this.indexBuffer=new Br(Vne(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=n,n+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Br(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var l=this.staticProperties[s];l.offset=o,o+=l.size,this.staticStride+=l.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new Br(this.staticData,!0,!1);for(var c=0;c<this.dynamicProperties.length;++c){var h=this.dynamicProperties[c];t.addAttribute(h.attributeName,this.dynamicBuffer,0,h.type===oi.UNSIGNED_BYTE,h.type,this.dynamicStride*4,h.offset*4)}for(var f=0;f<this.staticProperties.length;++f){var d=this.staticProperties[f];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===oi.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}};Kc.prototype.uploadDynamic=function(t,n,r){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(t,n,r,a.type===oi.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++};Kc.prototype.uploadStatic=function(t,n,r){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(t,n,r,a.type===oi.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++};Kc.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var zie=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,jie=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Hie=function(e){function t(n){e.call(this,n),this.shader=null,this.properties=null,this.tempMatrix=new ln,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:oi.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ya.from(zie,jie,{})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(r){var i=r.children,a=r._maxSize,o=r._batchSize,s=this.renderer,l=i.length;if(l!==0){l>a&&!r.autoResize&&(l=a);var u=r._buffers;u||(u=r._buffers=this.generateBuffers(r));var c=i[0]._texture.baseTexture;this.renderer.state.setBlendMode(kF(r.blendMode,c.premultiplyAlpha));var h=s.gl,f=r.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=Nne(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,c.premultiplyAlpha),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var d=!1,v=0,g=0;v<l;v+=o,g+=1){var p=l-v;p>o&&(p=o),g>=u.length&&u.push(this._generateOneMoreBuffer(r));var y=u[g];y.uploadDynamic(i,v,p);var m=r._bufferUpdateIDs[g]||0;d=d||y._updateID<m,d&&(y._updateID=r._updateID,y.uploadStatic(i,v,p)),s.geometry.bind(y.geometry),h.drawElements(h.TRIANGLES,p*6,h.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var i=[],a=r._maxSize,o=r._batchSize,s=r._properties,l=0;l<a;l+=o)i.push(new Kc(this.properties,s,o));return i},t.prototype._generateOneMoreBuffer=function(r){var i=r._batchSize,a=r._properties;return new Kc(this.properties,a,i)},t.prototype.uploadVertices=function(r,i,a,o,s,l){for(var u=0,c=0,h=0,f=0,d=0;d<a;++d){var v=r[i+d],g=v._texture,p=v.scale.x,y=v.scale.y,m=g.trim,b=g.orig;m?(c=m.x-v.anchor.x*b.width,u=c+m.width,f=m.y-v.anchor.y*b.height,h=f+m.height):(u=b.width*(1-v.anchor.x),c=b.width*-v.anchor.x,h=b.height*(1-v.anchor.y),f=b.height*-v.anchor.y),o[l]=c*p,o[l+1]=f*y,o[l+s]=u*p,o[l+s+1]=f*y,o[l+s*2]=u*p,o[l+s*2+1]=h*y,o[l+s*3]=c*p,o[l+s*3+1]=h*y,l+=s*4}},t.prototype.uploadPosition=function(r,i,a,o,s,l){for(var u=0;u<a;u++){var c=r[i+u].position;o[l]=c.x,o[l+1]=c.y,o[l+s]=c.x,o[l+s+1]=c.y,o[l+s*2]=c.x,o[l+s*2+1]=c.y,o[l+s*3]=c.x,o[l+s*3+1]=c.y,l+=s*4}},t.prototype.uploadRotation=function(r,i,a,o,s,l){for(var u=0;u<a;u++){var c=r[i+u].rotation;o[l]=c,o[l+s]=c,o[l+s*2]=c,o[l+s*3]=c,l+=s*4}},t.prototype.uploadUvs=function(r,i,a,o,s,l){for(var u=0;u<a;++u){var c=r[i+u]._texture._uvs;c?(o[l]=c.x0,o[l+1]=c.y0,o[l+s]=c.x1,o[l+s+1]=c.y1,o[l+s*2]=c.x2,o[l+s*2+1]=c.y2,o[l+s*3]=c.x3,o[l+s*3+1]=c.y3,l+=s*4):(o[l]=0,o[l+1]=0,o[l+s]=0,o[l+s+1]=0,o[l+s*2]=0,o[l+s*2+1]=0,o[l+s*3]=0,o[l+s*3+1]=0,l+=s*4)}},t.prototype.uploadTint=function(r,i,a,o,s,l){for(var u=0;u<a;++u){var c=r[i+u],h=c._texture.baseTexture.premultiplyAlpha,f=c.alpha,d=f<1&&h?E_(c._tintRGB,f):c._tintRGB+(f*255<<24);o[l]=d,o[l+s]=d,o[l+s*2]=d,o[l+s*3]=d,l+=s*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(ms);/*!
 * @pixi/spritesheet - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ji=function(t,n,r){r===void 0&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(r||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},gk={BATCH_SIZE:{configurable:!0}};gk.BATCH_SIZE.get=function(){return 1e3};ji.prototype._updateResolution=function(t){var n=this.data.meta.scale,r=Hg(t,null);return r===null&&(r=n!==void 0?parseFloat(n):1),r!==1&&this.baseTexture.setResolution(r),r};ji.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=ji.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()};ji.prototype._processFrames=function(t){for(var n=t,r=ji.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],a=this._frames[i],o=a.frame;if(o){var s=null,l=null,u=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,c=new tn(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a.rotated?s=new tn(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):s=new tn(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(l=new tn(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new nn(this.baseTexture,s,c,l,a.rotated?2:0,a.anchor),nn.addToCache(this.textures[i],i)}n++}};ji.prototype._processAnimations=function(){var t=this.data.animations||{};for(var n in t){this.animations[n]=[];for(var r=0;r<t[n].length;r++){var i=t[n][r];this.animations[n].push(this.textures[i])}}};ji.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)};ji.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*ji.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*ji.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)};ji.prototype.destroy=function(t){t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null};Object.defineProperties(ji,gk);var Zg=function(){};Zg.use=function(t,n){var r=t.name+"_image";if(!t.data||t.type!==Kh.TYPE.JSON||!t.data.frames||this.resources[r]){n();return}var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=Zg.getResourcePath(t,this.baseUrl);this.add(r,a,i,function(s){if(s.error){n(s.error);return}var l=new ji(s.texture.baseTexture,t.data,t.url);l.parse(function(){t.spritesheet=l,t.textures=l.textures,n()})})};Zg.getResourcePath=function(t,n){return t.isDataUrl?t.data.meta.image:yu.resolve(t.url.replace(n,""),t.data.meta.image)};/*!
 * @pixi/sprite-tiling - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */new Yn;var _C=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Gie=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    gl_FragColor = sample * uColor;
}
`,Yie=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`,Rv=new ln,Xie=function(e){function t(n){e.call(this,n);var r={globals:this.renderer.globalUniforms};this.shader=ya.from(_C,Gie,r),this.simpleShader=ya.from(_C,Yie,r),this.quad=new XF}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(r){var i=this.renderer,a=this.quad,o=a.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&(o=a.uvs,o[0]=o[6]=-r.anchor.x,o[1]=o[3]=-r.anchor.y,o[2]=o[4]=1-r.anchor.x,o[5]=o[7]=1-r.anchor.y),a.invalidate();var s=r._texture,l=s.baseTexture,u=r.tileTransform.localTransform,c=r.uvMatrix,h=l.isPowerOfTwo&&s.frame.width===l.width&&s.frame.height===l.height;h&&(l._glTextures[i.CONTEXT_UID]?h=l.wrapMode!==mh.CLAMP:l.wrapMode===mh.CLAMP&&(l.wrapMode=mh.REPEAT));var f=h?this.simpleShader:this.shader,d=s.width,v=s.height,g=r._width,p=r._height;Rv.set(u.a*d/g,u.b*d/p,u.c*v/g,u.d*v/p,u.tx/g,u.ty/p),Rv.invert(),h?Rv.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=Rv.toArray(!0),f.uniforms.uColor=Une(r.tint,r.worldAlpha,f.uniforms.uColor,l.premultiplyAlpha),f.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),f.uniforms.uSampler=s,i.shader.bind(f),i.geometry.bind(a),i.state.setBlendMode(kF(r.blendMode,l.premultiplyAlpha)),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(ms);/*!
 * @pixi/text-bitmap - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mk=function(e){function t(r,i){var a=this;i===void 0&&(i={}),e.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:i.tint!==void 0?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=r,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new $i(function(){a.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=Ut.ROUND_PIXELS,this.updateText()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return t.prototype.updateText=function(){for(var i=t.fonts[this._font.name],a=this._font.size/i.size,o=new Yn,s=[],l=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=u.length,h=this._maxWidth*i.size/this._font.size,f=null,d=0,v=0,g=0,p=-1,y=0,m=0,b=0,w=0;w<c;w++){var x=u.charCodeAt(w),_=u.charAt(w);if(/(?:\s)/.test(_)&&(p=w,y=d),_==="\r"||_===`
`){l.push(d),v=Math.max(v,d),++g,++m,o.x=0,o.y+=i.lineHeight,f=null;continue}var S=i.chars[x];S&&(f&&S.kerning[f]&&(o.x+=S.kerning[f]),s.push({texture:S.texture,line:g,charCode:x,position:new Yn(o.x+S.xOffset+this._letterSpacing/2,o.y+S.yOffset)}),o.x+=S.xAdvance+this._letterSpacing,d=o.x,b=Math.max(b,S.yOffset+S.texture.height),f=x,p!==-1&&h>0&&o.x>h&&(++m,xc(s,1+p-m,1+w-p),w=p,p=-1,l.push(y),v=Math.max(v,y),g++,o.x=0,o.y+=i.lineHeight,f=null))}var P=u.charAt(u.length-1);P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(d=y),l.push(d),v=Math.max(v,d));for(var C=[],D=0;D<=g;D++){var T=0;this._font.align==="right"?T=v-l[D]:this._font.align==="center"&&(T=(v-l[D])/2),C.push(T)}for(var B=s.length,I=this.tint,O=0;O<B;O++){var L=this._glyphs[O];L?L.texture=s[O].texture:(L=new ja(s[O].texture),L.roundPixels=this.roundPixels,this._glyphs.push(L)),L.position.x=(s[O].position.x+C[s[O].line])*a,L.position.y=s[O].position.y*a,L.scale.x=L.scale.y=a,L.tint=I,L.parent||this.addChild(L)}for(var R=B;R<this._glyphs.length;++R)this.removeChild(this._glyphs[R]);if(this._textWidth=v*a,this._textHeight=(o.y+i.lineHeight)*a,this.anchor.x!==0||this.anchor.y!==0)for(var U=0;U<B;U++)this._glyphs[U].x-=this._textWidth*this.anchor.x,this._glyphs[U].y-=this._textHeight*this.anchor.y;this._maxLineHeight=b*a},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},n.tint.get=function(){return this._font.tint},n.tint.set=function(r){this._font.tint=typeof r=="number"&&r>=0?r:16777215,this.dirty=!0},n.align.get=function(){return this._font.align},n.align.set=function(r){this._font.align=r||"left",this.dirty=!0},n.anchor.get=function(){return this._anchor},n.anchor.set=function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},n.font.get=function(){return this._font},n.font.set=function(r){r&&(typeof r=="string"?(r=r.split(" "),this._font.name=r.length===1?r[0]:r.slice(1).join(" "),this._font.size=r.length>=2?parseInt(r[0],10):t.fonts[this._font.name].size):(this._font.name=r.name,this._font.size=typeof r.size=="number"?r.size:parseInt(r.size,10)),this.dirty=!0)},n.text.get=function(){return this._text},n.text.set=function(r){r=String(r??""),this._text!==r&&(this._text=r,this.dirty=!0)},n.maxWidth.get=function(){return this._maxWidth},n.maxWidth.set=function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},n.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},n.textWidth.get=function(){return this.validate(),this._textWidth},n.letterSpacing.get=function(){return this._letterSpacing},n.letterSpacing.set=function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},n.textHeight.get=function(){return this.validate(),this._textHeight},t.registerFont=function(i,a){var o={},s=i.getElementsByTagName("info")[0],l=i.getElementsByTagName("common")[0],u=i.getElementsByTagName("page"),c=Hg(u[0].getAttribute("file"),Ut.RESOLUTION),h={};o.font=s.getAttribute("face"),o.size=parseInt(s.getAttribute("size"),10),o.lineHeight=parseInt(l.getAttribute("lineHeight"),10)/c,o.chars={},a instanceof nn&&(a=[a]);for(var f=0;f<u.length;f++){var d=u[f].getAttribute("id"),v=u[f].getAttribute("file");h[d]=a instanceof Array?a[f]:a[v]}for(var g=i.getElementsByTagName("char"),p=0;p<g.length;p++){var y=g[p],m=parseInt(y.getAttribute("id"),10),b=y.getAttribute("page")||0,w=new tn(parseInt(y.getAttribute("x"),10)/c+h[b].frame.x/c,parseInt(y.getAttribute("y"),10)/c+h[b].frame.y/c,parseInt(y.getAttribute("width"),10)/c,parseInt(y.getAttribute("height"),10)/c);o.chars[m]={xOffset:parseInt(y.getAttribute("xoffset"),10)/c,yOffset:parseInt(y.getAttribute("yoffset"),10)/c,xAdvance:parseInt(y.getAttribute("xadvance"),10)/c,kerning:{},texture:new nn(h[b].baseTexture,w),page:b}}for(var x=i.getElementsByTagName("kerning"),_=0;_<x.length;_++){var S=x[_],P=parseInt(S.getAttribute("first"),10)/c,C=parseInt(S.getAttribute("second"),10)/c,D=parseInt(S.getAttribute("amount"),10)/c;o.chars[C]&&(o.chars[C].kerning[P]=D)}return t.fonts[o.font]=o,o},Object.defineProperties(t.prototype,n),t}(yn);mk.fonts={};var $l=function(){};$l.parse=function(t,n){t.bitmapFont=mk.registerFont(t.data,n)};$l.add=function(){Kh.setExtensionXhrType("fnt",Kh.XHR_RESPONSE_TYPE.DOCUMENT)};$l.dirname=function(t){var n=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return n===t?".":n===""?"/":n};$l.use=function(t,n){if(!t.data||t.type!==Kh.TYPE.XML){n();return}if(t.data.getElementsByTagName("page").length===0||t.data.getElementsByTagName("info").length===0||t.data.getElementsByTagName("info")[0].getAttribute("face")===null){n();return}var r=t.isDataUrl?"":$l.dirname(t.url);t.isDataUrl&&(r==="."&&(r=""),this.baseUrl&&r&&this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(r+="/")),r=r.replace(this.baseUrl,""),r&&r.charAt(r.length-1)!=="/"&&(r+="/");for(var i=t.data.getElementsByTagName("page"),a={},o=function(v){a[v.metadata.pageFile]=v.texture,Object.keys(a).length===i.length&&($l.parse(t,a),n())},s=0;s<i.length;++s){var l=i[s].getAttribute("file"),u=r+l,c=!1;for(var h in this.resources){var f=this.resources[h];if(f.url===u){f.metadata.pageFile=l,f.texture?o(f):f.onAfterMiddleware.add(o),c=!0;break}}if(!c){var d={crossOrigin:t.crossOrigin,loadType:Kh.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(u,d,o)}}};/*!
 * @pixi/mixin-cache-as-bitmap - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var yk=new ln;Ar.prototype._cacheAsBitmap=!1;Ar.prototype._cacheData=!1;var Wie=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Ar.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var n;t?(this._cacheData||(this._cacheData=new Wie),n=this._cacheData,n.originalRender=this.render,n.originalRenderCanvas=this.renderCanvas,n.originalUpdateTransform=this.updateTransform,n.originalCalculateBounds=this.calculateBounds,n.originalGetLocalBounds=this.getLocalBounds,n.originalDestroy=this.destroy,n.originalContainsPoint=this.containsPoint,n.originalMask=this._mask,n.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(n=this._cacheData,n.sprite&&this._destroyCachedDisplayObject(),this.render=n.originalRender,this.renderCanvas=n.originalRenderCanvas,this.calculateBounds=n.originalCalculateBounds,this.getLocalBounds=n.originalGetLocalBounds,this.destroy=n.originalDestroy,this.updateTransform=n.originalUpdateTransform,this.containsPoint=n.originalContainsPoint,this._mask=n.originalMask,this.filterArea=n.originalFilterArea)}}}});Ar.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Ar.prototype._initCachedDisplayObject=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds().clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(Ut.RESOLUTION);var a=t.renderTexture.current,o=t.renderTexture.sourceFrame,s=t.projection.transform,l=cf.create(r.width,r.height),u="cacheAsBitmap_"+Yc();this._cacheData.textureCacheId=u,$n.addToCache(l.baseTexture,u),nn.addToCache(l,u);var c=yk;c.tx=-r.x,c.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,l,!0,c,!0),t.projection.transform=s,t.renderTexture.bind(a,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new ja(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};Ar.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Ar.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;n.ceil(Ut.RESOLUTION);var a=cf.create(n.width,n.height),o="cacheAsBitmap_"+Yc();this._cacheData.textureCacheId=o,$n.addToCache(a.baseTexture,o),nn.addToCache(a,o);var s=yk;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=n.x,s.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,a,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new ja(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(n.x/n.width),l.anchor.y=-(n.y/n.height),l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}};Ar.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID};Ar.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};Ar.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,$n.removeFromCache(this._cacheData.textureCacheId),nn.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ar.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ar.prototype.name=null;yn.prototype.getChildByName=function(t){for(var n=0;n<this.children.length;n++)if(this.children[n].name===t)return this.children[n];return null};/*!
 * @pixi/mixin-get-global-position - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ar.prototype.getGlobalPosition=function(t,n){return t===void 0&&(t=new Yn),n===void 0&&(n=!1),this.parent?this.parent.toGlobal(this.position,t,n):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/mesh - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var bk=function(t,n){this.uvBuffer=t,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};bk.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}};var Xy=new Yn,SC=new $s,qh=function(e){function t(r,i,a,o){o===void 0&&(o=Rs.TRIANGLES),e.call(this),this.geometry=r,r.refCount++,this.shader=i,this.state=a||os.for2d(),this.drawMode=o,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=Lt.NORMAL,this._roundPixels=Ut.ROUND_PIXELS,this.batchUvs=null}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return n.uvBuffer.get=function(){return this.geometry.buffers[1]},n.verticesBuffer.get=function(){return this.geometry.buffers[0]},n.material.set=function(r){this.shader=r},n.material.get=function(){return this.shader},n.blendMode.set=function(r){this.state.blendMode=r},n.blendMode.get=function(){return this.state.blendMode},n.roundPixels.set=function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},n.roundPixels.get=function(){return this._roundPixels},n.tint.get=function(){return this.shader.tint},n.tint.set=function(r){this.shader.tint=r},n.texture.get=function(){return this.shader.texture},n.texture.set=function(r){this.shader.texture=r},t.prototype._render=function(i){var a=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Rs.TRIANGLES&&a.length<t.BATCHABLE_SIZE*2?this._renderToBatch(i):this._renderDefault(i)},t.prototype._renderDefault=function(i){var a=this.shader;a.alpha=this.worldAlpha,a.update&&a.update(),i.batch.flush(),a.program.uniformData.translationMatrix&&(a.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),i.shader.bind(a),i.state.set(this.state),i.geometry.bind(this.geometry,a),i.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(i){var a=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=a.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var o=this.material.pluginName;i.batch.setObjectRenderer(i.plugins[o]),i.plugins[o].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry,a=i.buffers[0].data;if(!(i.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==a.length&&(this.vertexData=new Float32Array(a.length));for(var o=this.transform.worldTransform,s=o.a,l=o.b,u=o.c,c=o.d,h=o.tx,f=o.ty,d=this.vertexData,v=0;v<d.length/2;v++){var g=a[v*2],p=a[v*2+1];d[v*2]=s*g+u*p+h,d[v*2+1]=l*g+c*p+f}if(this._roundPixels)for(var y=0;y<d.length;y++)d[y]=Math.round(d[y]);this.vertexDirty=i.vertexDirtyId}},t.prototype.calculateUvs=function(){var i=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=i.data:(this.batchUvs||(this.batchUvs=new bk(i,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(i){if(!this.getBounds().contains(i.x,i.y))return!1;this.worldTransform.applyInverse(i,Xy);for(var a=this.geometry.getBuffer("aVertexPosition").data,o=SC.points,s=this.geometry.getIndex().data,l=s.length,u=this.drawMode===4?3:1,c=0;c+2<l;c+=u){var h=s[c]*2,f=s[c+1]*2,d=s[c+2]*2;if(o[0]=a[h],o[1]=a[h+1],o[2]=a[f],o[3]=a[f+1],o[4]=a[d],o[5]=a[d+1],SC.contains(Xy.x,Xy.y))return!0}return!1},t.prototype.destroy=function(i){e.prototype.destroy.call(this,i),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(t.prototype,n),t}(yn);qh.BATCHABLE_SIZE=100;/*!
 * pixi.js - v5.1.6
 * Compiled Thu, 13 Feb 2020 04:58:13 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ya.registerPlugin("accessibility",di);Ya.registerPlugin("extract",ss);Ya.registerPlugin("interaction",rie);Ya.registerPlugin("particle",Hie);Ya.registerPlugin("prepare",Sie);Ya.registerPlugin("batch",tie);Ya.registerPlugin("tilingSprite",Xie);Ua.registerPlugin($l);Ua.registerPlugin(Zg);wo.registerPlugin(O_);wo.registerPlugin(H_);function EC(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){n(u);return}s.done?t(l):Promise.resolve(l).then(r,i)}function Kie(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(l){EC(a,r,i,o,s,"next",l)}function s(l){EC(a,r,i,o,s,"throw",l)}o(void 0)})}}var On=Kie,Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pi(e,t,n){return n={path:t,exports:{},require:function(r,i){return Zie(r,i??n.path)}},e(n,n.exports),n.exports}function Zie(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Qie=pi(function(e){var t=function(n){var r=Object.prototype,i=r.hasOwnProperty,a,o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(U,$,j,z){var Y=$&&$.prototype instanceof y?$:y,Q=Object.create(Y.prototype),re=new O(z||[]);return Q._invoke=D(U,j,re),Q}n.wrap=c;function h(U,$,j){try{return{type:"normal",arg:U.call($,j)}}catch(z){return{type:"throw",arg:z}}}var f="suspendedStart",d="suspendedYield",v="executing",g="completed",p={};function y(){}function m(){}function b(){}var w={};w[s]=function(){return this};var x=Object.getPrototypeOf,_=x&&x(x(L([])));_&&_!==r&&i.call(_,s)&&(w=_);var S=b.prototype=y.prototype=Object.create(w);m.prototype=S.constructor=b,b.constructor=m,b[u]=m.displayName="GeneratorFunction";function P(U){["next","throw","return"].forEach(function($){U[$]=function(j){return this._invoke($,j)}})}n.isGeneratorFunction=function(U){var $=typeof U=="function"&&U.constructor;return $?$===m||($.displayName||$.name)==="GeneratorFunction":!1},n.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,b):(U.__proto__=b,u in U||(U[u]="GeneratorFunction")),U.prototype=Object.create(S),U},n.awrap=function(U){return{__await:U}};function C(U,$){function j(Q,re,he,ce){var te=h(U[Q],U,re);if(te.type==="throw")ce(te.arg);else{var ee=te.arg,Ue=ee.value;return Ue&&typeof Ue=="object"&&i.call(Ue,"__await")?$.resolve(Ue.__await).then(function(ye){j("next",ye,he,ce)},function(ye){j("throw",ye,he,ce)}):$.resolve(Ue).then(function(ye){ee.value=ye,he(ee)},function(ye){return j("throw",ye,he,ce)})}}var z;function Y(Q,re){function he(){return new $(function(ce,te){j(Q,re,ce,te)})}return z=z?z.then(he,he):he()}this._invoke=Y}P(C.prototype),C.prototype[l]=function(){return this},n.AsyncIterator=C,n.async=function(U,$,j,z,Y){Y===void 0&&(Y=Promise);var Q=new C(c(U,$,j,z),Y);return n.isGeneratorFunction($)?Q:Q.next().then(function(re){return re.done?re.value:Q.next()})};function D(U,$,j){var z=f;return function(Q,re){if(z===v)throw new Error("Generator is already running");if(z===g){if(Q==="throw")throw re;return R()}for(j.method=Q,j.arg=re;;){var he=j.delegate;if(he){var ce=T(he,j);if(ce){if(ce===p)continue;return ce}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(z===f)throw z=g,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);z=v;var te=h(U,$,j);if(te.type==="normal"){if(z=j.done?g:d,te.arg===p)continue;return{value:te.arg,done:j.done}}else te.type==="throw"&&(z=g,j.method="throw",j.arg=te.arg)}}}function T(U,$){var j=U.iterator[$.method];if(j===a){if($.delegate=null,$.method==="throw"){if(U.iterator.return&&($.method="return",$.arg=a,T(U,$),$.method==="throw"))return p;$.method="throw",$.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var z=h(j,U.iterator,$.arg);if(z.type==="throw")return $.method="throw",$.arg=z.arg,$.delegate=null,p;var Y=z.arg;if(!Y)return $.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,p;if(Y.done)$[U.resultName]=Y.value,$.next=U.nextLoc,$.method!=="return"&&($.method="next",$.arg=a);else return Y;return $.delegate=null,p}P(S),S[u]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"};function B(U){var $={tryLoc:U[0]};1 in U&&($.catchLoc=U[1]),2 in U&&($.finallyLoc=U[2],$.afterLoc=U[3]),this.tryEntries.push($)}function I(U){var $=U.completion||{};$.type="normal",delete $.arg,U.completion=$}function O(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(B,this),this.reset(!0)}n.keys=function(U){var $=[];for(var j in U)$.push(j);return $.reverse(),function z(){for(;$.length;){var Y=$.pop();if(Y in U)return z.value=Y,z.done=!1,z}return z.done=!0,z}};function L(U){if(U){var $=U[s];if($)return $.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var j=-1,z=function Y(){for(;++j<U.length;)if(i.call(U,j))return Y.value=U[j],Y.done=!1,Y;return Y.value=a,Y.done=!0,Y};return z.next=z}}return{next:R}}n.values=L;function R(){return{value:a,done:!0}}return O.prototype={constructor:O,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(I),!U)for(var $ in this)$.charAt(0)==="t"&&i.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=a)},stop:function(){this.done=!0;var U=this.tryEntries[0],$=U.completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var $=this;function j(ce,te){return Q.type="throw",Q.arg=U,$.next=ce,te&&($.method="next",$.arg=a),!!te}for(var z=this.tryEntries.length-1;z>=0;--z){var Y=this.tryEntries[z],Q=Y.completion;if(Y.tryLoc==="root")return j("end");if(Y.tryLoc<=this.prev){var re=i.call(Y,"catchLoc"),he=i.call(Y,"finallyLoc");if(re&&he){if(this.prev<Y.catchLoc)return j(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return j(Y.finallyLoc)}else if(re){if(this.prev<Y.catchLoc)return j(Y.catchLoc,!0)}else if(he){if(this.prev<Y.finallyLoc)return j(Y.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(U,$){for(var j=this.tryEntries.length-1;j>=0;--j){var z=this.tryEntries[j];if(z.tryLoc<=this.prev&&i.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var Y=z;break}}Y&&(U==="break"||U==="continue")&&Y.tryLoc<=$&&$<=Y.finallyLoc&&(Y=null);var Q=Y?Y.completion:{};return Q.type=U,Q.arg=$,Y?(this.method="next",this.next=Y.finallyLoc,p):this.complete(Q)},complete:function(U,$){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&$&&(this.next=$),p},finish:function(U){for(var $=this.tryEntries.length-1;$>=0;--$){var j=this.tryEntries[$];if(j.finallyLoc===U)return this.complete(j.completion,j.afterLoc),I(j),p}},catch:function(U){for(var $=this.tryEntries.length-1;$>=0;--$){var j=this.tryEntries[$];if(j.tryLoc===U){var z=j.completion;if(z.type==="throw"){var Y=z.arg;I(j)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(U,$,j){return this.delegate={iterator:L(U),resultName:$,nextLoc:j},this.method==="next"&&(this.arg=a),p}},n}(e.exports);try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}}),Ot=Qie;function Jie(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yb=Jie;function eae(e){if(Array.isArray(e))return Yb(e)}var tae=eae;function nae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}var rae=nae;function iae(e,t){if(e){if(typeof e=="string")return Yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yb(e,t)}}var wk=iae;function aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oae=aae;function sae(e){return tae(e)||rae(e)||wk(e)||oae()}var ct=sae;function lae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xs=lae;function uae(e){if(Array.isArray(e))return e}var cae=uae;function fae(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}var hae=fae;function dae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vae=dae;function pae(e,t){return cae(e)||hae(e,t)||wk(e,t)||vae()}var me=pae,gae=1e-6,iu=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Wy(){var e=new iu(16);return iu!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function mae(e){var t=new iu(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Xb(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],f=t[10],d=t[11],v=t[12],g=t[13],p=t[14],y=t[15],m=n*s-r*o,b=n*l-i*o,w=n*u-a*o,x=r*l-i*s,_=r*u-a*s,S=i*u-a*l,P=c*g-h*v,C=c*p-f*v,D=c*y-d*v,T=h*p-f*g,B=h*y-d*g,I=f*y-d*p,O=m*I-b*B+w*T+x*D-_*C+S*P;return O?(O=1/O,e[0]=(s*I-l*B+u*T)*O,e[1]=(i*B-r*I-a*T)*O,e[2]=(g*S-p*_+y*x)*O,e[3]=(f*_-h*S-d*x)*O,e[4]=(l*D-o*I-u*C)*O,e[5]=(n*I-i*D+a*C)*O,e[6]=(p*w-v*S-y*b)*O,e[7]=(c*S-f*w+d*b)*O,e[8]=(o*B-s*D+u*P)*O,e[9]=(r*D-n*B-a*P)*O,e[10]=(v*_-g*w+y*m)*O,e[11]=(h*w-c*_-d*m)*O,e[12]=(s*C-o*T-l*P)*O,e[13]=(n*T-r*C+i*P)*O,e[14]=(g*b-v*x-p*m)*O,e[15]=(c*x-h*b+f*m)*O,e):null}function Nf(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],f=t[9],d=t[10],v=t[11],g=t[12],p=t[13],y=t[14],m=t[15],b=n[0],w=n[1],x=n[2],_=n[3];return e[0]=b*r+w*s+x*h+_*g,e[1]=b*i+w*l+x*f+_*p,e[2]=b*a+w*u+x*d+_*y,e[3]=b*o+w*c+x*v+_*m,b=n[4],w=n[5],x=n[6],_=n[7],e[4]=b*r+w*s+x*h+_*g,e[5]=b*i+w*l+x*f+_*p,e[6]=b*a+w*u+x*d+_*y,e[7]=b*o+w*c+x*v+_*m,b=n[8],w=n[9],x=n[10],_=n[11],e[8]=b*r+w*s+x*h+_*g,e[9]=b*i+w*l+x*f+_*p,e[10]=b*a+w*u+x*d+_*y,e[11]=b*o+w*c+x*v+_*m,b=n[12],w=n[13],x=n[14],_=n[15],e[12]=b*r+w*s+x*h+_*g,e[13]=b*i+w*l+x*f+_*p,e[14]=b*a+w*u+x*d+_*y,e[15]=b*o+w*c+x*v+_*m,e}function AC(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function yae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bae(e,t,n){var r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),s,l,u;return o<gae?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(t),l=Math.cos(t),u=1-l,e[0]=r*r*u+l,e[1]=i*r*u+a*s,e[2]=a*r*u-i*s,e[3]=0,e[4]=r*i*u-a*s,e[5]=i*i*u+l,e[6]=a*i*u+r*s,e[7]=0,e[8]=r*a*u+i*s,e[9]=i*a*u-r*s,e[10]=a*a*u+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function wae(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function xae(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(l,u,c),e}function _ae(){var e=new iu(4);return iu!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Wb(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=_ae();return function(t,n,r,i,a,o){var s,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function Sae(){var e=new iu(2);return iu!=Float32Array&&(e[0]=0,e[1]=0),e}function Eae(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var l=(n*i+r*a)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)}(function(){var e=Sae();return function(t,n,r,i,a,o){var s,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();const Aae=(e=[0,0],t=1,n=0,r=[0,0],i=[0,1/0])=>{const a=new Float32Array(16),o=new Float32Array(16),s=new Float32Array(16);let l=Wy(),u=[...r.slice(0,2),0,1];const c=[...i],h=()=>Math.acos(l[0]),f=()=>xae(a,l)[0],d=()=>[...c],v=()=>1/f(),g=()=>wae(a,l).slice(0,2),p=()=>Wb(a,u,Xb(s,l)).slice(0,2),y=()=>l,m=()=>u.slice(0,2),b=([T=0,B=0]=[],I=1,O=0)=>{l=Wy(),w([-T,-B]),_(O),x(1/I)},w=([T=0,B=0]=[])=>{a[0]=T,a[1]=B,a[2]=0;const I=AC(o,a);Nf(l,I,l)},x=(T,B)=>{if(T<=0)return;const I=f(),O=I*T;if(T=Math.max(c[0],Math.min(O,c[1]))/I,T===1)return;a[0]=T,a[1]=T,a[2]=1;const L=yae(o,a),R=B?[...B,0]:u,U=AC(a,R);Nf(l,U,Nf(l,L,Nf(l,Xb(s,U),l)))},_=T=>{const B=Wy();bae(B,T,[0,0,1]),Nf(l,B,l)},S=T=>{c[0]=T[0],c[1]=T[1]},P=T=>{!T||T.length<16||(l=T)},C=T=>{u=[...T.slice(0,2),0,1]},D=()=>{b(e,t,n)};return b(e,t,n),{get translation(){return g()},get target(){return p()},get scaling(){return f()},get scaleBounds(){return d()},get distance(){return v()},get rotation(){return h()},get view(){return y()},get viewCenter(){return m()},lookAt:b,translate:w,pan:w,rotate:_,scale:x,zoom:x,reset:D,set:(...T)=>(console.warn("Deprecated. Please use `setView()` instead."),P(...T)),setScaleBounds:S,setView:P,setViewCenter:C}},Cae=(e,{distance:t=1,target:n=[0,0],rotation:r=0,isNdc:i=!0,isFixed:a=!1,isPan:o=!0,panSpeed:s=1,isRotate:l=!0,rotateSpeed:u=1,isZoom:c=!0,zoomSpeed:h=1,viewCenter:f=null,scaleBounds:d=null,onKeyDown:v=()=>{},onKeyUp:g=()=>{},onMouseDown:p=()=>{},onMouseUp:y=()=>{},onMouseMove:m=()=>{},onWheel:b=()=>{}}={})=>{let w=Aae(n,t,r,f,d),x=!1,_=0,S=0,P=0,C=0,D=!1,T=0,B=0,I=0,O=1,L=1,R=1,U=!1;const $=i?ae=>ae/O*2*R:ae=>ae,j=i?ae=>ae/L*2:ae=>-ae,z=i?ae=>(-1+ae/O*2)*R:ae=>ae,Y=i?ae=>1-ae/L*2:ae=>ae,Q=()=>{if(a)return!1;if(x=!1,o&&D&&!U&&(w.pan([$(s*(_-P)),j(s*(C-S))]),x=!0),c&&T){const ae=h*Math.exp(T/L),ke=z(_),Ce=Y(S);w.scale(1/ae,[ke,Ce]),x=!0}if(l&&D&&U){const ae=O/2,ke=L/2,Ce=P-ae,We=ke-C,X=_-ae,M=ke-S,k=Eae([Ce,We],[X,M]),W=Ce*M-X*We;w.rotate(u*k*Math.sign(W)),x=!0}return T=0,P=_,C=S,x},re=({isFixed:ae=null,isPan:ke=null,isRotate:Ce=null,isZoom:We=null,panSpeed:X=null,rotateSpeed:M=null,zoomSpeed:k=null}={})=>{a=ae!==null?ae:a,o=ke!==null?ke:o,l=Ce!==null?Ce:l,c=We!==null?We:c,s=+X>0?X:s,u=+M>0?M:u,h=+k>0?k:h},he=()=>{const ae=e.getBoundingClientRect();B=ae.top,I=ae.left,O=ae.width,L=ae.height,R=O/L},ce=ae=>{U=!1,g(ae)},te=ae=>{U=ae.altKey,v(ae)},ee=ae=>{D=!1,y(ae)},Ue=ae=>{D=ae.buttons===1,p(ae)},ye=ae=>{P=_,C=S,_=ae.clientX-I,S=ae.clientY-B,m(ae)},pe=ae=>{ae.preventDefault();const ke=ae.deltaMode===1?12:1;T+=ke*(ae.deltaY||0),b(ae)},Se=()=>{w=void 0,window.removeEventListener("keydown",te),window.removeEventListener("keyup",ce),e.removeEventListener("mousedown",Ue),window.removeEventListener("mouseup",ee),window.removeEventListener("mousemove",ye),e.removeEventListener("wheel",pe)};return window.addEventListener("keydown",te,{passive:!0}),window.addEventListener("keyup",ce,{passive:!0}),e.addEventListener("mousedown",Ue,{passive:!0}),window.addEventListener("mouseup",ee,{passive:!0}),window.addEventListener("mousemove",ye,{passive:!0}),e.addEventListener("wheel",pe,{passive:!1}),he(),w.config=re,w.dispose=Se,w.refresh=he,w.tick=Q,w},xk=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch{return{postMessage:()=>{}}}})(),_k=e=>(t,n,r=1/0)=>(e[t]||(e[t]=[],e.__times__[t]=[]),e[t].push(n),e.__times__[t].push(+r||1/0),{event:t,handler:n}),G_=e=>(t,n)=>{if(typeof t=="object"&&(n=t.handler,t=t.event),!e[t])return;const r=e[t].indexOf(n);r===-1||r>=e[t].length||(e[t].splice(r,1),e.__times__[t].splice(r,1))},Sk=(e,t)=>(n,r,i)=>{if(!e[n])return;const a=G_(e);if(e[n].forEach((o,s)=>{o(r),e.__times__[n][s]--,e.__times__[n][s]<1&&a(n,o)}),t&&!i)try{xk.postMessage({event:n,news:r})}catch(o){if(o instanceof DOMException)console.warn(`Could not broadcast '${n}' globally. Payload is not clonable.`);else throw o}},Tae=e=>()=>{Object.keys(e).filter(t=>t[0]!=="_").forEach(t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]})},Ek=()=>({__times__:{}}),Pae=(e=Ek())=>(e.__times__||(e.__times__={}),{publish:Sk(e),subscribe:_k(e),unsubscribe:G_(e),clear:Tae(e),stack:e}),Lv=Ek(),Oae={publish:Sk(Lv,!0),subscribe:_k(Lv),unsubscribe:G_(Lv),stack:Lv};xk.onmessage=({data:{event:e,news:t}})=>Oae.publish(e,t,!0);const Ak=(e,t,n=window.requestAnimationFrame)=>{let r=!1,i;return(...a)=>{if(i=a,!r)return r=!0,n(()=>{const o=e(...i);r=!1,t&&t(o)})}};var CC=pi(function(e,t){(function(n,r){e.exports=r()})(Qo,function(){function n(m,b,w,x,_){(function S(P,C,D,T,B){for(;T>D;){if(T-D>600){var I=T-D+1,O=C-D+1,L=Math.log(I),R=.5*Math.exp(2*L/3),U=.5*Math.sqrt(L*R*(I-R)/I)*(O-I/2<0?-1:1),$=Math.max(D,Math.floor(C-O*R/I+U)),j=Math.min(T,Math.floor(C+(I-O)*R/I+U));S(P,C,$,j,B)}var z=P[C],Y=D,Q=T;for(r(P,D,C),B(P[T],z)>0&&r(P,D,T);Y<Q;){for(r(P,Y,Q),Y++,Q--;B(P[Y],z)<0;)Y++;for(;B(P[Q],z)>0;)Q--}B(P[D],z)===0?r(P,D,Q):r(P,++Q,T),Q<=C&&(D=Q+1),C<=Q&&(T=Q-1)}})(m,b,w||0,x||m.length-1,_||i)}function r(m,b,w){var x=m[b];m[b]=m[w],m[w]=x}function i(m,b){return m<b?-1:m>b?1:0}var a=function(m){m===void 0&&(m=9),this._maxEntries=Math.max(4,m),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(m,b,w){if(!w)return b.indexOf(m);for(var x=0;x<b.length;x++)if(w(m,b[x]))return x;return-1}function s(m,b){l(m,0,m.children.length,b,m)}function l(m,b,w,x,_){_||(_=p(null)),_.minX=1/0,_.minY=1/0,_.maxX=-1/0,_.maxY=-1/0;for(var S=b;S<w;S++){var P=m.children[S];u(_,m.leaf?x(P):P)}return _}function u(m,b){return m.minX=Math.min(m.minX,b.minX),m.minY=Math.min(m.minY,b.minY),m.maxX=Math.max(m.maxX,b.maxX),m.maxY=Math.max(m.maxY,b.maxY),m}function c(m,b){return m.minX-b.minX}function h(m,b){return m.minY-b.minY}function f(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function d(m){return m.maxX-m.minX+(m.maxY-m.minY)}function v(m,b){return m.minX<=b.minX&&m.minY<=b.minY&&b.maxX<=m.maxX&&b.maxY<=m.maxY}function g(m,b){return b.minX<=m.maxX&&b.minY<=m.maxY&&b.maxX>=m.minX&&b.maxY>=m.minY}function p(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(m,b,w,x,_){for(var S=[b,w];S.length;)if(!((w=S.pop())-(b=S.pop())<=x)){var P=b+Math.ceil((w-b)/x/2)*x;n(m,P,b,w,_),S.push(b,P,P,w)}}return a.prototype.all=function(){return this._all(this.data,[])},a.prototype.search=function(m){var b=this.data,w=[];if(!g(m,b))return w;for(var x=this.toBBox,_=[];b;){for(var S=0;S<b.children.length;S++){var P=b.children[S],C=b.leaf?x(P):P;g(m,C)&&(b.leaf?w.push(P):v(m,C)?this._all(P,w):_.push(P))}b=_.pop()}return w},a.prototype.collides=function(m){var b=this.data;if(!g(m,b))return!1;for(var w=[];b;){for(var x=0;x<b.children.length;x++){var _=b.children[x],S=b.leaf?this.toBBox(_):_;if(g(m,S)){if(b.leaf||v(m,S))return!0;w.push(_)}}b=w.pop()}return!1},a.prototype.load=function(m){if(!m||!m.length)return this;if(m.length<this._minEntries){for(var b=0;b<m.length;b++)this.insert(m[b]);return this}var w=this._build(m.slice(),0,m.length-1,0);if(this.data.children.length)if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var x=this.data;this.data=w,w=x}this._insert(w,this.data.height-w.height-1,!0)}else this.data=w;return this},a.prototype.insert=function(m){return m&&this._insert(m,this.data.height-1),this},a.prototype.clear=function(){return this.data=p([]),this},a.prototype.remove=function(m,b){if(!m)return this;for(var w,x,_,S=this.data,P=this.toBBox(m),C=[],D=[];S||C.length;){if(S||(S=C.pop(),x=C[C.length-1],w=D.pop(),_=!0),S.leaf){var T=o(m,S.children,b);if(T!==-1)return S.children.splice(T,1),C.push(S),this._condense(C),this}_||S.leaf||!v(S,P)?x?(w++,S=x.children[w],_=!1):S=null:(C.push(S),D.push(w),w=0,x=S,S=S.children[0])}return this},a.prototype.toBBox=function(m){return m},a.prototype.compareMinX=function(m,b){return m.minX-b.minX},a.prototype.compareMinY=function(m,b){return m.minY-b.minY},a.prototype.toJSON=function(){return this.data},a.prototype.fromJSON=function(m){return this.data=m,this},a.prototype._all=function(m,b){for(var w=[];m;)m.leaf?b.push.apply(b,m.children):w.push.apply(w,m.children),m=w.pop();return b},a.prototype._build=function(m,b,w,x){var _,S=w-b+1,P=this._maxEntries;if(S<=P)return s(_=p(m.slice(b,w+1)),this.toBBox),_;x||(x=Math.ceil(Math.log(S)/Math.log(P)),P=Math.ceil(S/Math.pow(P,x-1))),(_=p([])).leaf=!1,_.height=x;var C=Math.ceil(S/P),D=C*Math.ceil(Math.sqrt(P));y(m,b,w,D,this.compareMinX);for(var T=b;T<=w;T+=D){var B=Math.min(T+D-1,w);y(m,T,B,C,this.compareMinY);for(var I=T;I<=B;I+=C){var O=Math.min(I+C-1,B);_.children.push(this._build(m,I,O,x-1))}}return s(_,this.toBBox),_},a.prototype._chooseSubtree=function(m,b,w,x){for(;x.push(b),!b.leaf&&x.length-1!==w;){for(var _=1/0,S=1/0,P=void 0,C=0;C<b.children.length;C++){var D=b.children[C],T=f(D),B=(I=m,O=D,(Math.max(O.maxX,I.maxX)-Math.min(O.minX,I.minX))*(Math.max(O.maxY,I.maxY)-Math.min(O.minY,I.minY))-T);B<S?(S=B,_=T<_?T:_,P=D):B===S&&T<_&&(_=T,P=D)}b=P||b.children[0]}var I,O;return b},a.prototype._insert=function(m,b,w){var x=w?m:this.toBBox(m),_=[],S=this._chooseSubtree(x,this.data,b,_);for(S.children.push(m),u(S,x);b>=0&&_[b].children.length>this._maxEntries;)this._split(_,b),b--;this._adjustParentBBoxes(x,_,b)},a.prototype._split=function(m,b){var w=m[b],x=w.children.length,_=this._minEntries;this._chooseSplitAxis(w,_,x);var S=this._chooseSplitIndex(w,_,x),P=p(w.children.splice(S,w.children.length-S));P.height=w.height,P.leaf=w.leaf,s(w,this.toBBox),s(P,this.toBBox),b?m[b-1].children.push(P):this._splitRoot(w,P)},a.prototype._splitRoot=function(m,b){this.data=p([m,b]),this.data.height=m.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},a.prototype._chooseSplitIndex=function(m,b,w){for(var x,_,S,P,C,D,T,B=1/0,I=1/0,O=b;O<=w-b;O++){var L=l(m,0,O,this.toBBox),R=l(m,O,w,this.toBBox),U=(_=L,S=R,P=void 0,C=void 0,D=void 0,T=void 0,P=Math.max(_.minX,S.minX),C=Math.max(_.minY,S.minY),D=Math.min(_.maxX,S.maxX),T=Math.min(_.maxY,S.maxY),Math.max(0,D-P)*Math.max(0,T-C)),$=f(L)+f(R);U<B?(B=U,x=O,I=$<I?$:I):U===B&&$<I&&(I=$,x=O)}return x||w-b},a.prototype._chooseSplitAxis=function(m,b,w){var x=m.leaf?this.compareMinX:c,_=m.leaf?this.compareMinY:h;this._allDistMargin(m,b,w,x)<this._allDistMargin(m,b,w,_)&&m.children.sort(x)},a.prototype._allDistMargin=function(m,b,w,x){m.children.sort(x);for(var _=this.toBBox,S=l(m,0,b,_),P=l(m,w-b,w,_),C=d(S)+d(P),D=b;D<w-b;D++){var T=m.children[D];u(S,m.leaf?_(T):T),C+=d(S)}for(var B=w-b-1;B>=b;B--){var I=m.children[B];u(P,m.leaf?_(I):I),C+=d(P)}return C},a.prototype._adjustParentBBoxes=function(m,b,w){for(var x=w;x>=0;x--)u(b[x],m)},a.prototype._condense=function(m){for(var b=m.length-1,w=void 0;b>=0;b--)m[b].children.length===0?b>0?(w=m[b-1].children).splice(w.indexOf(m[b]),1):this.clear():s(m[b],this.toBBox)},a})}),TC=!1,Tl,Kb,qb,mp,yp,Ck,bp,Zb,Qb,Jb,Tk,ew,tw,Pk,Ok;function _i(){if(!TC){TC=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(ew=/\b(iPhone|iP[ao]d)/.exec(e),tw=/\b(iP[ao]d)/.exec(e),Jb=/Android/i.exec(e),Pk=/FBAN\/\w+;/i.exec(e),Ok=/Mobile/i.exec(e),Tk=!!/Win64/.exec(e),t){Tl=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Tl&&document&&document.documentMode&&(Tl=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);Ck=r?parseFloat(r[1])+4:Tl,Kb=t[2]?parseFloat(t[2]):NaN,qb=t[3]?parseFloat(t[3]):NaN,mp=t[4]?parseFloat(t[4]):NaN,mp?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),yp=t&&t[1]?parseFloat(t[1]):NaN):yp=NaN}else Tl=Kb=qb=yp=mp=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);bp=i?parseFloat(i[1].replace("_",".")):!0}else bp=!1;Zb=!!n[2],Qb=!!n[3]}else bp=Zb=Qb=!1}}var nw={ie:function(){return _i()||Tl},ieCompatibilityMode:function(){return _i()||Ck>Tl},ie64:function(){return nw.ie()&&Tk},firefox:function(){return _i()||Kb},opera:function(){return _i()||qb},webkit:function(){return _i()||mp},safari:function(){return nw.webkit()},chrome:function(){return _i()||yp},windows:function(){return _i()||Zb},osx:function(){return _i()||bp},linux:function(){return _i()||Qb},iphone:function(){return _i()||ew},mobile:function(){return _i()||ew||tw||Jb||Ok},nativeApp:function(){return _i()||Pk},android:function(){return _i()||Jb},ipad:function(){return _i()||tw}},Iae=nw,Nv=!!(typeof window<"u"&&window.document&&window.document.createElement),Mae={canUseDOM:Nv,canUseWorkers:typeof Worker<"u",canUseEventListeners:Nv&&!!(window.addEventListener||window.attachEvent),canUseViewport:Nv&&!!window.screen,isInWorker:!Nv},Ik=Mae,Mk;Ik.canUseDOM&&(Mk=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Dae(e,t){if(!Ik.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&Mk&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Fae=Dae,PC=10,OC=40,IC=800;function Dk(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*PC,i=n*PC,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=OC,i*=OC):(r*=IC,i*=IC)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}Dk.getEventType=function(){return Iae.firefox()?"DOMMouseScroll":Fae("wheel")?"wheel":"mousewheel"};var kae=Dk,Bae=kae,Rae="BATCHING_REDUCER.BATCH";function As(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rae;return{type:t,meta:{batch:!0},payload:e}}function Lae(e){return function t(n,r){return r&&r.meta&&r.meta.batch?r.payload.reduce(t,n):e(n,r)}}const Fk=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,yh=e=>--e*e*e+1,Qg=(e,t,n)=>(n=Math.min(1,Math.max(0,n)),e*(1-n)+t*n),bh=(e,t,n)=>e.map((r,i)=>Qg(r,t[i],n)),wr=e=>e,MC=(e,t,n=6)=>Math.abs(e-t)<10**-n,kk=(e,t=wr)=>{const n=new Set,r=[];for(let i=0;i<e.length;i++){const a=t(e[i]);n.has(a)||(n.add(a),r.push(a))}return r},DC=Array.isArray,Yt=e=>!!(e&&e.constructor&&e.call&&e.apply),wp=e=>!!e&&e.constructor===Object,Bk=e=>Math.sqrt(e.reduce((t,n)=>t+n**2,0)),FC=e=>e.reduce((t,n)=>n>t?n:t,-1/0),Nae=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]>r?t[i]:r),new Array(e[0].length).fill(-1/0))}},Ku=e=>Y_(e)/e.length,Uf=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]+r/e.length),new Array(e[0].length).fill(0))}},Rk=e=>e[Math.floor(e.length/2)],Uae=Rk,Vae=e=>e.reduce((t,n)=>n<t?n:t,1/0),$ae=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]<r?t[i]:r),new Array(e[0].length).fill(1/0))}},zae=e=>{const t=Bk(e);return e.map(n=>n/t)},Y_=e=>e.reduce((t,n)=>n?t+n:t,0),jae=e=>{switch(e.length){case 0:return[];case 1:return e[0];default:return e.reduce((t,n)=>n.map((r,i)=>t[i]+r),new Array(e[0].length).fill(0))}},X_="http://www.w3.org/2000/svg",Ky=(e,t)=>{if(e.namespaceURI===X_){if(!rw(e,t)){const n=e.getAttribute("class")||"";e.setAttribute("class",`${n} ${t}`)}}else e.classList?e.classList.add(t):rw(e,t)||(e.className+=` ${t}`)},Lk=e=>{const t=document.createElement("div");return t.insertAdjacentHTML("beforeend",e),t.firstChild},rw=(e,t)=>{if(e.namespaceURI===X_){const n=e.getAttribute("class");return n&&!!n.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))},Hae=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},kC=e=>{e.removeChild(e.lastChild)},Gae=(e,t)=>{const n=new RegExp(`(\\s|^)${t}(\\s|$)`);if(e.namespaceURI===X_){const r=e.getAttribute("class")||"";e.setAttribute("class",r.replace(n," "))}else e.classList?e.classList.remove(t):rw(e,t)&&(e.className=e.className.replace(n," "))},er=(e,...t)=>(t.forEach(n=>{const r=Object.keys(n).reduce((i,a)=>(i[a]=Object.getOwnPropertyDescriptor(n,a),i),{});Object.getOwnPropertySymbols(n).forEach(i=>{const a=Object.getOwnPropertyDescriptor(n,i);a.enumerable&&(r[i]=a)}),Object.defineProperties(e,r)}),e),Nk=e=>{let t;return W_(t,e)},W_=(e,t)=>{if(t===null||typeof t!="object"||t.constructor!==Object&&t.constructor!==Array)return t;if(t.constructor===Date||t.constructor===RegExp||t.constructor===Function||t.constructor===String||t.constructor===Number||t.constructor===Boolean)return new t.constructor(t);const n=e||new t.constructor;return Object.keys(t).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t,r);typeof n[r]>"u"&&(typeof i.value>"u"?Object.defineProperty(n,r,i):n[r]=W_(void 0,t[r]))}),n},Uk=(e,t)=>{if(t===null||typeof t!="object")return t;if(t.constructor!==Object&&t.constructor!==Array)return new t.constructor(t);const n=new e.constructor;let r=!1;return Object.keys(t).forEach(i=>{const a=Object.getOwnPropertyDescriptor(t,i);e[i]===void 0?typeof a.value>"u"?Object.defineProperty(n,i,a):n[i]=W_(void 0,t[i]):n[i]=Uk(e[i],t[i]),r=r||n[i]!==e[i]}),r=r||Object.keys(e).filter(i=>typeof t[i]>"u").length,r?n:e},K_=e=>e.split(/(?=[A-Z])/).join("_").toUpperCase(),Jg=e=>`${e[0].toUpperCase()}${e.substr(1)}`,Yae=e=>t=>Array.prototype.forEach.call(t,e),Qi=(...e)=>t=>e.reduce((n,r)=>r(n),t),Co=e=>t=>er({__proto__:{constructor:e}},t),BC=(e,t)=>n=>er(n,{[e](...r){return t.apply(this,r)}}),Vk=(e,{initialValue:t=void 0,getter:n,setter:r,cloner:i=wr,transformer:a=wr,validator:o=()=>!0}={})=>s=>{let l=t;const u=n?()=>n():()=>i(l),c=r?h=>r(h):h=>{const f=a(h);l=o(f)?f:l};return er(s,{get[e](){return u()},[`set${Jg(e)}`](h){c(h)}})},Jo=(e,t)=>n=>er(n,{get[e](){return t()}}),Sn=(e,t)=>n=>er(n,{get[e](){return t}}),Xae=(e,t,n,r)=>Math.abs(e-n)+Math.abs(t-r),Pl=(e,t,n,r)=>Math.sqrt((e-n)**2+(t-r)**2),Wae=e=>(t,n)=>{const r=n.minX-t.minX,i=n.minX-t.maxX,a=n.maxX-t.minX,o=n.maxX-t.maxX,s=r<0&&a>0||i<0&&o>0||r>0&&i<0||a>0&&o<0,l=n.minY-t.minY,u=n.minY-t.maxY,c=n.maxY-t.minY,h=n.maxY-t.maxY,f=l<0&&c>0||u<0&&h>0||l>0&&u<0||c>0&&h<0;if(s&&f)return 0;const d=Math.min(Math.abs(l),Math.abs(u),Math.abs(c),Math.abs(h));if(s)return d;const v=Math.min(Math.abs(r),Math.abs(i),Math.abs(a),Math.abs(o));return f?v:(v**e+d**e)**(1/e)},Uv=([e,t]=[],n=[])=>{let r,i,a,o,s=!1;for(let l=0,u=n.length-2;l<n.length;l+=2)r=n[l],i=n[l+1],a=n[u],o=n[u+1],i>t!=o>t&&e<(a-r)*(t-i)/(o-i)+r&&(s=!s),u=l;return s},Kae=(e,t)=>new Map(function*(){yield*e,yield*t}()),qae=e=>new Worker(window.URL.createObjectURL(new Blob([`(${e.toString()})()`],{type:"text/javascript"}))),zl=()=>{},$k=(e,t)=>e-t,Zae=(e,t)=>t-e,Qae=(e,{getter:t=wr,comparator:n=$k,ignoreNull:r=!1}={})=>Object.entries(e).map(r?([i,a])=>t(a)===null?void 0:[i,t(a)]:([i,a])=>[i,t(a)]).sort((i,a)=>n(i[1],a[1])).reduce((i,a,o)=>(a&&(i[a[0]]=o),i),new e.constructor),qy=(e,t)=>{let n;const r=(...i)=>{const a=()=>{n=null,e(...i)};clearTimeout(n),n=setTimeout(a,t)};return r.cancel=()=>{clearTimeout(n)},r.now=(...i)=>e(...i),r},hc=(e=1)=>new Promise(t=>{let n=0;const r=()=>requestAnimationFrame(()=>{n++,n<e?r():t()});r()}),zk=(e,t,n=null)=>{let r,i=0;n=n===null?t:n;const a=(...l)=>{const u=()=>{i>0&&(e(...l),i=0)};clearTimeout(r),r=setTimeout(u,n)};let o=!1;const s=(...l)=>{o?(i++,a(...l)):(e(...l),a(...l),o=!0,i=0,setTimeout(()=>{o=!1},t))};return s.reset=()=>{o=!1},s.cancel=()=>{clearTimeout(r)},s.now=(...l)=>e(...l),s},Jae=e=>new Promise(t=>setTimeout(t,e));var q_=32,eoe=q_,toe=2147483647,noe=-1<<q_-1,roe=function(e){return(e>0)-(e<0)},ioe=function(e){var t=e>>q_-1;return(e^t)-t},aoe=function(e,t){return t^(e^t)&-(e<t)},ooe=function(e,t){return e^(e^t)&-(e<t)},soe=function(e){return!(e&e-1)&&!!e},loe=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1},uoe=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},coe=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function jk(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&(t-=1),t}var foe=jk,hoe=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},doe=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},voe=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1},nh=new Array(256);(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=n&1,--i;e[t]=r<<i&255}})(nh);var poe=function(e){return nh[e&255]<<24|nh[e>>>8&255]<<16|nh[e>>>16&255]<<8|nh[e>>>24&255]},goe=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1},moe=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},yoe=function(e,t,n){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|n<<2},boe=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},woe=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>jk(e)+1},Ti={INT_BITS:eoe,INT_MAX:toe,INT_MIN:noe,sign:roe,abs:ioe,min:aoe,max:ooe,isPow2:soe,log2:loe,log10:uoe,popCount:coe,countTrailingZeros:foe,nextPow2:hoe,prevPow2:doe,parity:voe,reverse:poe,interleave2:goe,deinterleave2:moe,interleave3:yoe,deinterleave3:boe,nextCombination:woe};function xoe(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}var _oe=xoe;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Soe=function(e){return e!=null&&(Hk(e)||Eoe(e)||!!e._isBuffer)};function Hk(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Eoe(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Hk(e.slice(0,0))}var Aoe=typeof Float64Array<"u";function Coe(e,t){return e[0]-t[0]}function Toe(){var e=this.stride,t=new Array(e.length),n;for(n=0;n<t.length;++n)t[n]=[Math.abs(e[n]),n];t.sort(Coe);var r=new Array(t.length);for(n=0;n<r.length;++n)r[n]=t[n][1];return r}function Poe(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var r=e==="generic";if(t===-1){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",g=new Function(i);return g()}else if(t===0){var i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",g=new Function("TrivialArray",i);return g(em[e][0])}var i=["'use strict'"],a=_oe(t),o=a.map(function(p){return"i"+p}),s="this.offset+"+a.map(function(p){return"this.stride["+p+"]*i"+p}).join("+"),l=a.map(function(p){return"b"+p}).join(","),u=a.map(function(p){return"c"+p}).join(",");i.push("function "+n+"(a,"+l+","+u+",d){this.data=a","this.shape=["+l+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map(function(p){return"this.shape["+p+"]"}).join("*"),"}})"),t===1?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+n+"_order(){"),t===2?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):t===3&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+o.join(",")+",v){"),r?i.push("return this.data.set("+s+",v)}"):i.push("return this.data["+s+"]=v}"),i.push("proto.get=function "+n+"_get("+o.join(",")+"){"),r?i.push("return this.data.get("+s+")}"):i.push("return this.data["+s+"]}"),i.push("proto.index=function "+n+"_index(",o.join(),"){return "+s+"}"),i.push("proto.hi=function "+n+"_hi("+o.join(",")+"){return new "+n+"(this.data,"+a.map(function(p){return["(typeof i",p,"!=='number'||i",p,"<0)?this.shape[",p,"]:i",p,"|0"].join("")}).join(",")+","+a.map(function(p){return"this.stride["+p+"]"}).join(",")+",this.offset)}");var c=a.map(function(p){return"a"+p+"=this.shape["+p+"]"}),h=a.map(function(p){return"c"+p+"=this.stride["+p+"]"});i.push("proto.lo=function "+n+"_lo("+o.join(",")+"){var b=this.offset,d=0,"+c.join(",")+","+h.join(","));for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'&&i"+f+">=0){d=i"+f+"|0;b+=c"+f+"*d;a"+f+"-=d}");i.push("return new "+n+"(this.data,"+a.map(function(p){return"a"+p}).join(",")+","+a.map(function(p){return"c"+p}).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+o.join(",")+"){var "+a.map(function(p){return"a"+p+"=this.shape["+p+"]"}).join(",")+","+a.map(function(p){return"b"+p+"=this.stride["+p+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'){d=i"+f+"|0;if(d<0){c+=b"+f+"*(a"+f+"-1);a"+f+"=ceil(-a"+f+"/d)}else{a"+f+"=ceil(a"+f+"/d)}b"+f+"*=d}");i.push("return new "+n+"(this.data,"+a.map(function(p){return"a"+p}).join(",")+","+a.map(function(p){return"b"+p}).join(",")+",c)}");for(var d=new Array(t),v=new Array(t),f=0;f<t;++f)d[f]="a[i"+f+"]",v[f]="b[i"+f+"]";i.push("proto.transpose=function "+n+"_transpose("+o+"){"+o.map(function(p,y){return p+"=("+p+"===undefined?"+y+":"+p+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+d.join(",")+","+v.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+o+"){var a=[],b=[],c=this.offset");for(var f=0;f<t;++f)i.push("if(typeof i"+f+"==='number'&&i"+f+">=0){c=(c+this.stride["+f+"]*i"+f+")|0}else{a.push(this.shape["+f+"]);b.push(this.stride["+f+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map(function(p){return"shape["+p+"]"}).join(",")+","+a.map(function(p){return"stride["+p+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",i.join(`
`));return g(em[e],Toe)}function Ooe(e){if(Soe(e))return"buffer";if(Aoe)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}var em={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function Ioe(e,t,n,r){if(e===void 0){var u=em.array[0];return u([])}else typeof e=="number"&&(e=[e]);t===void 0&&(t=[e.length]);var i=t.length;if(n===void 0){n=new Array(i);for(var a=i-1,o=1;a>=0;--a)n[a]=o,o*=t[a]}if(r===void 0){r=0;for(var a=0;a<i;++a)n[a]<0&&(r-=(t[a]-1)*n[a])}for(var s=Ooe(e),l=em[s];l.length<=i+1;)l.push(Poe(s,l.length-1));var u=l[i+1];return u(e,t,n,r)}var da=Ioe;function Moe(e,t){for(var n=1,r=e.length,i=e[0],a=e[0],o=1;o<r;++o)if(a=i,i=e[o],t(i,a)){if(o===n){n++;continue}e[n++]=i}return e.length=n,e}function Doe(e){for(var t=1,n=e.length,r=e[0],i=e[0],a=1;a<n;++a,i=r)if(i=r,r=e[a],r!==i){if(a===t){t++;continue}e[t++]=r}return e.length=t,e}function Foe(e,t,n){return e.length===0?e:t?(n||e.sort(t),Moe(e,t)):(n||e.sort(),Doe(e))}var iw=Foe;function Gk(e,t,n){var r=e.length,i=t.arrayArgs.length,a=t.indexArgs.length>0,o=[],s=[],l=0,u=0,c,h;for(c=0;c<r;++c)s.push(["i",c,"=0"].join(""));for(h=0;h<i;++h)for(c=0;c<r;++c)u=l,l=e[c],c===0?s.push(["d",h,"s",c,"=t",h,"p",l].join("")):s.push(["d",h,"s",c,"=(t",h,"p",l,"-s",u,"*t",h,"p",u,")"].join(""));for(s.length>0&&o.push("var "+s.join(",")),c=r-1;c>=0;--c)l=e[c],o.push(["for(i",c,"=0;i",c,"<s",l,";++i",c,"){"].join(""));for(o.push(n),c=0;c<r;++c){for(u=l,l=e[c],h=0;h<i;++h)o.push(["p",h,"+=d",h,"s",c].join(""));a&&(c>0&&o.push(["index[",u,"]-=s",u].join("")),o.push(["++index[",l,"]"].join(""))),o.push("}")}return o.join(`
`)}function koe(e,t,n,r){for(var i=t.length,a=n.arrayArgs.length,o=n.blockSize,s=n.indexArgs.length>0,l=[],u=0;u<a;++u)l.push(["var offset",u,"=p",u].join(""));for(var u=e;u<i;++u)l.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),l.push(["if(j",u,"<",o,"){"].join("")),l.push(["s",t[u],"=j",u].join("")),l.push(["j",u,"=0"].join("")),l.push(["}else{s",t[u],"=",o].join("")),l.push(["j",u,"-=",o,"}"].join("")),s&&l.push(["index[",t[u],"]=j",u].join(""));for(var u=0;u<a;++u){for(var c=["offset"+u],h=e;h<i;++h)c.push(["j",h,"*t",u,"p",t[h]].join(""));l.push(["p",u,"=(",c.join("+"),")"].join(""))}l.push(Gk(t,n,r));for(var u=e;u<i;++u)l.push("}");return l.join(`
`)}function Boe(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}function Zy(e,t,n){for(var r=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var h=t.offsetArgIndex.indexOf(o),f=t.offsetArgs[h];c=f.array,u="+q"+h;case"array":u="p"+c+u;var d="l"+o,v="a"+c;if(t.arrayBlockIndices[c]===0)s.count===1?n[c]==="generic"?s.lvalue?(i.push(["var ",d,"=",v,".get(",u,")"].join("")),r=r.replace(l,d),a.push([v,".set(",u,",",d,")"].join(""))):r=r.replace(l,[v,".get(",u,")"].join("")):r=r.replace(l,[v,"[",u,"]"].join("")):n[c]==="generic"?(i.push(["var ",d,"=",v,".get(",u,")"].join("")),r=r.replace(l,d),s.lvalue&&a.push([v,".set(",u,",",d,")"].join(""))):(i.push(["var ",d,"=",v,"[",u,"]"].join("")),r=r.replace(l,d),s.lvalue&&a.push([v,"[",u,"]=",d].join("")));else{for(var g=[s.name],p=[u],y=0;y<Math.abs(t.arrayBlockIndices[c]);y++)g.push("\\s*\\[([^\\]]+)\\]"),p.push("$"+(y+1)+"*t"+c+"b"+y);if(l=new RegExp(g.join(""),"g"),u=p.join("+"),n[c]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[v,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(o));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape");break}}}return[i.join(`
`),r,a.join(`
`)].join(`
`).trim()}function Roe(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],a=i.match(/\d+/);a?a=a[0]:a="",i.charAt(0)===0?t[r]="u"+i.charAt(1)+a:t[r]=i.charAt(0)+a,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}function Loe(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,r=new Array(e.arrayArgs.length),i=new Array(e.arrayArgs.length),a=0;a<e.arrayArgs.length;++a)i[a]=t[2*a],r[a]=t[2*a+1];for(var o=[],s=[],l=[],u=[],c=[],a=0;a<e.arrayArgs.length;++a){e.arrayBlockIndices[a]<0?(l.push(0),u.push(n),o.push(n),s.push(n+e.arrayBlockIndices[a])):(l.push(e.arrayBlockIndices[a]),u.push(e.arrayBlockIndices[a]+n),o.push(0),s.push(e.arrayBlockIndices[a]));for(var h=[],f=0;f<r[a].length;f++)l[a]<=r[a][f]&&r[a][f]<u[a]&&h.push(r[a][f]-l[a]);c.push(h)}for(var d=["SS"],v=["'use strict'"],g=[],f=0;f<n;++f)g.push(["s",f,"=SS[",f,"]"].join(""));for(var a=0;a<e.arrayArgs.length;++a){d.push("a"+a),d.push("t"+a),d.push("p"+a);for(var f=0;f<n;++f)g.push(["t",a,"p",f,"=t",a,"[",l[a]+f,"]"].join(""));for(var f=0;f<Math.abs(e.arrayBlockIndices[a]);++f)g.push(["t",a,"b",f,"=t",a,"[",o[a]+f,"]"].join(""))}for(var a=0;a<e.scalarArgs.length;++a)d.push("Y"+a);if(e.shapeArgs.length>0&&g.push("shape=SS.slice(0)"),e.indexArgs.length>0){for(var p=new Array(n),a=0;a<n;++a)p[a]="0";g.push(["index=[",p.join(","),"]"].join(""))}for(var a=0;a<e.offsetArgs.length;++a){for(var y=e.offsetArgs[a],m=[],f=0;f<y.offset.length;++f)y.offset[f]!==0&&(y.offset[f]===1?m.push(["t",y.array,"p",f].join("")):m.push([y.offset[f],"*t",y.array,"p",f].join("")));m.length===0?g.push("q"+a+"=0"):g.push(["q",a,"=",m.join("+")].join(""))}var b=iw([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));g=g.concat(b),g.length>0&&v.push("var "+g.join(","));for(var a=0;a<e.arrayArgs.length;++a)v.push("p"+a+"|=0");e.pre.body.length>3&&v.push(Zy(e.pre,e,i));var w=Zy(e.body,e,i),x=Boe(c);x<n?v.push(koe(x,c[0],e,w)):v.push(Gk(c[0],e,w)),e.post.body.length>3&&v.push(Zy(e.post,e,i)),e.debug&&console.log("-----Generated cwise routine for ",t,`:
`+v.join(`
`)+`
----------`);var _=[e.funcName||"unnamed","_cwise_loop_",r[0].join("s"),"m",x,Roe(i)].join(""),S=new Function(["function ",_,"(",d.join(","),"){",v.join(`
`),"} return ",_].join(""));return S()}var Noe=Loe;function Uoe(e){var t=["'use strict'","var CACHED={}"],n=[],r=e.funcName+"_cwise_thunk";t.push(["return function ",r,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],o=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],s=[],l=[],u=0;u<e.arrayArgs.length;++u){var c=e.arrayArgs[u];n.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),i.push("t"+c),i.push("r"+c),a.push("t"+c),a.push("r"+c+".join()"),o.push("array"+c+".data"),o.push("array"+c+".stride"),o.push("array"+c+".offset|0"),u>0&&(s.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[u]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[u])+"]"))}e.arrayArgs.length>1&&(t.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}"));for(var u=0;u<e.scalarArgs.length;++u)o.push("scalar"+e.scalarArgs[u]);n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",o.join(","),")}"].join("")),e.debug&&console.log(`-----Generated thunk:
`+t.join(`
`)+`
----------`);var h=new Function("compile",t.join(`
`));return h(Noe.bind(void 0,e))}var Voe=Uoe;function $oe(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function zoe(e){var t=new $oe;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var r=0;r<n.length;++r){var i=n[r];if(i==="array"||typeof i=="object"&&i.blockIndices){if(t.argTypes[r]="array",t.arrayArgs.push(r),t.arrayBlockIndices.push(i.blockIndices?i.blockIndices:0),t.shimArgs.push("array"+r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array args");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array args")}else if(i==="scalar")t.scalarArgs.push(r),t.shimArgs.push("scalar"+r);else if(i==="index"){if(t.indexArgs.push(r),r<t.pre.args.length&&t.pre.args[r].count>0)throw new Error("cwise: pre() block may not reference array index");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array index");if(r<t.post.args.length&&t.post.args[r].count>0)throw new Error("cwise: post() block may not reference array index")}else if(i==="shape"){if(t.shapeArgs.push(r),r<t.pre.args.length&&t.pre.args[r].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(r<t.body.args.length&&t.body.args[r].lvalue)throw new Error("cwise: body() block may not write to array shape");if(r<t.post.args.length&&t.post.args[r].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof i=="object"&&i.offset)t.argTypes[r]="offset",t.offsetArgs.push({array:i.array,offset:i.offset}),t.offsetArgIndex.push(r);else throw new Error("cwise: Unknown argument type "+n[r])}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,Voe(t)}var Jr=zoe,Gt=pi(function(e,t){var n={body:"",args:[],thisVars:[],localVars:[]};function r(f){if(!f)return n;for(var d=0;d<f.args.length;++d){var v=f.args[d];d===0?f.args[d]={name:v,lvalue:!0,rvalue:!!f.rvalue,count:f.count||1}:f.args[d]={name:v,lvalue:!1,rvalue:!0,count:1}}return f.thisVars||(f.thisVars=[]),f.localVars||(f.localVars=[]),f}function i(f){return Jr({args:f.args,pre:r(f.pre),body:r(f.body),post:r(f.proc),funcName:f.funcName})}function a(f){for(var d=[],v=0;v<f.args.length;++v)d.push("a"+v);var g=new Function("P",["return function ",f.funcName,"_ndarrayops(",d.join(","),") {P(",d.join(","),");return a0}"].join(""));return g(i(f))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var f in o){var d=o[f];t[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+d+"c"},funcName:f}),t[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+d+"=b"},rvalue:!0,funcName:f+"eq"}),t[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+d+"s"},funcName:f+"s"}),t[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+d+"=s"},rvalue:!0,funcName:f+"seq"})}})();var s={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var f in s){var d=s[f];t[f]=a({args:["array","array"],body:{args:["a","b"],body:"a="+d+"b"},funcName:f}),t[f+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+d+"a"},rvalue:!0,count:2,funcName:f+"eq"})}})();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var f in l){var d=l[f];t[f]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+d+"c"},funcName:f}),t[f+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+d+"s"},funcName:f+"s"}),t[f+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+d+"b"},rvalue:!0,count:2,funcName:f+"eq"}),t[f+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+d+"s"},rvalue:!0,count:2,funcName:f+"seq"})}})();var u=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var f=0;f<u.length;++f){var d=u[f];t[d]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:d}),t[d+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"})}})();var c=["max","min","atan2","pow"];(function(){for(var f=0;f<c.length;++f){var d=c[f];t[d]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d}),t[d+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d+"s"}),t[d+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"}),t[d+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"seq"})}})();var h=["atan2","pow"];(function(){for(var f=0;f<h.length;++f){var d=h[f];t[d+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:d+"op"}),t[d+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:d+"ops"}),t[d+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opeq"}),t[d+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opseq"})}})(),t.any=Jr({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=Jr({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=Jr({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=Jr({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=Jr({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=Jr({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=Jr({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=Jr({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}),joe=pi(function(e,t){(function(n,r){r(t)})(Qo,function(n){var r,i,a,o,s,l,u,c,h,f,d,v,g,p,y,m,b,w;r={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},i={},i[r.BooleanLiteral]="Boolean",i[r.EOF]="<end>",i[r.Identifier]="Identifier",i[r.Keyword]="Keyword",i[r.NullLiteral]="Null",i[r.NumericLiteral]="Numeric",i[r.Punctuator]="Punctuator",i[r.StringLiteral]="String",i[r.RegularExpression]="RegularExpression",a=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],o={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},s={Data:1,Get:2,Set:4},l={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},u={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")};function x(A,N){if(!A)throw new Error("ASSERT: "+N)}function _(A){return A>=48&&A<=57}function S(A){return"0123456789abcdefABCDEF".indexOf(A)>=0}function P(A){return"01234567".indexOf(A)>=0}function C(A){return A===32||A===9||A===11||A===12||A===160||A>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(A)>=0}function D(A){return A===10||A===13||A===8232||A===8233}function T(A){return A===36||A===95||A>=65&&A<=90||A>=97&&A<=122||A===92||A>=128&&u.NonAsciiIdentifierStart.test(String.fromCharCode(A))}function B(A){return A===36||A===95||A>=65&&A<=90||A>=97&&A<=122||A>=48&&A<=57||A===92||A>=128&&u.NonAsciiIdentifierPart.test(String.fromCharCode(A))}function I(A){switch(A){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function O(A){switch(A){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function L(A){return A==="eval"||A==="arguments"}function R(A){if(f&&O(A))return!0;switch(A.length){case 2:return A==="if"||A==="in"||A==="do";case 3:return A==="var"||A==="for"||A==="new"||A==="try"||A==="let";case 4:return A==="this"||A==="else"||A==="case"||A==="void"||A==="with"||A==="enum";case 5:return A==="while"||A==="break"||A==="catch"||A==="throw"||A==="const"||A==="yield"||A==="class"||A==="super";case 6:return A==="return"||A==="typeof"||A==="delete"||A==="switch"||A==="export"||A==="import";case 7:return A==="default"||A==="finally"||A==="extends";case 8:return A==="function"||A==="continue"||A==="debugger";case 10:return A==="instanceof";default:return!1}}function U(A,N,K,ve,Pe){var Xe;x(typeof K=="number","Comment must have valid position"),!(b.lastCommentStart>=K)&&(b.lastCommentStart=K,Xe={type:A,value:N},w.range&&(Xe.range=[K,ve]),w.loc&&(Xe.loc=Pe),w.comments.push(Xe),w.attachComment&&(w.leadingComments.push(Xe),w.trailingComments.push(Xe)))}function $(A){var N,K,ve,Pe;for(N=d-A,K={start:{line:v,column:d-g-A}};d<p;)if(ve=h.charCodeAt(d),++d,D(ve)){w.comments&&(Pe=h.slice(N+A,d-1),K.end={line:v,column:d-g-1},U("Line",Pe,N,d-1,K)),ve===13&&h.charCodeAt(d)===10&&++d,++v,g=d;return}w.comments&&(Pe=h.slice(N+A,d),K.end={line:v,column:d-g},U("Line",Pe,N,d,K))}function j(){var A,N,K,ve;for(w.comments&&(A=d-2,N={start:{line:v,column:d-g-2}});d<p;)if(K=h.charCodeAt(d),D(K))K===13&&h.charCodeAt(d+1)===10&&++d,++v,++d,g=d,d>=p&&De({},l.UnexpectedToken,"ILLEGAL");else if(K===42){if(h.charCodeAt(d+1)===47){++d,++d,w.comments&&(ve=h.slice(A+2,d-2),N.end={line:v,column:d-g},U("Block",ve,A,d,N));return}++d}else++d;De({},l.UnexpectedToken,"ILLEGAL")}function z(){var A,N;for(N=d===0;d<p;)if(A=h.charCodeAt(d),C(A))++d;else if(D(A))++d,A===13&&h.charCodeAt(d)===10&&++d,++v,g=d,N=!0;else if(A===47)if(A=h.charCodeAt(d+1),A===47)++d,++d,$(2),N=!0;else if(A===42)++d,++d,j();else break;else if(N&&A===45)if(h.charCodeAt(d+1)===45&&h.charCodeAt(d+2)===62)d+=3,$(3);else break;else if(A===60)if(h.slice(d+1,d+4)==="!--")++d,++d,++d,++d,$(4);else break;else break}function Y(A){var N,K,ve,Pe=0;for(K=A==="u"?4:2,N=0;N<K;++N)if(d<p&&S(h[d]))ve=h[d++],Pe=Pe*16+"0123456789abcdef".indexOf(ve.toLowerCase());else return"";return String.fromCharCode(Pe)}function Q(){var A,N;for(A=h.charCodeAt(d++),N=String.fromCharCode(A),A===92&&(h.charCodeAt(d)!==117&&De({},l.UnexpectedToken,"ILLEGAL"),++d,A=Y("u"),(!A||A==="\\"||!T(A.charCodeAt(0)))&&De({},l.UnexpectedToken,"ILLEGAL"),N=A);d<p&&(A=h.charCodeAt(d),!!B(A));)++d,N+=String.fromCharCode(A),A===92&&(N=N.substr(0,N.length-1),h.charCodeAt(d)!==117&&De({},l.UnexpectedToken,"ILLEGAL"),++d,A=Y("u"),(!A||A==="\\"||!B(A.charCodeAt(0)))&&De({},l.UnexpectedToken,"ILLEGAL"),N+=A);return N}function re(){var A,N;for(A=d++;d<p;){if(N=h.charCodeAt(d),N===92)return d=A,Q();if(B(N))++d;else break}return h.slice(A,d)}function he(){var A,N,K;return A=d,N=h.charCodeAt(d)===92?Q():re(),N.length===1?K=r.Identifier:R(N)?K=r.Keyword:N==="null"?K=r.NullLiteral:N==="true"||N==="false"?K=r.BooleanLiteral:K=r.Identifier,{type:K,value:N,lineNumber:v,lineStart:g,start:A,end:d}}function ce(){var A=d,N=h.charCodeAt(d),K,ve=h[d],Pe,Xe,kt;switch(N){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++d,w.tokenize&&(N===40?w.openParenToken=w.tokens.length:N===123&&(w.openCurlyToken=w.tokens.length)),{type:r.Punctuator,value:String.fromCharCode(N),lineNumber:v,lineStart:g,start:A,end:d};default:if(K=h.charCodeAt(d+1),K===61)switch(N){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return d+=2,{type:r.Punctuator,value:String.fromCharCode(N)+String.fromCharCode(K),lineNumber:v,lineStart:g,start:A,end:d};case 33:case 61:return d+=2,h.charCodeAt(d)===61&&++d,{type:r.Punctuator,value:h.slice(A,d),lineNumber:v,lineStart:g,start:A,end:d}}}if(kt=h.substr(d,4),kt===">>>=")return d+=4,{type:r.Punctuator,value:kt,lineNumber:v,lineStart:g,start:A,end:d};if(Xe=kt.substr(0,3),Xe===">>>"||Xe==="<<="||Xe===">>=")return d+=3,{type:r.Punctuator,value:Xe,lineNumber:v,lineStart:g,start:A,end:d};if(Pe=Xe.substr(0,2),ve===Pe[1]&&"+-<>&|".indexOf(ve)>=0||Pe==="=>")return d+=2,{type:r.Punctuator,value:Pe,lineNumber:v,lineStart:g,start:A,end:d};if("<>=!+-*%&|^/".indexOf(ve)>=0)return++d,{type:r.Punctuator,value:ve,lineNumber:v,lineStart:g,start:A,end:d};De({},l.UnexpectedToken,"ILLEGAL")}function te(A){for(var N="";d<p&&S(h[d]);)N+=h[d++];return N.length===0&&De({},l.UnexpectedToken,"ILLEGAL"),T(h.charCodeAt(d))&&De({},l.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt("0x"+N,16),lineNumber:v,lineStart:g,start:A,end:d}}function ee(A){for(var N="0"+h[d++];d<p&&P(h[d]);)N+=h[d++];return(T(h.charCodeAt(d))||_(h.charCodeAt(d)))&&De({},l.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseInt(N,8),octal:!0,lineNumber:v,lineStart:g,start:A,end:d}}function Ue(){var A,N;for(A=d+1;A<p;++A){if(N=h[A],N==="8"||N==="9")return!1;if(!P(N))return!0}return!0}function ye(){var A,N,K;if(K=h[d],x(_(K.charCodeAt(0))||K===".","Numeric literal must start with a decimal digit or a decimal point"),N=d,A="",K!=="."){if(A=h[d++],K=h[d],A==="0"){if(K==="x"||K==="X")return++d,te(N);if(P(K)&&Ue())return ee(N)}for(;_(h.charCodeAt(d));)A+=h[d++];K=h[d]}if(K==="."){for(A+=h[d++];_(h.charCodeAt(d));)A+=h[d++];K=h[d]}if(K==="e"||K==="E")if(A+=h[d++],K=h[d],(K==="+"||K==="-")&&(A+=h[d++]),_(h.charCodeAt(d)))for(;_(h.charCodeAt(d));)A+=h[d++];else De({},l.UnexpectedToken,"ILLEGAL");return T(h.charCodeAt(d))&&De({},l.UnexpectedToken,"ILLEGAL"),{type:r.NumericLiteral,value:parseFloat(A),lineNumber:v,lineStart:g,start:N,end:d}}function pe(){var A="",N,K,ve,Pe,Xe,kt,qt=!1,Rn,Xn;for(Rn=v,Xn=g,N=h[d],x(N==="'"||N==='"',"String literal must starts with a quote"),K=d,++d;d<p;)if(ve=h[d++],ve===N){N="";break}else if(ve==="\\")if(ve=h[d++],!ve||!D(ve.charCodeAt(0)))switch(ve){case"u":case"x":kt=d,Xe=Y(ve),Xe?A+=Xe:(d=kt,A+=ve);break;case"n":A+=`
`;break;case"r":A+="\r";break;case"t":A+="	";break;case"b":A+="\b";break;case"f":A+="\f";break;case"v":A+="\v";break;default:P(ve)?(Pe="01234567".indexOf(ve),Pe!==0&&(qt=!0),d<p&&P(h[d])&&(qt=!0,Pe=Pe*8+"01234567".indexOf(h[d++]),"0123".indexOf(ve)>=0&&d<p&&P(h[d])&&(Pe=Pe*8+"01234567".indexOf(h[d++]))),A+=String.fromCharCode(Pe)):A+=ve;break}else++v,ve==="\r"&&h[d]===`
`&&++d,g=d;else{if(D(ve.charCodeAt(0)))break;A+=ve}return N!==""&&De({},l.UnexpectedToken,"ILLEGAL"),{type:r.StringLiteral,value:A,octal:qt,startLineNumber:Rn,startLineStart:Xn,lineNumber:v,lineStart:g,start:K,end:d}}function Se(A,N){var K;try{K=new RegExp(A,N)}catch{De({},l.InvalidRegExp)}return K}function ae(){var A,N,K,ve,Pe;for(A=h[d],x(A==="/","Regular expression literal must start with a slash"),N=h[d++],K=!1,ve=!1;d<p;)if(A=h[d++],N+=A,A==="\\")A=h[d++],D(A.charCodeAt(0))&&De({},l.UnterminatedRegExp),N+=A;else if(D(A.charCodeAt(0)))De({},l.UnterminatedRegExp);else if(K)A==="]"&&(K=!1);else if(A==="/"){ve=!0;break}else A==="["&&(K=!0);return ve||De({},l.UnterminatedRegExp),Pe=N.substr(1,N.length-2),{value:Pe,literal:N}}function ke(){var A,N,K,ve;for(N="",K="";d<p&&(A=h[d],!!B(A.charCodeAt(0)));)if(++d,A==="\\"&&d<p)if(A=h[d],A==="u"){if(++d,ve=d,A=Y("u"),A)for(K+=A,N+="\\u";ve<d;++ve)N+=h[ve];else d=ve,K+="u",N+="\\u";Me({},l.UnexpectedToken,"ILLEGAL")}else N+="\\",Me({},l.UnexpectedToken,"ILLEGAL");else K+=A,N+=A;return{value:K,literal:N}}function Ce(){var A,N,K,ve;return m=null,z(),A=d,N=ae(),K=ke(),ve=Se(N.value,K.value),w.tokenize?{type:r.RegularExpression,value:ve,lineNumber:v,lineStart:g,start:A,end:d}:{literal:N.literal+K.literal,value:ve,start:A,end:d}}function We(){var A,N,K,ve;return z(),A=d,N={start:{line:v,column:d-g}},K=Ce(),N.end={line:v,column:d-g},w.tokenize||(w.tokens.length>0&&(ve=w.tokens[w.tokens.length-1],ve.range[0]===A&&ve.type==="Punctuator"&&(ve.value==="/"||ve.value==="/=")&&w.tokens.pop()),w.tokens.push({type:"RegularExpression",value:K.literal,range:[A,d],loc:N})),K}function X(A){return A.type===r.Identifier||A.type===r.Keyword||A.type===r.BooleanLiteral||A.type===r.NullLiteral}function M(){var A,N;if(A=w.tokens[w.tokens.length-1],!A)return We();if(A.type==="Punctuator"){if(A.value==="]")return ce();if(A.value===")")return N=w.tokens[w.openParenToken-1],N&&N.type==="Keyword"&&(N.value==="if"||N.value==="while"||N.value==="for"||N.value==="with")?We():ce();if(A.value==="}"){if(w.tokens[w.openCurlyToken-3]&&w.tokens[w.openCurlyToken-3].type==="Keyword"){if(N=w.tokens[w.openCurlyToken-4],!N)return ce()}else if(w.tokens[w.openCurlyToken-4]&&w.tokens[w.openCurlyToken-4].type==="Keyword"){if(N=w.tokens[w.openCurlyToken-5],!N)return We()}else return ce();return a.indexOf(N.value)>=0?ce():We()}return We()}return A.type==="Keyword"&&A.value!=="this"?We():ce()}function k(){var A;return z(),d>=p?{type:r.EOF,lineNumber:v,lineStart:g,start:d,end:d}:(A=h.charCodeAt(d),T(A)?he():A===40||A===41||A===59?ce():A===39||A===34?pe():A===46?_(h.charCodeAt(d+1))?ye():ce():_(A)?ye():w.tokenize&&A===47?M():ce())}function W(){var A,N,K;return z(),A={start:{line:v,column:d-g}},N=k(),A.end={line:v,column:d-g},N.type!==r.EOF&&(K=h.slice(N.start,N.end),w.tokens.push({type:i[N.type],value:K,range:[N.start,N.end],loc:A})),N}function Z(){var A;return A=m,d=A.end,v=A.lineNumber,g=A.lineStart,m=typeof w.tokens<"u"?W():k(),d=A.end,v=A.lineNumber,g=A.lineStart,A}function be(){var A,N,K;A=d,N=v,K=g,m=typeof w.tokens<"u"?W():k(),d=A,v=N,g=K}function we(A,N){this.line=A,this.column=N}function tt(A,N,K,ve){this.start=new we(A,N),this.end=new we(K,ve)}c={name:"SyntaxTree",processComment:function(A){var N,K;if(!(A.type===o.Program&&A.body.length>0)){for(w.trailingComments.length>0?w.trailingComments[0].range[0]>=A.range[1]?(K=w.trailingComments,w.trailingComments=[]):w.trailingComments.length=0:w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments&&w.bottomRightStack[w.bottomRightStack.length-1].trailingComments[0].range[0]>=A.range[1]&&(K=w.bottomRightStack[w.bottomRightStack.length-1].trailingComments,delete w.bottomRightStack[w.bottomRightStack.length-1].trailingComments);w.bottomRightStack.length>0&&w.bottomRightStack[w.bottomRightStack.length-1].range[0]>=A.range[0];)N=w.bottomRightStack.pop();N?N.leadingComments&&N.leadingComments[N.leadingComments.length-1].range[1]<=A.range[0]&&(A.leadingComments=N.leadingComments,delete N.leadingComments):w.leadingComments.length>0&&w.leadingComments[w.leadingComments.length-1].range[1]<=A.range[0]&&(A.leadingComments=w.leadingComments,w.leadingComments=[]),K&&(A.trailingComments=K),w.bottomRightStack.push(A)}},markEnd:function(A,N){return w.range&&(A.range=[N.start,d]),w.loc&&(A.loc=new tt(N.startLineNumber===void 0?N.lineNumber:N.startLineNumber,N.start-(N.startLineStart===void 0?N.lineStart:N.startLineStart),v,d-g),this.postProcess(A)),w.attachComment&&this.processComment(A),A},postProcess:function(A){return w.source&&(A.loc.source=w.source),A},createArrayExpression:function(A){return{type:o.ArrayExpression,elements:A}},createAssignmentExpression:function(A,N,K){return{type:o.AssignmentExpression,operator:A,left:N,right:K}},createBinaryExpression:function(A,N,K){var ve=A==="||"||A==="&&"?o.LogicalExpression:o.BinaryExpression;return{type:ve,operator:A,left:N,right:K}},createBlockStatement:function(A){return{type:o.BlockStatement,body:A}},createBreakStatement:function(A){return{type:o.BreakStatement,label:A}},createCallExpression:function(A,N){return{type:o.CallExpression,callee:A,arguments:N}},createCatchClause:function(A,N){return{type:o.CatchClause,param:A,body:N}},createConditionalExpression:function(A,N,K){return{type:o.ConditionalExpression,test:A,consequent:N,alternate:K}},createContinueStatement:function(A){return{type:o.ContinueStatement,label:A}},createDebuggerStatement:function(){return{type:o.DebuggerStatement}},createDoWhileStatement:function(A,N){return{type:o.DoWhileStatement,body:A,test:N}},createEmptyStatement:function(){return{type:o.EmptyStatement}},createExpressionStatement:function(A){return{type:o.ExpressionStatement,expression:A}},createForStatement:function(A,N,K,ve){return{type:o.ForStatement,init:A,test:N,update:K,body:ve}},createForInStatement:function(A,N,K){return{type:o.ForInStatement,left:A,right:N,body:K,each:!1}},createFunctionDeclaration:function(A,N,K,ve){return{type:o.FunctionDeclaration,id:A,params:N,defaults:K,body:ve,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(A,N,K,ve){return{type:o.FunctionExpression,id:A,params:N,defaults:K,body:ve,rest:null,generator:!1,expression:!1}},createIdentifier:function(A){return{type:o.Identifier,name:A}},createIfStatement:function(A,N,K){return{type:o.IfStatement,test:A,consequent:N,alternate:K}},createLabeledStatement:function(A,N){return{type:o.LabeledStatement,label:A,body:N}},createLiteral:function(A){return{type:o.Literal,value:A.value,raw:h.slice(A.start,A.end)}},createMemberExpression:function(A,N,K){return{type:o.MemberExpression,computed:A==="[",object:N,property:K}},createNewExpression:function(A,N){return{type:o.NewExpression,callee:A,arguments:N}},createObjectExpression:function(A){return{type:o.ObjectExpression,properties:A}},createPostfixExpression:function(A,N){return{type:o.UpdateExpression,operator:A,argument:N,prefix:!1}},createProgram:function(A){return{type:o.Program,body:A}},createProperty:function(A,N,K){return{type:o.Property,key:N,value:K,kind:A}},createReturnStatement:function(A){return{type:o.ReturnStatement,argument:A}},createSequenceExpression:function(A){return{type:o.SequenceExpression,expressions:A}},createSwitchCase:function(A,N){return{type:o.SwitchCase,test:A,consequent:N}},createSwitchStatement:function(A,N){return{type:o.SwitchStatement,discriminant:A,cases:N}},createThisExpression:function(){return{type:o.ThisExpression}},createThrowStatement:function(A){return{type:o.ThrowStatement,argument:A}},createTryStatement:function(A,N,K,ve){return{type:o.TryStatement,block:A,guardedHandlers:N,handlers:K,finalizer:ve}},createUnaryExpression:function(A,N){return A==="++"||A==="--"?{type:o.UpdateExpression,operator:A,argument:N,prefix:!0}:{type:o.UnaryExpression,operator:A,argument:N,prefix:!0}},createVariableDeclaration:function(A,N){return{type:o.VariableDeclaration,declarations:A,kind:N}},createVariableDeclarator:function(A,N){return{type:o.VariableDeclarator,id:A,init:N}},createWhileStatement:function(A,N){return{type:o.WhileStatement,test:A,body:N}},createWithStatement:function(A,N){return{type:o.WithStatement,object:A,body:N}}};function _t(){var A,N,K,ve;return A=d,N=v,K=g,z(),ve=v!==N,d=A,v=N,g=K,ve}function De(A,N){var K,ve=Array.prototype.slice.call(arguments,2),Pe=N.replace(/%(\d)/g,function(Xe,kt){return x(kt<ve.length,"Message reference must be in range"),ve[kt]});throw typeof A.lineNumber=="number"?(K=new Error("Line "+A.lineNumber+": "+Pe),K.index=A.start,K.lineNumber=A.lineNumber,K.column=A.start-g+1):(K=new Error("Line "+v+": "+Pe),K.index=d,K.lineNumber=v,K.column=d-g+1),K.description=Pe,K}function Me(){try{De.apply(null,arguments)}catch(A){if(w.errors)w.errors.push(A);else throw A}}function it(A){if(A.type===r.EOF&&De(A,l.UnexpectedEOS),A.type===r.NumericLiteral&&De(A,l.UnexpectedNumber),A.type===r.StringLiteral&&De(A,l.UnexpectedString),A.type===r.Identifier&&De(A,l.UnexpectedIdentifier),A.type===r.Keyword){if(I(A.value))De(A,l.UnexpectedReserved);else if(f&&O(A.value)){Me(A,l.StrictReservedWord);return}De(A,l.UnexpectedToken,A.value)}De(A,l.UnexpectedToken,A.value)}function He(A){var N=Z();(N.type!==r.Punctuator||N.value!==A)&&it(N)}function fe(A){var N=Z();(N.type!==r.Keyword||N.value!==A)&&it(N)}function ie(A){return m.type===r.Punctuator&&m.value===A}function ge(A){return m.type===r.Keyword&&m.value===A}function Be(){var A;return m.type!==r.Punctuator?!1:(A=m.value,A==="="||A==="*="||A==="/="||A==="%="||A==="+="||A==="-="||A==="<<="||A===">>="||A===">>>="||A==="&="||A==="^="||A==="|=")}function ze(){var A,N=d,K=v,ve=g,Pe=m;if(h.charCodeAt(d)===59||ie(";")){Z();return}if(A=v,z(),v!==A){d=N,v=K,g=ve,m=Pe;return}m.type!==r.EOF&&!ie("}")&&it(m)}function st(A){return A.type===o.Identifier||A.type===o.MemberExpression}function Oe(){var A=[],N;for(N=m,He("[");!ie("]");)ie(",")?(Z(),A.push(null)):(A.push(rr()),ie("]")||He(","));return Z(),y.markEnd(y.createArrayExpression(A),N)}function Mt(A,N){var K,ve,Pe;return K=f,Pe=m,ve=Mo(),N&&f&&L(A[0].name)&&Me(N,l.StrictParamName),f=K,y.markEnd(y.createFunctionExpression(null,A,[],ve),Pe)}function Zt(){var A,N;return N=m,A=Z(),A.type===r.StringLiteral||A.type===r.NumericLiteral?(f&&A.octal&&Me(A,l.StrictOctalLiteral),y.markEnd(y.createLiteral(A),N)):y.markEnd(y.createIdentifier(A.value),N)}function wt(){var A,N,K,ve,Pe,Xe;if(A=m,Xe=m,A.type===r.Identifier)return K=Zt(),A.value==="get"&&!ie(":")?(N=Zt(),He("("),He(")"),ve=Mt([]),y.markEnd(y.createProperty("get",N,ve),Xe)):A.value==="set"&&!ie(":")?(N=Zt(),He("("),A=m,A.type!==r.Identifier?(He(")"),Me(A,l.UnexpectedToken,A.value),ve=Mt([])):(Pe=[pr()],He(")"),ve=Mt(Pe,A)),y.markEnd(y.createProperty("set",N,ve),Xe)):(He(":"),ve=rr(),y.markEnd(y.createProperty("init",K,ve),Xe));if(A.type===r.EOF||A.type===r.Punctuator)it(A);else return N=Zt(),He(":"),ve=rr(),y.markEnd(y.createProperty("init",N,ve),Xe)}function et(){var A=[],N,K,ve,Pe,Xe={},kt=String,qt;for(qt=m,He("{");!ie("}");)N=wt(),N.key.type===o.Identifier?K=N.key.name:K=kt(N.key.value),Pe=N.kind==="init"?s.Data:N.kind==="get"?s.Get:s.Set,ve="$"+K,Object.prototype.hasOwnProperty.call(Xe,ve)?(Xe[ve]===s.Data?f&&Pe===s.Data?Me({},l.StrictDuplicateProperty):Pe!==s.Data&&Me({},l.AccessorDataProperty):Pe===s.Data?Me({},l.AccessorDataProperty):Xe[ve]&Pe&&Me({},l.AccessorGetSet),Xe[ve]|=Pe):Xe[ve]=Pe,A.push(N),ie("}")||He(",");return He("}"),y.markEnd(y.createObjectExpression(A),qt)}function dt(){var A;return He("("),A=Fn(),He(")"),A}function Rt(){var A,N,K,ve;if(ie("("))return dt();if(ie("["))return Oe();if(ie("{"))return et();if(A=m.type,ve=m,A===r.Identifier)K=y.createIdentifier(Z().value);else if(A===r.StringLiteral||A===r.NumericLiteral)f&&m.octal&&Me(m,l.StrictOctalLiteral),K=y.createLiteral(Z());else if(A===r.Keyword){if(ge("function"))return Pu();ge("this")?(Z(),K=y.createThisExpression()):it(Z())}else A===r.BooleanLiteral?(N=Z(),N.value=N.value==="true",K=y.createLiteral(N)):A===r.NullLiteral?(N=Z(),N.value=null,K=y.createLiteral(N)):ie("/")||ie("/=")?(typeof w.tokens<"u"?K=y.createLiteral(We()):K=y.createLiteral(Ce()),be()):it(Z());return y.markEnd(K,ve)}function jt(){var A=[];if(He("("),!ie(")"))for(;d<p&&(A.push(rr()),!ie(")"));)He(",");return He(")"),A}function Dn(){var A,N;return N=m,A=Z(),X(A)||it(A),y.markEnd(y.createIdentifier(A.value),N)}function mi(){return He("."),Dn()}function wa(){var A;return He("["),A=Fn(),He("]"),A}function Nr(){var A,N,K;return K=m,fe("new"),A=yi(),N=ie("(")?jt():[],y.markEnd(y.createNewExpression(A,N),K)}function Wa(){var A,N,K,ve,Pe=b.allowIn;for(ve=m,b.allowIn=!0,A=ge("new")?Nr():Rt();;){if(ie("."))K=mi(),A=y.createMemberExpression(".",A,K);else if(ie("("))N=jt(),A=y.createCallExpression(A,N);else if(ie("["))K=wa(),A=y.createMemberExpression("[",A,K);else break;y.markEnd(A,ve)}return b.allowIn=Pe,A}function yi(){var A,N,K;for(x(b.allowIn,"callee of new expression always allow in keyword."),K=m,A=ge("new")?Nr():Rt();ie(".")||ie("[");)ie("[")?(N=wa(),A=y.createMemberExpression("[",A,N)):(N=mi(),A=y.createMemberExpression(".",A,N)),y.markEnd(A,K);return A}function wu(){var A,N,K=m;return A=Wa(),m.type===r.Punctuator&&(ie("++")||ie("--"))&&!_t()&&(f&&A.type===o.Identifier&&L(A.name)&&Me({},l.StrictLHSPostfix),st(A)||Me({},l.InvalidLHSInAssignment),N=Z(),A=y.markEnd(y.createPostfixExpression(N.value,A),K)),A}function Ka(){var A,N,K;return m.type!==r.Punctuator&&m.type!==r.Keyword?N=wu():ie("++")||ie("--")?(K=m,A=Z(),N=Ka(),f&&N.type===o.Identifier&&L(N.name)&&Me({},l.StrictLHSPrefix),st(N)||Me({},l.InvalidLHSInAssignment),N=y.createUnaryExpression(A.value,N),N=y.markEnd(N,K)):ie("+")||ie("-")||ie("~")||ie("!")?(K=m,A=Z(),N=Ka(),N=y.createUnaryExpression(A.value,N),N=y.markEnd(N,K)):ge("delete")||ge("void")||ge("typeof")?(K=m,A=Z(),N=Ka(),N=y.createUnaryExpression(A.value,N),N=y.markEnd(N,K),f&&N.operator==="delete"&&N.argument.type===o.Identifier&&Me({},l.StrictDelete)):N=wu(),N}function qa(A,N){var K=0;if(A.type!==r.Punctuator&&A.type!==r.Keyword)return 0;switch(A.value){case"||":K=1;break;case"&&":K=2;break;case"|":K=3;break;case"^":K=4;break;case"&":K=5;break;case"==":case"!=":case"===":case"!==":K=6;break;case"<":case">":case"<=":case">=":case"instanceof":K=7;break;case"in":K=N?7:0;break;case"<<":case">>":case">>>":K=8;break;case"+":case"-":K=9;break;case"*":case"/":case"%":K=11;break}return K}function xa(){var A,N,K,ve,Pe,Xe,kt,qt,Rn,Xn;if(A=m,Rn=Ka(),ve=m,Pe=qa(ve,b.allowIn),Pe===0)return Rn;for(ve.prec=Pe,Z(),N=[A,m],kt=Ka(),Xe=[Rn,ve,kt];(Pe=qa(m,b.allowIn))>0;){for(;Xe.length>2&&Pe<=Xe[Xe.length-2].prec;)kt=Xe.pop(),qt=Xe.pop().value,Rn=Xe.pop(),K=y.createBinaryExpression(qt,Rn,kt),N.pop(),A=N[N.length-1],y.markEnd(K,A),Xe.push(K);ve=Z(),ve.prec=Pe,Xe.push(ve),N.push(m),K=Ka(),Xe.push(K)}for(Xn=Xe.length-1,K=Xe[Xn],N.pop();Xn>1;)K=y.createBinaryExpression(Xe[Xn-1].value,Xe[Xn-2],K),Xn-=2,A=N.pop(),y.markEnd(K,A);return K}function xu(){var A,N,K,ve,Pe;return Pe=m,A=xa(),ie("?")&&(Z(),N=b.allowIn,b.allowIn=!0,K=rr(),b.allowIn=N,He(":"),ve=rr(),A=y.createConditionalExpression(A,K,ve),y.markEnd(A,Pe)),A}function rr(){var A,N,K,ve,Pe;return A=m,Pe=m,ve=N=xu(),Be()&&(st(N)||Me({},l.InvalidLHSInAssignment),f&&N.type===o.Identifier&&L(N.name)&&Me(A,l.StrictLHSAssignment),A=Z(),K=rr(),ve=y.markEnd(y.createAssignmentExpression(A.value,N,K),Pe)),ve}function Fn(){var A,N=m;if(A=rr(),ie(",")){for(A=y.createSequenceExpression([A]);d<p&&ie(",");)Z(),A.expressions.push(rr());y.markEnd(A,N)}return A}function ys(){for(var A=[],N;d<p&&!(ie("}")||(N=Sa(),typeof N>"u"));)A.push(N);return A}function To(){var A,N;return N=m,He("{"),A=ys(),He("}"),y.markEnd(y.createBlockStatement(A),N)}function pr(){var A,N;return N=m,A=Z(),A.type!==r.Identifier&&it(A),y.markEnd(y.createIdentifier(A.value),N)}function Po(A){var N=null,K,ve;return ve=m,K=pr(),f&&L(K.name)&&Me({},l.StrictVarName),A==="const"?(He("="),N=rr()):ie("=")&&(Z(),N=rr()),y.markEnd(y.createVariableDeclarator(K,N),ve)}function Fi(A){var N=[];do{if(N.push(Po(A)),!ie(","))break;Z()}while(d<p);return N}function il(){var A;return fe("var"),A=Fi(),ze(),y.createVariableDeclaration(A,"var")}function _u(A){var N,K;return K=m,fe(A),N=Fi(A),ze(),y.markEnd(y.createVariableDeclaration(N,A),K)}function Su(){return He(";"),y.createEmptyStatement()}function Eu(){var A=Fn();return ze(),y.createExpressionStatement(A)}function bi(){var A,N,K;return fe("if"),He("("),A=Fn(),He(")"),N=gr(),ge("else")?(Z(),K=gr()):K=null,y.createIfStatement(A,N,K)}function Au(){var A,N,K;return fe("do"),K=b.inIteration,b.inIteration=!0,A=gr(),b.inIteration=K,fe("while"),He("("),N=Fn(),He(")"),ie(";")&&Z(),y.createDoWhileStatement(A,N)}function hf(){var A,N,K;return fe("while"),He("("),A=Fn(),He(")"),K=b.inIteration,b.inIteration=!0,N=gr(),b.inIteration=K,y.createWhileStatement(A,N)}function Ji(){var A,N,K;return K=m,A=Z(),N=Fi(),y.markEnd(y.createVariableDeclaration(N,A.value),K)}function bs(){var A,N,K,ve,Pe,Xe,kt,qt=b.allowIn;return A=N=K=null,fe("for"),He("("),ie(";")?Z():(ge("var")||ge("let")?(b.allowIn=!1,A=Ji(),b.allowIn=qt,A.declarations.length===1&&ge("in")&&(Z(),ve=A,Pe=Fn(),A=null)):(b.allowIn=!1,A=Fn(),b.allowIn=qt,ge("in")&&(st(A)||Me({},l.InvalidLHSInForIn),Z(),ve=A,Pe=Fn(),A=null)),typeof ve>"u"&&He(";")),typeof ve>"u"&&(ie(";")||(N=Fn()),He(";"),ie(")")||(K=Fn())),He(")"),kt=b.inIteration,b.inIteration=!0,Xe=gr(),b.inIteration=kt,typeof ve>"u"?y.createForStatement(A,N,K,Xe):y.createForInStatement(ve,Pe,Xe)}function df(){var A=null,N;return fe("continue"),h.charCodeAt(d)===59?(Z(),b.inIteration||De({},l.IllegalContinue),y.createContinueStatement(null)):_t()?(b.inIteration||De({},l.IllegalContinue),y.createContinueStatement(null)):(m.type===r.Identifier&&(A=pr(),N="$"+A.name,Object.prototype.hasOwnProperty.call(b.labelSet,N)||De({},l.UnknownLabel,A.name)),ze(),A===null&&!b.inIteration&&De({},l.IllegalContinue),y.createContinueStatement(A))}function Oo(){var A=null,N;return fe("break"),h.charCodeAt(d)===59?(Z(),b.inIteration||b.inSwitch||De({},l.IllegalBreak),y.createBreakStatement(null)):_t()?(b.inIteration||b.inSwitch||De({},l.IllegalBreak),y.createBreakStatement(null)):(m.type===r.Identifier&&(A=pr(),N="$"+A.name,Object.prototype.hasOwnProperty.call(b.labelSet,N)||De({},l.UnknownLabel,A.name)),ze(),A===null&&!(b.inIteration||b.inSwitch)&&De({},l.IllegalBreak),y.createBreakStatement(A))}function al(){var A=null;return fe("return"),b.inFunctionBody||Me({},l.IllegalReturn),h.charCodeAt(d)===32&&T(h.charCodeAt(d+1))?(A=Fn(),ze(),y.createReturnStatement(A)):_t()?y.createReturnStatement(null):(ie(";")||!ie("}")&&m.type!==r.EOF&&(A=Fn()),ze(),y.createReturnStatement(A))}function Io(){var A,N;return f&&(z(),Me({},l.StrictModeWith)),fe("with"),He("("),A=Fn(),He(")"),N=gr(),y.createWithStatement(A,N)}function ea(){var A,N=[],K,ve;for(ve=m,ge("default")?(Z(),A=null):(fe("case"),A=Fn()),He(":");d<p&&!(ie("}")||ge("default")||ge("case"));)K=gr(),N.push(K);return y.markEnd(y.createSwitchCase(A,N),ve)}function ol(){var A,N,K,ve,Pe;if(fe("switch"),He("("),A=Fn(),He(")"),He("{"),N=[],ie("}"))return Z(),y.createSwitchStatement(A,N);for(ve=b.inSwitch,b.inSwitch=!0,Pe=!1;d<p&&!ie("}");)K=ea(),K.test===null&&(Pe&&De({},l.MultipleDefaultsInSwitch),Pe=!0),N.push(K);return b.inSwitch=ve,He("}"),y.createSwitchStatement(A,N)}function Cu(){var A;return fe("throw"),_t()&&De({},l.NewlineAfterThrow),A=Fn(),ze(),y.createThrowStatement(A)}function ws(){var A,N,K;return K=m,fe("catch"),He("("),ie(")")&&it(m),A=pr(),f&&L(A.name)&&Me({},l.StrictCatchVariable),He(")"),N=To(),y.markEnd(y.createCatchClause(A,N),K)}function vf(){var A,N=[],K=null;return fe("try"),A=To(),ge("catch")&&N.push(ws()),ge("finally")&&(Z(),K=To()),N.length===0&&!K&&De({},l.NoCatchOrFinally),y.createTryStatement(A,[],N,K)}function _a(){return fe("debugger"),ze(),y.createDebuggerStatement()}function gr(){var A=m.type,N,K,ve,Pe;if(A===r.EOF&&it(m),A===r.Punctuator&&m.value==="{")return To();if(Pe=m,A===r.Punctuator)switch(m.value){case";":return y.markEnd(Su(),Pe);case"(":return y.markEnd(Eu(),Pe)}if(A===r.Keyword)switch(m.value){case"break":return y.markEnd(Oo(),Pe);case"continue":return y.markEnd(df(),Pe);case"debugger":return y.markEnd(_a(),Pe);case"do":return y.markEnd(Au(),Pe);case"for":return y.markEnd(bs(),Pe);case"function":return y.markEnd(Do(),Pe);case"if":return y.markEnd(bi(),Pe);case"return":return y.markEnd(al(),Pe);case"switch":return y.markEnd(ol(),Pe);case"throw":return y.markEnd(Cu(),Pe);case"try":return y.markEnd(vf(),Pe);case"var":return y.markEnd(il(),Pe);case"while":return y.markEnd(hf(),Pe);case"with":return y.markEnd(Io(),Pe)}return N=Fn(),N.type===o.Identifier&&ie(":")?(Z(),ve="$"+N.name,Object.prototype.hasOwnProperty.call(b.labelSet,ve)&&De({},l.Redeclaration,"Label",N.name),b.labelSet[ve]=!0,K=gr(),delete b.labelSet[ve],y.markEnd(y.createLabeledStatement(N,K),Pe)):(ze(),y.markEnd(y.createExpressionStatement(N),Pe))}function Mo(){var A,N=[],K,ve,Pe,Xe,kt,qt,Rn,Xn;for(Xn=m,He("{");d<p&&!(m.type!==r.StringLiteral||(K=m,A=Sa(),N.push(A),A.expression.type!==o.Literal));)ve=h.slice(K.start+1,K.end-1),ve==="use strict"?(f=!0,Pe&&Me(Pe,l.StrictOctalLiteral)):!Pe&&K.octal&&(Pe=K);for(Xe=b.labelSet,kt=b.inIteration,qt=b.inSwitch,Rn=b.inFunctionBody,b.labelSet={},b.inIteration=!1,b.inSwitch=!1,b.inFunctionBody=!0;d<p&&!(ie("}")||(A=Sa(),typeof A>"u"));)N.push(A);return He("}"),b.labelSet=Xe,b.inIteration=kt,b.inSwitch=qt,b.inFunctionBody=Rn,y.markEnd(y.createBlockStatement(N),Xn)}function Tu(A){var N,K=[],ve,Pe,Xe,kt,qt;if(He("("),!ie(")"))for(Xe={};d<p&&(ve=m,N=pr(),kt="$"+ve.value,f?(L(ve.value)&&(Pe=ve,qt=l.StrictParamName),Object.prototype.hasOwnProperty.call(Xe,kt)&&(Pe=ve,qt=l.StrictParamDupe)):A||(L(ve.value)?(A=ve,qt=l.StrictParamName):O(ve.value)?(A=ve,qt=l.StrictReservedWord):Object.prototype.hasOwnProperty.call(Xe,kt)&&(A=ve,qt=l.StrictParamDupe)),K.push(N),Xe[kt]=!0,!ie(")"));)He(",");return He(")"),{params:K,stricted:Pe,firstRestricted:A,message:qt}}function Do(){var A,N=[],K,ve,Pe,Xe,kt,qt,Rn,Xn;return Xn=m,fe("function"),ve=m,A=pr(),f?L(ve.value)&&Me(ve,l.StrictFunctionName):L(ve.value)?(kt=ve,qt=l.StrictFunctionName):O(ve.value)&&(kt=ve,qt=l.StrictReservedWord),Xe=Tu(kt),N=Xe.params,Pe=Xe.stricted,kt=Xe.firstRestricted,Xe.message&&(qt=Xe.message),Rn=f,K=Mo(),f&&kt&&De(kt,qt),f&&Pe&&Me(Pe,qt),f=Rn,y.markEnd(y.createFunctionDeclaration(A,N,[],K),Xn)}function Pu(){var A,N=null,K,ve,Pe,Xe,kt=[],qt,Rn,Xn;return Xn=m,fe("function"),ie("(")||(A=m,N=pr(),f?L(A.value)&&Me(A,l.StrictFunctionName):L(A.value)?(ve=A,Pe=l.StrictFunctionName):O(A.value)&&(ve=A,Pe=l.StrictReservedWord)),Xe=Tu(ve),kt=Xe.params,K=Xe.stricted,ve=Xe.firstRestricted,Xe.message&&(Pe=Xe.message),Rn=f,qt=Mo(),f&&ve&&De(ve,Pe),f&&K&&Me(K,Pe),f=Rn,y.markEnd(y.createFunctionExpression(N,kt,[],qt),Xn)}function Sa(){if(m.type===r.Keyword)switch(m.value){case"const":case"let":return _u(m.value);case"function":return Do();default:return gr()}if(m.type!==r.EOF)return gr()}function Ur(){for(var A,N=[],K,ve,Pe;d<p&&(K=m,!(K.type!==r.StringLiteral||(A=Sa(),N.push(A),A.expression.type!==o.Literal)));)ve=h.slice(K.start+1,K.end-1),ve==="use strict"?(f=!0,Pe&&Me(Pe,l.StrictOctalLiteral)):!Pe&&K.octal&&(Pe=K);for(;d<p&&(A=Sa(),!(typeof A>"u"));)N.push(A);return N}function sl(){var A,N;return z(),be(),N=m,f=!1,A=Ur(),y.markEnd(y.createProgram(A),N)}function xs(){var A,N,K,ve=[];for(A=0;A<w.tokens.length;++A)N=w.tokens[A],K={type:N.type,value:N.value},w.range&&(K.range=N.range),w.loc&&(K.loc=N.loc),ve.push(K);w.tokens=ve}function Za(A,N){var K,ve,Pe;K=String,typeof A!="string"&&!(A instanceof String)&&(A=K(A)),y=c,h=A,d=0,v=h.length>0?1:0,g=0,p=h.length,m=null,b={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},N=N||{},N.tokens=!0,w.tokens=[],w.tokenize=!0,w.openParenToken=-1,w.openCurlyToken=-1,w.range=typeof N.range=="boolean"&&N.range,w.loc=typeof N.loc=="boolean"&&N.loc,typeof N.comment=="boolean"&&N.comment&&(w.comments=[]),typeof N.tolerant=="boolean"&&N.tolerant&&(w.errors=[]);try{if(be(),m.type===r.EOF)return w.tokens;for(ve=Z();m.type!==r.EOF;)try{ve=Z()}catch(Xe){if(ve=m,w.errors){w.errors.push(Xe);break}else throw Xe}xs(),Pe=w.tokens,typeof w.comments<"u"&&(Pe.comments=w.comments),typeof w.errors<"u"&&(Pe.errors=w.errors)}catch(Xe){throw Xe}finally{w={}}return Pe}function Ou(A,N){var K,ve;ve=String,typeof A!="string"&&!(A instanceof String)&&(A=ve(A)),y=c,h=A,d=0,v=h.length>0?1:0,g=0,p=h.length,m=null,b={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},w={},typeof N<"u"&&(w.range=typeof N.range=="boolean"&&N.range,w.loc=typeof N.loc=="boolean"&&N.loc,w.attachComment=typeof N.attachComment=="boolean"&&N.attachComment,w.loc&&N.source!==null&&N.source!==void 0&&(w.source=ve(N.source)),typeof N.tokens=="boolean"&&N.tokens&&(w.tokens=[]),typeof N.comment=="boolean"&&N.comment&&(w.comments=[]),typeof N.tolerant=="boolean"&&N.tolerant&&(w.errors=[]),w.attachComment&&(w.range=!0,w.comments=[],w.bottomRightStack=[],w.trailingComments=[],w.leadingComments=[]));try{K=sl(),typeof w.comments<"u"&&(K.comments=w.comments),typeof w.tokens<"u"&&(xs(),K.tokens=w.tokens),typeof w.errors<"u"&&(K.errors=w.errors)}catch(Pe){throw Pe}finally{w={}}return K}n.version="1.2.5",n.tokenize=Za,n.parse=Ou,n.Syntax=function(){var A,N={};typeof Object.create=="function"&&(N=Object.create(null));for(A in o)o.hasOwnProperty(A)&&(N[A]=o[A]);return typeof Object.freeze=="function"&&Object.freeze(N),N}()})}),Hoe=0;function Goe(e,t,n){this.name=e,this.lvalue=t,this.rvalue=n,this.count=0}function Yoe(e,t,n,r){this.body=e,this.args=t,this.thisVars=n,this.localVars=r}function Xoe(e){if(e==="eval")throw new Error("cwise-parser: eval() not allowed");return typeof window<"u"?e in window:typeof Qo<"u"?e in Qo:typeof self<"u"?e in self:!1}function Woe(e){for(var t=e.body[0].expression.callee.params,n=new Array(t.length),r=0;r<t.length;++r)n[r]=t[r].name;return n}function Koe(e){for(var t=["(",e,")()"].join(""),n=joe.parse(t,{range:!0}),r="_inline_"+Hoe+++"_",i=Woe(n),a=new Array(i.length),o=0;o<i.length;++o)a[o]=new Goe([r,"arg",o,"_"].join(""),!1,!1);for(var s=new Array(t.length),o=0,l=t.length;o<l;++o)s[o]=t.charAt(o);var u=[],c=[];function h(w){var x=r+w.replace(/\_/g,"__");return u.push(x),x}function f(w){var x="this_"+w.replace(/\_/g,"__");return c.push(x),x}function d(w,x){for(var _=w.range[0],S=w.range[1],P=_+1;P<S;++P)s[P]="";s[_]=x}function v(w){return"'"+w.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function g(w){return s.slice(w.range[0],w.range[1]).join("")}var p=1,y=2;function m(w){return w.parent.type==="AssignmentExpression"&&w.parent.left===w?w.parent.operator==="="?p:p|y:w.parent.type==="UpdateExpression"?p|y:y}(function w(x,_){if(x.parent=_,x.type==="MemberExpression")x.computed?(w(x.object,x),w(x.property,x)):x.object.type==="ThisExpression"?d(x,f(x.property.name)):w(x.object,x);else{if(x.type==="ThisExpression")throw new Error("cwise-parser: Computed this is not allowed");if(x.type==="Identifier"){var S=x.name,P=i.indexOf(S);if(P>=0){var C=a[P],D=m(x);D&p&&(C.lvalue=!0),D&y&&(C.rvalue=!0),++C.count,d(x,C.name)}else Xoe(S)||d(x,h(S))}else if(x.type==="Literal")typeof x.value=="string"&&d(x,v(x.value));else{if(x.type==="WithStatement")throw new Error("cwise-parser: with() statements not allowed");for(var T=Object.keys(x),B=0,I=T.length;B<I;++B)if(T[B]!=="parent"){var O=x[T[B]];if(O)if(O instanceof Array)for(var L=0;L<O.length;++L)O[L]&&typeof O[L].type=="string"&&w(O[L],x);else typeof O.type=="string"&&w(O,x)}}}})(n.body[0].expression.callee.body,void 0),iw(u),iw(c);var b=new Yoe(g(n.body[0].expression.callee.body),a,c,u);return b}var Qy=Koe,Vv=["args","body"],qoe=["pre","post","printCode","funcName","blockSize"];function Zoe(e){for(var t in e)Vv.indexOf(t)<0&&qoe.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var n=0;n<Vv.length;++n)if(!e[Vv[n]])throw new Error("cwise: Missing argument: "+Vv[n]);return Jr({args:e.args,pre:Qy(e.pre||function(){}),body:Qy(e.body),post:Qy(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}var gi=Zoe;function Qoe(e,t,n,r,i,a){Gt.add(e,n,i),Gt.add(t,r,a)}var Joe=Qoe;function ese(e,t,n,r){Gt.addeq(e,n),Gt.addeq(t,r)}var tse=ese;function nse(e,t,n,r,i,a){Gt.adds(e,n,i),Gt.adds(e,r,a)}var rse=nse;function ise(e,t,n,r){Gt.addseq(e,n),Gt.addseq(t,r)}var ase=ise;function ose(e,t,n,r,i,a){Gt.sub(e,n,i),Gt.sub(t,r,a)}var sse=ose;function lse(e,t,n,r){Gt.subeq(e,n),Gt.subeq(t,r)}var use=lse;function cse(e,t,n,r,i,a){Gt.subs(e,n,i),Gt.subs(t,r,a)}var fse=cse;function hse(e,t,n,r){Gt.subseq(e,n),Gt.subseq(t,r)}var dse=hse;function vse(e,t,n,r){Gt.neg(e,n),Gt.neg(t,r)}var pse=vse;function gse(e,t){Gt.negeq(e),Gt.negeq(t)}var mse=gse;function yse(e,t,n,r){Gt.assign(e,n),Gt.neg(t,r)}var bse=yse;function wse(e,t){Gt.negeq(t)}var xse=wse,_se=gi({args:["array","array","array","array","array","array"],body:function(t,n,r,i,a,o){}}),Sse=gi({args:["array","array","array","array"],body:function(t,n,r,i){}}),Ese=gi({args:["array","array","array","array","scalar","scalar"],pre:function(e,t,n,r,i,a){this.u=i+a,this.v=a-i},body:function(t,n,r,i,a,o){var s=r,l=i,u=a*(s+l);u-l*this.u,u+s*this.v}}),Ase=gi({args:["array","array","scalar","scalar"],pre:function(e,t,n,r){this.u=n+r,this.v=r-n},body:function(t,n,r,i){var a=t,o=n,s=r*(a+o);t=s-o*this.u,n=s+a*this.v}}),Cse=gi({args:["array","array","array","array","array","array"],body:function(t,n,r,i,a,o){}}),Tse=gi({args:["array","array","array","array"],body:function(t,n,r,i){}}),Pse=gi({args:["array","array","array","array","scalar","scalar"],pre:function(e,t,n,r,i,a){var o=i*i+a*a;i/=o,a/=-o,this.c=i,this.u=i+a,this.v=a-i},body:function(t,n,r,i,a,o){var s=r,l=i,u=this.c*(s+l);u-l*this.u,u+s*this.v}}),Ose=gi({args:["array","array","scalar","scalar"],pre:function(e,t,n,r){var i=n*n+r*r;n/=i,r/=-i,this.c=n,this.u=n+r,this.v=r-n},body:function(t,n,r,i){var a=t,o=n,s=this.c*(a+o);t=s-o*this.u,n=s+a*this.v}}),Ise=gi({args:["array","array","array","array"],body:function(t,n,r,i){}}),Mse=gi({args:["array","array"],body:function(t,n){}}),Dse=gi({args:["array","array","array","array"],pre:function(){this.exp=Math.exp,this.cos=Math.cos,this.sin=Math.sin},body:function(t,n,r,i){var a=this.exp(r);a*this.cos(i),a*this.sin(i)}}),Fse=gi({args:["array","array"],pre:function(){this.exp=Math.exp,this.cos=Math.cos,this.sin=Math.sin},body:function(t,n){var r=this.exp(t),i=out_ir;t=r*this.cos(i),r*this.sin(i)}}),kse=gi({args:["array","array","array"],body:function(t,n,r){}}),Bse=gi({args:["array","array","array"],pre:function(){this.sqrt=Math.sqrt},body:function(t,n,r){this.sqrt(n*n+r*r)}}),Rse=Gt.atan2,Lse={add:Joe,addeq:tse,adds:rse,addseq:ase,sub:sse,subeq:use,subs:fse,subseq:dse,neg:pse,negeq:mse,conj:bse,conjeq:xse,mul:_se,muleq:Sse,muls:Ese,mulseq:Ase,div:Cse,diveq:Tse,divs:Pse,divseq:Ose,recip:Ise,recipeq:Mse,exp:Dse,expeq:Fse,mag:kse,abs:Bse,arg:Rse},Nse=jse,Use=Gse,Vse=Wse,oo=[],sa=[],$se=typeof Uint8Array<"u"?Uint8Array:Array,Jy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var qu=0,zse=Jy.length;qu<zse;++qu)oo[qu]=Jy[qu],sa[Jy.charCodeAt(qu)]=qu;sa["-".charCodeAt(0)]=62;sa["_".charCodeAt(0)]=63;function Yk(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function jse(e){var t=Yk(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Hse(e,t,n){return(t+n)*3/4-n}function Gse(e){var t,n=Yk(e),r=n[0],i=n[1],a=new $se(Hse(e,r,i)),o=0,s=i>0?r-4:r,l;for(l=0;l<s;l+=4)t=sa[e.charCodeAt(l)]<<18|sa[e.charCodeAt(l+1)]<<12|sa[e.charCodeAt(l+2)]<<6|sa[e.charCodeAt(l+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=sa[e.charCodeAt(l)]<<2|sa[e.charCodeAt(l+1)]>>4,a[o++]=t&255),i===1&&(t=sa[e.charCodeAt(l)]<<10|sa[e.charCodeAt(l+1)]<<4|sa[e.charCodeAt(l+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function Yse(e){return oo[e>>18&63]+oo[e>>12&63]+oo[e>>6&63]+oo[e&63]}function Xse(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Yse(r));return i.join("")}function Wse(e){for(var t,n=e.length,r=n%3,i=[],a=16383,o=0,s=n-r;o<s;o+=a)i.push(Xse(e,o,o+a>s?s:o+a));return r===1?(t=e[n-1],i.push(oo[t>>2]+oo[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(oo[t>>10]+oo[t>>4&63]+oo[t<<2&63]+"=")),i.join("")}var e1={byteLength:Nse,toByteArray:Use,fromByteArray:Vse},Kse=function(e,t,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=a*256+e[t+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=o*256+e[t+h],h+=f,c-=8);if(a===0)a=1-u;else{if(a===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-u}return(d?-1:1)*o*Math.pow(2,a-r)},qse=function(e,t,n,r,i,a){var o,s,l,u=a*8-i-1,c=(1<<u)-1,h=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,v=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o=o+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=s&255,d+=v,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+d]=o&255,d+=v,o/=256,u-=8);e[n+d-v]|=g*128},Zu={read:Kse,write:qse},Zse={}.toString,RC=Array.isArray||function(e){return Zse.call(e)=="[object Array]"},LC=pi(function(e,t){t.Buffer=a,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=Qo.TYPED_ARRAY_SUPPORT!==void 0?Qo.TYPED_ARRAY_SUPPORT:n(),t.kMaxLength=r();function n(){try{var X=new Uint8Array(1);return X.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},X.foo()===42&&typeof X.subarray=="function"&&X.subarray(1,1).byteLength===0}catch{return!1}}function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(X,M){if(r()<M)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(X=new Uint8Array(M),X.__proto__=a.prototype):(X===null&&(X=new a(M)),X.length=M),X}function a(X,M,k){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(X,M,k);if(typeof X=="number"){if(typeof M=="string")throw new Error("If encoding is specified then the first argument must be a string");return u(this,X)}return o(this,X,M,k)}a.poolSize=8192,a._augment=function(X){return X.__proto__=a.prototype,X};function o(X,M,k,W){if(typeof M=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&M instanceof ArrayBuffer?f(X,M,k,W):typeof M=="string"?c(X,M,k):d(X,M)}a.from=function(X,M,k){return o(null,X,M,k)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0}));function s(X){if(typeof X!="number")throw new TypeError('"size" argument must be a number');if(X<0)throw new RangeError('"size" argument must not be negative')}function l(X,M,k,W){return s(M),M<=0?i(X,M):k!==void 0?typeof W=="string"?i(X,M).fill(k,W):i(X,M).fill(k):i(X,M)}a.alloc=function(X,M,k){return l(null,X,M,k)};function u(X,M){if(s(M),X=i(X,M<0?0:v(M)|0),!a.TYPED_ARRAY_SUPPORT)for(var k=0;k<M;++k)X[k]=0;return X}a.allocUnsafe=function(X){return u(null,X)},a.allocUnsafeSlow=function(X){return u(null,X)};function c(X,M,k){if((typeof k!="string"||k==="")&&(k="utf8"),!a.isEncoding(k))throw new TypeError('"encoding" must be a valid string encoding');var W=p(M,k)|0;X=i(X,W);var Z=X.write(M,k);return Z!==W&&(X=X.slice(0,Z)),X}function h(X,M){var k=M.length<0?0:v(M.length)|0;X=i(X,k);for(var W=0;W<k;W+=1)X[W]=M[W]&255;return X}function f(X,M,k,W){if(M.byteLength,k<0||M.byteLength<k)throw new RangeError("'offset' is out of bounds");if(M.byteLength<k+(W||0))throw new RangeError("'length' is out of bounds");return k===void 0&&W===void 0?M=new Uint8Array(M):W===void 0?M=new Uint8Array(M,k):M=new Uint8Array(M,k,W),a.TYPED_ARRAY_SUPPORT?(X=M,X.__proto__=a.prototype):X=h(X,M),X}function d(X,M){if(a.isBuffer(M)){var k=v(M.length)|0;return X=i(X,k),X.length===0||M.copy(X,0,0,k),X}if(M){if(typeof ArrayBuffer<"u"&&M.buffer instanceof ArrayBuffer||"length"in M)return typeof M.length!="number"||We(M.length)?i(X,0):h(X,M);if(M.type==="Buffer"&&RC(M.data))return h(X,M.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(X){if(X>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return X|0}function g(X){return+X!=X&&(X=0),a.alloc(+X)}a.isBuffer=function(M){return!!(M!=null&&M._isBuffer)},a.compare=function(M,k){if(!a.isBuffer(M)||!a.isBuffer(k))throw new TypeError("Arguments must be Buffers");if(M===k)return 0;for(var W=M.length,Z=k.length,be=0,we=Math.min(W,Z);be<we;++be)if(M[be]!==k[be]){W=M[be],Z=k[be];break}return W<Z?-1:Z<W?1:0},a.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(M,k){if(!RC(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return a.alloc(0);var W;if(k===void 0)for(k=0,W=0;W<M.length;++W)k+=M[W].length;var Z=a.allocUnsafe(k),be=0;for(W=0;W<M.length;++W){var we=M[W];if(!a.isBuffer(we))throw new TypeError('"list" argument must be an Array of Buffers');we.copy(Z,be),be+=we.length}return Z};function p(X,M){if(a.isBuffer(X))return X.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(X)||X instanceof ArrayBuffer))return X.byteLength;typeof X!="string"&&(X=""+X);var k=X.length;if(k===0)return 0;for(var W=!1;;)switch(M){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":case void 0:return pe(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return ke(X).length;default:if(W)return pe(X).length;M=(""+M).toLowerCase(),W=!0}}a.byteLength=p;function y(X,M,k){var W=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,M>>>=0,k<=M))return"";for(X||(X="utf8");;)switch(X){case"hex":return U(this,M,k);case"utf8":case"utf-8":return B(this,M,k);case"ascii":return L(this,M,k);case"latin1":case"binary":return R(this,M,k);case"base64":return T(this,M,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,M,k);default:if(W)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),W=!0}}a.prototype._isBuffer=!0;function m(X,M,k){var W=X[M];X[M]=X[k],X[k]=W}a.prototype.swap16=function(){var M=this.length;if(M%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<M;k+=2)m(this,k,k+1);return this},a.prototype.swap32=function(){var M=this.length;if(M%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<M;k+=4)m(this,k,k+3),m(this,k+1,k+2);return this},a.prototype.swap64=function(){var M=this.length;if(M%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<M;k+=8)m(this,k,k+7),m(this,k+1,k+6),m(this,k+2,k+5),m(this,k+3,k+4);return this},a.prototype.toString=function(){var M=this.length|0;return M===0?"":arguments.length===0?B(this,0,M):y.apply(this,arguments)},a.prototype.equals=function(M){if(!a.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M?!0:a.compare(this,M)===0},a.prototype.inspect=function(){var M="",k=t.INSPECT_MAX_BYTES;return this.length>0&&(M=this.toString("hex",0,k).match(/.{2}/g).join(" "),this.length>k&&(M+=" ... ")),"<Buffer "+M+">"},a.prototype.compare=function(M,k,W,Z,be){if(!a.isBuffer(M))throw new TypeError("Argument must be a Buffer");if(k===void 0&&(k=0),W===void 0&&(W=M?M.length:0),Z===void 0&&(Z=0),be===void 0&&(be=this.length),k<0||W>M.length||Z<0||be>this.length)throw new RangeError("out of range index");if(Z>=be&&k>=W)return 0;if(Z>=be)return-1;if(k>=W)return 1;if(k>>>=0,W>>>=0,Z>>>=0,be>>>=0,this===M)return 0;for(var we=be-Z,tt=W-k,_t=Math.min(we,tt),De=this.slice(Z,be),Me=M.slice(k,W),it=0;it<_t;++it)if(De[it]!==Me[it]){we=De[it],tt=Me[it];break}return we<tt?-1:tt<we?1:0};function b(X,M,k,W,Z){if(X.length===0)return-1;if(typeof k=="string"?(W=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,isNaN(k)&&(k=Z?0:X.length-1),k<0&&(k=X.length+k),k>=X.length){if(Z)return-1;k=X.length-1}else if(k<0)if(Z)k=0;else return-1;if(typeof M=="string"&&(M=a.from(M,W)),a.isBuffer(M))return M.length===0?-1:w(X,M,k,W,Z);if(typeof M=="number")return M=M&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(X,M,k):Uint8Array.prototype.lastIndexOf.call(X,M,k):w(X,[M],k,W,Z);throw new TypeError("val must be string, number or Buffer")}function w(X,M,k,W,Z){var be=1,we=X.length,tt=M.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(X.length<2||M.length<2)return-1;be=2,we/=2,tt/=2,k/=2}function _t(fe,ie){return be===1?fe[ie]:fe.readUInt16BE(ie*be)}var De;if(Z){var Me=-1;for(De=k;De<we;De++)if(_t(X,De)===_t(M,Me===-1?0:De-Me)){if(Me===-1&&(Me=De),De-Me+1===tt)return Me*be}else Me!==-1&&(De-=De-Me),Me=-1}else for(k+tt>we&&(k=we-tt),De=k;De>=0;De--){for(var it=!0,He=0;He<tt;He++)if(_t(X,De+He)!==_t(M,He)){it=!1;break}if(it)return De}return-1}a.prototype.includes=function(M,k,W){return this.indexOf(M,k,W)!==-1},a.prototype.indexOf=function(M,k,W){return b(this,M,k,W,!0)},a.prototype.lastIndexOf=function(M,k,W){return b(this,M,k,W,!1)};function x(X,M,k,W){k=Number(k)||0;var Z=X.length-k;W?(W=Number(W),W>Z&&(W=Z)):W=Z;var be=M.length;if(be%2!==0)throw new TypeError("Invalid hex string");W>be/2&&(W=be/2);for(var we=0;we<W;++we){var tt=parseInt(M.substr(we*2,2),16);if(isNaN(tt))return we;X[k+we]=tt}return we}function _(X,M,k,W){return Ce(pe(M,X.length-k),X,k,W)}function S(X,M,k,W){return Ce(Se(M),X,k,W)}function P(X,M,k,W){return S(X,M,k,W)}function C(X,M,k,W){return Ce(ke(M),X,k,W)}function D(X,M,k,W){return Ce(ae(M,X.length-k),X,k,W)}a.prototype.write=function(M,k,W,Z){if(k===void 0)Z="utf8",W=this.length,k=0;else if(W===void 0&&typeof k=="string")Z=k,W=this.length,k=0;else if(isFinite(k))k=k|0,isFinite(W)?(W=W|0,Z===void 0&&(Z="utf8")):(Z=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var be=this.length-k;if((W===void 0||W>be)&&(W=be),M.length>0&&(W<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var we=!1;;)switch(Z){case"hex":return x(this,M,k,W);case"utf8":case"utf-8":return _(this,M,k,W);case"ascii":return S(this,M,k,W);case"latin1":case"binary":return P(this,M,k,W);case"base64":return C(this,M,k,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,M,k,W);default:if(we)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),we=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(X,M,k){return M===0&&k===X.length?e1.fromByteArray(X):e1.fromByteArray(X.slice(M,k))}function B(X,M,k){k=Math.min(X.length,k);for(var W=[],Z=M;Z<k;){var be=X[Z],we=null,tt=be>239?4:be>223?3:be>191?2:1;if(Z+tt<=k){var _t,De,Me,it;switch(tt){case 1:be<128&&(we=be);break;case 2:_t=X[Z+1],(_t&192)===128&&(it=(be&31)<<6|_t&63,it>127&&(we=it));break;case 3:_t=X[Z+1],De=X[Z+2],(_t&192)===128&&(De&192)===128&&(it=(be&15)<<12|(_t&63)<<6|De&63,it>2047&&(it<55296||it>57343)&&(we=it));break;case 4:_t=X[Z+1],De=X[Z+2],Me=X[Z+3],(_t&192)===128&&(De&192)===128&&(Me&192)===128&&(it=(be&15)<<18|(_t&63)<<12|(De&63)<<6|Me&63,it>65535&&it<1114112&&(we=it))}}we===null?(we=65533,tt=1):we>65535&&(we-=65536,W.push(we>>>10&1023|55296),we=56320|we&1023),W.push(we),Z+=tt}return O(W)}var I=4096;function O(X){var M=X.length;if(M<=I)return String.fromCharCode.apply(String,X);for(var k="",W=0;W<M;)k+=String.fromCharCode.apply(String,X.slice(W,W+=I));return k}function L(X,M,k){var W="";k=Math.min(X.length,k);for(var Z=M;Z<k;++Z)W+=String.fromCharCode(X[Z]&127);return W}function R(X,M,k){var W="";k=Math.min(X.length,k);for(var Z=M;Z<k;++Z)W+=String.fromCharCode(X[Z]);return W}function U(X,M,k){var W=X.length;(!M||M<0)&&(M=0),(!k||k<0||k>W)&&(k=W);for(var Z="",be=M;be<k;++be)Z+=ye(X[be]);return Z}function $(X,M,k){for(var W=X.slice(M,k),Z="",be=0;be<W.length;be+=2)Z+=String.fromCharCode(W[be]+W[be+1]*256);return Z}a.prototype.slice=function(M,k){var W=this.length;M=~~M,k=k===void 0?W:~~k,M<0?(M+=W,M<0&&(M=0)):M>W&&(M=W),k<0?(k+=W,k<0&&(k=0)):k>W&&(k=W),k<M&&(k=M);var Z;if(a.TYPED_ARRAY_SUPPORT)Z=this.subarray(M,k),Z.__proto__=a.prototype;else{var be=k-M;Z=new a(be,void 0);for(var we=0;we<be;++we)Z[we]=this[we+M]}return Z};function j(X,M,k){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+M>k)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(M,k,W){M=M|0,k=k|0,W||j(M,k,this.length);for(var Z=this[M],be=1,we=0;++we<k&&(be*=256);)Z+=this[M+we]*be;return Z},a.prototype.readUIntBE=function(M,k,W){M=M|0,k=k|0,W||j(M,k,this.length);for(var Z=this[M+--k],be=1;k>0&&(be*=256);)Z+=this[M+--k]*be;return Z},a.prototype.readUInt8=function(M,k){return k||j(M,1,this.length),this[M]},a.prototype.readUInt16LE=function(M,k){return k||j(M,2,this.length),this[M]|this[M+1]<<8},a.prototype.readUInt16BE=function(M,k){return k||j(M,2,this.length),this[M]<<8|this[M+1]},a.prototype.readUInt32LE=function(M,k){return k||j(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+this[M+3]*16777216},a.prototype.readUInt32BE=function(M,k){return k||j(M,4,this.length),this[M]*16777216+(this[M+1]<<16|this[M+2]<<8|this[M+3])},a.prototype.readIntLE=function(M,k,W){M=M|0,k=k|0,W||j(M,k,this.length);for(var Z=this[M],be=1,we=0;++we<k&&(be*=256);)Z+=this[M+we]*be;return be*=128,Z>=be&&(Z-=Math.pow(2,8*k)),Z},a.prototype.readIntBE=function(M,k,W){M=M|0,k=k|0,W||j(M,k,this.length);for(var Z=k,be=1,we=this[M+--Z];Z>0&&(be*=256);)we+=this[M+--Z]*be;return be*=128,we>=be&&(we-=Math.pow(2,8*k)),we},a.prototype.readInt8=function(M,k){return k||j(M,1,this.length),this[M]&128?(255-this[M]+1)*-1:this[M]},a.prototype.readInt16LE=function(M,k){k||j(M,2,this.length);var W=this[M]|this[M+1]<<8;return W&32768?W|4294901760:W},a.prototype.readInt16BE=function(M,k){k||j(M,2,this.length);var W=this[M+1]|this[M]<<8;return W&32768?W|4294901760:W},a.prototype.readInt32LE=function(M,k){return k||j(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},a.prototype.readInt32BE=function(M,k){return k||j(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},a.prototype.readFloatLE=function(M,k){return k||j(M,4,this.length),Zu.read(this,M,!0,23,4)},a.prototype.readFloatBE=function(M,k){return k||j(M,4,this.length),Zu.read(this,M,!1,23,4)},a.prototype.readDoubleLE=function(M,k){return k||j(M,8,this.length),Zu.read(this,M,!0,52,8)},a.prototype.readDoubleBE=function(M,k){return k||j(M,8,this.length),Zu.read(this,M,!1,52,8)};function z(X,M,k,W,Z,be){if(!a.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>Z||M<be)throw new RangeError('"value" argument is out of bounds');if(k+W>X.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(M,k,W,Z){if(M=+M,k=k|0,W=W|0,!Z){var be=Math.pow(2,8*W)-1;z(this,M,k,W,be,0)}var we=1,tt=0;for(this[k]=M&255;++tt<W&&(we*=256);)this[k+tt]=M/we&255;return k+W},a.prototype.writeUIntBE=function(M,k,W,Z){if(M=+M,k=k|0,W=W|0,!Z){var be=Math.pow(2,8*W)-1;z(this,M,k,W,be,0)}var we=W-1,tt=1;for(this[k+we]=M&255;--we>=0&&(tt*=256);)this[k+we]=M/tt&255;return k+W},a.prototype.writeUInt8=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,1,255,0),a.TYPED_ARRAY_SUPPORT||(M=Math.floor(M)),this[k]=M&255,k+1};function Y(X,M,k,W){M<0&&(M=65535+M+1);for(var Z=0,be=Math.min(X.length-k,2);Z<be;++Z)X[k+Z]=(M&255<<8*(W?Z:1-Z))>>>(W?Z:1-Z)*8}a.prototype.writeUInt16LE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[k]=M&255,this[k+1]=M>>>8):Y(this,M,k,!0),k+2},a.prototype.writeUInt16BE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[k]=M>>>8,this[k+1]=M&255):Y(this,M,k,!1),k+2};function Q(X,M,k,W){M<0&&(M=4294967295+M+1);for(var Z=0,be=Math.min(X.length-k,4);Z<be;++Z)X[k+Z]=M>>>(W?Z:3-Z)*8&255}a.prototype.writeUInt32LE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[k+3]=M>>>24,this[k+2]=M>>>16,this[k+1]=M>>>8,this[k]=M&255):Q(this,M,k,!0),k+4},a.prototype.writeUInt32BE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[k]=M>>>24,this[k+1]=M>>>16,this[k+2]=M>>>8,this[k+3]=M&255):Q(this,M,k,!1),k+4},a.prototype.writeIntLE=function(M,k,W,Z){if(M=+M,k=k|0,!Z){var be=Math.pow(2,8*W-1);z(this,M,k,W,be-1,-be)}var we=0,tt=1,_t=0;for(this[k]=M&255;++we<W&&(tt*=256);)M<0&&_t===0&&this[k+we-1]!==0&&(_t=1),this[k+we]=(M/tt>>0)-_t&255;return k+W},a.prototype.writeIntBE=function(M,k,W,Z){if(M=+M,k=k|0,!Z){var be=Math.pow(2,8*W-1);z(this,M,k,W,be-1,-be)}var we=W-1,tt=1,_t=0;for(this[k+we]=M&255;--we>=0&&(tt*=256);)M<0&&_t===0&&this[k+we+1]!==0&&(_t=1),this[k+we]=(M/tt>>0)-_t&255;return k+W},a.prototype.writeInt8=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,1,127,-128),a.TYPED_ARRAY_SUPPORT||(M=Math.floor(M)),M<0&&(M=255+M+1),this[k]=M&255,k+1},a.prototype.writeInt16LE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[k]=M&255,this[k+1]=M>>>8):Y(this,M,k,!0),k+2},a.prototype.writeInt16BE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[k]=M>>>8,this[k+1]=M&255):Y(this,M,k,!1),k+2},a.prototype.writeInt32LE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[k]=M&255,this[k+1]=M>>>8,this[k+2]=M>>>16,this[k+3]=M>>>24):Q(this,M,k,!0),k+4},a.prototype.writeInt32BE=function(M,k,W){return M=+M,k=k|0,W||z(this,M,k,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),a.TYPED_ARRAY_SUPPORT?(this[k]=M>>>24,this[k+1]=M>>>16,this[k+2]=M>>>8,this[k+3]=M&255):Q(this,M,k,!1),k+4};function re(X,M,k,W,Z,be){if(k+W>X.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function he(X,M,k,W,Z){return Z||re(X,M,k,4),Zu.write(X,M,k,W,23,4),k+4}a.prototype.writeFloatLE=function(M,k,W){return he(this,M,k,!0,W)},a.prototype.writeFloatBE=function(M,k,W){return he(this,M,k,!1,W)};function ce(X,M,k,W,Z){return Z||re(X,M,k,8),Zu.write(X,M,k,W,52,8),k+8}a.prototype.writeDoubleLE=function(M,k,W){return ce(this,M,k,!0,W)},a.prototype.writeDoubleBE=function(M,k,W){return ce(this,M,k,!1,W)},a.prototype.copy=function(M,k,W,Z){if(W||(W=0),!Z&&Z!==0&&(Z=this.length),k>=M.length&&(k=M.length),k||(k=0),Z>0&&Z<W&&(Z=W),Z===W||M.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),M.length-k<Z-W&&(Z=M.length-k+W);var be=Z-W,we;if(this===M&&W<k&&k<Z)for(we=be-1;we>=0;--we)M[we+k]=this[we+W];else if(be<1e3||!a.TYPED_ARRAY_SUPPORT)for(we=0;we<be;++we)M[we+k]=this[we+W];else Uint8Array.prototype.set.call(M,this.subarray(W,W+be),k);return be},a.prototype.fill=function(M,k,W,Z){if(typeof M=="string"){if(typeof k=="string"?(Z=k,k=0,W=this.length):typeof W=="string"&&(Z=W,W=this.length),M.length===1){var be=M.charCodeAt(0);be<256&&(M=be)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof M=="number"&&(M=M&255);if(k<0||this.length<k||this.length<W)throw new RangeError("Out of range index");if(W<=k)return this;k=k>>>0,W=W===void 0?this.length:W>>>0,M||(M=0);var we;if(typeof M=="number")for(we=k;we<W;++we)this[we]=M;else{var tt=a.isBuffer(M)?M:pe(new a(M,Z).toString()),_t=tt.length;for(we=0;we<W-k;++we)this[we+k]=tt[we%_t]}return this};var te=/[^+\/0-9A-Za-z-_]/g;function ee(X){if(X=Ue(X).replace(te,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function Ue(X){return X.trim?X.trim():X.replace(/^\s+|\s+$/g,"")}function ye(X){return X<16?"0"+X.toString(16):X.toString(16)}function pe(X,M){M=M||1/0;for(var k,W=X.length,Z=null,be=[],we=0;we<W;++we){if(k=X.charCodeAt(we),k>55295&&k<57344){if(!Z){if(k>56319){(M-=3)>-1&&be.push(239,191,189);continue}else if(we+1===W){(M-=3)>-1&&be.push(239,191,189);continue}Z=k;continue}if(k<56320){(M-=3)>-1&&be.push(239,191,189),Z=k;continue}k=(Z-55296<<10|k-56320)+65536}else Z&&(M-=3)>-1&&be.push(239,191,189);if(Z=null,k<128){if((M-=1)<0)break;be.push(k)}else if(k<2048){if((M-=2)<0)break;be.push(k>>6|192,k&63|128)}else if(k<65536){if((M-=3)<0)break;be.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((M-=4)<0)break;be.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return be}function Se(X){for(var M=[],k=0;k<X.length;++k)M.push(X.charCodeAt(k)&255);return M}function ae(X,M){for(var k,W,Z,be=[],we=0;we<X.length&&!((M-=2)<0);++we)k=X.charCodeAt(we),W=k>>8,Z=k%256,be.push(Z),be.push(W);return be}function ke(X){return e1.toByteArray(ee(X))}function Ce(X,M,k,W){for(var Z=0;Z<W&&!(Z+k>=M.length||Z>=X.length);++Z)M[Z+k]=X[Z];return Z}function We(X){return X!==X}});function Xk(e,t,n){var r=e[n]|0;if(r<=0)return[];var i=new Array(r),a;if(n===e.length-1)for(a=0;a<r;++a)i[a]=t;else for(a=0;a<r;++a)i[a]=Xk(e,t,n+1);return i}function Qse(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function Jse(e,t){switch(typeof t>"u"&&(t=0),typeof e){case"number":if(e>0)return Qse(e|0,t);break;case"object":if(typeof e.length=="number")return Xk(e,t,0);break}return[]}var ki=Jse,Pa=pi(function(e,t){Qo.__TYPEDARRAY_POOL||(Qo.__TYPEDARRAY_POOL={UINT8:ki([32,0]),UINT16:ki([32,0]),UINT32:ki([32,0]),INT8:ki([32,0]),INT16:ki([32,0]),INT32:ki([32,0]),FLOAT:ki([32,0]),DOUBLE:ki([32,0]),DATA:ki([32,0]),UINT8C:ki([32,0]),BUFFER:ki([32,0])});var n=typeof Uint8ClampedArray<"u",r=Qo.__TYPEDARRAY_POOL;r.UINT8C||(r.UINT8C=ki([32,0])),r.BUFFER||(r.BUFFER=ki([32,0]));var i=r.DATA,a=r.BUFFER;t.free=function(x){if(LC.Buffer.isBuffer(x))a[Ti.log2(x.length)].push(x);else{if(Object.prototype.toString.call(x)!=="[object ArrayBuffer]"&&(x=x.buffer),!x)return;var _=x.length||x.byteLength,S=Ti.log2(_)|0;i[S].push(x)}};function o(w){if(w){var x=w.length||w.byteLength,_=Ti.log2(x);i[_].push(w)}}function s(w){o(w.buffer)}t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=s,t.freeArrayBuffer=o,t.freeBuffer=function(x){a[Ti.log2(x.length)].push(x)},t.malloc=function(x,_){if(_===void 0||_==="arraybuffer")return l(x);switch(_){case"uint8":return u(x);case"uint16":return c(x);case"uint32":return h(x);case"int8":return f(x);case"int16":return d(x);case"int32":return v(x);case"float":case"float32":return g(x);case"double":case"float64":return p(x);case"uint8_clamped":return y(x);case"buffer":return b(x);case"data":case"dataview":return m(x);default:return null}return null};function l(x){var x=Ti.nextPow2(x),_=Ti.log2(x),S=i[_];return S.length>0?S.pop():new ArrayBuffer(x)}t.mallocArrayBuffer=l;function u(w){return new Uint8Array(l(w),0,w)}t.mallocUint8=u;function c(w){return new Uint16Array(l(2*w),0,w)}t.mallocUint16=c;function h(w){return new Uint32Array(l(4*w),0,w)}t.mallocUint32=h;function f(w){return new Int8Array(l(w),0,w)}t.mallocInt8=f;function d(w){return new Int16Array(l(2*w),0,w)}t.mallocInt16=d;function v(w){return new Int32Array(l(4*w),0,w)}t.mallocInt32=v;function g(w){return new Float32Array(l(4*w),0,w)}t.mallocFloat32=t.mallocFloat=g;function p(w){return new Float64Array(l(8*w),0,w)}t.mallocFloat64=t.mallocDouble=p;function y(w){return n?new Uint8ClampedArray(l(w),0,w):u(w)}t.mallocUint8Clamped=y;function m(w){return new DataView(l(w),0,w)}t.mallocDataView=m;function b(w){w=Ti.nextPow2(w);var x=Ti.log2(w),_=a[x];return _.length>0?_.pop():new LC.Buffer(w)}t.mallocBuffer=b,t.clearCache=function(){for(var x=0;x<32;++x)r.UINT8[x].length=0,r.UINT16[x].length=0,r.UINT32[x].length=0,r.INT8[x].length=0,r.INT16[x].length=0,r.INT32[x].length=0,r.FLOAT[x].length=0,r.DOUBLE[x].length=0,r.UINT8C[x].length=0,i[x].length=0,a[x].length=0}});function ele(e,t,n,r,i,a,o){e|=0,t|=0,n|=0,i|=0,a|=0,Ti.isPow2(n)?xp(e,t,n,r,i,a):rle(e,t,n,r,i,a,o)}var aw=ele;function tle(e){return Ti.isPow2(e)?0:2*e+4*Ti.nextPow2(2*e+1)}var nle=tle;function xp(e,t,n,r,i,a){e|=0,t|=0,n|=0,i|=0,a|=0;var o,s,l,u,c,h,f,d,v,g,p,y,m,b,w,x,_,S,P,C,D,T,B,I,O;for(o=n,s=Ti.log2(o),S=0;S<t;++S){for(f=o>>1,c=0,l=0;l<o-1;l++){for(l<c&&(m=r[i+l],r[i+l]=r[i+c],r[i+c]=m,m=r[a+l],r[a+l]=r[a+c],r[a+c]=m),h=f;h<=c;)c-=h,h>>=1;c+=h}for(p=-1,y=0,g=1,d=0;d<s;d++){for(v=g,g<<=1,x=1,_=0,c=0;c<v;c++){for(l=c;l<o;l+=g)u=l+v,P=r[i+u],C=r[a+u],D=r[i+l],T=r[a+l],B=x*(P+C),I=P*(_-x),O=C*(x+_),b=B-O,w=B+I,r[i+u]=D-b,r[a+u]=T-w,r[i+l]+=b,r[a+l]+=w;B=p*(x+_),I=x*(y-p),O=_*(p+y),x=B-O,_=B+I}y=Math.sqrt((1-p)/2),e<0&&(y=-y),p=Math.sqrt((1+p)/2)}if(e<0){var L=1/o;for(l=0;l<o;l++)r[i+l]*=L,r[a+l]*=L}i+=n,a+=n}}function rle(e,t,n,r,i,a,o){e|=0,t|=0,n|=0,i|=0,a|=0,o|=0;var s=Ti.nextPow2(2*n+1),l=o,u=l+n,c=u+n,h=c+s,f=h+s,d=f+s,v=-e*Math.PI/n,g,p,y,m,b,w,x,_,S;for(S=0;S<n;++S)p=v*(S*S%(n*2)),m=Math.cos(p),b=Math.sin(p),r[f+(s-S)]=r[f+S]=r[l+S]=m,r[d+(s-S)]=r[d+S]=r[u+S]=b;for(S=n;S<=s-n;++S)r[f+S]=0;for(S=n;S<=s-n;++S)r[d+S]=0;for(xp(1,1,s,r,f,d),e<0?v=1/n:v=1,g=0;g<t;++g){for(S=0;S<n;++S)p=r[i+S],y=r[a+S],m=r[l+S],b=-r[u+S],w=m*(p+y),x=p*(b-m),_=y*(m+b),r[c+S]=w-_,r[h+S]=w+x;for(S=n;S<s;++S)r[c+S]=0;for(S=n;S<s;++S)r[h+S]=0;for(xp(1,1,s,r,c,h),S=0;S<s;++S)p=r[c+S],y=r[h+S],m=r[f+S],b=r[d+S],w=m*(p+y),x=p*(b-m),_=y*(m+b),r[c+S]=w-_,r[h+S]=w+x;for(xp(-1,1,s,r,c,h),S=0;S<n;++S)p=r[c+S],y=r[h+S],m=r[l+S],b=-r[u+S],w=m*(p+y),x=p*(b-m),_=y*(m+b),r[i+S]=v*(w-_),r[a+S]=v*(w+x);i+=n,a+=n}}aw.scratchMemory=nle;function ile(e,t,n){var r=t.shape,i=r.length,a=1,o=new Array(i),s=0,l,u;for(l=i-1;l>=0;--l)if(o[l]=a,a*=r[l],s=Math.max(s,aw.scratchMemory(r[l])),t.shape[l]!==n.shape[l])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var c=4*a+s,h;t.dtype==="array"||t.dtype==="float64"||t.dtype==="custom"?h=Pa.mallocDouble(c):h=Pa.mallocFloat(c);var f=da(h,r.slice(0),o,0),d=da(h,r.slice(0),o.slice(0),a),v=da(h,r.slice(0),o.slice(0),2*a),g=da(h,r.slice(0),o.slice(0),3*a),p,y,m,b,w=4*a;for(Gt.assign(f,t),Gt.assign(d,n),l=i-1;l>=0&&(aw(e,a/r[l],r[l],h,f.offset,d.offset,w),l!==0);--l){for(y=1,m=v.stride,b=g.stride,u=l-1;u<i;++u)b[u]=m[u]=y,y*=r[u];for(u=l-2;u>=0;--u)b[u]=m[u]=y,y*=r[u];Gt.assign(v,f),Gt.assign(g,d),p=f,f=v,v=p,p=d,d=g,g=p}Gt.assign(t,f),Gt.assign(n,d),Pa.free(h)}var t1=ile,ale=pi(function(e){var t=gi({args:["array","array","array","array"],body:function(r,i,a,o){}});function n(r,i,a,o,s,l,u,c){if(a.shape.length!==s.shape.length||r.shape.length!==a.shape.length)throw new Error("ndarray-convolve: Dimension mismatch");var h=a.shape.length,f=1,d=new Array(h),v=new Array(h),g;if(c)for(g=h-1;g>=0;--g)v[g]=a.shape[g],d[g]=f,f*=v[g];else for(g=h-1;g>=0;--g)v[g]=Ti.nextPow2(a.shape[g]+s.shape[g]-1),d[g]=f,f*=v[g];var p=Pa.mallocDouble(f),y=da(p,v,d,0);Gt.assigns(y,0),Gt.assign(y.hi.apply(y,a.shape),a);var m=Pa.mallocDouble(f),b=da(m,v,d,0);Gt.assigns(b,0),o&&Gt.assign(b.hi.apply(b,o.shape),o),t1(1,y,b);var w=Pa.mallocDouble(f),x=da(w,v,d,0);Gt.assigns(x,0),Gt.assign(x.hi.apply(x,s.shape),s);var _=Pa.mallocDouble(f),S=da(_,v,d,0);Gt.assigns(S,0),l&&Gt.assign(S.hi.apply(b,l.shape),l),t1(1,x,S),u?t(y,b,x,S):Lse.muleq(y,b,x,S),t1(-1,y,b);var P=new Array(h),C=new Array(h),D=!1;for(g=0;g<h;++g)r.shape[g]>v[g]&&(D=!0),c?C[g]=0:C[g]=Math.max(0,Math.min(v[g]-r.shape[g],Math.floor(s.shape[g]/2))),P[g]=Math.min(r.shape[g],v[g]-C[g]);var T,B;D&&Gt.assign(r,0),T=y.lo.apply(y,C),T=T.hi.apply(T,P),Gt.assign(r.hi.apply(r,P),T),i&&(D&&Gt.assign(i,0),B=b.lo.apply(b,C),B=B.hi.apply(B,P),Gt.assign(i.hi.apply(i,P),B)),Pa.freeDouble(p),Pa.freeDouble(m),Pa.freeDouble(w),Pa.freeDouble(_)}e.exports=function(i,a,o,s,l,u){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!1,!1);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!1,!1);else if(arguments.length===4)n(i,a,i,a,o,s,!1,!1);else if(arguments.length===6)n(i,a,o,s,l,u,!1,!1);else throw new Error("ndarray-convolve: Invalid arguments for convolve");return i},e.exports.wrap=function(i,a,o,s,l,u){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!1,!0);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!1,!0);else if(arguments.length===4)n(i,a,i,a,o,s,!1,!0);else if(arguments.length===6)n(i,a,o,s,l,u,!1,!0);else throw new Error("ndarray-convolve: Invalid arguments for convolve");return i},e.exports.correlate=function(i,a,o,s,l,u){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!0,!1);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!0,!1);else if(arguments.length===4)n(i,a,i,a,o,s,!0,!1);else if(arguments.length===6)n(i,a,o,s,l,u,!0,!1);else throw new Error("ndarray-convolve: Invalid arguments for correlate");return i},e.exports.correlate.wrap=function(i,a,o,s,l,u){if(arguments.length===2)n(i,void 0,i,void 0,a,void 0,!0,!0);else if(arguments.length===3)n(i,void 0,a,void 0,o,void 0,!0,!0);else if(arguments.length===4)n(i,a,i,a,o,s,!0,!0);else if(arguments.length===6)n(i,a,o,s,l,u,!0,!0);else throw new Error("ndarray-convolve: Invalid arguments for correlate");return i}}),NC=100,ole=function(t,n){var r=new Set,i=[],a=!1,o=function(){r.size?h():(s(),a&&n.publish("animationEnd"),a=!1)},s=function(){i.forEach(function(p){return p.onDone()}),i=[]},l=function(){var p=i.slice(0,NC);i.splice(0,NC),p.forEach(function(y){return y.onDone()})},u=zk(l,50),c=function(){a=!0,r.forEach(function(p){p.update()&&i.push(p)}),t(),i.forEach(function(p){return r.delete(p)}),u()},h=Ak(c,o),f=function(p){r.add(p),p.register(),h()},d=function(p){p.forEach(function(y){r.add(y),y.register()}),h()},v=function(p){r.delete(p)};return{add:f,addBatch:d,cancel:v}},Wk=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return er(i,{clone:function(){return i.constructor.apply(i,n)}})}},_p=function(t){var n;return t.isSprite?(n=new ja(t.texture),n.interactive=t.interactive,n.x=t.x,n.y=t.y,n.anchor=t.anchor,n.width=t.width,n.height=t.height,n.angle=t.angle):t instanceof qh&&(n=new qh(t.geometry,t.shader,t.state),n.interactive=t.interactive,n.x=t.x,n.y=t.y,n.anchor=t.anchor,n.width=t.width,n.height=t.height,n.angle=t.angle),n},dc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(typeof t=="string"||t instanceof String){if(t[0]==="#")return[parseInt(t.substr(1),16),n];if(t.substring(0,3)==="rgb"){var r=t.match(/(\d+),\s*(\d+),\s*(\d+),?\s*([\d.]+)?/);return[r.slice(1,4).map(function(i,a){return+i<<8*(2-a)}).reduce(function(i,a){return a+i},0),Number.isNaN(+r[4])?1:+r[4]]}return[t.match(/(\d+),\s*(\d+),\s*(\d+)/).slice(1).map(function(i,a){return+i<<8*(2-a)}).reduce(function(i,a){return a+i},0),n]}return[parseInt(t,10),n]};pi(function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(a,o){return a.__proto__=o,a},t(n,r)}e.exports=t});var sle=pi(function(e){function t(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e.exports=t=function(i){return typeof i}:e.exports=t=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t(n)}e.exports=t});pi(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},t(n)}e.exports=t});var lle=function(t,n){switch(n){case"Infinity":return 1/0;case"-Infinity":return-1/0;default:return n}},ule=function(t){return JSON.parse(t,lle)},Ci=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t===null?n:t},cle=function(t){return wp(t)&&t.data&&(t.data.constructor===Float32Array||t.data.constructor===Uint8Array)&&t.shape},fle=function(t){for(var n=1/0,r=-1/0,i=1/0,a=-1/0,o=0;o<t.length;o+=2)n=t[o]<n?t[o]:n,r=t[o]>r?t[o]:r,i=t[o+1]<i?t[o+1]:i,a=t[o+1]>a?t[o+1]:a;return{minX:n,minY:i,maxX:r,maxY:a}},Fl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Yt(t)?t(n,n.id,r):t},oa=function(t,n){return Yt(t)?t(n):t},hle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t=new Set(t);var r=[],i=n.filter(function(o){return t.has(o)?(t.delete(o),!0):(r.push(o),!1)}),a=Array.from(t);return[a,r,i]},Qu=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h},n=1,r=Math.log10(n),i=10,a=Math.log10(i),o=a-r,s=0,l=1,u=1,c=function(f){return Math.min(l,Math.max(s,l-(a-t(f))/o*u))};return c.domain=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(h.length===0)return[n,i];var f=me(h,2),d=f[0],v=f[1];return n=d,r=t(d),i=v,a=t(v),o=a-r||1,c},c.range=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(h.length===0)return[s,l];var f=me(h,2),d=f[0],v=f[1];return s=d,l=v,u=l-s,c},c},dle=["left","center","right"],vle=["top","center","bottom"],ow=1e-9,sw=0,tm=16777215,ple=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),UC="cubic-bezier(0.645, 0.045, 0.355, 1)",Z_=!1,VC={passive:!1},Si={passive:!0},qc="inherit",gle="index",mle={property:function(t,n){return n},isCustom:!0},Kk=.85,qk=.15,Zk=!0,Qk=.1,Jk=.8,eB=1,yle=2,$C=10,ble=2500,wle=250,Q_="auto",tB="panZoom",nB="scroll",xle=[Q_,tB,nB],_le=1,Sle=0,Ele=16777215,Ale=["top","right"],Cle=qc,Tle=qc,zC=["#E69F00","#56B4E9","#009E73","#F0E442","#0072B2","#D55E00","#CC79A7"],jC={color:"#808080"},Ple=100,Ole=function(t){var n=["top","left"],r=DC(t)?t[1]:t,i=DC(t)?t[0]:t;return vle.indexOf(i)>=0&&(n[0]=i),dle.indexOf(r)>=0&&(n[1]=r),n},rB=function(t){var n=t;return!(n instanceof nn)&&!(n instanceof Na)&&!(n instanceof qh)&&(cle(t)?n=nn.fromBuffer(t.data,t.shape[0],t.shape[1]):n=nn.from(t)),n},HC=function(t,n){return[t,n,0,1]},Ile=function(t,n){switch(n){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return n}},Mle=function(t){return JSON.stringify(t,Ile)},GC=function(t){return kk(t).join("-")},Dle=function(){var t=document.createElement("fake-element"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(var r in n)if(t.style[r]!==void 0)return n[r];return"transitionEnd"},Fle=function(t){return Math.pow(2,t)},kle=`
varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = vec4(color.rgb + (1.0 - color.rgb) * vColor.rgb * color.w, color.w);
}
`,Ble=Td.create({fragment:kle});Ya.registerPlugin("brighten-tint",Ble);var Rle=`
varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = vColor * vec4(color.a - color.rgb, color.a);
}
`,Lle=Td.create({fragment:Rle});Ya.registerPlugin("invert",Lle);var iB=function(t){return function(n){var r=0;return er(n,{brightness:function(a){if(r=a,a===0)t.tint=16777215,t.pluginName="batch";else{var o=parseInt((a<0?1+a:a)*255,10);t.tint=Y_(new Array(3).fill().map(function(s,l){return o<<8*(2-l)})),t.pluginName=a<0?"batch":"brighten-tint"}},invert:function(a){t.pluginName=a?"invert":"batch"},tint:function(a){if(+r==0){var o=typeof a>"u"||a===null?16777215:dc(a,null)[0];t.tint=o}}})}},aB=function(t){return function(n){return er(n,{destroy:function(){t.destroy({baseTexture:!0,children:!0,texture:!0})}})}},oB=function(t,n,r){return function(i){return er(i,{scale:function(o){i.scaleFactor=o,i.scaleX(o),i.scaleY(o)},scaleX:function(o){i.scaleXFactor=o,t.width=n*o},scaleY:function(o){i.scaleYFactor=o,t.height=r*o}})}},sB=function(t,n,r){return function(i){return er(i,{get aspectRatio(){return t.width/t.height},get height(){return t.height},get center(){return[t.width/2,t.height/2]},get originalHeight(){return r},get size(){return Math.max(t.width,t.height)},get width(){return t.width},get originalWidth(){return n}})}},lw=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.anchor,i=r===void 0?[.5,.5]:r,a=rB(t),o;if(a instanceof nn){var s;o=new ja(a),(s=o.anchor).set.apply(s,ct(i))}else o=a;return Qi(Co(e),Sn("displayObject",o),Sn("sprite",o),Wk(a,{anchor:i}),iB(o),oB(o,a.width,a.height),sB(o,a.width,a.height),aB(o))({})},Nle=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.backgroundFactory,i=n.fontSize,a=i===void 0?8:i,o=n.darkMode,s=o===void 0?!1:o,l=n.onDestroy,u=l===void 0?zl:l,c=new yn,h=t;if(!(t instanceof nn)){var f=new l0(t,{fontFamily:"sans-serif",fontSize:a*window.devicePixelRatio,fill:16777215,align:"center"});f.updateText(),h=f.texture}var d=lw(h),v;r&&(v=r.create(),c.addChild(v)),c.addChild(d.displayObject),d.displayObject.width/=window.devicePixelRatio,d.displayObject.height/=window.devicePixelRatio;var g=!1,p=function(){return function(b){return er(b,{destroy:function(){g||(g=!0,u())}})}},y=function(b){d.invert(b),r.setColor(b?[1,1,1,1]:[0,0,0,1])};return y(s),Qi(Co(e),Sn("displayObject",c),Sn("background",v),Sn("image",d),Wk(h,{backgroundFactory:r,fontSize:a,darkMode:s,onDestroy:u}),p())({setDarkMode:y})},Ule=[0,0,0,1],Vle=.5,$le=[0,0],zle=[.5,.5],jle=[-1,-1,1,-1,1,1,-1,1],Hle=[0,1,2,0,3,2],Gle=`precision mediump float;
// From PIXI
uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;

attribute vec2 aVertexPosition;

varying vec2 vTexPos;

void main() {
  gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
  vTexPos = aVertexPosition;
}
`,Yle=`precision mediump float;
float udRoundBox(vec2 p, vec2 b, float r) {
  return length(max(abs(p) - b, 0.0)) - r;
}

uniform vec2 uRectPos;
uniform vec2 uRectSize;
uniform vec4 uColor;
uniform float uRounding;
uniform float uSize;

varying vec2 vTexPos;

void main() {
  float texel = 1.0 / uSize;
  float dist = udRoundBox(vTexPos - uRectPos, uRectSize, uRounding);

  gl_FragColor = vec4(uColor.rgb, uColor.a * max(0.0, 1.0 - (dist * uSize * 2.0)));
}`,J_=new Cr;J_.addAttribute("aVertexPosition",jle,2);J_.addIndex(Hle);var Xle=new os,Wle=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.color,r=n===void 0?Ule:n,i=t.rounding,a=i===void 0?Vle:i,o=t.size,s=o===void 0?1:o,l={uColor:r,uRounding:a,uRectPos:$le,uRectSize:zle,uSize:s},u=new zi(l),c=ya.from(Gle,Yle,u),h=function(){var y=new qh(J_,c,Xle);return y.width=l.uSize/window.devicePixelRatio,y.height=l.uSize/window.devicePixelRatio,y},f=h(),d=function(y){l.uColor=y},v=function(){f.destroy(),l={}},g=function(y){l.uSize=y*window.devicePixelRatio};return Qi(Co(e))({create:h,destroy:v,setColor:d,setSize:g})},Kle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.fontSize,r=n===void 0?8:n,i=new Map,a={},o=Wle({size:r*window.devicePixelRatio*1.5}),s=function(h){return function(){a[h]=Math.max(0,a[h]-1),a[h]===0&&(i.get(h).image.destroy(),i.delete(h),delete a[h])}},l=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=f.darkMode;if(i.has(h))return++a[h],i.get(h).clone();var v=Nle(h,{backgroundFactory:o,darkMode:d,fontSize:r,onDestroy:s(h)});return a[h]=1,i.set(h,v),v},u=function(){i.forEach(function(h){return h.destroy()}),i.clear(),a={}};return{clear:u,create:l,destroy:u}},qle=function(){var t=document.createElement("style");document.head.appendChild(t);var n=t.sheet,r=function(s){var l=n.length;return n.insertRule(s,l),l},i=function(s){n.deleteRule(s)},a=function(){document.head.removeChild(t)};return{addRule:r,destroy:a,removeRule:i}},Dr="pilingjs-breadcrumbs-button",Zle=[".".concat(Dr,` {
  position: relative;
  display: flex;
  align-items: center;
  line-height: 1em;
  height: 2em;
  margin-right: -0.25em;
  padding: 0 0.5em 0 1em;
  border-radius: 0 0.25em 0.25em 0;
  text-color: black;
  box-shadow: inset 0 0 0 1px #ccc;
  background: white;
}`),".pilingjs-darkmode .".concat(Dr,` {
  text-color: white;
  box-shadow: inset 0 0 0 1px #333;
  background: black;
}`),"li:first-child .".concat(Dr,` {
  padding: 0.5em;
  border-radius: 0.25em;
}`),".".concat(Dr,`:focus {
  outline: none;
}`),".".concat(Dr,".").concat(Dr,`-right-arrow {
  position: relative;
  display: block;
  border-radius: 0;
  border-left-color: #ccc;
  background: #ccc;
}`),".pilingjs-darkmode .".concat(Dr,".").concat(Dr,`-right-arrow {
  border-left-color: #333;
  background: #333;
}`),".".concat(Dr,".").concat(Dr,"-right-arrow:hover, .pilingjs-darkmode .").concat(Dr,".").concat(Dr,`-right-arrow:hover {
  color: black;
  border-left-color: #ff7ff6;
  box-shadow: inset 0 0 0 1px #ff7ff6;
  background: #ff7ff6;
}`),".".concat(Dr,".").concat(Dr,`-right-arrow:after {
  left: 100%;
  top: 50%;
  border: solid transparent;
  content: '';
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
  border-color: rgba(0, 0, 0, 0);
  border-left-color: inherit;
  border-width: 0.5em;
  margin-top: -0.5em;
}`)],Qle=function e(t){var n=t.element,r=t.store,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.darkMode;var a=i.maxDepth,o=a===void 0?3:a,s=i.onEnter,l=s===void 0?zl:s,u=i.onLeave,c=u===void 0?zl:u,h=o,f=document.createElement("nav");f.className="pilingjs-breadcrumbs",f.style.position="absolute",f.style.top=0,f.style.left=0;var d=document.createElement("ol");d.className="pilingjs-breadcrumbs-list",d.style.display="flex",d.style.margin=0,d.style.padding=0,d.style.listStyle="none",f.appendChild(d);var v=qle();Zle.forEach(v.addRule);var g=[],p=[],y=[],m=function(){Yae(function(R,U,$){U+1===$.length?(R.style.zIndex=1,R.className="".concat(Dr)):(R.style.zIndex=$.length-U,R.className="".concat(Dr," ").concat(Dr,"-right-arrow"))})(d.querySelectorAll("button"))},b=function(){return y[y.length-1]},w=function(R){var U=r.state.piles;return R.flatMap(function($){return U[$].items}).sort().join("-")},x=function(R){var U=r.export(),$=new Set;return R.forEach(function(j){U.piles[j].items.forEach(function(z){return $.add(z)})}),Object.keys(U.piles).filter(function(j){return!$.has(j)}).forEach(function(j){U.piles[j].items=[]}),U},_=function(R){return Object.values(R.piles).filter(function(U){return U.items.length}).reduce(function(U,$){return U+$.items.length},0)},S=function(R,U){var $=U===0?"Root":"".concat(U,". Level"),j=_(R);return"<li><button><span><strong>".concat($,"</strong> (").concat(j,")</span></button></li>")},P=function(R){return function(){if(R===0){B();return}for(var U=g.length;g.length>R+1;)kC(d),y.pop(),g.pop();U>R&&T()}},C=function(R,U){var $=S(R,U),j=Lk($);j.querySelector("button").addEventListener("click",P(U)),d.appendChild(j),m()},D=function(R){var U=w(R),$=b();if(g.length>=h){console.warn("Not allowed! You reached the maximum depth (".concat(h,")"));return}if(U===$){console.warn("Not allowed! You're already on this level.");return}var j=r.export();g=[].concat(ct(g),[j]);var z=n.getBoundingClientRect(),Y=z.width,Q=z.height;p=[].concat(ct(p),[{width:Y,height:Q}]),g.length===1&&C(j,0);var re=x(R);r.import(re),y=[].concat(ct(y),[U]),C(re,g.length),l()},T=function(){if(!g.length){console.warn("Not allowed! You're already on the root level.");return}kC(d),m(),y.pop();var R=g.pop();r.import(R);var U=p.pop();c(U)},B=function(){if(!g.length){console.warn("Not allowed! You're already on the root level.");return}Hae(d),r.import(g[0]),c(p[0]),y=[],g=[],p=[]},I=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R.darkMode;var U=R.maxDepth,$=U===void 0?null:U;h=Ci($,h),m()},O=function(){v.destroy()};return m(),Qi(Sn("nav",f),Jo("size",function(){return g.length}),Co(e))({destroy:O,enter:D,leave:T,leaveAll:B,set:I})},Jle=`/*! skmeans 2020-01-29 */
"use strict";

!function e(i, f, s) {
  function u(n, r) {
    if (!f[n]) {
      if (!i[n]) {
        var t = "function" == typeof require && require;
        if (!r && t) return t(n, !0);
        if (v) return v(n, !0);
        var o = new Error("Cannot find module '" + n + "'");
        throw o.code = "MODULE_NOT_FOUND", o;
      }

      var a = f[n] = {
        exports: {}
      };
      i[n][0].call(a.exports, function (r) {
        return u(i[n][1][r] || r);
      }, a, a.exports, e, i, f, s);
    }

    return f[n].exports;
  }

  for (var v = "function" == typeof require && require, r = 0; r < s.length; r++) u(s[r]);

  return u;
}({
  1: [function (n, t, o) {
    (function () {
      this.skmeans;
      var r = n("./main.js");
      void 0 !== o && (void 0 !== t && t.exports && (o = t.exports = r), o.skmeans = r), "undefined" != typeof window && (window.skmeans = r);
    }).call(this);
  }, {
    "./main.js": 4
  }],
  2: [function (r, n, t) {
    n.exports = {
      eudist: function (r, n) {
        for (var t = r.length, o = 0, a = 0; a < t; a++) {
          var e = (r[a] || 0) - (n[a] || 0);
          o += e * e;
        }

        return o;
      },
      mandist: function (r, n) {
        for (var t = r.length, o = 0, a = 0, e = 0; e < t; e++) o += 0 <= (a = (r[e] || 0) - (n[e] || 0)) ? a : -a;

        return o;
      },
      dist: function (r, n, t) {
        var o = Math.abs(r - n);
        return t ? o : o * o;
      }
    };
  }, {}],
  3: [function (r, n, t) {
    var o = r("./distance.js"),
        j = o.eudist,
        w = o.dist;
    n.exports = {
      kmrand: function (r, n) {
        for (var t = {}, o = [], a = n << 2, e = r.length, i = 0 < r[0].length; o.length < n && 0 < a--;) {
          var f = r[Math.floor(Math.random() * e)],
              s = i ? f.join("_") : "".concat(f);
          t[s] || (t[s] = !0, o.push(f));
        }

        if (o.length < n) throw new Error("Error initializating clusters");
        return o;
      },
      kmpp: function (r, n, t) {
        var o = t || (r[0].length ? j : w),
            a = [],
            e = r.length,
            i = 0 < r[0].length,
            f = r[Math.floor(Math.random() * e)];
        i ? f.join("_") : "".concat(f);

        for (a.push(f); a.length < n;) {
          for (var s = [], u = a.length, v = 0, c = [], h = 0; h < e; h++) {
            for (var d = 1 / 0, l = 0; l < u; l++) {
              var p = o(r[h], a[l]);
              p <= d && (d = p);
            }

            s[h] = d;
          }

          for (var m = 0; m < e; m++) v += s[m];

          for (var g = 0; g < e; g++) c[g] = {
            i: g,
            v: r[g],
            pr: s[g] / v,
            cs: 0
          };

          c.sort(function (r, n) {
            return r.pr - n.pr;
          }), c[0].cs = c[0].pr;

          for (var k = 1; k < e; k++) c[k].cs = c[k - 1].cs + c[k].pr;

          for (var x = Math.random(), M = 0; M < e - 1 && c[M++].cs < x;);

          a.push(c[M - 1].v);
        }

        return a;
      }
    };
  }, {
    "./distance.js": 2
  }],
  4: [function (r, n, t) {
    var o = r("./distance.js"),
        a = r("./kinit.js"),
        H = o.eudist,
        I = (o.mandist, o.dist, a.kmrand),
        J = a.kmpp;

    function K(r, n, t) {
      t = t || [];

      for (var o = 0; o < r; o++) t[o] = n;

      return t;
    }

    function P(r, n) {
      for (var t = Array.isArray(r), o = this.centroids, a = o.length, e = 1 / 0, i = 0, f = 0; f < a; f++) {
        var s = n ? n(r, o[f]) : t ? H(r, o[f]) : Math.abs(r - o[f]);
        s <= e && (e = s, i = f);
      }

      return {
        idx: i,
        centroid: o[i]
      };
    }

    n.exports = function (r, n, t, o, a) {
      var e = [],
          i = [],
          f = [],
          s = [],
          u = !1,
          v = o || 1e4,
          c = r.length,
          h = r[0].length,
          d = 0 < h,
          l = [];
      if (t) e = "kmrand" == t ? I(r, n) : "kmpp" == t ? J(r, n, a) : t;else for (var p = {}, m = 0; e.length < n;) {
        var g = Math.floor(Math.random() * c);
        p[g] || (p[g] = !0, e[m++] = r[g]);
      }

      do {
        K(n, 0, l);

        for (var k = 0; k < c; k++) {
          for (var x = 1 / 0, M = 0, j = 0; j < n; j++) (s = a ? a(r[k], e[j]) : d ? H(r[k], e[j]) : Math.abs(r[k] - e[j])) <= x && (x = s, M = j);

          l[f[k] = M]++;
        }

        var w = [];
        if (i = [], d) for (var b = 0; b < n; b++) w[b] = K(h, 0, w[b]), i[b] = e[b];else for (var y = 0; y < n; y++) w[y] = 0, i[y] = e[y];

        if (d) {
          for (var q = 0; q < n; q++) e[q] = [];

          for (var E = 0; E < c; E++) for (var _ = w[f[E]], O = r[E], A = 0; A < h; A++) _[A] += O[A];

          u = !0;

          for (var D = 0; D < n; D++) {
            for (var N = e[D], U = w[D], z = i[D], C = l[D], F = 0; F < h; F++) N[F] = U[F] / C || 0;

            if (u) for (var L = 0; L < h; L++) if (z[L] != N[L]) {
              u = !1;
              break;
            }
          }
        } else {
          for (var T = 0; T < c; T++) w[f[T]] += r[T];

          for (var B = 0; B < n; B++) e[B] = w[B] / l[B] || 0;

          u = !0;

          for (var G = 0; G < n; G++) if (i[G] != e[G]) {
            u = !1;
            break;
          }
        }

        u = u || --v <= 0;
      } while (!u);

      return {
        it: (o || 1e4) - v,
        k: n,
        idxs: f,
        centroids: e,
        test: P
      };
    };
  }, {
    "./distance.js": 2,
    "./kinit.js": 3
  }]
}, {}, [1]);`,eue=function(){var t=function(i){return{error:new Error(i)}},n=function(i){return i};self.onmessage=function(i){var a=i.data,o=a.initialization,s=a.k,l=a.maxIterations,u=a.items,c=a.scripts;try{c.forEach(function(v){importScripts(v)})}catch(v){self.postMessage(t("Failed to import skmeans: ".concat(v)));return}var h;try{h=u.map(self.valueGetter||n)}catch(v){self.postMessage(t("Failed to load features: ".concat(v)));return}if(h.length<=s)self.postMessage(t("Need at least ".concat(s," items!")));else try{var f=self.skmeans(h,s,o||"kmpp",l||1e3*Math.log10(h.length),self.distanceFunction||null),d=self.postProcessing&&self.postProcessing(f,h,u);self.postMessage({centroids:f.centroids,labels:f.idxs,postProcessing:d})}catch(v){self.postMessage(t("Failed to run k-means++: ".concat(v)))}}},$v=function(t){return window.URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},YC=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.distanceFunction,i=r===void 0?null:r,a=n.initialization,o=a===void 0?"kmpp":a,s=n.maxIterations,l=s===void 0?null:s,u=n.valueGetter,c=u===void 0?null:u,h=n.postProcessing,f=h===void 0?null:h,d=[$v(Jle.replace(/window/g,"self"))];return c&&d.push($v("(() => { self.valueGetter = ".concat(c.toString(),"; })();"))),i&&d.push($v("(() => { self.distanceFunction = ".concat(i.toString(),"; })();"))),f&&d.push($v("(() => { self.postProcessing = ".concat(f.toString(),"; })();"))),function(v){return new Promise(function(g,p){var y=qae(eue);y.onmessage=function(m){m.data.error?p(m.data.error):g(m.data),y.terminate()},y.postMessage({initialization:o,k:t,maxIterations:l,items:v,scripts:d})})}},XC=Object.prototype.toString,lB=function(t){var n=XC.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&XC.call(t.callee)==="[object Function]"),r},uB;if(!Object.keys){var zv=Object.prototype.hasOwnProperty,WC=Object.prototype.toString,tue=lB,KC=Object.prototype.propertyIsEnumerable,nue=!KC.call({toString:null},"toString"),rue=KC.call(function(){},"prototype"),jv=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n1=function(e){var t=e.constructor;return t&&t.prototype===e},iue={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},aue=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!iue["$"+e]&&zv.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{n1(window[e])}catch{return!0}}catch{return!0}return!1}(),oue=function(e){if(typeof window>"u"||!aue)return n1(e);try{return n1(e)}catch{return!1}};uB=function(t){var n=t!==null&&typeof t=="object",r=WC.call(t)==="[object Function]",i=tue(t),a=n&&WC.call(t)==="[object String]",o=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var s=rue&&r;if(a&&t.length>0&&!zv.call(t,0))for(var l=0;l<t.length;++l)o.push(String(l));if(i&&t.length>0)for(var u=0;u<t.length;++u)o.push(String(u));else for(var c in t)!(s&&c==="prototype")&&zv.call(t,c)&&o.push(String(c));if(nue)for(var h=oue(t),f=0;f<jv.length;++f)!(h&&jv[f]==="constructor")&&zv.call(t,jv[f])&&o.push(jv[f]);return o}}var sue=uB,lue=Array.prototype.slice,qC=Object.keys,Sp=qC?function(t){return qC(t)}:sue,ZC=Object.keys;Sp.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return lB(r)?ZC(lue.call(r)):ZC(r)})}else Object.keys=Sp;return Object.keys||Sp};var uw=Sp,uue=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",cw=Object.prototype.toString,u0=function(t){return uue&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:cw.call(t)==="[object Arguments]"},cB=function(t){return u0(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&cw.call(t)!=="[object Array]"&&cw.call(t.callee)==="[object Function]"},cue=function(){return u0(arguments)}();u0.isLegacyArguments=cB;var QC=cue?u0:cB,JC=function(e){return e!==e},eT=function(t,n){return t===0&&n===0?1/t===1/n:t===n?!0:!!(JC(t)&&JC(n))},fue="Function.prototype.bind called on incompatible ",r1=Array.prototype.slice,hue=Object.prototype.toString,due="[object Function]",vue=function(t){var n=this;if(typeof n!="function"||hue.call(n)!==due)throw new TypeError(fue+n);for(var r=r1.call(arguments,1),i,a=function(){if(this instanceof i){var c=n.apply(this,r.concat(r1.call(arguments)));return Object(c)===c?c:this}else return n.apply(t,r.concat(r1.call(arguments)))},o=Math.max(0,n.length-r.length),s=[],l=0;l<o;l++)s.push("$"+l);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i},pue=Function.prototype.bind||vue,gue=pue.call(Function.call,Object.prototype.hasOwnProperty),mue=RegExp.prototype.exec,yue=Object.getOwnPropertyDescriptor,bue=function(t){try{var n=t.lastIndex;return t.lastIndex=0,mue.call(t),!0}catch{return!1}finally{t.lastIndex=n}},wue=Object.prototype.toString,xue="[object RegExp]",_ue=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",tT=function(t){if(!t||typeof t!="object")return!1;if(!_ue)return wue.call(t)===xue;var n=yue(t,"lastIndex"),r=n&&gue(n,"value");return r?bue(t):!1},Sue=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Eue=Object.prototype.toString,Aue=Array.prototype.concat,e2=Object.defineProperty,Cue=function(e){return typeof e=="function"&&Eue.call(e)==="[object Function]"},Tue=function(){var e={};try{e2(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch{return!1}},fB=e2&&Tue(),Pue=function(e,t,n,r){t in e&&(!Cue(r)||!r())||(fB?e2(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},hB=function(e,t){var n=arguments.length>2?arguments[2]:{},r=uw(t);Sue&&(r=Aue.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)Pue(e,r[i],t[r[i]],n[r[i]])};hB.supportsDescriptors=!!fB;var t2=hB,Oue=Object,Iue=TypeError,n2=function(){if(this!=null&&this!==Oue(this))throw new Iue("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},Mue=t2.supportsDescriptors,Due=Object.getOwnPropertyDescriptor,Fue=TypeError,dB=function(){if(!Mue)throw new Fue("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if(/a/mig.flags==="gim"){var t=Due(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof/a/.dotAll=="boolean")return t.get}return n2},kue=t2.supportsDescriptors,Bue=Object.getOwnPropertyDescriptor,Rue=Object.defineProperty,Lue=TypeError,nT=Object.getPrototypeOf,Nue=/a/,Uue=function(){if(!kue||!nT)throw new Lue("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=dB(),n=nT(Nue),r=Bue(n,"flags");return(!r||r.get!==t)&&Rue(n,"flags",{configurable:!0,enumerable:!1,get:t}),t},vB=Function.call.bind(n2);t2(vB,{getPolyfill:dB,implementation:n2,shim:Uue});var rT=vB,Vue=Date.prototype.getDay,$ue=function(t){try{return Vue.call(t),!0}catch{return!1}},zue=Object.prototype.toString,jue="[object Date]",Hue=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",iT=function(t){return typeof t!="object"||t===null?!1:Hue?$ue(t):zue.call(t)===jue},aT=Date.prototype.getTime;function pB(e,t,n){var r=n||{};return(r.strict?eT(e,t):e===t)?!0:!e||!t||typeof e!="object"&&typeof t!="object"?r.strict?eT(e,t):e==t:Gue(e,t,r)}function oT(e){return e==null}function sT(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function Gue(e,t,n){var r,i;if(typeof e!=typeof t||oT(e)||oT(t)||e.prototype!==t.prototype||QC(e)!==QC(t))return!1;var a=tT(e),o=tT(t);if(a!==o)return!1;if(a||o)return e.source===t.source&&rT(e)===rT(t);if(iT(e)&&iT(t))return aT.call(e)===aT.call(t);var s=sT(e),l=sT(t);if(s!==l)return!1;if(s||l){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var u=uw(e),c=uw(t)}catch{return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),r=u.length-1;r>=0;r--)if(u[r]!=c[r])return!1;for(r=u.length-1;r>=0;r--)if(i=u[r],!pB(e[i],t[i],n))return!1;return!0}var Yue=pB;pi(function(e){var t=e.exports={},n,r;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function o(p){if(n===setTimeout)return setTimeout(p,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(p,0);try{return n(p,0)}catch{try{return n.call(null,p,0)}catch{return n.call(this,p,0)}}}function s(p){if(r===clearTimeout)return clearTimeout(p);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(p);try{return r(p)}catch{try{return r.call(null,p)}catch{return r.call(this,p)}}}var l=[],u=!1,c,h=-1;function f(){!u||!c||(u=!1,c.length?l=c.concat(l):h=-1,l.length&&d())}function d(){if(!u){var p=o(f);u=!0;for(var y=l.length;y;){for(c=l,l=[];++h<y;)c&&c[h].run();h=-1,y=l.length}c=null,u=!1,s(p)}}t.nextTick=function(p){var y=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)y[m-1]=arguments[m];l.push(new v(p,y)),l.length===1&&!u&&o(d)};function v(p,y){this.fun=p,this.array=y}v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(p){return[]},t.binding=function(p){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(p){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}});var lT=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function Xue(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var ic;typeof self<"u"?ic=self:typeof window<"u"?ic=window:typeof lT<"u"?ic=lT:typeof module<"u"?ic=module:ic=Function("return this")();var uT=Xue(ic),i1=function(){return Math.random().toString(36).substring(7).split("").join(".")},wh={INIT:"@@redux/INIT"+i1(),REPLACE:"@@redux/REPLACE"+i1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i1()}};function Wue(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function gB(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(gB)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function h(g){if(typeof g!="function")throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var p=!0;return u(),s.push(g),function(){if(p){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");p=!1,u();var m=s.indexOf(g);s.splice(m,1),o=null}}}function f(g){if(!Wue(g))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof g.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=i(a,g)}finally{l=!1}for(var p=o=s,y=0;y<p.length;y++){var m=p[y];m()}return g}function d(g){if(typeof g!="function")throw new Error("Expected the nextReducer to be a function.");i=g,f({type:wh.REPLACE})}function v(){var g,p=h;return g={subscribe:function(m){if(typeof m!="object"||m===null)throw new TypeError("Expected the observer to be an object.");function b(){m.next&&m.next(c())}b();var w=p(b);return{unsubscribe:w}}},g[uT]=function(){return this},g}return f({type:wh.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[uT]=v,r}function Kue(e,t){var n=t&&t.type,r=n&&'action "'+String(n)+'"'||"an action";return"Given "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function que(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:wh.INIT});if(typeof r>"u")throw new Error('Reducer "'+t+`" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof n(void 0,{type:wh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+wh.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function Zue(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var a=Object.keys(n),o;try{que(n)}catch(s){o=s}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<a.length;f++){var d=a[f],v=n[d],g=l[d],p=v(g,u);if(typeof p>"u"){var y=Kue(d,u);throw new Error(y)}h[d]=p,c=c||p!==g}return c=c||a.length!==Object.keys(l).length,c?h:l}}var Ep="0.10.0",Que=function(){var t=function(r){return function(i){return[Math.floor(i/r),i%r]}};return{rowMajor:t}};function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){Xs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var mB=function(t,n){switch(sle(t)){case"object":return Yue(t,n)?n:Nk(t);default:return t}},Jue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r="SET_".concat(K_(t));return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r:return mB(a.payload[t],i);default:return i}}},ece=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;n=new Set(n);var i="SET_".concat(K_(t));return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case i:return n.has(o.payload[t])?mB(o.payload[t],a):a;default:return a}}},yB=function(t){var n="SET_".concat(K_(t));return function(r){return{type:n,payload:Xs({},t,r)}}},Ne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return[Jue(t,n),yB(t)]},tce=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return[ece(t,n,r),yB(t)]},nce=function(){return{type:"RESET",payload:{}}},rce=function(t,n){return{type:"OVERWRITE",payload:{newState:t,debug:n}}},ice=function(t,n){return{type:"SOFT_OVERWRITE",payload:{newState:t,debug:n}}},ace=Ne("arrangementType"),bB=me(ace,2),oce=bB[0],sce=bB[1],lce=Ne("arrangementObjective"),wB=me(lce,2),uce=wB[0],cce=wB[1],fce=Ne("arrangeOnGrouping",!1),xB=me(fce,2),hce=xB[0],dce=xB[1],vce=Ne("arrangementOptions",{}),_B=me(vce,2),pce=_B[0],gce=_B[1],mce=Ne("groupingType"),SB=me(mce,2),yce=SB[0],bce=SB[1],wce=Ne("groupingObjective"),EB=me(wce,2),xce=EB[0],_ce=EB[1],Sce=Ne("groupingOptions",{}),AB=me(Sce,2),Ece=AB[0],Ace=AB[1],Cce=Ne("splittingType"),CB=me(Cce,2),Tce=CB[0],Pce=CB[1],Oce=Ne("splittingObjective"),TB=me(Oce,2),Ice=TB[0],Mce=TB[1],Dce=Ne("splittingOptions",{}),PB=me(Dce,2),Fce=PB[0],kce=PB[1],Bce=Ne("backgroundColor",0),OB=me(Bce,2),Rce=OB[0],Lce=OB[1],Nce=Ne("darkMode",Z_),IB=me(Nce,2),Uce=IB[0],Vce=IB[1],$ce=Ne("dimensionalityReducer"),MB=me($ce,2),zce=MB[0],jce=MB[1],Hce=Ne("gridColor",7895160),DB=me(Hce,2),Gce=DB[0],Yce=DB[1],Xce=Ne("gridOpacity",1),FB=me(Xce,2),Wce=FB[0],Kce=FB[1],qce=Ne("showGrid",!1),kB=me(qce,2),Zce=kB[0],Qce=kB[1],Jce=Ne("popupBackgroundOpacity",Kk),BB=me(Jce,2),efe=BB[0],tfe=BB[1],nfe=Ne("lassoFillColor"),RB=me(nfe,2),rfe=RB[0],ife=RB[1],afe=Ne("lassoFillOpacity",qk),LB=me(afe,2),ofe=LB[0],sfe=LB[1],lfe=Ne("lassoShowStartIndicator",Zk),NB=me(lfe,2),ufe=NB[0],cfe=NB[1],ffe=Ne("lassoStartIndicatorOpacity",Qk),UB=me(ffe,2),hfe=UB[0],dfe=UB[1],vfe=Ne("lassoStrokeColor"),VB=me(vfe,2),pfe=VB[0],gfe=VB[1],mfe=Ne("lassoStrokeOpacity",Jk),$B=me(mfe,2),yfe=$B[0],bfe=$B[1],wfe=Ne("lassoStrokeSize",eB),zB=me(wfe,2),xfe=zB[0],_fe=zB[1],Sfe=Ne("itemRenderer"),jB=me(Sfe,2),Efe=jB[0],Afe=jB[1],Cfe=Ne("previewRenderer"),HB=me(Cfe,2),Tfe=HB[0],Pfe=HB[1],Ofe=Ne("coverRenderer"),GB=me(Ofe,2),Ife=GB[0],Mfe=GB[1],Dfe=Ne("previewAggregator"),YB=me(Dfe,2),Ffe=YB[0],kfe=YB[1],Bfe=Ne("coverAggregator"),XB=me(Bfe,2),Rfe=XB[0],Lfe=XB[1],Nfe=Ne("orderer",Que().rowMajor),WB=me(Nfe,2),Ufe=WB[0],Vfe=WB[1],$fe=Ne("itemSize"),KB=me($fe,2),zfe=KB[0],jfe=KB[1],Hfe=Ne("itemSizeRange",[.5,1]),qB=me(Hfe,2),Gfe=qB[0],Yfe=qB[1],Xfe=Ne("columns",10),ZB=me(Xfe,2),Wfe=ZB[0],Kfe=ZB[1],qfe=Ne("rowHeight"),QB=me(qfe,2),Zfe=QB[0],Qfe=QB[1],Jfe=Ne("cellAspectRatio",1),JB=me(Jfe,2),ehe=JB[0],the=JB[1],nhe=Ne("cellPadding",12),eR=me(nhe,2),rhe=eR[0],ihe=eR[1],ahe=Ne("cellSize"),tR=me(ahe,2),ohe=tR[0],she=tR[1],lhe=Ne("pileCoverScale",_le),nR=me(lhe,2),uhe=nR[0],che=nR[1],fhe=Ne("pileCoverInvert",!1),rR=me(fhe,2),hhe=rR[0],dhe=rR[1],vhe=Ne("pileItemBrightness",Sle),iR=me(vhe,2),phe=iR[0],ghe=iR[1],mhe=Ne("pileItemInvert",!1),aR=me(mhe,2),yhe=aR[0],bhe=aR[1],whe=Ne("pileItemOffset",[5,5]),oR=me(whe,2),xhe=oR[0],_he=oR[1],She=Ne("pileItemOpacity",1),sR=me(She,2),Ehe=sR[0],Ahe=sR[1],Che=Ne("pileOrderItems"),lR=me(Che,2),The=lR[0],Phe=lR[1],Ohe=Ne("pileItemRotation",0),uR=me(Ohe,2),Ihe=uR[0],Mhe=uR[1],Dhe=Ne("pileItemTint",Ele),cR=me(Dhe,2),Fhe=cR[0],khe=cR[1],Bhe=Ne("focusedPiles",[]),fR=me(Bhe,2),Rhe=fR[0],Lhe=fR[1],Nhe=Ne("magnifiedPiles",[]),hR=me(Nhe,2),Uhe=hR[0],Vhe=hR[1],$he=Ne("depileMethod","originalPos"),dR=me($he,2),zhe=dR[0],jhe=dR[1],Hhe=Ne("depiledPile",[]),vR=me(Hhe,2),Ghe=vR[0],Yhe=vR[1],Xhe=Ne("temporaryDepiledPiles",[]),pR=me(Xhe,2),Whe=pR[0],Khe=pR[1],qhe=Ne("tempDepileDirection","horizontal"),gR=me(qhe,2),Zhe=gR[0],Qhe=gR[1],Jhe=Ne("tempDepileOneDNum",6),mR=me(Jhe,2),ede=mR[0],tde=mR[1],nde=Ne("easing",Fk),yR=me(nde,2),rde=yR[0],ide=yR[1],ade=tce("navigationMode",xle,Q_),bR=me(ade,2),ode=bR[0],sde=bR[1],lde=Ne("previewItemOffset"),wR=me(lde,2),ude=wR[0],cde=wR[1],fde=Ne("previewAlignment","top"),xR=me(fde,2),hde=xR[0],dde=xR[1],vde=Ne("previewPadding",2),_R=me(vde,2),pde=_R[0],gde=_R[1],mde=Ne("previewScaling",[1,1]),SR=me(mde,2),yde=SR[0],bde=SR[1],wde=Ne("previewScaleToCover",[!1,!1]),ER=me(wde,2),xde=ER[0],_de=ER[1],Sde=Ne("previewSpacing",2),AR=me(Sde,2),Ede=AR[0],Ade=AR[1],Cde=Ne("previewOffset",2),CR=me(Cde,2),Tde=CR[0],Pde=CR[1],Ode=Ne("previewBackgroundColor",Cle),TR=me(Ode,2),Ide=TR[0],Mde=TR[1],Dde=Ne("previewBackgroundOpacity",Tle),PR=me(Dde,2),Fde=PR[0],kde=PR[1],Bde=Ne("previewBorderColor"),OR=me(Bde,2),Rde=OR[0],Lde=OR[1],Nde=Ne("previewBorderOpacity",.85),IR=me(Nde,2),Ude=IR[0],Vde=IR[1],$de=Ne("pileBackgroundColor"),MR=me($de,2),zde=MR[0],jde=MR[1],Hde=Ne("pileBackgroundOpacity",0),DR=me(Hde,2),Gde=DR[0],Yde=DR[1],Xde=Ne("pileBackgroundColorHover"),FR=me(Xde,2),Wde=FR[0],Kde=FR[1],qde=Ne("pileBackgroundOpacityHover",.85),kR=me(qde,2),Zde=kR[0],Qde=kR[1],Jde=Ne("pileBackgroundColorFocus"),BR=me(Jde,2),eve=BR[0],tve=BR[1],nve=Ne("pileBackgroundOpacityFocus"),RR=me(nve,2),rve=RR[0],ive=RR[1],ave=Ne("pileBackgroundColorActive"),LR=me(ave,2),ove=LR[0],sve=LR[1],lve=Ne("pileBackgroundOpacityActive"),NR=me(lve,2),uve=NR[0],cve=NR[1],fve=Ne("pileBorderColor",8421504),UR=me(fve,2),hve=UR[0],dve=UR[1],vve=Ne("pileBorderOpacity",1),VR=me(vve,2),pve=VR[0],gve=VR[1],mve=Ne("pileBorderColorHover",8421504),$R=me(mve,2),yve=$R[0],bve=$R[1],wve=Ne("pileBorderOpacityHover",1),zR=me(wve,2),xve=zR[0],_ve=zR[1],Sve=Ne("pileBorderColorFocus",15656034),jR=me(Sve,2),Eve=jR[0],Ave=jR[1],Cve=Ne("pileBorderOpacityFocus",1),HR=me(Cve,2),Tve=HR[0],Pve=HR[1],Ove=Ne("pileBorderColorActive",16754138),GR=me(Ove,2),Ive=GR[0],Mve=GR[1],Dve=Ne("pileBorderOpacityActive",1),YR=me(Dve,2),Fve=YR[0],kve=YR[1],Bve=Ne("pileBorderSize",0),XR=me(Bve,2),Rve=XR[0],Lve=XR[1],Nve=Ne("pileCellAlignment","topLeft"),WR=me(Nve,2),Uve=WR[0],Vve=WR[1],$ve=Ne("pileContextMenuItems",[]),KR=me($ve,2),zve=KR[0],jve=KR[1],Hve=Ne("pileSizeBadge",!1),qR=me(Hve,2),Gve=qR[0],Yve=qR[1],Xve=Ne("pileSizeBadgeAlign",Ale),ZR=me(Xve,2),Wve=ZR[0],Kve=ZR[1],qve=Ne("pileVisibilityItems",!0),QR=me(qve,2),Zve=QR[0],Qve=QR[1],Jve=Ne("pileOpacity",1),JR=me(Jve,2),epe=JR[0],tpe=JR[1],npe=Ne("pileScale",1),e5=me(npe,2),rpe=e5[0],ipe=e5[1],ape=Ne("zoomScale",1),t5=me(ape,2),ope=t5[0],spe=t5[1],lpe=Ne("pileLabel"),n5=me(lpe,2),upe=n5[0],cpe=n5[1],fpe=Ne("pileLabelColor"),r5=me(fpe,2),hpe=r5[0],dpe=r5[1],vpe=Ne("pileLabelText",!1),i5=me(vpe,2),ppe=i5[0],gpe=i5[1],mpe=Ne("pileLabelTextMapping",!1),a5=me(mpe,2),ype=a5[0],bpe=a5[1],wpe=Ne("pileLabelTextColor",0),o5=me(wpe,2),xpe=o5[0],_pe=o5[1],Spe=Ne("pileLabelTextOpacity",1),s5=me(Spe,2),Epe=s5[0],Ape=s5[1],Cpe=Ne("pileLabelTextDropShadow",{}),l5=me(Cpe,2),Tpe=l5[0],Ppe=l5[1],Ope=Ne("pileLabelAlign","bottom"),u5=me(Ope,2),Ipe=u5[0],Mpe=u5[1],Dpe=Ne("pileLabelStackAlign","horizontal"),c5=me(Dpe,2),Fpe=c5[0],kpe=c5[1],Bpe=Ne("pileLabelFontSize",7),f5=me(Bpe,2),Rpe=f5[0],Lpe=f5[1],Npe=Ne("pileLabelHeight",2),h5=me(Npe,2),Upe=h5[0],Vpe=h5[1],$pe=Ne("pileLabelSizeTransform"),d5=me($pe,2),zpe=d5[0],jpe=d5[1],Hpe=Ne("projector"),v5=me(Hpe,2),Gpe=v5[0],Ype=v5[1],Xpe=Ne("zoomBounds",[-1/0,1/0]),p5=me(Xpe,2),Wpe=p5[0],Kpe=p5[1],qpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ITEMS":{var r=n.payload.items.length?typeof n.payload.items[0].id<"u":!1;return n.payload.items.reduce(function(i,a,o){var s=r?a.id:o;return i[s]=yr({id:s,index:o},a),i},{})}default:return t}},Zpe=function(t){return{type:"SET_ITEMS",payload:{items:t}}},Qpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_PILES":return Object.entries(n.payload.piles).reduce(function(g,p,y){var m=me(p,2),b=m[0],w=m[1];return g[b]=yr(yr({},w),{},{id:b,index:Number.isNaN(+w.index)?y:+w.index}),g},{});case"INIT_PILES":{var r=n.payload.newItems.length?typeof n.payload.newItems[0].id<"u":!1,i=n.payload.newItems.reduce(function(g,p,y){var m=p.id===void 0?y.toString():p.id;return g.add(m),g},new Set);return n.payload.newItems.reduce(function(g,p,y){var m=r?p.id:y.toString(),b=t[m],w=yr({id:m,index:y,items:[m],x:null,y:null},b);if(b){if(b.items.length)w.items=b.items.filter(function(_){return i.has(_)});else if(i.has(m)){var x=Object.values(t).filter(function(_){return _.items.includes(m)&&i.has(_.id)}).length;x||(w.items=[m])}}return g[m]=w,g},{})}case"MERGE_PILES":{var a=yr({},t),o;n.payload.targetPileId===void 0&&isNaN(n.payload.pileIds[0])?o=n.payload.pileIds[0]:o=n.payload.targetPileId!==void 0?n.payload.targetPileId:Math.min.apply([],n.payload.pileIds).toString();var s=n.payload.pileIds.filter(function(g){return g!==o}),l=me(n.payload.targetPos,2),u=l[0],c=l[1];return a[o]=yr(yr({},a[o]),{},{items:ct(a[o].items),x:u,y:c}),s.forEach(function(g){var p;(p=a[o].items).push.apply(p,ct(a[g].items)),a[g]=yr(yr({},a[g]),{},{items:[],x:null,y:null})}),a}case"MOVE_PILES":{var h=yr({},t);return n.payload.movingPiles.forEach(function(g){var p=g.id,y=g.x,m=g.y;h[p]=yr(yr({},h[p]),{},{x:y,y:m})}),h}case"SCATTER_PILES":{var f=n.payload.piles.filter(function(g){return g.items.length>1});if(!f.length)return t;var d=yr({},t);return f.forEach(function(g){g.items.forEach(function(p){d[p]=yr(yr({},d[p]),{},{items:[p],x:g.x,y:g.y})})}),d}case"SPLIT_PILES":{if(!Object.values(n.payload.piles).length)return t;var v=yr({},t);return Object.entries(n.payload.piles).filter(function(g){return g[1].length>1}).forEach(function(g){var p=me(g,2),y=p[0],m=p[1];m.forEach(function(b){v[b[0]]=yr(yr({},v[b[0]]),{},{x:v[y].x,y:v[y].y,items:ct(b)})})}),v}default:return t}},Jpe=function(t){return{type:"INIT_PILES",payload:{newItems:t}}},ege=function(t,n,r){return{type:"MERGE_PILES",payload:{pileIds:t,targetPos:n,targetPileId:r}}},tge=function(t){return{type:"MOVE_PILES",payload:{movingPiles:t}}},nge=function(t){return{type:"SCATTER_PILES",payload:{piles:t}}},rge=function(t){return{type:"SPLIT_PILES",payload:{piles:t}}},ige=function(t){return{type:"SET_PILES",payload:{piles:t}}},age=Ne("showSpatialIndex",!1),g5=me(age,2),oge=g5[0],sge=g5[1],lge=function(){var t=null,n={arrangementObjective:uce,arrangementOptions:pce,arrangementType:oce,arrangeOnGrouping:hce,backgroundColor:Rce,coverRenderer:Ife,cellAspectRatio:ehe,cellPadding:rhe,cellSize:ohe,columns:Wfe,coverAggregator:Rfe,depiledPile:Ghe,depileMethod:zhe,dimensionalityReducer:zce,easing:rde,focusedPiles:Rhe,gridColor:Gce,gridOpacity:Wce,groupingObjective:xce,groupingOptions:Ece,groupingType:yce,darkMode:Uce,popupBackgroundOpacity:efe,itemRenderer:Efe,items:qpe,itemSize:zfe,itemSizeRange:Gfe,lassoFillColor:rfe,lassoFillOpacity:ofe,lassoShowStartIndicator:ufe,lassoStartIndicatorOpacity:hfe,lassoStrokeColor:pfe,lassoStrokeOpacity:yfe,lassoStrokeSize:xfe,magnifiedPiles:Uhe,navigationMode:ode,orderer:Ufe,pileBackgroundColor:zde,pileBackgroundColorActive:ove,pileBackgroundColorFocus:eve,pileBackgroundColorHover:Wde,pileBackgroundOpacity:Gde,pileBackgroundOpacityActive:uve,pileBackgroundOpacityFocus:rve,pileBackgroundOpacityHover:Zde,pileBorderColor:hve,pileBorderColorActive:Ive,pileBorderColorFocus:Eve,pileBorderColorHover:yve,pileBorderOpacity:pve,pileBorderOpacityActive:Fve,pileBorderOpacityFocus:Tve,pileBorderOpacityHover:xve,pileBorderSize:Rve,pileCellAlignment:Uve,pileContextMenuItems:zve,pileCoverInvert:hhe,pileCoverScale:uhe,pileItemOffset:xhe,pileItemBrightness:phe,pileItemInvert:yhe,pileItemOpacity:Ehe,pileOrderItems:The,pileItemRotation:Ihe,pileItemTint:Fhe,pileLabel:upe,pileLabelAlign:Ipe,pileLabelColor:hpe,pileLabelFontSize:Rpe,pileLabelHeight:Upe,pileLabelStackAlign:Fpe,pileLabelSizeTransform:zpe,pileLabelText:ppe,pileLabelTextColor:xpe,pileLabelTextMapping:ype,pileLabelTextOpacity:Epe,pileLabelTextStyle:Tpe,pileOpacity:epe,piles:Qpe,pileScale:rpe,pileSizeBadge:Gve,pileSizeBadgeAlign:Wve,pileVisibilityItems:Zve,previewAggregator:Ffe,previewAlignment:hde,previewBackgroundColor:Ide,previewBackgroundOpacity:Fde,previewBorderColor:Rde,previewBorderOpacity:Ude,previewItemOffset:ude,previewOffset:Tde,previewPadding:pde,previewRenderer:Tfe,previewScaleToCover:xde,previewScaling:yde,previewSpacing:Ede,projector:Gpe,rowHeight:Zfe,splittingObjective:Ice,splittingOptions:Fce,splittingType:Tce,showGrid:Zce,showSpatialIndex:oge,tempDepileDirection:Zhe,tempDepileOneDNum:ede,temporaryDepiledPiles:Whe,zoomBounds:Wpe,zoomScale:ope},r=Zue(n),i=function(h){var f=Object.keys(h).reduce(function(d,v){return n[v]===void 0&&d.push('"'.concat(v,'"')),d},[]).join(", ");f&&console.warn("The following state properties are not understood and will not imported: ".concat(f))},a=function(h,f){return t=f,f.type==="RESET"?h=void 0:f.type==="OVERWRITE"?(f.payload.debug&&i(f.payload.newState),h=f.payload.newState):f.type==="SOFT_OVERWRITE"&&(f.payload.debug&&i(f.payload.newState),h=Uk(h,f.payload.newState)),r(h,f)},o=gB(Lae(a));o.lastAction=function(){return t},Object.defineProperty(o,"lastAction",{get:function(){return t}});var s=function(){var h=Nk(o.getState());return h.version=Ep,h},l=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=f.overwriteState,v=d===void 0?!1:d,g=f.debug,p=g===void 0?!1:g;h.version!==Ep&&console.warn('The version of the imported state "'.concat(h.version,`" doesn't match the library version "`).concat(Ep,'". Use at your own risk!')),h.version&&delete h.version,v?o.dispatch(rce(h,p)):o.dispatch(ice(h,p))},u=function(){o.dispatch(nce())};return Qi(Sn("reduxStore",o),Jo("lastAction",function(){return t}),Jo("state",o.getState),BC("dispatch",o.dispatch),BC("subscribe",o.subscribe))({export:s,import:l,reset:u})},Pt={initPiles:Jpe,mergePiles:ege,movePiles:tge,scatterPiles:nge,setPiles:ige,setCoverRenderer:Mfe,setArrangementObjective:cce,setArrangeOnGrouping:dce,setArrangementOptions:gce,setArrangementType:sce,setBackgroundColor:Lce,setCellAspectRatio:the,setCellPadding:ihe,setCellSize:she,setColumns:Kfe,setCoverAggregator:Lfe,setDepiledPile:Yhe,setDepileMethod:jhe,setDimensionalityReducer:jce,setEasing:ide,setFocusedPiles:Lhe,setGridColor:Yce,setGridOpacity:Kce,setGroupingObjective:_ce,setGroupingOptions:Ace,setGroupingType:bce,setDarkMode:Vce,setPopupBackgroundOpacity:tfe,setItemRenderer:Afe,setItems:Zpe,setItemSize:jfe,setItemSizeRange:Yfe,setLassoFillColor:ife,setLassoFillOpacity:sfe,setLassoShowStartIndicator:cfe,setLassoStartIndicatorOpacity:dfe,setLassoStrokeColor:gfe,setLassoStrokeOpacity:bfe,setLassoStrokeSize:_fe,setMagnifiedPiles:Vhe,setNavigationMode:sde,setOrderer:Vfe,setPileBackgroundColor:jde,setPileBackgroundColorActive:sve,setPileBackgroundColorFocus:tve,setPileBackgroundColorHover:Kde,setPileBackgroundOpacity:Yde,setPileBackgroundOpacityActive:cve,setPileBackgroundOpacityFocus:ive,setPileBackgroundOpacityHover:Qde,setPileBorderColor:dve,setPileBorderColorActive:Mve,setPileBorderColorFocus:Ave,setPileBorderColorHover:bve,setPileBorderOpacity:gve,setPileBorderOpacityActive:kve,setPileBorderOpacityFocus:Pve,setPileBorderOpacityHover:_ve,setPileBorderSize:Lve,setPileCellAlignment:Vve,setPileContextMenuItems:jve,setPileCoverInvert:dhe,setPileCoverScale:che,setPileItemOffset:_he,setPileOrderItems:Phe,setPileItemBrightness:ghe,setPileItemInvert:bhe,setPileItemOpacity:Ahe,setPileItemRotation:Mhe,setPileItemTint:khe,setPileLabel:cpe,setPileLabelAlign:Mpe,setPileLabelColor:dpe,setPileLabelFontSize:Lpe,setPileLabelHeight:Vpe,setPileLabelStackAlign:kpe,setPileLabelSizeTransform:jpe,setPileLabelText:gpe,setPileLabelTextColor:_pe,setPileLabelTextMapping:bpe,setPileLabelTextOpacity:Ape,setPileLabelTextStyle:Ppe,setPileVisibilityItems:Qve,setPileOpacity:tpe,setPileScale:ipe,setPileSizeBadge:Yve,setPileSizeBadgeAlign:Kve,setPreviewAggregator:kfe,setPreviewAlignment:dde,setPreviewBackgroundColor:Mde,setPreviewBackgroundOpacity:kde,setPreviewBorderColor:Lde,setPreviewBorderOpacity:Vde,setPreviewItemOffset:cde,setPreviewOffset:Pde,setPreviewPadding:gde,setPreviewRenderer:Pfe,setPreviewScaleToCover:_de,setPreviewScaling:bde,setPreviewSpacing:Ade,setProjector:Ype,setRowHeight:Qfe,setSplittingObjective:Mce,setSplittingOptions:kce,setSplittingType:Pce,setShowGrid:Qce,setShowSpatialIndex:sge,setTempDepileDirection:Qhe,setTempDepileOneDNum:tde,setTemporaryDepiledPiles:Khe,setZoomBounds:Kpe,setZoomScale:spe,splitPiles:rge},uge=65280,cge=.2,fge=0,hge=function(t){var n=t.background,r=t.backgroundColor,i=t.backgroundOpacity;return function(a){return er(a,{get backgroundColor(){return n.tint},setBackgroundColor:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r;n.tint=s},get backgroundOpacity(){return n.alpha},setBackgroundOpacity:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i;n.alpha=s},rescaleBackground:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=a.width+a.padding*s,u=a.height+a.padding*s;n.x=-l/2,n.y=-u/2,n.width=l,n.height=u}})}},dge=function(t){return function(n){var r=t;return er(n,{get padding(){return r},setPadding:function(a){r=Number.isNaN(+a)?+a:r}})}},vge=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.anchor,i=r===void 0?[.5,.5]:r,a=n.backgroundColor,o=a===void 0?uge:a,s=n.backgroundOpacity,l=s===void 0?cge:s,u=n.padding,c=u===void 0?fge:u,h=new yn,f=new ja(nn.WHITE),d=rB(t),v;if(d instanceof nn){var g;v=new ja(d),(g=v.anchor).set.apply(g,ct(i))}else v=d;return h.addChild(f),h.addChild(v),Qi(Sn("displayObject",h),Sn("sprite",v),iB(v),oB(v,d.width,d.height),sB(v,d.width,d.height),dge(c),hge({background:f,backgroundColor:o,backgroundOpacity:l}),aB(v),Co(e))({})};function pge(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var gge=pge;function mge(e,t){if(e==null)return{};var n=gge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var yge=mge;function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){Xs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.minX,i=r===void 0?0:r,a=n.minY,o=a===void 0?0:a,s=n.maxX,l=s===void 0?1:s,u=n.maxY,c=u===void 0?1:u,h=yge(n,["minX","minY","maxX","maxY"]);return Qi.apply(void 0,[Sn("minX",i),Sn("minY",o),Sn("maxX",l),Sn("maxY",c),Sn("width",l-i),Sn("height",c-o),Sn("cX",i+(l-i)/2),Sn("cY",o+(c-o)/2)].concat(ct(Object.entries(hT(hT({},t),h)).map(function(f){var d=me(f,2),v=d[0],g=d[1];return Sn(v,g)}))))({})}},wge=0,xge=250,Ns=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.duration,r=n===void 0?xge:n,i=t.delay,a=i===void 0?wge:i,o=t.interpolator,s=t.easing,l=s===void 0?Fk:s,u=t.endValue,c=t.getter,h=t.setter,f=t.onDone,d=f===void 0?zl:f,v,g,p,y,m=u,b=function(){v=c(),y=v!==null,y||console.warn("Invalid start value for animation: ".concat(v))},w=function(){a?setTimeout(b,a):b()},x=function(){return y?(g||(g=performance.now()),p=performance.now()-g,p>=r?(h(m),!0):(h(o(v,m,l(p/r))),!1)):!1},_=function(C){l=C},S=function(C){m=C};return{get dt(){return p},get duration(){return r},onDone:d,register:w,update:x,updateEndValue:S,setEasing:_}},_ge=function(t){var n=t.name,r=t.pubSub,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.duration,o=i.delay,s=i.eps,l=s===void 0?1e-6:s;return function(u){var c=function(){return u[n]},h=function(v){u["set".concat(Jg(n))](v)},f;return er(u,Xs({},"animate".concat(Jg(n)),function(v){var g=Math.abs(v-c());if(g<l){h(v);return}var p=a;f&&(r.publish("cancelAnimation",f),f.dt<f.duration&&(p=f.dt)),f=Ns({delay:o,duration:p,interpolator:Qg,endValue:v,getter:c,setter:h}),r.publish("startAnimation",f)}))}},Sge=function(t){var n=t.name,r=t.pubSub,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.initialValue,o=i.getter,s=i.setter,l=i.cloner,u=i.transformer,c=i.validator,h=i.duration,f=i.delay;return function(d){return Qi(Vk(n,{initialValue:a,getter:o,setter:s,cloner:l,transformer:u,validator:c}),_ge({name:n,pubSub:r},{duration:h,delay:f}))(d)}},Ege=function(t){return function(n){return er(n,{destroy:function(){return t.destroy()}})}},Age=function(){return function(t){return er(t,{moveTo:function(r,i){!Number.isNaN(+r)&&!Number.isNaN(+i)&&(t.displayObject.x=r,t.displayObject.y=i)}})}},Cge=function(t){return function(n){return er(n,{pointerOverHandler:function(){t.publish("itemOver",{item:n})},pointerOutHandler:function(){t.publish("itemOut",{item:n})},disableInteractivity:function(){n.displayObject.interactive=!1,n.displayObject.buttonMode=!1,n.displayObject.off("pointerover",n.pointerOverHandler),n.displayObject.off("pointerout",n.pointerOutHandler)},enableInteractivity:function(){n.displayObject.interactive=!0,n.displayObject.buttonMode=!0,n.displayObject.on("pointerover",n.pointerOverHandler),n.displayObject.on("pointerout",n.pointerOutHandler)}})}},Hv=function e(t){var n=t.image,r=t.item,i=t.pubSub,a=new yn;a.__pilingjs__item=r;var o=function(c){n=c,a.removeChildren(),a.addChild(n.displayObject)},s=function(){return function(c){return er(c,{replaceImage:o})}},l=function(c){return c.displayObject.addChild(c.image.displayObject),c.enableInteractivity(),c};return l(Qi(Sn("displayObject",a),Jo("x",function(){return a.x}),Jo("y",function(){return a.y}),Sn("id",r.id),Jo("image",function(){return n}),Sn("item",r),Sge({name:"opacity",pubSub:i},{getter:function(){return a.alpha},setter:function(c){a.alpha=c}}),Ege(a),Age(),Cge(i),s(),Co(e))({}))},a1=3,Ap=Symbol("Normal"),Cp=Symbol("Hover"),Tp=Symbol("Focus"),Pp=Symbol("Active"),Us=new Map;Us.set(Ap,"");Us.set(Cp,"Hover");Us.set(Tp,"Focus");Us.set(Pp,"Active");var Tge=function(t){switch(t){case"left":return 0;case"right":return 1;default:return .5}},Pge=function(t){switch(t){case"top":return 0;case"bottom":return 1;default:return .5}},Oge=function(t){var n=t.render,r=t.id,i=t.pubSub,a=t.store,o=t.badgeFactory,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.x,u=l===void 0?0:l,c=s.y,h=c===void 0?0:c,f=[],d=new Map,v=new Map,g=new Map,p=new Map,y=new Set,m=new yn,b=new Na,w=new yn,x=new yn,_=new yn,S=new yn,P=new yn,C=new yn,D=new yn,T=new yn,B=bge({id:r}),I=B(),O=B(),L,R,U=!1,$=!1,j=!1,z=!1,Y=!1,Q=-1,re=[0,0],he=Ap,ce=1,te=1,ee=1,Ue=[],ye,pe,Se=function(){be&&be.destroy(),m.destroy(),Ue.forEach(function(oe){i.unsubscribe(oe)})},ae=function(oe){var _e=_p(oe.item.image.displayObject);return L?(_e.x=P.x,_e.y=P.y):(_e.x=oe.displayObject.x,_e.y=oe.displayObject.y),_e.angle=oe.displayObject.angle,_e},ke=function(oe){var _e=oe.item;if(U&&!m.isDragging){var Fe=ae(_e);if(C.addChild(Fe),P.visible=!1,Io(_e)){var Re=a.state,Ke=Re.previewBorderColor,Qt=Re.previewBorderOpacity,Dt=Re.items,Nt=f.indexOf(_e),rn=Fl(Ke,Dt[_e.id],Nt),hn=Fl(Qt,Dt[_e.id],Nt);_e.image.setBackgroundColor(We(rn)),_e.image.setBackgroundOpacity(hn),_e.image.rescaleBackground(!0),T.addChild(_e.displayObject)}n()}},Ce=function(){var oe=a.state,_e=oe.pileBackgroundColor,Fe=oe.piles,Re=oe.darkMode,Ke=oa(_e,Fe[r]);return Ke!==null?Ke:Re?sw:tm},We=function(oe){return oe!==null?oe:a.state.darkMode?tm:sw},X=function(oe){var _e=oe.item;if(U){for(P.visible=!0;C.children.length;)C.removeChildAt(0);if(Io(_e)){var Fe=a.state,Re=Fe.previewBackgroundColor,Ke=Fe.previewBackgroundOpacity,Qt=Fe.pileBackgroundOpacity,Dt=Fe.items,Nt=Fe.piles,rn=f.indexOf(_e),hn=Ce(),un=Re===qc?hn:Fl(Re,Dt[_e.id],rn),vn=Ke===qc?oa(Qt,Nt[r]):Fl(Ke,Dt[_e.id],rn);_e.image.setBackgroundColor(un),_e.image.setBackgroundOpacity(vn),S.addChild(_e.displayObject)}n()}},M={drawCall:-1},k=0,W=function(){if(M.drawCall===k)return M;var oe=b.getBounds(),_e=w.getBounds();return M={drawCall:k,x:_e.x-oe.x,y:_e.y-oe.y,width:_e.width,height:_e.height},M},Z,be,we=function(){if(!j){var oe=a.state,_e=oe.darkMode,Fe=oe.piles,Re=oe.pileSizeBadgeAlign,Ke=Yt(Re)?Re(Fe[r]):Re,Qt=me(Ke,2),Dt=Qt[0],Nt=Qt[1],rn=Tge(Nt),hn=Pge(Dt),un=f.length,vn=un!==Z,cn=be;vn&&(cn=o.create(un,{darkMode:_e}),Z!==void 0&&(m.removeChild(be.displayObject),be.destroy()));var Ln=function(){var Wn=W();cn.displayObject.x=Wn.x-De+(Wn.width+2*De)*rn,cn.displayObject.y=Wn.y-De+(Wn.height+2*De)*hn,vn&&m.addChild(cn.displayObject),be=cn,Z=un,n()};_.children.length||P.children.length?Ln():R&&R.then(Ln)}},tt=!1,_t=function(oe){tt=oe,tt?we():be&&(m.removeChild(be.displayObject),be.destroy(),Z=void 0)},De=0,Me=function(oe){De=+oe,R?(fe(),R.then(function(){fe()})):fe()},it=function(){switch(he){case Cp:case Tp:return De||1;case Pp:return De||2;case Ap:default:return De}},He=function(){var oe=a.state,_e=oe.pileBackgroundOpacityHover,Fe=oe.piles,Re=oa(a.state["pileBackgroundOpacity".concat(Us.get(he)||"")],Fe[r]);return Re===null&&(Re=oa(_e,Fe[r])),Re},fe=function qe(){++k;var oe=it(),_e=He();if(!oe&&!_e){b.clear();return}if(j){qa.set("drawBorder",function(){qe()});return}b.clear();var Fe=W(),Re=a.state,Ke=Math.ceil(oe/2),Qt=oa(Re["pileBackgroundColor".concat(Us.get(he)||"")],Re.piles[r]);Qt===null&&(Qt=Ce()),b.beginFill(Qt,_e),b.drawRect(Fe.x-Ke,Fe.y-Ke,Fe.width+2*Ke,Fe.height+2*Ke),b.endFill();var Dt=Re["pileBorderColor".concat(Us.get(he)||"")],Nt=oa(Re["pileBorderOpacity".concat(Us.get(he)||"")],Re.piles[r]);Dt=Yt(Dt)?dc(Dt(Re.piles[r]))[0]:Dt,b.lineStyle(oe,Dt,Nt),b.drawRect(Fe.x-Ke,Fe.y-Ke,Fe.width+2*Ke,Fe.height+2*Ke),tt&&we(),n()},ie=function(){he=Ap,fe()},ge=function(){he!==Cp&&(he=Cp,fe())},Be=function(){he!==Tp&&(he=Tp,fe())},ze=function(){he!==Pp&&(he=Pp,fe())},st=!1,Oe=function(oe){st=!0,i.publish("pileEnter",{target:a.state.piles[r],event:oe}),U?$?ze():Be():ge(),ye||(ye=i.subscribe("itemOver",ke),Ue.push(ye)),pe||(pe=i.subscribe("itemOut",X),Ue.push(pe))},Mt=function(oe){m.isDragging||(st=!1,i.publish("pileLeave",{target:a.state.piles[r],event:oe}),U||ie(),ye&&(i.unsubscribe(ye),ye=void 0),pe&&(i.unsubscribe(pe),pe=void 0),C.removeChildren(),n())},Zt,wt=function(oe){oe.data.button!==2&&(m.draggingMouseOffset=[oe.data.getLocalPosition(m.parent).x-m.x,oe.data.getLocalPosition(m.parent).y-m.y],m.alpha=1,m.isDragging=!0,m.beforeDragX=m.x,m.beforeDragY=m.y,Zt=!1,i.publish("pileDragStart",{target:a.state.piles[r],event:oe}))},et=function(oe){oe.data.button!==2&&m.isDragging&&(m.alpha=1,m.isDragging=!1,m.draggingMouseOffset=null,Zt&&i.publish("pileDragEnd",{target:a.state.piles[r],event:oe}))},dt=function(oe){if(oe.data.button!==2&&m.isDragging){Zt=!0,i.publish("pileDragMove",{target:a.state.piles[r],event:oe});var _e=oe.data.getLocalPosition(m.parent),Fe=_e.x,Re=_e.y;Fe-=m.draggingMouseOffset[0],Re-=m.draggingMouseOffset[1];var Ke=it();Ke%2===1&&(Fe=Math.floor(Fe)+.5,Re=Math.floor(Re)+.5),Y?bi.updateEndValue([Fe,Re]):(m.x=Fe,m.y=Re),$?ze():ge(),n()}},Rt=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=arguments.length>2?arguments[2]:void 0,Re,Ke=0,Qt=0;if(R)if(P.children.length)Re=P.getBounds(!Fe);else return O;else if(Re=_.getBounds(!Fe),f.length>1){var Dt=f[0].displayObject.getBounds(!Fe);Ke=Re.x-Dt.x,Qt=Re.y-Dt.y}return B({localXOffset:Ke,localYOffset:Qt,minX:Re.x-oe,minY:Re.y-_e,maxX:Re.x+Re.width-oe,maxY:Re.y+Re.height-_e})},jt=function(oe,_e,Fe){O=Rt(oe,_e,Fe)},Dn=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=arguments.length>2?arguments[2]:void 0,Re=x.getBounds(!Fe);return B({minX:Re.x-oe,minY:Re.y-_e,maxX:Re.x+Re.width-oe,maxY:Re.y+Re.height-_e})},mi=function(oe,_e,Fe){I=Dn(oe,_e,Fe)},wa=function(oe,_e,Fe){jt(oe,_e,Fe),mi(oe,_e,Fe)},Nr=function(){return m.alpha},Wa=function(oe){m.alpha=oe},yi,wu=function(oe){var _e=Math.abs(oe-Nr());if(_e<1/100){Wa(oe);return}var Fe=yh(_e)*250;yi&&(i.publish("cancelAnimation",yi),yi.dt<yi.duration&&(Fe=yi.dt)),yi=Ns({duration:Fe,delay:0,interpolator:Qg,endValue:oe,getter:Nr,setter:Wa}),i.publish("startAnimation",yi)},Ka=function(oe){_.visible=oe,S.visible=oe},qa=new Map,xa=function(oe,_e,Fe,Re,Ke,Qt){var Dt=oe.tmpTargetScale||oe.scale.x;oe.tmpTargetScale=void 0,delete oe.tmpTargetScale;var Nt=Ns({duration:250,interpolator:bh,endValue:[_e,Fe,Dt,Re],getter:function(){return[oe.x,oe.y,oe.scale.x,oe.angle]},setter:function(hn){oe.x=hn[0],oe.y=hn[1],oe.scale.x=hn[2],oe.scale.y=hn[2],oe.angle=hn[3]},onDone:function(){oe.tmpTargetScale=void 0,Qt&&(j=!1,fe(),A(),qa.forEach(function(hn){hn()}),qa.clear(),i.publish("updatePileBounds",{id:r}),K&&Pe())}});Ke.add(Nt)},xu=function(oe){var _e=new Map;oe.forEach(function(Re,Ke){_e.set(Re.toString(),Ke)});var Fe=function(Ke){return function(Qt,Dt){var Nt=Ke.get(Qt),rn=Ke.get(Dt);return _e.get(Nt)-_e.get(rn)}};_.children.sort(Fe(g)),S.children.sort(Fe(p)),f.sort(function(Re,Ke){return _e.get(Re.id)-_e.get(Ke.id)})},rr=function(oe,_e){var Fe=a.state,Re=Fe.piles,Ke=Fe.previewScaleToCover,Qt=Re[r],Dt=Yt(Ke)?Ke(Qt):Ke,Nt=me(Dt,2),rn=Nt[0],hn=Nt[1],un=function(cn){if(rn===!0){var Ln=cn.width/oe.width;oe.scale.x*=Ln,hn==="auto"&&(oe.scale.y*=Ln)}else if(hn===!0){var Pr=cn.height/oe.height;oe.scale.y*=Pr,rn==="auto"&&(oe.scale.x*=Pr)}else rn===!0&&hn===!0&&(oe.scale.x*=cn.width/oe.width,oe.scale.y*=cn.height/oe.height)};_e?un(_e):R?R.then(un):un(W())},Fn=function(oe){var _e=a.state,Fe=_e.piles,Re=_e.previewAlignment,Ke=_e.previewItemOffset,Qt=_e.previewOffset,Dt=_e.previewSpacing,Nt=Fe[r];R.then(function(rn){var hn=Yt(Re)?Re(Nt):Re,un=Yt(Qt)?Qt(Nt):Qt,vn=Yt(Dt)?Dt(Nt):Dt;un=un!==null?un:vn/2;var cn=vn/2,Ln=rn.width/2,Pr=rn.height/2;j=S.children.length>0;var Wn=[0,0],Tn=[0,0];S.children.forEach(function(ur,Vr){var ta=ur.__pilingjs__item,ll=a.state.items[ta.id];rr(ur,rn);var cr;if(Yt(Ke))cr=Ke(ll,Vr,Nt),cr[0]=cr[0]*rn.scaleFactor-Ln,cr[1]=cr[1]*rn.scaleFactor-Pr;else{switch(hn){case"left":cr=[(Vr===0)*(-Ln-un)+Wn[0]-Tn[0]/2-ur.width/2-cn,0];break;case"right":cr=[(Vr===0)*(Ln+un)+Wn[0]+Tn[0]/2+ur.width/2+cn,0];break;case"bottom":cr=[0,(Vr===0)*(Pr+un)+Wn[1]+Tn[1]/2+ur.height/2+cn];break;default:case"top":cr=[0,(Vr===0)*(-Pr-un)+Wn[1]-Tn[1]/2-ur.height/2-cn];break}Wn=ct(cr),Tn=[ur.width,ur.height]}ta.preview.setBackgroundOpacity(0),xa(ur,cr[0],cr[1],0,oe,Vr===S.children.length-1)})})},ys=function(oe,_e){var Fe=_e.all,Re=Fe===void 0?!1:Fe,Ke=a.state,Qt=Ke.piles,Dt=Ke.pileItemOffset,Nt=Ke.pileItemRotation,rn=Qt[r];if(R&&S.children.length)Fn(oe);else if(_.children.length>1)if(Re)j=!0,_.children.forEach(function(un,vn){var cn=un.__pilingjs__item,Ln=d.get(cn.id),Pr=a.state.items[cn.id],Wn=f.indexOf(Ln),Tn=Yt(Dt)?Dt(Pr,Wn,rn):Dt.map(function(Vr){return Vr*Wn}),ur=Yt(Nt)?Nt(Pr,Wn,rn):Nt;xa(un,Tn[0],Tn[1],ur,oe,vn===_.children.length-1)});else if(y.size){j=!0;var hn=0;y.forEach(function(un){hn++;var vn=un.item,cn=un.displayObject,Ln=pr();if(cn.tmpTargetScale=cn.scale.x,!Number.isNaN(+vn.tmpRelScale)){var Pr=vn.tmpRelScale/Ln;cn.scale.x*=Pr,cn.scale.y=cn.scale.x,delete vn.tmpRelScale}!Number.isNaN(+vn.tmpAbsX)&&!Number.isNaN(+vn.tmpAbsY)&&(un.moveTo((un.x+vn.tmpAbsX-m.x)/Ln,(un.y+vn.tmpAbsY-m.y)/Ln),delete vn.tmpAbsX,delete vn.tmpAbsY);var Wn=a.state.items[vn.id],Tn=f.indexOf(un),ur=Yt(Dt)?Dt(Wn,Tn,rn):Dt.map(function(ta){return ta*Tn}),Vr=Yt(Nt)?Nt(Wn,Tn,rn):Nt;xa(cn,ur[0],ur[1],Vr,oe,hn===y.size)})}else K&&Pe();else K&&Pe();y.clear()},To=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce;w.scale.x=oe*te,w.scale.y=oe*te},pr=function(){return w.scale.x/te},Po=function(oe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.isMagnification,Re=Fe===void 0?!1:Fe;Re||(ce=oe),To(oe)},Fi,il=function(oe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.isMagnification,Re=Fe===void 0?!1:Fe,Ke=_e.onDone,Qt=Ke===void 0?zl:Ke,Dt=MC(pr(),oe*te,9),Nt=function(){fe(),A(),Dt||i.publish("updatePileBounds",{id:r,forceUpdate:!0}),Qt()},rn=function(){Po(oe,{isMagnification:Re}),Nt()};if(MC(pr(),oe*te,3)){rn();return}Re||(ce=oe);var hn=Math.max(I.width,I.height),un=Math.abs(oe/pr()*hn-hn);if(un<2){rn();return}z=!0;var vn=yh(Math.min(un,50)/50)*250;Fi&&(i.publish("cancelAnimation",Fi),Fi.dt<Fi.duration&&(vn=Fi.dt)),Fi=Ns({duration:vn,delay:0,interpolator:Qg,endValue:oe,getter:pr,setter:function(Ln){Po(Ln,{isMagnification:Re}),fe()},onDone:function(){z=!1,qa.forEach(function(Ln){return Ln()}),qa.clear(),Nt()}}),i.publish("startAnimation",Fi)},_u=function(oe){var _e=Math.log(Math.abs(oe)+1),Fe=-Math.sign(oe)*_e,Re=pr(),Ke=Math.min(Math.max(1,Re*(1+.075*Fe)),ce*a1);return ee=Ke/ce,Po(Ke,{isMagnification:!0}),Re!==Ke},Su=function(){ee=a1,il(ce*a1,{isMagnification:!0})},Eu=function(){ee=1,il(ce,{isMagnification:!0})},bi,Au=function(oe,_e){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=Fe.easing,Ke=Fe.onDone,Qt=Ke===void 0?zl:Ke,Dt=Pl(oe,_e,m.x,m.y);if(Dt<3)return bs(oe,_e),Dt>ow&&i.publish("updatePileBounds",{id:r}),Qt(),null;Y=!0;var Nt=yh(Math.min(Dt,250)/250)*250;return bi&&(i.publish("cancelAnimation",bi),bi.dt<bi.duration&&(Nt=bi.dt)),Ns({duration:Nt,delay:0,easing:Re,interpolator:bh,endValue:[oe,_e],getter:function(){return[m.x,m.y]},setter:function(hn){return bs(hn[0],hn[1])},onDone:function(){Y=!1,i.publish("updatePileBounds",{id:r}),Qt()}})},hf=function(oe,_e){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=Fe.easing,Ke=Fe.onDone,Qt=Ke===void 0?zl:Ke;return new Promise(function(Dt){var Nt=function(){Dt(a.state.piles[r]),Rn(),Qt()};qt(),bi=Au(oe,_e,{easing:Re,onDone:Nt}),bi&&i.publish("startAnimation",bi)})},Ji=function(){var oe=f[0].item.image;oe.scaleFactor!==Q&&(Q=oe.scaleFactor,re=oe.center)},bs=function(oe,_e){return m.x=Math.round(oe),m.y=Math.round(_e),Math.hypot(m.x-oe,m.y-_e)>ow},df=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(oe!==null){var _e=Oo(oe);if(al(_e)){var Fe=_e.item.image;_e.replaceImage(Fe)}else if(Io(_e)){var Re=_e.item.preview;Re?_e.replaceImage(Re):ol(_e.item)}}else d.forEach(function(Ke){Ke.replaceImage(Ke.item.image)}),v.forEach(function(Ke){Ke.item.preview?Ke.replaceImage(Ke.item.preview):ol(Ke.item)})},Oo=function(oe){return d.get(oe)||v.get(oe)},al=function(oe){return d.has(oe.id)},Io=function(oe){return v.has(oe.id)},ea=function(oe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,Re=Fe===void 0?null:Fe;return Re===!1?al(oe):Re===!0?Io(oe):al(oe)||Io(oe)},ol=function(oe){if(!ea(oe,{asPreview:!1})){var _e=Oo(oe.id),Fe=Hv({image:oe.image,item:oe,pubSub:i}),Re=f.indexOf(_e);f.splice(Re,1,Fe),p.delete(v.get(oe.id).displayObject),g.set(Fe.displayObject,oe.id),v.delete(oe.id),d.set(oe.id,Fe),S.removeChildAt(S.getChildIndex(_e.displayObject)),_.addChild(Fe.displayObject)}},Cu=function(oe){if(!(ea(oe,{asPreview:!0})||!oe.preview)){var _e=Oo(oe.id),Fe=Hv({image:oe.preview,item:oe,pubSub:i}),Re=f.indexOf(_e);f.splice(Re,1,Fe),g.delete(d.get(oe.id).displayObject),p.set(Fe.displayObject,oe.id),d.delete(oe.id),v.set(oe.id,Fe),_.removeChildAt(_.getChildIndex(_e.displayObject)),rr(Fe.displayObject),S.addChild(Fe.displayObject)}},ws=function(oe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,Re=Fe===void 0?!1:Fe;Re===!0?Cu(oe):ol(oe)},vf=function(oe){var _e=Hv({image:oe.image,item:oe,pubSub:i}),Fe=f.push(_e);Fe>1&&y.add(_e),d.set(_e.id,_e),g.set(_e.displayObject,_e.id),_.addChild(_e.displayObject)},_a=function(oe){if(oe.preview){var _e=Hv({image:oe.preview,item:oe,pubSub:i});f.push(_e),y.add(_e),v.set(_e.id,_e),p.set(_e.displayObject,_e.id),rr(_e.displayObject),S.addChild(_e.displayObject)}},gr=function(oe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,Re=Fe===void 0?!1:Fe;if(ea(oe)){ea(oe,{asPreview:!Re})&&ws(oe,{asPreview:Re});return}Re?_a(oe):vf(oe),f.length===1&&Ji()},Mo=function(oe){var _e=Oo(oe.id),Fe=f.indexOf(_e);Fe>=0&&f.splice(Fe,1),ea(oe,{asPreview:!1})&&(_.removeChildAt(_.getChildIndex(_e.displayObject)),g.delete(_e.displayObject)),ea(oe,{asPreview:!0})&&(S.removeChildAt(S.getChildIndex(_e.displayObject)),p.delete(_e.displayObject)),d.delete(oe.id),v.delete(oe.id)},Tu=function(){_.removeChildren(),S.removeChildren(),f.splice(0,f.length),d.clear(),v.clear(),g.clear(),p.clear()},Do=function(oe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=_e.asPreview,Re=Fe===void 0?!1:Fe,Ke=_e.shouldDrawPlaceholder,Qt=Ke===void 0?!1:Ke;Qt&&ve();var Dt=Kae(d,v);oe.forEach(function(Nt){ea(Nt)?(Dt.delete(Nt.id),ws(Nt,{asPreview:Re})):gr(Nt,{asPreview:Re})}),Dt.forEach(function(Nt){Mo(Nt)})},Pu=function(oe){oe?(R=oe,R.then(function(_e){for(L=_e;P.children.length;)P.removeChildAt(0);P.addChild(L.displayObject),i.publish("updatePileBounds",{id:r,forceUpdate:!0}),fe()})):Sa()},Sa=function(){if(L){for(;P.children.length;)P.removeChildAt(0);L=void 0,R=void 0}},Ur,sl=[],xs=[],Za=[],Ou=[],A=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sl,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xs,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Za,Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ou;if(!oe.length){Ur&&(sl=[],xs=[],Za=[],Ur.clear(),Ur.removeChildren(),n());return}if(sl=oe,xs=_e,Za=Fe,Ou=Re,!(j||z)){Ur?(Ur.clear(),Ur.removeChildren()):(Ur=new Na,m.addChild(Ur));var Ke=a.state,Qt=Ke.pileLabelHeight,Dt=Ke.pileLabelAlign,Nt=Ke.pileLabelFontSize,rn=Ke.pileLabelStackAlign,hn=Ke.pileLabelText,un=Ke.pileLabelTextOpacity,vn=Ke.piles,cn=oa(Dt,vn[r]),Ln=oa(Nt,vn[r]),Pr=oa(rn,vn[r]),Wn=oa(Qt,vn[r]),Tn=W(),ur=Yt(hn)?hn(vn[r]):hn,Vr=Tn.width/oe.length,ta=Za.length?Math.max(ur*(Ln+1),Wn):Wn,ll=cn==="top"?Tn.y-ta:Tn.y+Tn.height,cr=1+(ll<0)*-2;if(oe.forEach(function(Od,Qa){var $r,pf,gf=ll+cr,ul=ta;switch(Pr){case"vertical":Vr=Tn.width*Re[Qa],pf=-Tn.width/2,gf+=(ul+1)*Qa*cr;break;case"horizontal":default:pf=Vr*Qa-Tn.width/2,ul=ta*Re[Qa],cn==="top"&&(gf+=ta-ul);break}var c0=_e[Qa];($r=Ur).beginFill.apply($r,ct(c0)),Ur.drawRect(pf,gf,Vr,ul),Ur.endFill()}),ur){var Pd=Tn.width/Za.length;Za.forEach(function(Od,Qa){var $r=new ja(Od);switch($r.y=ll+cr,Pr){case"vertical":$r.anchor.set(0,0),$r.x=-Tn.width/2+2,$r.y+=(ta+1)*Qa*cr;break;case"horizontal":default:$r.anchor.set(.5,0),$r.x=Pd*Qa-Tn.width/2+Pd/2;break}$r.width/=2*window.devicePixelRatio,$r.height/=2*window.devicePixelRatio,$r.alpha=un,Ur.addChild($r)})}n()}},N,K=!1,ve=function(){N||(N=new Na,w.addChild(N));var oe=O.width/ce/te,_e=O.height/ce/te,Fe=oe/12,Re=a.state.darkMode?16777215:0;N.lineStyle(0).beginFill(Re,1).drawCircle(-oe/4,0,Fe).drawCircle(0,0,Fe).drawCircle(oe/4,0,Fe).endFill(),N.beginFill(Re,.1).drawRect(-oe/2,-_e/2,oe,_e).endFill(),K=!0,n()},Pe=function(){N.clear(),K=!1,n()},Xe=function(oe){te=oe,To()},kt=!1,qt=function(){kt&&(f.forEach(function(oe){return oe.disableInteractivity()}),m.interactive=!1,m.buttonMode=!1,D.interactive=!1,m.off("pointerover",Oe).off("pointerout",Mt).off("pointerdown",wt).off("pointerup",et).off("pointerupoutside",et).off("pointermove",dt),kt=!1)},Rn=function(){kt||(f.forEach(function(oe){return oe.enableInteractivity()}),m.interactive=!0,m.buttonMode=!0,D.interactive=!0,m.on("pointerover",Oe).on("pointerout",Mt).on("pointerdown",wt).on("pointerup",et).on("pointerupoutside",et).on("pointermove",dt),kt=!0)},Xn=function(){m.addChild(x),x.addChild(b),x.addChild(w),w.addChild(_),w.addChild(S),w.addChild(P),w.addChild(C),w.addChild(D),w.addChild(T),m.x=u,m.y=h,Rn()};return Xn(),{get anchorBox(){return O},get baseScale(){return ce},get bBox(){return I},get cover(){return L},get graphics(){return m},get contentContainer(){return w},get height(){return x.height},get isFocus(){return U},set isFocus(qe){U=!!qe},get isHover(){return st},get isInteractive(){return kt},get isMagnified(){return ee>1},get isTempDepiled(){return $},set isTempDepiled(qe){$=!!qe},get normalItemContainer(){return _},get offset(){return[(re[0]-O.localXOffset)*ce,(re[1]-O.localYOffset)*ce]},get previewItemContainer(){return S},get items(){return[].concat(f)},get magnification(){return ee},get size(){return f.length},get tempDepileContainer(){return D},get width(){return x.width},get x(){return m.x},get y(){return m.y},id:r,animateMoveTo:hf,animateOpacity:wu,animateScale:il,blur:ie,disableInteractivity:qt,enableInteractivity:Rn,hover:ge,focus:Be,active:ze,addItem:gr,animatePositionItems:xa,calcBBox:Dn,destroy:Se,drawBorder:fe,drawPlaceholder:ve,drawSizeBadge:we,getMoveToTweener:Au,getItemById:Oo,hasItem:ea,magnifyByWheel:_u,magnify:Su,moveTo:bs,positionItems:ys,removeAllItems:Tu,removePlaceholder:Pe,setBorderSize:Me,setItems:Do,drawLabel:A,setCover:Pu,setScale:Po,setOpacity:Wa,setVisibilityItems:Ka,setItemOrder:xu,setZoomScale:Xe,showSizeBadge:_t,updateBounds:wa,updateOffset:Ji,replaceItemsImage:df,unmagnify:Eu}};/**
 * @preserve
 * Fast, destructive implemetation of Liang-Barsky line clipping algorithm.
 * It clips a 2D segment by a rectangle.
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 */var fw=1e-6,dT=1,Ige=0;function Gv(e,t,n){var r=n[0],i=n[1];if(Math.abs(t)<fw)return e<0;var a=e/t;if(t>0){if(a>i)return 0;a>r&&(n[0]=a)}else{if(a<r)return 0;a<i&&(n[1]=a)}return 1}function Mge(e,t,n,r,i){var a=e[0],o=e[1],s=t[0],l=t[1],u=s-a,c=l-o;if(r===void 0||i===void 0?(r=e,i=t):(r[0]=e[0],r[1]=e[1],i[0]=t[0],i[1]=t[1]),Math.abs(u)<fw&&Math.abs(c)<fw&&a>=n[0]&&a<=n[2]&&o>=n[1]&&o<=n[3])return dT;var h=[0,1];if(Gv(n[0]-a,u,h)&&Gv(a-n[2],-u,h)&&Gv(n[1]-o,c,h)&&Gv(o-n[3],-c,h)){var f=h[0],d=h[1];return d<1&&(i[0]=a+d*u,i[1]=o+d*c),f>0&&(r[0]+=f*u,r[1]+=f*c),dT}return Ige}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){Xs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Yv=function(t){var n=t.width,r=t.height,i=t.orderer,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.cellSize,s=o===void 0?null:o,l=a.columns,u=l===void 0?10:l,c=a.rowHeight,h=c===void 0?null:c,f=a.cellAspectRatio,d=f===void 0?1:f,v=a.pileCellAlignment,g=v===void 0?"topLeft":v,p=a.cellPadding,y=p===void 0?0:p,m=u;!+s&&!+u&&(m=10);var b=n/m,w=b-y*2,x=null;+s&&(b=s+y*2,m=Math.floor(n/b),w=s),+h?d=b/h:(+d||(d=1),h=b/d),x=h-y*2;var _=b/2,S=h/2,P=Bk([_,S]),C=Math.ceil(r/h),D=function(j,z){return j*m+z},T=i(m),B=function(j,z){return[Math.floor(z/h),Math.floor(j/b)]},I=function(j,z,Y,Q,re){var he=j*h+y,ce=z*b+y;if(!Y||!Q)return[ce,he];switch(ce+=re[0],he+=re[1],g){case"topRight":return[ce+w-Y,he];case"bottomLeft":return[ce,he+x-Q];case"bottomRight":return[ce+w-Y,he+x-Q];case"center":return[ce+(w-Y)/2,he+(x-Q)/2];case"topLeft":default:return[ce,he]}},O=function(j,z,Y,Q){return I.apply(void 0,ct(T(j)).concat([z,Y,Q]))},L=function(j,z){return[j*n,z*r]},R=function(j){var z="minX",Y="minY";switch(g){case"topRight":z="maxX";break;case"bottomLeft":Y="maxY";break;case"bottomRight":z="maxX",Y="maxY";break;case"center":z="cX",Y="cY";break}return[j.anchorBox[z],j.anchorBox[Y]]},U=function(j){var z=[],Y=[],Q=new Map;j.forEach(function(ce){var te=R(ce),ee=me(te,2),Ue=ee[0],ye=ee[1];Q.set(ce.id,Ju(Ju({id:ce.id},ce.anchorBox),{},{x:Ue,y:ye,offset:ce.offset}))});var re=function(te){var ee=(te.minY+1)/h,Ue=(te.minX+1)/b,ye=(te.maxY-1)/h,pe=(te.maxX-1)/b,Se,ae;switch(g){case"topRight":ae=Math.floor(pe);break;case"bottomLeft":Se=Math.floor(ye);break;case"bottomRight":Se=Math.floor(ye),ae=Math.floor(pe);break;case"center":Se=Math.floor(ee+(ye-ee)/2),ae=Math.floor(Ue+(pe-Ue)/2);break;case"topLeft":default:Se=Math.floor(ee),ae=Math.floor(Ue);break}var ke=D(Se,ae);return z[ke]||(z[ke]=new Set),z[ke].size===1&&Y.push(ke),z[ke].add(te.id),[Se,ae]};Q.forEach(function(ce){var te=re(ce),ee=me(te,2),Ue=ee[0],ye=ee[1];Q.set(ce.id,Ju(Ju({},ce),{},{i:Ue,j:ye}))});for(var he=function(){var te=Y.shift(),ee=I.apply(void 0,ct(T(te))),Ue=[ee[0],ee[1],ee[0]+b,ee[1]+h];ee[0]+=_,ee[1]+=S;var ye=new Set(z[te]),pe=Xae,Se=te-m,ae=Se<0||z[Se]&&z[Se].size,ke=te-1,Ce=ke<0||te%m===0||z[ke]&&z[ke].size,We=te+1,X=We%m===0||z[We]&&z[We].size,M=function(we){return we},k=function(we){return we};ae&&(ee[1]-=S,k=function(we){return Math.max(0,we)}),Ce&&(ee[0]-=_,M=function(we){return Math.max(0,we)}),X&&(ee[0]+=_,M=Ce?function(){return 0}:function(be){return Math.min(0,be)}),Ce&&X&&(k=function(){return ae?1:-1},ae&&(pe=function(we,tt,_t,De){return Math.abs(tt-De)})),ae&&Ce&&X&&(k=function(){return ae?1:-1});var W=1/0,Z=void 0;ye.forEach(function(be){var we=Q.get(be),tt=pe(we.x,we.y,ee[0],ee[1]);tt<W&&(Z=be,W=tt)}),ye.forEach(function(be){be!==Z&&z[te].delete(be)}),ye.forEach(function(be){if(be!==Z){var we=Q.get(be),tt=[we.x-Q.get(Z).x,we.y-Q.get(Z).y];tt[0]+=(Math.sign(tt[0])||1)*Math.random(),tt[1]+=(Math.sign(tt[1])||1)*Math.random(),tt=zae([M(tt[0]),k(tt[1])]);var _t=[we.x+P*tt[0],we.y+P*tt[1]],De=[].concat(_t);Mge([we.x,we.y],De,Ue),De[0]+=Math.sign(tt[0])*.1,De[1]+=Math.sign(tt[1])*.1;var Me=De[0]-we.x,it=De[1]-we.y;we.minX+=Me,we.minY+=it,we.maxX+=Me,we.maxY+=it,we.cX+=Me,we.cY+=it,we.x+=Me,we.y+=it;var He=re(we),fe=me(He,2),ie=fe[0],ge=fe[1];Q.set(be,Ju(Ju({},we),{},{i:ie,j:ge}))}})};Y.length;)he();return Array.from(Q.entries(),function(ce){var te=me(ce,2),ee=te[0],Ue=te[1],ye=Ue.i,pe=Ue.j,Se=I(ye,pe,Q.get(ee).width,Q.get(ee).height,Q.get(ee).offset),ae=me(Se,2),ke=ae[0],Ce=ae[1];return{id:ee,x:ke,y:Ce}})};return{get numRows(){return C},set numRows($){Number.isNaN(+$)||(C=$)},numColumns:m,columnWidth:b,rowHeight:h,cellWidth:w,cellHeight:x,cellAspectRatio:d,cellPadding:y,width:n,height:r,align:U,getPilePosByCellAlignment:R,ijToXy:I,ijToIdx:D,idxToIj:T,idxToXy:O,uvToXy:L,xyToIj:B}},Dge=function e(t){var n=t.id,r=t.image,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.preview,o=a===void 0?null:a,s=i.originalPosition,l=s===void 0?[0,0]:s,u=function(){return function(d){return er(d,{destroy:function(){r&&r.destroy(),o&&o.destroy()}})}},c=function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r.destroy(),r=d,o&&(o.destroy(),o=null),o=v},h=function(){return function(d){return er(d,{replaceImage:c})}};return Qi(Sn("id",n),Jo("image",function(){return r}),Jo("preview",function(){return o}),Vk("originalPosition",{initialValue:l,cloner:function(d){return ct(d)}}),u(),h(),Co(e))({})},m5=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(i,a){const o=RegExp(i,"g");return s=>{if(typeof s!="string")throw new TypeError("expected an argument of type string, but got ".concat(typeof styleObj));return s.match(o)?s.replace(o,a):s}}var r=n;t.default=r}),y5=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.snakeToKebab=t.camelToKebab=void 0;var n=r(m5);function r(o){return o&&o.__esModule?o:{default:o}}const i=(0,n.default)(/[A-Z]/,o=>"-".concat(o.toLowerCase()));t.camelToKebab=i;const a=(0,n.default)(/_/,()=>"-");t.snakeToKebab=a}),Fge=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(i,a=y5.camelToKebab){if(!i||typeof i!="object"||Array.isArray(i))throw new TypeError("expected an argument of type object, but got ".concat(typeof i));return Object.keys(i).map(s=>"".concat(a(s),": ").concat(i[s],";")).join(`
`)}var r=n;t.default=r}),kge=pi(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createParser",{enumerable:!0,get:function(){return r.default}}),t.parsers=t.default=void 0;var n=o(Fge),r=o(m5),i=a(y5);t.parsers=i;function a(c){if(c&&c.__esModule)return c;var h={};if(c!=null){for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(c,f):{};d.get||d.set?Object.defineProperty(h,f,d):h[f]=c[f]}}return h.default=c,h}function o(c){return c&&c.__esModule?c:{default:c}}function s(c){for(var h=1;h<arguments.length;h++){var f=arguments[h]!=null?arguments[h]:{},d=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(f).filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable}))),d.forEach(function(v){l(c,v,f[v])})}return c}function l(c,h,f){return h in c?Object.defineProperty(c,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[h]=f,c}var u=n.default;t.default=u,e.exports=n.default,e.exports.createParser=r.default,e.exports.parsers=s({},i)}),Bge=qie(kge),Rge={position:"absolute",zIndex:2,display:"none"},Lge={listStyle:"none",padding:0,margin:0,borderRadius:"0.25rem",backgroundColor:"white",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.25), 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 2px 6px 0 rgba(0, 0, 0, 0.075)"},Nge={width:"100%",height:"1.5rem",margin:0,padding:"0.25rem 0.5rem",fontSize:"0.85rem",color:"black",border:"none",backgroundColor:"transparent",cursor:"pointer",outline:"none",whiteSpace:"nowrap"},Uge={backgroundColor:"#ff7ff6"},Vge={backgroundColor:"#dd33ff"},$ge={cursor:"default",opacity:.3,backgroundColor:"transparent !important"},zge={borderRadius:"0.25rem 0.25rem 0 0"},jge={borderRadius:"0 0 0.25rem 0.25rem"},Hge={root:Rge,ul:Lge,button:Nge,"button:hover":Uge,"button:active":Vge,"button.inactive":$ge,"li:first-child > button":zge,"li:last-child > button":jge},Gge=`<ul id="piling-js-context-menu-list">
  <li>
    <button id="depile-button">Depile</button>
  </li>
  <li>
    <button id="temp-depile-button">Temp. Depile</button>
  </li>
  <li>
    <button id="browse-separately">Browse Separately</button>
  </li>
  <li>
    <button id="grid-button">Show Grid</button>
  </li>
  <li>
    <button id="align-button">Align by Grid</button>
  </li>
  <li>
    <button id="magnify-button">Magnify</button>
  </li>
</ul>`,Yge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.template,r=n===void 0?Gge:n,i=t.styles,a=i===void 0?Hge:i,o=t.customItems,s=o===void 0?[]:o,l=document.createElement("nav");l.id="piling-js-context-menu";var u=document.createElement("style");u.setAttribute("type","text/css");var c="";Object.entries(a).forEach(function(f){var d=me(f,2),v=d[0],g=d[1],p=v==="root"?"":" ".concat(v);c+="#piling-js-context-menu".concat(p," { ").concat(Bge(g),` }
`)}),u.textContent=c,l.appendChild(u),l.insertAdjacentHTML("beforeend",r);var h=l.querySelector("#piling-js-context-menu-list");return s.forEach(function(f,d){var v=document.createElement("li"),g=document.createElement("button");g.textContent=f.label,f.id?g.id=f.id:g.id="piling-js-context-menu-custom-item-".concat(d),v.appendChild(g),h.appendChild(v)}),l},Xge=function(){return Lk(`<svg class="pilingjs-spinner" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" width="40" height="40">
  <circle
    class="pilingjs-spinner-circle"
    cx="20"
    cy="20"
    r="18"
    stroke-width="4"
    fill="none"
    stroke="black" />
  <g class="pilingjs-spinner-block-offset" transform="translate(20, 20)">
    <g class="pilingjs-spinner-blocks">
      <animateTransform
        attributeName="transform"
        attributeType="XML"
        dur="1.5s"
        from="0"
        repeatCount="indefinite"
        to="360"z
        type="rotate" />
      <path
        class="pilingjs-spinner-block-one"
        d="M0-20c1.104,0,2,0.896,2,2s-0.896,2-2,2V0l-4,21h25v-42H0V-20z"
        fill="white">
        <animateTransform
          attributeName="transform"
          attributeType="XML"
          calcMode="spline"
          dur="1.5s"
          from="0"
          values="0; 360"
          keyTimes="0; 1"
          keySplines="0.2 0.2 0.15 1"
          repeatCount="indefinite"
          to="360"
          type="rotate" />
      </path>
      <path
        class="pilingjs-spinner-block-two"
        d="M0-20c-1.104,0-2,0.896-2,2s0.896,2,2,2V0l4,21h-25v-42H0V-20z"
        fill="white">
        <animateTransform
          attributeName="transform"
          attributeType="XML"
          calcMode="spline"
          dur="1.5s"
          from="0"
          values="0; 360"
          keyTimes="0; 1"
          keySplines="0.1 0.15 0.8 0.8"
          repeatCount="indefinite"
          to="360"
          type="rotate" />
      </path>
    </g>
  </g>
</svg>
`)},Wge=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=Xge(),r=function(){var o=t?"white":"black",s=t?"black":"white";n.querySelector(".pilingjs-spinner-circle").setAttribute("stroke",o),n.querySelector(".pilingjs-spinner-block-one").setAttribute("fill",s),n.querySelector(".pilingjs-spinner-block-two").setAttribute("fill",s)},i=function(o){var s=o.darkMode,l=s===void 0?null:s;t=Ci(l,t),r()};return r(),Qi(Sn("element",n),Co(e))({set:i})},pT=Dle(),Kge=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.backgroundOpacity,r=n===void 0?Kk:n,i=t.isDarkMode,a=i===void 0?Z_:i,o=r,s=a,l=function(){return s?"black":"white"},u=function(){return s?"white":"black"},c=function(){return s?"rgba(0, 0, 0, ".concat(o,")"):"rgba(255, 255, 255, ".concat(o,")")},h=document.createElement("div");h.className="pilingjs-popup-background",h.style.position="absolute",h.style.top=0,h.style.left=0,h.style.zIndex=-1,h.style.display="flex",h.style.flexDirection="column",h.style.justifyContent="center",h.style.width="100%",h.style.height="0px",h.style.background=c(),h.style.opacity=0,h.style.transition="opacity 250ms ".concat(UC);var f=document.createElement("div");h.className="pilingjs-popup-wrapper",f.style.position="relative",f.style.display="flex",f.style.margin="2rem",f.style.maxHeight="100%",h.appendChild(f);var d=document.createElement("div");h.className="pilingjs-popup-window",d.style.position="relative",d.style.minwidth="4rem",d.style.maxWidth="100%",d.style.maxHeight="100%",d.style.margin="2rem auto",d.style.color=l(),d.style.borderRadius="0.5rem",d.style.background=u(),d.style.transform="scale(0)",d.style.transition="transform 250ms ".concat(UC),f.appendChild(d);var v=document.createElement("div");h.className="pilingjs-popup-content",v.style.position="relative",v.style.display="flex",v.style.flexDirection="column",v.style.alignItems="center",v.style.padding="1rem",v.style.maxHeight="calc(100vh - 4rem)",v.style.overflow="auto",d.appendChild(v);var g=document.createElement("div");h.className="pilingjs-popup-icon",v.appendChild(g);var p=Wge(!s);g.appendChild(p.element);var y=document.createElement("p");y.style.margin="0",v.appendChild(y);var m=!1,b=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=P.text,D=C===void 0?null:C,T=P.showSpinner,B=T===void 0?!0:T;return new Promise(function(I){h.addEventListener(pT,I,{once:!0}),m=!0,h.style.zIndex=99,h.style.height="100%",h.style.opacity=1,d.style.transform="scale(1)",g.style.display=B?"block":"none",g.style.margin=D?"0 0 0.5rem 0":"0",y.textContent=D})},w=function(){return new Promise(function(P){m=!1,h.addEventListener(pT,On(Ot.mark(function C(){return Ot.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return h.style.zIndex=-1,h.style.height="0px",y.textContent=null,T.next=5,hc();case 5:P();case 6:case"end":return T.stop()}},C)})),{once:!0}),h.style.opacity=0,d.style.transform="scale(0)"})},x=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=P.backgroundOpacity,D=C===void 0?null:C,T=P.darkMode,B=T===void 0?null:T;o=Ci(D,o),s=Ci(B,s),d.style.color=l(),d.style.background=u(),h.style.background=c(),p.set({darkMode:!s})},_=function(){return function(P){return er(P,{close:w,open:b,set:x})}};return Qi(Jo("isOpen",function(){return m}),Sn("element",h),_(),Co(e))({})},b5=document.createElement("style");document.head.appendChild(b5);var hw=b5.sheet,gT=function(t){var n=hw.length;return hw.insertRule(t,n),n},mT=function(t){hw.deleteRule(t)},qge="".concat(ble,"ms ease scaleInFadeOut 0s 1 normal backwards"),Zge=function(t,n){return`
@keyframes scaleInFadeOut {
  0% {
    opacity: `.concat(t,`;
    transform: translate(-50%,-50%) scale(`).concat(n,`);
  }
  10% {
    opacity: 1;
    transform: translate(-50%,-50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0.9);
  }
}
`)},o1=null,Qge="".concat(wle,"ms ease fadeScaleOut 0s 1 normal backwards"),Jge=function(t,n){return`
@keyframes fadeScaleOut {
  0% {
    opacity: `.concat(t,`;
    transform: translate(-50%,-50%) scale(`).concat(n,`);
  }
  100% {
    opacity: 0;
    transform: translate(-50%,-50%) scale(0);
  }
}
`)},s1=null,eme=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.fillColor,r=n===void 0?null:n,i=t.fillOpacity,a=i===void 0?qk:i,o=t.isShowStartIndicator,s=o===void 0?Zk:o,l=t.isDarkMode,u=l===void 0?Z_:l,c=t.onDraw,h=c===void 0?wr:c,f=t.onStart,d=f===void 0?wr:f,v=t.startIndicatorOpacity,g=v===void 0?Qk:v,p=t.strokeColor,y=p===void 0?null:p,m=t.strokeOpacity,b=m===void 0?Jk:m,w=t.strokeSize,x=w===void 0?eB:w,_=r,S=a,P=s,C=u,D=g,T=y,B=b,I=x,O=h,L=d,R=new yn,U=new yn,$=new Na,j=new Na;R.addChild($),U.addChild(j);var z=function(){return _||C?16777215:0},Y=function(){return _||C?16777215:0},Q=function(){return C?"rgba(255, 255, 255, ".concat(D,")"):"rgba(0, 0, 0, ".concat(D,")")},re=document.createElement("div");re.id="lasso-start-indicator",re.style.position="absolute",re.style.zIndex=1,re.style.width="4rem",re.style.height="4rem",re.style.borderRadius="4rem",re.style.opacity=.5,re.style.transform="translate(-50%,-50%) scale(0)";var he=!1,ce=!1,te=[],ee=[],Ue,ye=function(){he=!1},pe=function(Me){var it=Me.target.parentElement;if(it){var He=it.getBoundingClientRect();We([Me.clientX-He.left,Me.clientY-He.top])}},Se=function(){he=!0,ce=!0,Z(),L()},ae=function(){X()};window.addEventListener("mouseup",ye);var ke=function(){re.style.opacity=.5,re.style.transform="translate(-50%,-50%) scale(0)"},Ce=function(){var Me=getComputedStyle(re),it=+Me.opacity,He=Me.transform.match(/([0-9.-]+)+/g),fe=He?+He[0]:1;return{opacity:it,scale:fe}},We=function(){var De=On(Ot.mark(function Me(it){var He,fe,ie,ge,Be,ze;return Ot.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return He=me(it,2),fe=He[0],ie=He[1],Oe.next=3,Jae(0);case 3:if(!he){Oe.next=5;break}return Oe.abrupt("return");case 5:return ge=.5,Be=0,P&&(ze=Ce(),ge=ze.opacity,Be=ze.scale,re.style.opacity=ge,re.style.transform="translate(-50%,-50%) scale(".concat(Be,")")),re.style.animation="none",Oe.next=11,hc(2);case 11:return re.style.top="".concat(ie,"px"),re.style.left="".concat(fe,"px"),o1!==null&&mT(o1),o1=gT(Zge(ge,Be)),re.style.animation=qge,Oe.next=18,hc();case 18:ke();case 19:case"end":return Oe.stop()}},Me)}));return function(it){return De.apply(this,arguments)}}(),X=function(){var De=On(Ot.mark(function Me(){var it,He,fe;return Ot.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return it=Ce(),He=it.opacity,fe=it.scale,re.style.opacity=He,re.style.transform="translate(-50%,-50%) scale(".concat(fe,")"),re.style.animation="none",ge.next=6,hc(2);case 6:return s1!==null&&mT(s1),s1=gT(Jge(He,fe)),re.style.animation=Qge,ge.next=11,hc();case 11:ke();case 12:case"end":return ge.stop()}},Me)}));return function(){return De.apply(this,arguments)}}(),M=function(){$.clear(),j.clear(),te.length&&($.lineStyle(I,Y(),B),$.moveTo.apply($,ct(te[0])),te.forEach(function(Me){$.lineTo.apply($,ct(Me)),$.moveTo.apply($,ct(Me))}),j.beginFill(z(),S),j.drawPolygon(ee)),O()},k=function(Me){if(!Ue)ce||(ce=!0,L()),te=[Me],ee=[Me[0],Me[1]],Ue=Me;else{var it=Pl(Me[0],Me[1],Ue[0],Ue[1]);it>yle&&(te.push(Me),ee.push(Me[0],Me[1]),Ue=Me,te.length>1&&M())}},W=zk(k,$C,$C),Z=function(){te=[],ee=[],Ue=void 0,M()},be=function(){ce=!1;var Me=ct(te);return W.cancel(),Z(),Me},we=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=Me.fillColor,He=it===void 0?null:it,fe=Me.fillOpacity,ie=fe===void 0?null:fe,ge=Me.onDraw,Be=ge===void 0?null:ge,ze=Me.onStart,st=ze===void 0?null:ze,Oe=Me.showStartIndicator,Mt=Oe===void 0?null:Oe,Zt=Me.startIndicatorOpacity,wt=Zt===void 0?null:Zt,et=Me.strokeColor,dt=et===void 0?null:et,Rt=Me.strokeOpacity,jt=Rt===void 0?null:Rt,Dn=Me.strokeSize,mi=Dn===void 0?null:Dn,wa=Me.darkMode,Nr=wa===void 0?null:wa;_=Ci(He,_),S=Ci(ie,S),O=Ci(Be,O),L=Ci(st,L),C=Ci(Nr,C),P=Ci(Mt,P),D=Ci(wt,D),T=Ci(dt,T),B=Ci(jt,B),I=Ci(mi,I),re.style.background=Q(),P?(re.addEventListener("click",pe),re.addEventListener("mousedown",Se),re.addEventListener("mouseleave",ae)):(re.removeEventListener("mousedown",Se),re.removeEventListener("mouseleave",ae))},tt=function(){window.removeEventListener("mouseup",ye),re.removeEventListener("click",pe),re.removeEventListener("mousedown",Se),re.removeEventListener("mouseleave",ae)},_t=function(){return function(Me){return er(Me,{clear:Z,destroy:tt,end:be,extend:k,extendDb:W,set:we,showStartIndicator:We})}};return we({fillColor:_,fillOpacity:S,isShowStartIndicator:P,isDarkMode:C,onDraw:O,onStart:L,startIndicatorOpacity:D,strokeColor:T,strokeOpacity:B,strokeSize:I}),Qi(Sn("startIndicator",re),Sn("fillContainer",U),Sn("lineContainer",R),_t(),Co(e))({})};function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){Xs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tme(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=nme(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){n=e[Symbol.iterator]()},n:function(){var u=n.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}}}function nme(e,t){if(e){if(typeof e=="string")return bT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bT(e,t)}}function bT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rme=3,wT=Wae(2),ime=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=document.createElement("div");r.className="pilingjs-scroll-container";var i=document.createElement("div");i.className="pilingjs-scroll-element";var a=document.createElement("canvas");a.className="pilingjs-canvas";var o=Pae(),s=lge(),l=Kle(),u=s.state,c=tm,h,f,d,v,g,p=!1,y=new Float32Array(16),m=new Map,b=t.getBoundingClientRect(),w=b.width,x=b.height,_=!1,S=new Ya({width:w,height:x,view:a,antialias:!0,transparent:!0,resolution:window.devicePixelRatio,autoDensity:!0,preserveDrawingBuffer:!1,legacy:!1,powerPreference:"high-performance"}),P=!0,C=null,D=!1,T=Promise.resolve(),B=new yn,I=new yn;B.addChild(I);var O=new Na,L=new Na,R=new ja(nn.WHITE);B.addChild(R),I.mask=R;var U=function(E,F){return function(V){if(Yt(V))return[Pt[E](V)];var G=dc(V,null),q=me(G,2),J=q[0],se=q[1],de=[Pt[E](J)];return se!==null&&de.push(Pt[F](se)),de}},$={center:{get:function(){return g.target},set:function(E){g.lookAt(E,g.scaling,g.rotation)},noAction:!0},gridColor:{set:U("setGridColor","setGridOpacity")},items:{get:function(){return Object.values(u.items)},set:function(E){return[Pt.setItems(E),Pt.initPiles(E)]},batchActions:!0},lassoFillColor:{set:U("setLassoFillColor","setLassoFillOpacity")},lassoStrokeColor:{set:U("setLassoStrokeColor","setLassoStrokeOpacity")},layout:{get:function(){return{cellAspectRatio:Oe.cellAspectRatio,cellHeight:Oe.cellHeight,cellPadding:Oe.cellPadding,cellSize:Oe.cellSize,cellWidth:Oe.cellWidth,columnWidth:Oe.columnWidth,height:Oe.height,itemSize:Oe.itemSize,numColumns:Oe.numColumns,numRows:Oe.numRows,rowHeight:Oe.rowHeight,width:Oe.width}}},pileBorderColor:{set:U("setPileBorderColor","setPileBorderOpacity")},pileBorderColorHover:{set:U("setPileBorderColorHover","setPileBorderOpacityHover")},pileBorderColorFocus:{set:U("setPileBorderColorFocus","setPileBorderOpacityFocus")},pileBorderColorActive:{set:U("setPileBorderColorActive","setPileBorderOpacityActive")},pileBackgroundColor:{set:U("setPileBackgroundColor","setPileBackgroundOpacity")},pileBackgroundColorHover:{set:U("setPileBackgroundColorHover","setPileBackgroundOpacityHover")},pileBackgroundColorFocus:{set:U("setPileBackgroundColorFocus","setPileBackgroundOpacityFocus")},pileBackgroundColorActive:{set:U("setPileBackgroundColorActive","setPileBackgroundOpacityActive")},pileLabel:{set:function(E){var F=e6(E),V=[Pt.setPileLabel(F)];return V}},pileLabelSizeTransform:{set:function(E){var F=t6(E),V=[Pt.setPileLabelSizeTransform(F)];return V}},pileLabelTextColor:{set:U("setPileLabelTextColor","setPileLabelTextOpacity")},pileSizeBadgeAlign:{set:function(E){return[Pt.setPileSizeBadgeAlign(Yt(E)?E:Ole(E))]}},previewBackgroundColor:{set:U("setPreviewBackgroundColor","setPreviewBackgroundOpacity")},previewBorderColor:{set:U("setPreviewBorderColor","setPreviewBorderOpacity")},renderer:{get:function(){return u.itemRenderer},set:function(E){return[Pt.setItemRenderer(E)]}},rowHeight:!0,scale:{get:function(){return g.scaling},set:function(E){g.scale(E,[S.width/2,S.height/2])},noAction:!0}},j=function(E){if($[E]&&$[E].get)return $[E].get();if(u[E]!==void 0)return u[E];console.warn('Unknown property "'.concat(E,'"'))},z=function(E,F){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,G=$[E],q=[];if(G?G.set?q=G.set(F):console.warn('Property "'.concat(E,'" is not settable')):u[E]!==void 0?q=[Pt["set".concat(Jg(E))](F)]:console.warn('Unknown property "'.concat(E,'"')),V||G&&G.noAction)return q;G&&G.batchActions?s.dispatch(As(q)):q.forEach(function(J){return s.dispatch(J)})},Y=function(E){return E.items?new Promise(function(F){o.subscribe("itemUpdate",F,1)}):Promise.resolve()},Q=function(E,F){if(typeof E=="string"||E instanceof String){var V=Y(Xs({},E,F));return z(E,F),V}var G=Y(E);return s.dispatch(As(Object.entries(E).flatMap(function(q){var J=me(q,2),se=J[0],de=J[1];return z(se,de,!0)}))),G},re=function(){S.render(B),o.publish("render")},he=Ak(re),ce=ole(re,o),te=new Map,ee=new Map,Ue=new yn,ye=new yn,pe=new ja(nn.WHITE);pe.alpha=0;var Se=function(){Ue.children.length&&(ye.addChild(Ue.getChildAt(0)),Ue.removeChildren())},ae=function(E){Se(),Ue.addChild(E)},ke=Kge(),Ce=!1,We=function(){Ce&&(I.interactive=!1,I.interactiveChildren=!1,ee.forEach(function(E){E.disableInteractivity()}),Ce=!1)},X=function(){Ce||(I.interactive=!0,I.interactiveChildren=!0,ee.forEach(function(E){E.enableInteractivity()}),Ce=!0)},M=!1,k=!1,W=eme({onStart:function(){We(),k=!0,M=!0},onDraw:function(){he()}});I.addChild(O),I.addChild(L),I.addChild(W.fillContainer),I.addChild(ye),I.addChild(pe),I.addChild(Ue),I.addChild(W.lineContainer);var Z=new CC,be=function(E,F){if(s.state.showSpatialIndex&&(L.clear(),L.beginFill(65280,.5),Z.all().forEach(function(G){L.drawRect(G.minX,G.minY,G.width,G.height)}),L.endFill(),E&&(L.beginFill(16711680,1),L.drawRect(E[0]-1,E[1]-1,3,3),L.endFill()),F)){L.lineStyle(1,16711680,1),L.moveTo(F[0],F[1]);for(var V=0;V<F.length;V+=2)L.lineTo(F[V],F[V+1]),L.moveTo(F[V],F[V+1])}},we=function(){Z.clear();var E=[];ee&&(ee.forEach(function(F){F.updateBounds.apply(F,ct(_t()).concat([!0])),E.push(F.bBox)}),Z.load(E),be())},tt=function(E){var F=ee.get(E);Z.remove(F.bBox,function(V,G){return V.id===G.id}),be()},_t=function(){return C?g.translation:[0,I.y]},De=function(E){var F;return(F=ee.get(E)).calcBBox.apply(F,ct(_t()))},Me=function(E){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=F.forceUpdate,G=V===void 0?!1:V,q=ee.get(E);Z.remove(q.bBox,function(J,se){return J.id===se.id}),q.updateBounds.apply(q,ct(_t()).concat([G])),Z.insert(q.bBox),be(),o.publish("pileBoundsUpdate",E)},it=function(E){var F=E.id,V=E.forceUpdate;return Me(F,{forceUpdate:V})},He=function(){m.forEach(function(E,F){ys(ee.get(F),E[0],E[1])}),he()},fe=function(){var E=s.state.zoomScale,F=Yt(E)?E(g.scaling):E;ee.forEach(function(V){V.setZoomScale(F),V.drawBorder()}),he()},ie=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;g.tick(),He(),fe(),D=!0,E&&vf(),o.publish("zoom",g)},ge=1,Be=function(){if(g){var E=s.state,F=E.groupingType,V=E.groupingObjective,G=E.groupingOptions,q=E.splittingType,J=E.splittingObjective,se=E.splittingOptions,de=g.scaling,ue=de/ge;F&&ue<1&&$r(F,V,G),q&&ue>1&&r2(q,J,se),ge=de}},ze=qy(Be,250),st=function(){D&&(D=!1,g.tick(),He(),o.publish("zoom",g))},Oe,Mt=function(){var E=a.getBoundingClientRect().height,F=Math.round(Oe.rowHeight)*(Oe.numRows+rme);i.style.height="".concat(Math.max(0,F-E),"px"),s.state.showGrid&&Rt()},Zt=function(){return C===!1?!1:(dt(),C=!1,f=wr,d=wr,v=wr,I.y=0,r.style.overflowY="auto",r.scrollTop=0,r.addEventListener("scroll",b0,Si),window.addEventListener("mousedown",kd,Si),window.addEventListener("mouseup",Bd,Si),window.addEventListener("mousemove",Rd,Si),a.addEventListener("wheel",Nd,VC),!0)},wt=function(){C===!1&&(I.y=0,r.style.overflowY="hidden",r.scrollTop=0,r.removeEventListener("scroll",b0),window.removeEventListener("mousedown",kd),window.removeEventListener("mouseup",Bd),window.removeEventListener("mousemove",Rd),a.removeEventListener("wheel",Nd))},et=function(){return C===!0?!1:(wt(),C=!0,f=ea,d=ol,v=Cu,g=Cae(a,{isNdc:!1,onMouseDown:kd,onMouseUp:Bd,onMouseMove:Rd,onWheel:Nd,viewCenter:[w/2,x/2],scaleBounds:s.state.zoomBounds.map(Fle)}),g.setView(mae(ple)),!0)},dt=function(){C===!0&&(g.dispose(),g=void 0)},Rt=function(){var E=i.getBoundingClientRect().height+a.getBoundingClientRect().height,F=a.getBoundingClientRect(),V=F.width,G=Math.ceil(V/Oe.columnWidth),q=Math.ceil(E/Oe.rowHeight),J=s.state,se=J.gridColor,de=J.gridOpacity;O.clear(),O.lineStyle(1,se,de);for(var ue=1;ue<G;ue++)O.moveTo(ue*Oe.columnWidth,0),O.lineTo(ue*Oe.columnWidth,E);for(var Ie=1;Ie<q;Ie++)O.moveTo(0,Ie*Oe.rowHeight),O.lineTo(V,Ie*Oe.rowHeight)},jt=function(){O.clear()},Dn=function(){var E=s.state.orderer;Oe=Yv({width:w,height:x,orderer:E},s.state),Mt()},mi=function(){var E=s.state.orderer,F=Oe;Oe=Yv({width:w,height:x,orderer:E},s.state),Fi(F),Mt(),s.state.showGrid&&Rt()},wa=function(E){var F=E.width,V=E.height;o.subscribe("animationEnd",function(){(Oe.width!==F||Oe.height!==V)&&(Oe=Yv({width:F,height:V,orderer:s.state.orderer},s.state),mi())},1)},Nr=Qle({element:a,pubSub:o,store:s},{onLeave:wa}),Wa=function(){var le=On(Ot.mark(function E(F){return Ot.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,ke.open(F);case 2:C?g.config({isFixed:!0}):r.style.overflowY="hidden";case 3:case"end":return G.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),yi=function(){ke.close(),C?g.config({isFixed:!1}):r.style.overflowY="auto"},wu=function(){var E=s.state,F=E.darkMode,V=E.haltBackgroundOpacity;ke.set({backgroundOpacity:V,darkMode:F})},Ka=function(){var E=s.state.darkMode;Nr.set({darkMode:E})},qa=function(){var E=s.state,F=E.darkMode,V=E.lassoFillColor,G=E.lassoFillOpacity,q=E.lassoShowStartIndicator,J=E.lassoStartIndicatorOpacity,se=E.lassoStrokeColor,de=E.lassoStrokeOpacity,ue=E.lassoStrokeSize;W.set({fillColor:V,fillOpacity:G,showStartIndicator:q,startIndicatorOpacity:J,strokeColor:se,strokeOpacity:de,strokeSize:ue,darkMode:F})},xa=Qu(),xu=Qu(),rr=function(E){return E.aspectRatio>Oe.cellAspectRatio?xa(E.originalWidth)/E.originalWidth:xu(E.originalHeight)/E.originalHeight},Fn=function(){if(te.size){var E=1/0,F=0,V=1/0,G=0;te.forEach(function(Te){var $e=Te.image.originalWidth,Ge=Te.image.originalHeight;$e>F&&(F=$e),$e<E&&(E=$e),Ge>G&&(G=Ge),Ge<V&&(V=Ge)});var q=s.state,J=q.itemSizeRange,se=q.itemSize,de=q.piles,ue=q.previewScaling,Ie=se||Oe.cellWidth,Ae=se||Oe.cellHeight,xe,Ee;J[0]>0&&J[0]<=1&&J[1]>0&&J[1]<=1?(xe=[Ie*J[0],Ie*J[1]],Ee=[Ae*J[0],Ae*J[1]]):(xe=[0,Ie],Ee=[0,Ae]),xa=Qu().domain([E,F]).range(xe),xu=Qu().domain([V,G]).range(Ee),Object.values(de).forEach(function(Te){var $e=Yt(ue)?ue(Te):ue;Te.items.forEach(function(Ge){var Ze=te.get(Ge);if(Ze){var Ve=rr(Ze.image);if(Ze.image.scale(Ve),Ze.preview){var xt=1+(Ve*$e[0]-1),$t=1+(Ve*$e[1]-1);Ze.preview.scaleX(xt),Ze.preview.scaleY($t),Ze.preview.rescaleBackground()}}})}),ee.forEach(function(Te){if(Te.cover){var $e=rr(Te.cover);Te.cover.scale($e)}Te.updateOffset(),Te.drawBorder()})}},ys=function(E,F,V){return E.moveTo.apply(E,ct(f([F,V])))},To=function(E,F,V){ys(E,F,V)&&Me(E.id)},pr=function(E,F,V,G){return E.getMoveToTweener.apply(E,ct(f([F,V])).concat([G]))},Po=function(E,F,V,G){return E.animateMoveTo.apply(E,ct(f([F,V])).concat([G]))},Fi=function(E){var F=s.state,V=F.arrangementType,G=F.items;if(Fn(),V===null&&!C){var q=[];Oe.numRows=Math.ceil(te.size/Oe.numColumns),ee.forEach(function(J){var se=E.getPilePosByCellAlignment(J),de=E.xyToIj(se[0],se[1]),ue=me(de,2),Ie=ue[0],Ae=ue[1];J.updateOffset(),Me(J.id,{forceUpdate:!0});var xe=E.ijToIdx(Ie,Ae),Ee=Oe.idxToXy(xe,J.anchorBox.width,J.anchorBox.height,J.offset),Te=me(Ee,2),$e=Te[0],Ge=Te[1];q.push({id:J.id,x:$e,y:Ge})}),ee.forEach(function(J){J.cover&&_a(J.id)}),s.dispatch(Pt.movePiles(q)),te.forEach(function(J){J.setOriginalPosition(Oe.idxToXy(G[J.id].index,J.image.width,J.image.height,J.image.center))})}else ws();we(),s.state.focusedPiles.filter(function(J){return ee.has(J)}).forEach(function(J){ee.get(J).focus()}),Mt(),he()},il=function(E){var F=oa(s.state.pileBackgroundColor,E);return F!==null?F:c},_u=function(E){var F=s.state,V=F.itemRenderer,G=F.previewBackgroundColor,q=F.previewBackgroundOpacity,J=F.pileBackgroundOpacity,se=F.previewAggregator,de=F.previewRenderer,ue=F.previewPadding,Ie=F.piles,Ae=Object.values(E),xe=V(Ae.map(function(Ze){var Ve=Ze.src;return Ve})).then(function(Ze){return Ze.map(lw)}),Ee=function(Ve,xt){if(Ve===null)return null;var $t=Ae[xt],at=Ie[$t.id],An=il(at),Le={backgroundColor:G===qc?An:Fl(G,$t),backgroundOpacity:q===qc?oa(J,at):Fl(q,$t),padding:Fl(ue,$t)};return vge(Ve,Le)},Te=function(){var Ze=On(Ot.mark(function Ve(xt){return Ot.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return at.abrupt("return",xt.map(function(An){return An.src}));case 1:case"end":return at.stop()}},Ve)}));return function(xt){return Ze.apply(this,arguments)}}(),$e=de?se||Te:null,Ge=$e?Promise.resolve($e(Ae)).then(function(Ze){return new Promise(function(Ve){var xt=[];de(Ze.filter(function($t){return $t!==null})).then(function($t){var at=0;Ze.forEach(function(An){An===null?xt.push(null):xt.push($t[at++])}),Ve(xt)})})}).then(function(Ze){return Ze.map(Ee)}):Promise.resolve([]);return[xe,Ge]},Su=function(){var le=On(Ot.mark(function E(){var F,V,G,q,J=arguments;return Ot.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return F=J.length>0&&J[0]!==void 0?J[0]:null,V=s.state,G=V.items,q=V.piles,F||(F=G),de.next=5,Wa();case 5:return de.abrupt("return",Promise.all(_u(F)).then(function(ue){var Ie=me(ue,2),Ae=Ie[0],xe=Ie[1],Ee=Object.keys(F);Ae.forEach(function(Te,$e){var Ge=Ee[$e],Ze=xe[Ge];te.has(Ge)&&te.get(Ge).replaceImage(Te,Ze)}),Ee.forEach(function(Te){if(ee.has(Te)){var $e=ee.get(Te),Ge=q[Te];$e.replaceItemsImage(),$e.blur(),Mo(Ge,Te),gr(Ge,Te),Se()}else Object.values(q).forEach(function(Ze){if(Ze.items.includes(Te)){var Ve=ee.get(Ze.id);Ve.replaceItemsImage(Te),Ve.blur()}})}),ee.forEach(function(Te){Sa(q[Te.id],Te)}),Fn(),he(),yi()}));case 6:case"end":return de.stop()}},E)}));return function(){return le.apply(this,arguments)}}(),Eu=function(){var le=On(Ot.mark(function E(F){var V;return Ot.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(V=Object.keys(F),V.length){q.next=3;break}return q.abrupt("return",Promise.resolve());case 3:return q.next=5,Wa();case 5:return q.abrupt("return",Promise.all(_u(F)).then(function(J){var se=me(J,2),de=se[0],ue=se[1],Ie=s.state.piles;de.forEach(function(Ae,xe){var Ee=ue[xe],Te=V[xe],$e=Dge({id:Te,image:Ae,pubSub:o},{preview:Ee});te.set(Te,$e)}),de.forEach(function(Ae,xe){var Ee=V[xe],Te=Ie[Ee];Te.items.length&&un(Ee,Te)}),Fn(),he(),yi()}));case 6:case"end":return q.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),bi=function(E){return E.x===null||E.y===null},Au=function(E){var F=ee.get(E),V=Oe.idxToXy(cl[0][E],F.width,F.height,F.offset);return Promise.resolve(V)},hf=function(E){return Promise.resolve(Md.map(function(F,V){return F(Ea[E][V])}))},Ji=new Map,bs=0,df=function(){var le=On(Ot.mark(function E(F){var V,G,q,J,se;return Ot.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(G=s.state.dimensionalityReducer,!(Ji.has(F)&&Dd===bs)){ue.next=3;break}return ue.abrupt("return",Ji.get(F));case 3:return bs=Dd,ue.next=6,G.transform([Ea[F].flat()]);case 6:return q=ue.sent,J=(V=Oe).uvToXy.apply(V,ct(q[0])),se=ee.get(F),se.size===1&&!Ji.has(F)&&se.items[0].item.setOriginalPosition(J),Ji.set(F,J),ue.abrupt("return",J);case 12:case"end":return ue.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),Oo=function(E,F){var V=s.state,G=V.arrangementObjective,q=V.arrangementOptions,J=V.dimensionalityReducer;return G.length>2||q.forceDimReduction?J?df(E):Promise.resolve([F.x,F.y]):G.length>1?hf(E):G.length?Au(E):(console.warn("Can't arrange pile by data. No arrangement objective available."),Promise.resolve([F.x,F.y]))},al=function(E,F){if(F.isCustom)return F.property(E,E.index);var V=s.state.items;return F.aggregator(E.items.map(function(G){return F.property(V[G])}))},Io=function(){var le=On(Ot.mark(function E(F,V){var G,q,J,se,de,ue,Ie,Ae,xe,Ee,Te,$e,Ge;return Ot.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(q=s.state,J=q.arrangementType,se=q.arrangementObjective,de=q.piles,ue=q.projector,Ie=ee.get(F),Ae=de[F],xe=bi(Ae),Ee=V||xe?J||gle:J,Te=V||xe?se||mle:se,$e=function($t,at){return Oe.ijToXy($t,at,Ie.width,Ie.height,Ie.offset)},Ee!=="data"){Ve.next=9;break}return Ve.abrupt("return",Oo(F,Ae));case 9:Ge=Ee&&al(Ae,Te),Ve.t0=Ee,Ve.next=Ve.t0==="index"?13:Ve.t0==="ij"?14:Ve.t0==="xy"?15:Ve.t0==="uv"?16:Ve.t0==="custom"?17:19;break;case 13:return Ve.abrupt("return",$e.apply(void 0,ct(Oe.idxToIj(Ge))));case 14:return Ve.abrupt("return",$e.apply(void 0,ct(Ge)));case 15:return Ve.abrupt("return",Ge);case 16:return Ve.abrupt("return",(G=Oe).uvToXy.apply(G,ct(Ge)));case 17:if(!ue){Ve.next=19;break}return Ve.abrupt("return",ue(Ge));case 19:return Ve.abrupt("return",Promise.resolve([Ae.x,Ae.y]));case 20:case"end":return Ve.stop()}},E)}));return function(F,V){return le.apply(this,arguments)}}(),ea=function(E){var F=HC(E[0],E[1]);return Wb(F,F,g.view),F.slice(0,2)},ol=function(E){var F=HC(E[0],E[1]);return Wb(F,F,Xb(y,g.view)),F.slice(0,2)},Cu=function(E){return[E[0]-g.translation[0],E[1]-g.translation[1]]},ws=function(){var le=On(Ot.mark(function E(){var F,V,G,q,J,se,de,ue,Ie,Ae,xe,Ee,Te,$e,Ge,Ze,Ve,xt,$t,at=arguments;return Ot.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(F=at.length>0&&at[0]!==void 0?at[0]:[],V=at.length>1&&at[1]!==void 0?at[1]:{},G=V.immideate,q=G===void 0?!1:G,J=s.state,se=J.arrangeOnGrouping,de=J.arrangementType,ue=J.items,Ie=!F.length,Ie&&(F=Object.keys(s.state.piles)),Object.keys(ue).length!==0){Le.next=10;break}return we(),Mt(),he(),Le.abrupt("return");case 10:if(Ae=[],xe=F.filter(function(St){return ee.has(St)}).map(function(St){return ee.get(St)}),xe.length){Le.next=14;break}return Le.abrupt("return");case 14:return Le.next=16,T;case 16:Ee=tme(xe),Le.prev=17,Ee.s();case 19:if((Te=Ee.n()).done){Le.next=32;break}return $e=Te.value,Le.next=23,Io($e.id,P);case 23:Ge=Le.sent,m.set($e.id,Ge),Ze=me(Ge,2),Ve=Ze[0],xt=Ze[1],(q||P)&&To($e,Ve,xt),Ae.push({id:$e.id,x:Ve,y:xt}),Oe.numRows=Math.max(Oe.numRows,Math.ceil(xt/Oe.rowHeight)),(P||bi($e)||de&&!se)&&te.get($e.id).setOriginalPosition([Ve,xt]);case 30:Le.next=19;break;case 32:Le.next=37;break;case 34:Le.prev=34,Le.t0=Le.catch(17),Ee.e(Le.t0);case 37:return Le.prev=37,Ee.f(),Le.finish(37);case 40:P=!1,$t=se?[]:B5(),s.dispatch(As([Pt.movePiles(Ae)].concat(ct($t)))),Ie&&we(),Mt(),he();case 46:case"end":return Le.stop()}},E,null,[[17,34,37,40]])}));return function(){return le.apply(this,arguments)}}(),vf=qy(ws,Ple),_a=function(E){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=F.all,G=V===void 0?!1:V,q=s.state,J=q.piles,se=q.pileOrderItems,de=ee.get(E);if(de){if(Yt(se)){var ue=J[E];de.setItemOrder(se(ue))}de.positionItems(ce,{all:G})}},gr=function(E,F){var V=s.state,G=V.items,q=V.pileItemBrightness,J=V.pileItemInvert,se=V.pileItemOpacity,de=V.pileItemTint,ue=ee.get(F);ue.items.forEach(function(Ie,Ae){var xe=G[Ie.id];Ie.animateOpacity(Yt(se)?se(xe,Ae,E):se),Ie.image.invert(Yt(J)?J(xe,Ae,E):J),J||(Ie.image.brightness(Yt(q)?q(xe,Ae,E):q),q||Ie.image.tint(Yt(de)?de(xe,Ae,E):de))})},Mo=function(E,F){var V=ee.get(F);if(V){var G=s.state,q=G.pileOpacity,J=G.pileBorderSize,se=G.pileScale,de=G.pileSizeBadge,ue=G.pileVisibilityItems;V.animateOpacity(Yt(q)?q(E):q),V.animateScale(Yt(se)?se(E):se),V.setBorderSize(Yt(J)?J(E):J),V.showSizeBadge(Yt(de)?de(E):de),V.setVisibilityItems(Yt(ue)?ue(E):ue),he()}},Tu=function(E){var F=lw(E);return F.scale(rr(F)),F},Do=function(E){var F=s.state,V=F.previewRenderer,G=F.previewScaling;if(V){var q=Yt(G)?G(E):G;E.items.forEach(function(J){var se=te.get(J);if(se.preview){var de=rr(se.image),ue=1+(de*q[0]-1),Ie=1+(de*q[1]-1);se.preview.scaleX(ue),se.preview.scaleY(Ie)}})}},Pu=function(E,F){var V=s.state,G=V.items,q=V.coverRenderer,J=V.coverAggregator,se=V.pileCoverInvert,de=V.pileCoverScale,ue=V.previewAggregator,Ie=V.previewRenderer,Ae=[],xe=[];if(E.items.forEach(function(Te){Ae.push(G[Te]),xe.push(te.get(Te))}),F.setItems(xe,{asPreview:!!(ue||Ie),shouldDrawPlaceholder:!0}),!q){F.setCover(null),_a(F.id,{all:!0});return}var Ee=Promise.resolve(J(Ae)).then(function(Te){return q([Te])}).then(function(Te){var $e=me(Te,1),Ge=$e[0],Ze=Tu(Ge);Ze.invert(Yt(se)?se(E):se);var Ve=Yt(de)?de(E):de;return Ze.scale(Ze.scaleFactor*Ve),Ze});F.setCover(Ee),Ee.then(function(){_a(F.id),Me(F.id),he()})},Sa=function(E,F){E.items.length===1?(F.setCover(null),_a(F.id),F.setItems([te.get(E.items[0])])):(Do(E),Pu(E,F))},Ur=function(){var E=s.state,F=E.arrangementObjective,V=E.arrangementOptions;return F&&(F.length>2||V.forceDimReduction)},sl=function(E,F){if(ee.has(F)){var V=ee.get(F);if(E.items.length===0)vn(F);else{Ji.delete(F);var G=E.items.map(function(q){return te.get(q)});s.state.coverAggregator?Sa(E,V):(s.state.previewRenderer&&Do(E),V.setItems(G),_a(F)),G.length===1&&Ur()&&Ji.set(F,G[0].originalPosition),Me(F,{forceUpdate:!0}),gr(E,F)}}else un(F,E)},xs=function(E,F){var V=ee.get(F);return V?(m.set(F,[E.x,E.y]),Promise.all([Po(V,E.x,E.y),new Promise(function(G){function q(J){J===F&&(o.unsubscribe("pileBoundsUpdate",this),G())}o.subscribe("pileBoundsUpdate",q)})])):Promise.resolve()},Za=function(E){var F=da(new Uint16Array(new Array(Oe.numColumns*Oe.numRows).fill(0)),[Oe.numRows,Oe.olNum]);h=F,ee.forEach(function(V){if(V.id!==E){var G=Math.floor(V.bBox.minX/Oe.columnWidth),q=Math.floor(V.bBox.minY/Oe.rowHeight),J=Math.floor(V.bBox.maxX/Oe.columnWidth),se=Math.floor(V.bBox.maxY/Oe.rowHeight);h.set(q,G,1),h.set(q,J,1),h.set(se,G,1),h.set(se,J,1)}})},Ou=function(E,F){var V,G=1/0;F[0]-1>=0&&E.get(F[0]-1,F[1])<G&&(G=E.get(F[0]-1,F[1]),V=[F[0]-1,F[1]]),F[1]-1>=0&&E.get(F[0],F[1]-1)<G&&(G=E.get(F[0],F[1]-1),V=[F[0],F[1]-1]),F[0]+1<E.shape[0]&&E.get(F[0]+1,F[1])<G&&(G=E.get(F[0]+1,F[1]),V=[F[0]+1,F[1]]),F[1]+1<E.shape[1]&&E.get(F[0],F[1]+1)<G&&(G=E.get(F[0],F[1]+1),V=[F[0],F[1]+1]);var q=E.data.length;if(E.set(F[0],F[1],q),G===E.data.length)for(var J=0;J<E.shape[0];J++)for(var se=0;se<E.shape[1];se++)E.get(J,se)<G&&E.get(J,se)>0&&(G=E.get(J,se)),V=[J,se];return V},A=function(E,F,V,G){if(E.get(F,V)===-1){var q=Pl(F,V,G[0],G[1]);E.set(F,V,q)}},N=function(E,F,V,G){for(var q=ct(V),J,se=0;!J&&se<E.data.length;)F.get(q[0],q[1])<1&&(J=q),J||(q[0]-1>=0&&A(E,q[0]-1,q[1],V),q[1]-1>=0&&A(E,q[0],q[1]-1,V),q[0]+1<E.shape[0]&&A(E,q[0]+1,q[1],V),q[1]+1<E.shape[1]&&A(E,q[0],q[1]+1,V),q=Ou(E,q),se++);return J||(J=[F.shape[0]+1,Math.floor(G/2)],Oe.numRows+=G,Mt()),J},K=function(E,F){var V=da(new Float32Array(new Array(E*F).fill(1)),[F,E]),G=da(new Float32Array((Oe.numRows-F+1)*(Oe.numColumns-E+1)),[Oe.numRows-F+1,Oe.olNum-E+1]);return ale(G,h,V),G},ve=function(E,F,V){var G=K(F,V),q=da(new Float32Array(new Array((Oe.numRows-V+1)*(Oe.numColumns-F+1)).fill(-1)),[Oe.numRows-V+1,Oe.numColumns-F+1]),J=N(q,G,E,V),se=Pl(J[0],J[1],E[0],E[1]);return{depilePos:J,distance:se}},Pe=function(E,F){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(G){var q=s.state.easing,J=[],se=ee.get(E);se.blur(),se.drawBorder();var de=F.map(function(xe){return ee.get(xe)}).filter(wr),ue=function(){J.forEach(function(Ee){Me(Ee.id)}),s.dispatch(Pt.movePiles(J)),G()},Ie=0,Ae=function(){Ie++,Ie===de.length&&ue()};ce.addBatch(de.map(function(xe,Ee){var Te=xe.getItemById(xe.id);J.push({id:xe.id,x:Te.item.originalPosition[0],y:Te.item.originalPosition[1]});var $e=V.length>0?V[Ee]:f(Te.item.originalPosition),Ge=Pl.apply(void 0,ct($e).concat([xe.x,xe.y])),Ze=yh(Math.min(Ge,250)/250)*250;return Ns({duration:Ze,easing:q,interpolator:bh,endValue:[].concat(ct(V.length>0?V[Ee]:f(Te.item.originalPosition)),[0]),getter:function(){return[xe.x,xe.y,Te.displayObject.angle]},setter:function(xt){xe.moveTo(xt[0],xt[1]),Te.displayObject.angle=xt[2]},onDone:Ae})}))})},Xe=function(E){var F=ee.get(E).size;if(F!==1){Za(E);var V=ee.get(E).bBox,G=Math.floor((V.minX+V.maxX)/(Oe.columnWidth*2)),q=Math.floor((V.minY+V.maxY)/(Oe.rowHeight*2)),J=[q,G],se=Math.ceil(Math.sqrt(F)),de=Math.ceil(F/se),ue,Ie,Ae;if(se!==de){var xe=ve(J,se,de),Ee=ve(J,de,se);ue=xe.distance>Ee.distance?Ee.depilePos:xe.depilePos,Ae=xe.distance>Ee.distance?de:se,Ie=xe.distance>Ee.distance?se:de}else ue=ve(J,se,de).depilePos,Ae=se,Ie=de;for(var Te=s.state.piles,$e=[],Ge=ct(Te[E].items),Ze=[],Ve=0;Ve<Ge.length;Ve++){var xt=Math.floor(Ve/Ae)+ue[0]-Math.floor((Ie-1)/2),$t=Ve%Ae+ue[1]-Math.floor((Ae-1)/2);Ze.push([$t*Oe.columnWidth,xt*Oe.rowHeight])}var at={items:Ge,x:Te[E].x,y:Te[E].y};$e.push(at),s.dispatch(Pt.scatterPiles($e)),Pe(E,Ge,Ze),s.dispatch(Pt.setDepiledPile([]))}},kt=function(E){var F=s.state.piles,V=ct(F[E].items),G={items:V,x:F[E].x,y:F[E].y};s.dispatch(Pt.scatterPiles([G])),y0(),s.state.arrangementType||Pe(E,V)},qt=function(E,F,V){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},q=G.onDone,J=q===void 0?wr:q;ce.add(Ns({interpolator:bh,endValue:[F,V],getter:function(){return[E.x,E.y]},setter:function(de){E.x=de[0],E.y=de[1]},onDone:function(){J()}}))},Rn=function(){pe.tint=s.state.darkMode?0:16777215,pe.width=w,pe.height=x,pe.alpha=.9},Xn=function(){pe.alpha=0},qe=function(E){var F=s.state.piles;E.forEach(function(V){var G=ee.get(V);Se(),Xn();var q=function(){G.tempDepileContainer.removeChildren(),G.isTempDepiled=!1,G.focus(),s.dispatch(Pt.setFocusedPiles([G.id])),Me(V)};G.tempDepileContainer.children.forEach(function(J,se){var de=se===G.tempDepileContainer.children.length-1?{onDone:q}:void 0;qt(J,-G.tempDepileContainer.x,-G.tempDepileContainer.y,de)})}),o.publish("pileInactive",{targets:E.map(function(V){return F[V]})}),he()},oe=function(E){var F=E.pile,V=E.tempDepileDirection,G=E.items,q=function(){F.isTempDepiled=!0,s.dispatch(Pt.setFocusedPiles([])),s.dispatch(Pt.setFocusedPiles([F.id]))},J=g?g.scaling:1,se=function(Ae){return Ae?{onDone:q}:void 0};if(V==="horizontal"){F.tempDepileContainer.x=F.bBox.width/J,F.tempDepileContainer.y=0,F.tempDepileContainer.interactive=!0;var de=0;G.forEach(function(Ie,Ae){var xe=_p(te.get(Ie).image.sprite);xe.x=-F.tempDepileContainer.x,F.tempDepileContainer.addChild(xe);var Ee=se(Ae===G.length-1);qt(xe,Ae*5+de,0,Ee),de+=xe.width})}else if(V==="vertical"){F.tempDepileContainer.x=0,F.tempDepileContainer.x=F.bBox.height/J,F.tempDepileContainer.interactive=!0;var ue=0;G.forEach(function(Ie,Ae){var xe=_p(te.get(Ie).image.sprite);xe.y=-F.tempDepileContainer.y,F.tempDepileContainer.addChild(xe);var Ee=se(Ae===G.length-1);qt(xe,0,Ae*5+ue,Ee),ue+=xe.height})}},_e=function(E){var F=E.pile,V=E.items,G=E.orderer,q=g?g.scaling:1;F.tempDepileContainer.x=F.bBox.width/q,F.tempDepileContainer.y=0;var J=Math.ceil(Math.sqrt(V.length)),se=function(){F.isTempDepiled=!0,s.dispatch(Pt.setFocusedPiles([])),s.dispatch(Pt.setFocusedPiles([F.id]))},de=function(Ae){return Ae?{onDone:se}:void 0},ue=G(J);V.forEach(function(Ie,Ae){var xe=_p(te.get(Ie).image.sprite);xe.x=-F.tempDepileContainer.x,F.tempDepileContainer.addChild(xe);var Ee=ue(Ae),Te=me(Ee,2),$e=Te[0],Ge=Te[1],Ze=$e*(Oe.cellWidth+6),Ve=Ge*(Oe.cellHeight+6),xt=de(Ae===V.length-1);qt(xe,Ze,Ve,xt)})},Fe=function(E){var F=s.state,V=F.piles,G=F.tempDepileDirection,q=F.tempDepileOneDNum,J=F.orderer;E.forEach(function(se){var de=ee.get(se);ae(de.graphics),Rn(),de.enableInteractivity();var ue=ct(V[se].items);ue.length<q?oe({pile:de,tempDepileDirection:G,items:ue}):_e({pile:de,items:ue,orderer:J}),Me(se)}),o.publish("pileActive",{targets:E.map(function(se){return V[se]})}),he()},Re=function(E){var F=a.getBoundingClientRect();return[E.clientX-F.left,E.clientY-F.top-I.y]},Ke=function(E){var F=fle(E),V=Z.search(F),G=[];return V.forEach(function(q){(Uv([q.minX,q.minY],E)||Uv([q.minX,q.maxY],E)||Uv([q.maxX,q.minY],E)||Uv([q.maxX,q.maxY],E))&&G.push(q.id)}),G},Qt=function(){var le=On(Ot.mark(function E(){var F,V,G,q;return Ot.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return F=Promise.resolve(),k=!1,V=W.end(),G=V.flatMap(v),be([G.length-2,G.length-1],G),s.state.temporaryDepiledPiles.length||(q=Ke(G),g0(q),q.length>1&&(s.dispatch(Pt.setFocusedPiles([])),F=Dt([q]))),se.next=8,F;case 8:X();case 9:case"end":return se.stop()}},E)}));return function(){return le.apply(this,arguments)}}(),Dt=function(E,F){var V=function(ue){return function(Ie,Ae){return Ie+Ae/ue}},G=function(){return function(ue,Ie){return Math.min(ue,Ie)}},q=function(){return function(ue,Ie){return Math.max(ue,Ie)}},J={x:V,y:V},se={x:0,y:0};switch(F){case"top":J.y=G,se.y=1/0;break;case"bottom":J.y=q,se.y=-1/0;break;case"left":J.x=G,se.x=1/0;break;case"right":J.x=q,se.x=-1/0;break}return Promise.all(E.map(function(de){return new Promise(function(ue,Ie){var Ae=s.state,xe=Ae.easing,Ee=Ae.piles,Te=se.x,$e=se.y,Ge=J.x(de.length),Ze=J.y(de.length);de.forEach(function(at){Te=Ge(Te,Ee[at].x),$e=Ze($e,Ee[at].y)});var Ve=function(){Me(de[0]),ue(Pt.mergePiles(de,[Te,$e]))},xt=function(){++$t===de.length&&Ve()},$t=0;ce.addBatch(de.map(function(at){var An=ee.get(at);return An||Ie(new Error("Pile #".concat(at," not ready"))),pr(ee.get(at),Te,$e,{easing:xe,onDone:xt})}).filter(function(at){return at===null&&xt(),at}))})})).then(function(de){s.dispatch(As(de))})},Nt=function(E,F){var V=ee.get(E);V.magnifyByWheel(F)&&(Me(E,{forceUpdate:!0}),V.drawBorder()),he()},rn=function(E){te.has(E)&&te.get(E).destroy(),te.delete(E),vn(E)},hn=function(E){return Object.keys(E).forEach(rn),Promise.resolve()},un=function(E,F){var V=f([F.x,F.y]),G=me(V,2),q=G[0],J=G[1],se=F.items.length?F.items.map(function(ue){return te.get(ue)}):[te.get(E)],de=Oge({render:he,id:E,pubSub:o,store:s,badgeFactory:l},{x:q,y:J});ee.set(E,de),s.state.coverAggregator?Sa(F,de):(s.state.previewRenderer&&Do(F),de.setItems(se),_a(E)),ye.addChild(de.graphics),Me(E,{forceUpdate:!0}),gr(F,E),m.set(E,[F.x,F.y])},vn=function(E){ee.has(E)&&(ee.get(E).destroy(),tt(E)),ee.delete(E),m.delete(E),delete Ea[E]},cn=function(E){var F=E.bBoxifier,V=E.absComparator,G=E.relComparator;return function(){var q=On(Ot.mark(function J(se){var de,ue,Ie,Ae,xe,Ee,Te,$e,Ge,Ze,Ve,xt,$t,at=arguments;return Ot.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:for(de=at.length>1&&at[1]!==void 0?at[1]:{},ue=de.conditions,Ie=ue===void 0?[]:ue,Ae=de.centerAggregator,xe=Ae===void 0?Uf:Ae,Ee=s.state.piles,Te=new Map,$e={},Ge={},Ze=function(Je,mt,Kt){if(!$e[Je.id]){$e[Je.id]=Xs({},Je.id,!0),Te.set(Je.id,[Je.id,1]);var Tt=Je.maxX-Je.minX,Pn=Je.maxY-Je.minY;Ge[Je.id]={w:Tt,h:Pn,c:[[Je.minX+Tt/2,Je.minY+Pn/2]]}}if($e[Je.id][mt.id])return!1;$e[Je.id][mt.id]=!0,Te.set(mt.id,[Je.id,G(Kt,Je)[0]]);var Or=mt.maxX-mt.minX,xn=mt.maxY-mt.minY;return Ge[Je.id].w=Math.max(Ge[Je.id].w,Or),Ge[Je.id].h=Math.max(Ge[Je.id].h,xn),Ge[Je.id].c.push([mt.minX+Or/2,mt.minY+xn/2]),!0},Ve=function(Je){var mt=Z.search(F(Je,se)),Kt=0;return mt.length===1||mt.forEach(function(Tt){if(Tt.id!==Je.id){var Pn=V(Je,Tt,se),Or=me(Pn,2),xn=Or[0],Ir=Or[1],mr=Ir&&Ie.every(function(w0){return w0(Ee[Je.id],Ee[Tt.id])});if(mr){if(Te.has(Tt.id)&&!($e[Je.id]&&$e[Je.id][Tt.id])){var Aa=Te.get(Tt.id),_s=me(Aa,2),Ss=_s[0],Iu=_s[1];if(!G(xn,Je,Iu)[1])return;delete $e[Ss][Tt.id]}Kt+=Ze(Je,Tt,xn)}}}),Kt},Z.all().forEach(function(St){Te.has(St.id)||Ve(St)}),xt=!1;!xt;)$t=Object.keys($e).reduce(function(St,Je){var mt=Ge[Je],Kt=mt.w,Tt=mt.h,Pn=mt.c,Or=xe(Pn),xn=me(Or,2),Ir=xn[0],mr=xn[1],Aa={id:Je,minX:Ir-Kt/2,maxX:Ir+Kt/2,minY:mr-Tt/2,maxY:mr+Tt/2};return St+Ve(Aa)},0),xt=$t===0;return Le.abrupt("return",Object.values($e).map(Object.keys));case 11:case"end":return Le.stop()}},J)}));return function(J){return q.apply(this,arguments)}}()},Ln=function(E,F,V){var G=Math.max(E.minX,F.minX),q=Math.max(E.minY,F.minY),J=Math.min(E.maxX,F.maxX),se=Math.min(E.maxY,F.maxY),de=(J-G)*(se-q);return[de,de>=V]},Pr=function(E,F,V){var G=E/((F.maxX-F.minX)*(F.maxY-F.minY));return[G,V!==void 0&&G>V]},Wn=cn({bBoxifier:wr,absComparator:Ln,relComparator:Pr}),Tn=function(E,F){return{minX:E.minX-F,minY:E.minY-F,maxX:E.maxX+F,maxY:E.maxY+F}},ur=function(E,F,V){var G=wT(E,F);return[G,G<V]},Vr=function(E,F,V){return[E,V===void 0&&E<V]},ta=cn({bBoxifier:Tn,absComparator:ur,relComparator:Vr}),ll=function(){var le=On(Ot.mark(function E(F){var V,G,q,J;return Ot.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return V=s.state,G=V.orderer,q=V.piles,J=F?Yv({width:w,height:x,orderer:G},F):Oe,de.abrupt("return",Object.entries(q).reduce(function(ue,Ie){var Ae=me(Ie,2),xe=Ae[0],Ee=Ae[1];if(!Ee.items.length)return ue;var Te=J.xyToIj(Ee.x,Ee.y),$e=J.ijToIdx.apply(J,ct(Te));return ue[$e]||(ue[$e]=[]),ue[$e].push(xe),ue},[]));case 3:case"end":return de.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),cr=function(){var le=On(Ot.mark(function E(){return Ot.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",Object.entries(s.state.piles).reduce(function(G,q){var J=me(q,2),se=J[0],de=J[1];if(de.items.length){var ue=Oe.xyToIj(de.x,de.y);G[ue[1]]||(G[ue[1]]=[]),G[ue[1]].push(se)}return G},[]));case 1:case"end":return V.stop()}},E)}));return function(){return le.apply(this,arguments)}}(),Pd=function(){var le=On(Ot.mark(function E(){return Ot.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",Object.entries(s.state.piles).reduce(function(G,q){var J=me(q,2),se=J[0],de=J[1];if(de.items.length){var ue=Oe.xyToIj(de.x,de.y);G[ue[0]]||(G[ue[0]]=[]),G[ue[0]].push(se)}return G},[]));case 1:case"end":return V.stop()}},E)}));return function(){return le.apply(this,arguments)}}(),Od=function(){var le=On(Ot.mark(function E(F){return Ot.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",Object.values(Object.entries(s.state.piles).reduce(function(q,J){var se=me(J,2),de=se[0],ue=se[1];if(!ue.items.length)return q;var Ie=F.map(function(Ae){return Ae.aggregator(ue.items.map(function(xe,Ee){return Ae.property(s.state.items[xe],xe,Ee,te.get(xe))}))}).join("|");return q[Ie]?q[Ie].push(de):q[Ie]=[de],q},{})));case 1:case"end":return G.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),Qa=function(){var le=On(Ot.mark(function E(F){var V,G,q,J,se,de,ue,Ie=arguments;return Ot.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return V=Ie.length>1&&Ie[1]!==void 0?Ie[1]:{},G=Object.entries(s.state.piles).reduce(function(Ee,Te){var $e=me(Te,2),Ge=$e[0],Ze=$e[1];return Ze.items.length&&Ee.push({id:Ge,data:F.flatMap(function(Ve){return Ve.aggregator(Ze.items.map(function(xt,$t){return Ve.property(s.state.items[xt],xt,$t,te.get(xt))}))})}),Ee},[]),q=V.clusterer,q||(J=V.clustererOptions||{},se=J.k,J.valueGetter=function(Ee){return Ee.data},se||(se=Math.max(2,Math.ceil(Math.sqrt(G.length/2)))),q=YC(se,J)),xe.next=6,q(G);case 6:return de=xe.sent,ue=de.labels,xe.abrupt("return",Object.values(Array.from(ue).reduce(function(Ee,Te,$e){return Te===-1||(Ee[Te]||(Ee[Te]=[]),Ee[Te].push(G[$e].id)),Ee},{})));case 9:case"end":return xe.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),$r=function(E){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G,q="mean";switch(E){case"overlap":G=Wn(F,V);break;case"distance":G=ta(F,V);break;case"grid":G=ll(F);break;case"column":q=F,G=cr(F);break;case"row":q=F,G=Pd(F);break;case"category":G=Od(F);break;case"cluster":G=Qa(F,V);break;default:G=Promise.reject(new Error("Unknown group by type: ".concat(E)));break}return G.then(function(J){return s.dispatch(Pt.setFocusedPiles([])),g0(J.flatMap(wr)),Dt(J.filter(function(se){return se.length>1}),q)})},pf=function(E){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=Z5(E,F),q=$r(E,G,V);return(E==="distance"||E==="overlap")&&V.onZoom&&(delete V.onZoom,s.dispatch(As([].concat(ct(z("groupingObjective",G,!0)),ct(z("groupingOptions",V,!0)),ct(z("groupingType",E,!0)))))),q},gf=function(E,F){var V=F==="uv"?function(de){return de*w}:wr,G=F==="uv"?function(de){return de*x}:wr,q=new CC,J=new Map,se=E.map(function(de){var ue=Cu(f([V(de.cX),G(de.cY)])),Ie=me(ue,2),Ae=Ie[0],xe=Ie[1],Ee={id:de.id,minX:Ae-de.width/2,maxX:Ae+de.width/2,minY:xe-de.height/2,maxY:xe+de.height/2};return J.set(de.id,Ee),Ee});return q.load(se),[q,J]},ul=function(E){var F=E.toBBox,V=E.compare,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=G.coordType,J=q===void 0?"uv":q;return function(){var se=On(Ot.mark(function de(ue){var Ie,Ae,xe,Ee,Te,$e,Ge,Ze,Ve,xt,$t,at,An,Le,St=arguments;return Ot.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return Ie=St.length>1&&St[1]!==void 0?St[1]:{},Ae=Ie.conditions,xe=Ae===void 0?[]:Ae,Ee=s.state.piles,Te=gf(ue.basedOn,J),$e=me(Te,2),Ge=$e[0],Ze=$e[1],Ve={},xt=function(Tt,Pn,Or){var xn=-1,Ir=1/0;return Tt.forEach(function(mr,Aa){var _s={minX:mr.centroid[0]-mr.width/2,maxX:mr.centroid[0]+mr.width/2,minY:mr.centroid[1]-mr.height/2,maxY:mr.centroid[1]+mr.height/2},Ss=V(_s,Pn,Or),Iu=me(Ss,2),w0=Iu[0],g2=Iu[1];w0&&g2<Ir&&(Ir=g2,xn=Aa)}),xn},$t=function(Tt){Ve[Tt.id]={keep:[Tt.id],split:[]}},at=function(Tt,Pn){Ve[Tt.id].keep.push(Pn.id)},An=function(Tt,Pn){var Or=Pn.maxX-Pn.minX,xn=Pn.maxY-Pn.minY,Ir=[Pn.minX+Or/2,Pn.minY+xn/2];if(!Ve[Tt.id].split.length)Ve[Tt.id].split.push({centroid:Ir,width:Or,height:xn,items:[Pn.id]});else{var mr=xt(Ve[Tt.id].split,Pn,ue.threshold);if(mr===-1)Ve[Tt.id].split.push({centroid:Ir,width:Or,height:xn,items:[Pn.id]});else{var Aa=Ve[Tt.id].split[mr],_s=Aa.items.length,Ss=_s+1,Iu=[Aa.centroid[0]*_s/Ss+Ir[0]/Ss,Aa.centroid[1]*_s/Ss+Ir[1]/Ss];Aa.centroid=Iu,Aa.items.push(Pn.id)}}},Le=function(Tt){if(!(Ee[Tt.id].items.length<2)){var Pn=Ge.search(F(Tt,ue.threshold)),Or=new Set;Or.add(Tt.id),$t(Tt),Pn.forEach(function(xn){if(Ee[Tt.id].items.indexOf(xn.id)!==-1&&xn.id!==Tt.id){var Ir=V(Tt,xn,ue.threshold)[0]&&xe.every(function(mr){return mr(Ee[Tt.id],Ee[xn.id])});Ir?at(Tt,xn):An(Tt,xn),Or.add(xn.id)}}),Ee[Tt.id].items.forEach(function(xn){if(!Or.has(xn)){var Ir=Ze.get(xn);xn===Tt.id?at(Tt,Ir):An(Tt,Ir)}})}},Z.all().forEach(Le),Object.keys(Ve).forEach(function(Kt){var Tt=[];Ve[Kt].keep.length&&Tt.push(Ve[Kt].keep),Ve[Kt].split.length&&Tt.push.apply(Tt,ct(Ve[Kt].split.map(function(Pn){return Pn.items}))),Tt.length>1?Ve[Kt]=Tt:delete Ve[Kt]}),mt.abrupt("return",Ve);case 12:case"end":return mt.stop()}},de)}));return function(de){return se.apply(this,arguments)}}()},c0=function(E,F,V){var G=Math.max(E.minX,F.minX),q=Math.max(E.minY,F.minY),J=Math.min(E.maxX,F.maxX),se=Math.min(E.maxY,F.maxY),de=(J-G)*(se-q);return[de>=V,de]},S5=ul({toBBox:wr,compare:c0}),E5=function(E,F){return{minX:E.minX-F,minY:E.minY-F,maxX:E.maxX+F,maxY:E.maxY+F}},A5=function(E,F,V){var G=wT(E,F);return[G<V,G]},C5=ul({toBBox:E5,compare:A5}),T5=function(){var le=On(Ot.mark(function E(F){return Ot.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",Object.entries(s.state.piles).filter(function(q){return q[1].items.length>1}).reduce(function(q,J){var se=me(J,2),de=se[0],ue=se[1],Ie=ue.items.reduce(function(Ae,xe,Ee){var Te=F.map(function($e){return $e(s.state.items[xe],xe,Ee,te.get(xe))}).join("|");return Ae[Te]?Ae[Te].push(xe):Ae[Te]=[xe],Ae},{});return Object.keys(Ie).length>1&&(q[de]=Object.values(Ie)),q},{}));case 1:case"end":return G.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),P5=function(){var le=On(Ot.mark(function E(F){var V,G,q,J,se,de,ue,Ie,Ae=arguments;return Ot.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return V=Ae.length>1&&Ae[1]!==void 0?Ae[1]:{},G=new Map,q=Object.entries(s.state.items).map(function(Te,$e){var Ge=me(Te,2),Ze=Ge[0],Ve=Ge[1];return G.set(Ze,$e),{id:Ze,data:F.flatMap(function(xt){return xt.property(Ve,Ze,0,te.get(Ze))})}}),J=V.clusterer,J||(se=V.clustererOptions||{},de=se.k,se.valueGetter=function(Te){return Te.data},de||(de=Math.max(2,Math.ceil(Math.sqrt(q.length/2)))),J=YC(de,se)),Ee.next=7,J(q);case 7:return ue=Ee.sent,Ie=ue.labels,Ee.abrupt("return",Object.entries(s.state.piles).reduce(function(Te,$e){var Ge=me($e,2),Ze=Ge[0],Ve=Ge[1];if(!Ve.items.length)return Te;var xt=Ve.items.reduce(function($t,at){var An=Ie[G.get(at)];return $t[An]?$t[An].push(at):$t[An]=[at],$t},{});return Object.keys(xt).length>1&&(Te[Ze]=Object.values(xt)),Te},{}));case 10:case"end":return Ee.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),f0=!1,Id=Promise.resolve(),r2=function(E,F){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(f0)return Id;f0=!0;var G;switch(E){case"overlap":G=S5(F,V);break;case"distance":G=C5(F,V);break;case"category":G=T5(F);break;case"cluster":G=P5(F,V);break}return Id=G.then(function(q){return Object.keys(q).length?(s.dispatch(As([Pt.setFocusedPiles([]),Pt.splitPiles(q)])),Promise.all(Object.entries(q).filter(function(J){return J[1].length>1}).map(function(J){var se=me(J,2),de=se[0],ue=se[1],Ie=ue.map(function(Ae){return Ae[0]});return Pe(de,Ie)}))):Promise.resolve()}),Id.then(function(){f0=!1}),Id},i2=function(E){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=J5(E,F),q=r2(E,G,V);return(E==="distance"||E==="overlap")&&V.onZoom&&(delete V.onZoom,s.dispatch(As([].concat(ct(z("splittingObjective",G,!0)),ct(z("splittingOptions",V,!0)),ct(z("splittingType",E,!0)))))),q},O5=function(){return i2("category","id")},a2=function(){var E=s.state,F=E.arrangementType,V=E.arrangementObjective,G=E.arrangementOptions,q=E.navigationMode,J=!1;switch(q){case tB:J=et();break;case nB:J=Zt();break;case Q_:default:switch(F){case"data":V.length>1||G.forceDimReduction?J=et():J=Zt();break;case"xy":case"uv":J=et();break;case"index":case"ij":J=Zt();break}break}J&&(He(),Mt())},Ea={},cl=[],mf=[],yf=[],I5=function(E){var F=s.state,V=F.arrangementObjective,G=F.arrangementOptions,q=F.items,J=F.piles,se=E.length>=ee.size;V.forEach(function(de,ue){var Ie=typeof mf[ue]>"u"||se?1/0:mf[ue],Ae=typeof yf[ue]>"u"||se?-1/0:yf[ue],xe=se;if(!se&&cl[ue]&&V.length<3&&!G.forceDimReduction){var Ee=0,Te=ee.size,$e=!1,Ge=!1;if(E.forEach(function(Le){var St=cl[ue][Le];St===Ee&&(Ee++,$e=!0,xe=!0),St===Te&&(Te--,Ge=!0,xe=!0)}),$e){var Ze=Object.entries(cl[ue]).find(function(Le){return Le[1]===Ee}),Ve=me(Ze,1),xt=Ve[0];Ie=Ea[xt][ue]}if(Ge){var $t=Object.entries(cl[ue]).find(function(Le){return Le[1]===Te}),at=me($t,1),An=at[0];Ae=Ea[An][ue]}}E.forEach(function(Le){var St=J[Le].items.map(function(mt,Kt){return de.property(q[mt],mt,Kt,te.get(mt))}),Je=de.aggregator(St);Je<Ie&&(Ie=Je,xe=!0),Je>Ae&&(Ae=Je,xe=!0),Ea[Le]||(Ea[Le]=[]),Ea[Le][ue]=Number.isNaN(Je)?null:Je,Ea[Le].splice(V.length)}),cl[ue]=Qae(Ea,{getter:function(St){return St[ue]},comparator:de.inverse?Zae:$k,ignoreNull:!0}),xe&&(mf[ue]=Ie,yf[ue]=Ae)}),cl.splice(V.length),mf.splice(V.length),yf.splice(V.length)},Md=[],M5=function(){var E=s.state.arrangementObjective,F=[w,x];return Md=E.map(function(V,G){var q=Md[G],J=mf[G],se=yf[G];if(q){var de=q.domain(),ue=me(de,2),Ie=ue[0],Ae=ue[1];if(J===Ie&&se===Ae)return Md[G]}var xe=V.inverted?[se,J]:[J,se],Ee=Ku(xa.range()),Te=Ku(xa.range());return V.scale().domain(xe).range([Ee/2,F[G]-Te/2])}),Promise.resolve()},Dd=0,D5=function(){var le=On(Ot.mark(function E(F){var V,G,q,J,se,de,ue;return Ot.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(V=s.state,G=V.arrangementObjective,q=V.arrangementOptions,J=V.dimensionalityReducer,se=V.items,J){Ae.next=4;break}return console.warn("No dimensionality reducer provided. Unable to arrange piles by multiple dimensions."),Ae.abrupt("return",Promise.resolve());case 4:if(!(Dd&&!F&&!q.runDimReductionOnPiles)){Ae.next=6;break}return Ae.abrupt("return",Promise.resolve());case 6:return Wa(),Ae.next=9,hc();case 9:return de=q.runDimReductionOnPiles===!0?Object.values(Ea).filter(function(xe){return xe[0]!==null}):Object.entries(se).map(function(xe){var Ee=me(xe,2),Te=Ee[0],$e=Ee[1];return G.flatMap(function(Ge){return Ge.property($e,Te,0,te.get(Te))})}),ue=J.fit(de),Ji.clear(),ue.then(function(){Dd++,yi()}),Ae.abrupt("return",ue);case 14:case"end":return Ae.stop()}},E)}));return function(F){return le.apply(this,arguments)}}(),F5=function(E,F){var V=s.state,G=V.arrangementObjective,q=V.arrangementOptions;return I5(E),G.length>2||q.forceDimReduction?D5(F):G.length>1?M5():Promise.resolve()},k5=function(){var le=On(Ot.mark(function E(F,V){var G,q,J,se;return Ot.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(G=s.state,q=G.arrangementType,J=G.piles,se=F.length?F:Object.keys(J),q!=="data"){ue.next=6;break}return T=F5(se,V),ue.next=6,T;case 6:a2();case 7:case"end":return ue.stop()}},E)}));return function(F,V){return le.apply(this,arguments)}}(),B5=function(){return s.state.arrangementType===null?[]:[].concat(ct(z("arrangeOnGrouping",!1,!0)),ct(z("arrangementOptions",{},!0)),ct(z("arrangementObjective",null,!0)),ct(z("arrangementType",null,!0)))},Fo=new Map,h0=new Map,R5=function(){var E=s.state,F=E.items,V=E.piles,G=E.pileLabel,q=E.pileLabelColor,J=E.pileLabelText,se=E.pileLabelTextMapping,de=E.pileLabelTextColor,ue=E.pileLabelFontSize,Ie=E.pileLabelTextStyle;Fo.forEach(function(xe){xe.pixiText&&xe.pixiText.destroy()}),Fo.clear(),h0.clear();var Ae=new Set;Object.values(F).forEach(function(xe){var Ee=G.flatMap(function(Te){return Te(xe)}).join("-");h0.set(xe.id,Ee),!Ae.has(Ee)&&Ee&&(Fo.set(Ee,{text:Ee,index:Ae.size}),Ae.add(Ee))}),Fo.forEach(function(xe){var Ee;if(q!==null)if(Yt(q))Ee=dc(q(xe.text,Fo));else{var Te=q;Array.isArray(q)||(Te=[q]);var $e=Te.length;Ee=dc(Te[xe.index%$e])}else{var Ge=zC.length;Ee=dc(zC[xe.index%Ge])}xe.color=Ee;var Ze=Yt(J)?Object.values(V).some(function($t){return J($t)}):J;if(Ze){var Ve=xe.text;Yt(se)?Ve=se(xe.text,Fo):Array.isArray(J)&&(Ve=J[xe.index]);var xt=new l0(Ve,ml({fill:de,fontSize:ue*2*window.devicePixelRatio,align:"center"},Ie||{}));xt.updateText(),xe.texture=xt.texture,xe.pixiText=xt}})},L5=function(E,F){var V=s.state.pileLabelSizeTransform,G=E.reduce(function(q,J){return q[J]=+!V,q},{});return V?(F.forEach(function(q){G[q]++}),V(Object.values(G),Object.keys(G))):Object.values(G)},d0=function(E,F){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,G=ee.get(F);if(G){if(!s.state.pileLabel){G.drawLabel([]);return}var q=s.state,J=q.pileLabel,se=q.items;(!h0.size||V)&&R5();var de=E.items.flatMap(function(xe){return J.map(function(Ee){return Ee(se[xe])}).join("-")}).filter(function(xe){return xe.length}),ue=kk(de);ue.sort(function(xe,Ee){return(Fo.get(xe.toString()).index||1/0)-(Fo.get(Ee.toString()).index||1/0)});var Ie=ue.length>1?L5(ue,de):[1],Ae=ue.reduce(function(xe,Ee){var Te=Ee&&Ee.toString&&Fo.get(Ee.toString())||jC;return xe[0].push(Te.text),xe[1].push(Te.color),xe[2].push(Te.texture),xe},[[],[],[]]);G.drawLabel.apply(G,ct(Ae).concat([Ie]))}},bf=[],wf=[],o2=0,N5=function(E){if(E.length){bf.push.apply(bf,ct(E));var F=++o2;Promise.all(bf).then(function(){if(F===o2)return Promise.all(wf.map(function(V){return V()}))}).then(function(){wf.splice(0,wf.length),bf.splice(0,bf.length),S.textureGC.run(),o.publish("itemUpdate")})}},U5=function(){if(!_){var E=s.state,F=new Set,V=[],G=[];if(u.items!==E.items&&u.itemRenderer){var q=ml({},u.items),J={},se={},de={};Object.entries(E.items).forEach(function(Le){var St=me(Le,2),Je=St[0],mt=St[1];u.items[Je]?mt.src!==u.items[Je].src&&(se[Je]=mt,Object.values(E.piles).forEach(function(Kt){Kt.items.length>1&&Kt.items.includes(Je)&&(de[Kt.id]=Kt)})):J[Je]=mt,delete q[Je]});var ue=Object.keys(J).length,Ie=Object.keys(se).length,Ae=Object.keys(q).length,xe=Object.keys(de).length;ue&&V.push(Eu(J)),Ie&&V.push(Su(se)),Ae&&V.push(hn(q)),xe&&V.push(Object.entries(de).forEach(function(Le){var St=me(Le,2),Je=St[0],mt=St[1],Kt=ee.get(Je);Kt.cover&&Pu(mt,Kt),d0(mt,Je)})),(ue||Ae)&&(F.add("grid"),F.add("layout"))}if(Object.values(E.items).length&&(u.itemRenderer!==E.itemRenderer||u.previewRenderer!==E.previewRenderer||u.coverRenderer!==E.coverRenderer||u.previewAggregator!==E.previewAggregator||u.coverAggregator!==E.coverAggregator)&&(te.size?V.push(Su()):V.push(Eu(E.items))),u.itemSizeRange!==E.itemSizeRange&&F.add("layout"),u.piles!==E.piles&&Object.keys(u.piles).length){var Ee={},Te=[];Object.entries(E.piles).forEach(function(Le){var St=me(Le,2),Je=St[0],mt=St[1];u.piles[Je]&&mt!==u.piles[Je]&&(Ee[Je]=mt)}),Object.entries(Ee).forEach(function(Le){var St=me(Le,2),Je=St[0],mt=St[1],Kt=mt.items.length!==u.piles[Je].items.length,Tt=(mt.x!==u.piles[Je].x||mt.y!==u.piles[Je].y)&&mt.items.length!==0;Kt&&(sl(mt,Je),G.push(Je)),Tt&&Te.push(xs(mt,Je)),(Kt||Tt)&&(Mo(mt,Je),d0(mt,Je))}),Te.length?(p=!1,Promise.all(Te).then(function(Le){o.publish("pilesPositionEnd",{targets:Le})})):p&&(p=!1,o.publish("pilesPositionEnd",{targets:Te}))}if(ee.size&&(u.pileLabel!==E.pileLabel||u.pileLabelColor!==E.pileLabelColor||u.pileLabelText!==E.pileLabelText||u.pileLabelAlign!==E.pileLabelAlign||u.pileLabelFontSize!==E.pileLabelFontSize||u.pileLabelHeight!==E.pileLabelHeight||u.pileLabelStackAlign!==E.pileLabelStackAlign)&&Object.entries(E.piles).filter(function(Le){return Le[1].items.length}).forEach(function(Le,St){var Je=me(Le,2),mt=Je[0],Kt=Je[1];d0(Kt,mt,!St)}),ee.size&&(u.pileItemOpacity!==E.pileItemOpacity||u.pileItemBrightness!==E.pileItemBrightness||u.pileItemInvert!==E.pileItemInvert||u.pileItemTint!==E.pileItemTint)&&Object.entries(E.piles).forEach(function(Le){var St=me(Le,2),Je=St[0],mt=St[1];gr(mt,Je)}),ee.size&&(u.pileOpacity!==E.pileOpacity||u.pileBorderSize!==E.pileBorderSize||u.pileScale!==E.pileScale||u.pileSizeBadge!==E.pileSizeBadge||u.pileSizeBadgeAlign!==E.pileSizeBadgeAlign||u.pileVisibilityItems!==E.pileVisibilityItems)&&(Object.entries(E.piles).forEach(function(Le){var St=me(Le,2),Je=St[0],mt=St[1];Mo(mt,Je)}),E.pileSizeBadge===!1&&l.clear()),u.orderer!==E.orderer&&F.add("layout"),(u.itemSize!==E.itemSize||u.columns!==E.columns||u.rowHeight!==E.rowHeight||u.cellAspectRatio!==E.cellAspectRatio||u.cellPadding!==E.cellPadding||u.cellSize!==E.cellSize||u.orderer!==E.orderer||u.pileCellAlignment!==E.pileCellAlignment)&&(F.add("grid"),F.add("layout")),(u.itemSize!==E.itemSize||u.pileItemOffset!==E.pileItemOffset||u.pileItemRotation!==E.pileItemRotation||u.previewPadding!==E.previewPadding||u.previewSpacing!==E.previewSpacing||u.previewScaleToCover!==E.previewScaleToCover||u.previewOffset!==E.previewOffset||u.previewItemOffset!==E.previewItemOffset)&&F.add("positionItems"),ee.size&&u.previewScaling!==E.previewScaling&&Object.values(E.piles).forEach(function(Le){Do(Le)}),(u.tempDepileDirection!==E.tempDepileDirection||u.tempDepileOneDNum!==E.tempDepileOneDNum)&&F.add("layout"),u.temporaryDepiledPiles!==E.temporaryDepiledPiles&&(u.temporaryDepiledPiles.length&&qe(u.temporaryDepiledPiles),E.temporaryDepiledPiles.length?(ee.forEach(function(Le){Le.disableInteractivity()}),Fe(E.temporaryDepiledPiles)):ee.forEach(function(Le){Le.enableInteractivity()}),he()),u.focusedPiles!==E.focusedPiles){var $e=hle(u.focusedPiles,E.focusedPiles),Ge=me($e,2),Ze=Ge[0],Ve=Ge[1];Ze.filter(function(Le){return ee.has(Le)}).forEach(function(Le){var St=ee.get(Le);St.isTempDepiled||(St.blur(),St.isFocus=!1)}),Ve.filter(function(Le){return ee.has(Le)}).forEach(function(Le){var St=ee.get(Le);St.isTempDepiled?St.active():St.focus(),St.isFocus=!0});var xt=s.state.piles;Ve.length&&o.publish("pileFocus",{targets:Ve.map(function(Le){return xt[Le]})}),Ze.length&&o.publish("pileBlur",{targets:Ze.map(function(Le){return xt[Le]})}),he()}if(u.magnifiedPiles!==E.magnifiedPiles&&(u.magnifiedPiles.map(function(Le){return ee.get(Le)}).filter(function(Le){return Le}).forEach(function(Le){Le.unmagnify(),delete Le.magnifiedByWheel,Me(Le.id),Se()}),E.magnifiedPiles.map(function(Le){return ee.get(Le)}).filter(function(Le){return Le}).forEach(function(Le){Le.magnifiedByWheel||Le.magnify(),ae(Le.graphics)}),he()),u.depileMethod!==E.depileMethod&&F.add("layout"),u.depiledPile!==E.depiledPile&&E.depiledPile.length!==0&&Xe(E.depiledPile[0]),u.showGrid!==E.showGrid&&(E.showGrid?Rt():jt()),Object.keys(E.items).length&&E.arrangementType&&(u.arrangementType!==E.arrangementType||u.arrangementObjective!==E.arrangementObjective||V.length||G.length||E.arrangementObjective.length>2&&u.dimensionalityReducer!==E.dimensionalityReducer)){F.add("layout");var $t=function(Le,St){return On(Ot.mark(function Je(){return Ot.wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:return Kt.abrupt("return",k5(Le,St));case 1:case"end":return Kt.stop()}},Je)}))}([].concat(G),u.arrangementObjective!==E.arrangementObjective);V.length?wf.push($t):$t()}if(u.navigationMode!==E.navigationMode&&F.add("navigation"),(u.darkMode!==E.darkMode||u.haltBackgroundOpacity!==E.haltBackgroundOpacity)&&wu(),u.darkMode!==E.darkMode&&(Ka(),E.darkMode?(c=sw,Ky(t,"pilingjs-darkmode")):(c=tm,Gae(t,"pilingjs-darkmode"))),(u.darkMode!==E.darkMode||u.lassoFillColor!==E.lassoFillColor||u.lassoFillOpacity!==E.lassoFillOpacity||u.lassoShowStartIndicator!==E.lassoShowStartIndicator||u.lassoStartIndicatorOpacity!==E.lassoStartIndicatorOpacity||u.lassoStrokeColor!==E.lassoStrokeColor||u.lassoStrokeOpacity!==E.lassoStrokeOpacity||u.lassoStrokeSize!==E.lassoStrokeSize)&&qa(),u=E,o.publish("update",{action:s.lastAction}),F.has("grid")&&mi(),F.has("layout")||V.length>0||G.length>0){var at=u.arrangeOnGrouping?[]:[].concat(G),An=function(Le){return On(Ot.mark(function St(){return Ot.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return mt.abrupt("return",ws(Le));case 1:case"end":return mt.stop()}},St)}))}(at);V.length?wf.push(An):An()}F.has("navigation")&&a2(),F.has("positionItems")&&Object.values(u.piles).filter(function(Le){return Le.items.length>1}).forEach(function(Le){_a(Le.id,{all:!0})}),N5(V)}},V5=function(){ee.forEach(function(E){E&&E.blur()})},$5=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=E.serialize,V=F===void 0?!1:F;return V?Mle(s.export()):s.export()},z5=function(E){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=F.deserialize,G=V===void 0?!1:V,q=F.overwriteState,J=q===void 0?!1:q,se=F.debug,de=se===void 0?!1:se;P=!1;var ue,Ie=new Promise(function(Ae){ue=o.subscribe("update",function(xe){var Ee=xe.action;Ee.type.indexOf("OVERWRITE")>=0&&Ae()})});return s.import(G?ule(E):E,{overwriteState:J,debug:de}),V5(),Ie.then(function(){o.unsubscribe(ue)}),Ie},na=function(E){return Yt(E)?E:function(F){return F[E]}},v0=function(E){if(Yt(E.aggregator))return E.aggregator;switch(E.aggregator){case"max":return E.propertyIsVector?Nae:FC;case"median":return E.propertyIsVector?Uae:Rk;case"min":return E.propertyIsVector?$ae:Vae;case"sum":return E.propertyIsVector?jae:Y_;case"mean":default:return E.propertyIsVector?Uf:Ku}},j5=function(E){if(Yt(E))return E;switch(E){case"linear":default:return Qu}},H5=function(E){Array.isArray(E)||(E=[E]);var F=[];return E.forEach(function(V){var G={};V.constructor!==Object?(G.property=na(V),G.aggregator=V.propertyIsVector?Uf:Ku,G.scale=Qu,G.inverse=!1):(G.property=na(V.property),G.aggregator=v0(V),G.scale=j5(V.scale),G.inverse=!!V.inverse),F.push(G)}),F},s2=function(E,F){var V={};return E.constructor!==Object?(V.property=na(E),V.isCustom=Yt(E),V.aggregator=F?Uf:Ku):(V.property=na(E.property),V.aggregator=v0(E)),V},G5=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=F;switch(E){case"data":G=H5(F);break;case"xy":case"ij":case"uv":case"custom":G=s2(F,!0);break;case"index":G=s2(F);break}var q=!!V.onGrouping;return delete V.onGrouping,p=!0,s.dispatch(As([].concat(ct(z("arrangeOnGrouping",q,!0)),ct(z("arrangementOptions",V,!0)),ct(z("arrangementObjective",G,!0)),ct(z("arrangementType",E,!0))))),new Promise(function(J){o.subscribe("pilesPositionEnd",J,1)})},Y5=function(E){return E||1},X5=function(E){return E||1},W5=function(E){var F=null;return wp(E)?F=ml(ml({},F),E):+E&&(F.columns={columns:+E,cellAspectRatio:Oe.cellAspectRatio}),F},K5=function(E){var F=Array.isArray(E)?E:[E];return F.map(function(V){var G={};return wp(E)?(G.property=na(V.property),G.aggregator=Yt(V.aggregator)?V.aggregator:GC):(G.property=na(V),G.aggregator=GC),G})},q5=function(E){var F=Array.isArray(E)?E:[E];return F.map(function(V){var G={};return V.constructor!==Object?(G.property=na(V),G.aggregator=E.propertyIsVector?Uf:Ku):(G.property=na(V.property),G.aggregator=v0(V)),G})},Z5=function(E,F){switch(E){case"overlap":return X5(F);case"grid":return W5(F);case"distance":return Y5(F);case"category":return K5(F);case"cluster":return q5(F);default:return F}},Q5=function(){var E=s.state.piles,F=Z.all().reduce(function(V,G){var q=G.maxX-G.minX,J=G.maxY-G.minY;return V[G.id]={cX:(G.minX+q/2)/w,cY:(G.minY+q/2)/x,width:q,height:J,id:G.id},V},{});return Object.entries(E).forEach(function(V){var G=me(V,2),q=G[0],J=G[1];J.items.forEach(function(se){F[se]||(F[se]=ml(ml({},F[q]),{},{id:se}))})}),Object.values(F)},l2=function(E){var F={};if(wp(E)?(F.threshold=E.threshold,E.basedOn&&(F.basedOn=na(E.basedOn))):Array.isArray(E)?(F.threshold=E[0],E.length>1&&(F.basedOn=na(E[1]))):F.threshold=E,F.basedOn){var V=s.state,G=V.items,q=V.piles;F.basedOn=Object.values(q).flatMap(function(J){return J.items.map(function(se,de){var ue=te.get(se),Ie=F.basedOn(G[se],se,de,ue),Ae=me(Ie,2),xe=Ae[0],Ee=Ae[1];return{id:se,cX:xe,cY:Ee,width:ue.image.width,height:ue.image.height}})})}else F.basedOn=Q5();return F},u2=function(E){var F=Array.isArray(E)?E:[E];return F.map(function(V){return na(V)})},J5=function(E,F){switch(E){case"overlap":return l2(F);case"distance":return l2(F);case"category":return u2(F);case"cluster":return u2(F);default:return F}},e6=function(E){if(E===null)return null;var F=Array.isArray(E)?E:[E];return F.map(function(V){return na(V)})},t6=function(E){if(Yt(E))return E;switch(E){case"histogram":return function(F){var V=Object.values(F),G=FC(V);return V.map(function(q){return q/G})};default:return function(F){return F.map(function(){return 1})}}},p0=!1,c2=function(E,F){if(!p0){p0=!0;var V=s.state.piles,G=V[E].x,q=V[E].y,J=function(){p0=!1,s.dispatch(Pt.mergePiles([E].concat(ct(F)),[G,q],E))},se=function(){++de===F.length&&J()},de=0;ce.addBatch(F.map(function(ue){return pr(ee.get(ue),G,q,{onDone:se})}))}},Fd,g0=function(E){var F=s.state.piles;E.filter(function(V){return ee.has(V)&&ee.get(V).size===1}).forEach(function(V){te.get(V).setOriginalPosition([F[V].x,F[V].y])})},n6=function(E){var F=E.target;Fd=!1,Me(F.id);var V=ee.get(F.id),G=V.graphics;if(!V.isTempDepiled){if(V.x!==G.beforeDragX||V.y!==G.beforeDragY){var q=De(F.id),J=Z.search(q).filter(function(Ze){return Ze.id!==F.id});if(J.length===1){if(!V.isTempDepiled){var se=J[0].id,de=ee.get(se),ue=s.state.piles[se];if(Fd=!de.isTempDepiled,Fd){V.items.forEach(function(Ze){Ze.item.tmpAbsX=G.x,Ze.item.tmpAbsY=G.y,Ze.item.tmpRelScale=V.scale}),g0([se,F.id]);var Ie=s.state,Ae=Ie.previewAggregator,xe=Ie.previewRenderer;Ae||xe?c2(se,[F.id]):s.dispatch(Pt.mergePiles([F.id,se],[ue.x,ue.y],se))}}}else{var Ee=d([V.x,V.y]),Te=me(Ee,2),$e=Te[0],Ge=Te[1];s.dispatch(Pt.movePiles([{id:F.id,x:$e,y:Ge}]))}}Fd||Se(),y0()}},m0=[],y0=function(){m0.map(function(E){return ee.get(E.id)}).filter(wr).forEach(function(E){E.blur()}),m0=[]},r6=function(E){if(!s.state.temporaryDepiledPiles.length){var F=Z.search(De(E)).filter(function(V){return V.id!==E});y0(),F.map(function(V){return ee.get(V.id)}).filter(wr).forEach(function(V){V.hover()}),m0=ct(F)}},i6=function(E){var F=E.target,V=E.event,G=ee.get(F.id);if(G&&G.isMagnified){var q=V.data.getLocalPosition(G.graphics.parent);G.graphics.draggingMouseOffset[0]/=G.magnification,G.graphics.draggingMouseOffset[1]/=G.magnification,Po(G,q.x-G.graphics.draggingMouseOffset[0],q.y-G.graphics.draggingMouseOffset[1])}s.dispatch(Pt.setMagnifiedPiles([])),ae(G.graphics)},a6=function(E){var F=E.target;r6(F.id)},o6=function(E){var F=E.target,V=ee.get(F.id);ae(V.graphics)},s6=function(E){var F=E.target,V=ee.get(F.id);(!V||!V.isTempDepiled)&&Se()},xf=function(E){E.style.display="none",t.removeChild(E)},l6=function(E,F){return function(){var V=s.state.depileMethod;V==="originalPos"?kt(F):V==="cloestPos"&&s.dispatch(Pt.setDepiledPile([F])),s.dispatch(Pt.setFocusedPiles([])),xf(E)}},u6=function(E,F){return function(){var V=s.state,G=V.piles,q=V.temporaryDepiledPiles;if(G[F].items.length>1){var J=ct(q);J.includes(F)?J=J.filter(function(se){return se!==F}):J=[F],s.dispatch(Pt.setTemporaryDepiledPiles(ct(J)))}xf(E)}},c6=function(E){return function(){var F=s.state.showGrid;s.dispatch(Pt.setShowGrid(!F)),xf(E),he()}},f6=function(E,F){return function(){var V=ee.get(F);V.isMagnified?s.dispatch(Pt.setMagnifiedPiles([])):s.dispatch(Pt.setMagnifiedPiles([F])),xf(E)}},_f=[0,0],kd=function(E){if(E.button===0){he(),_f=Re(E);var F=v(_f);M=!Z.collides({minX:F[0],minY:F[1],maxX:F[0]+1,maxY:F[1]+1}),be(F)}},Bd=function(){M&&(M=!1,k?Qt():C&&st())},Rd=function(E){M&&(E.shiftKey||k?W.extendDb(Re(E)):C&&ie(!1))},Ld=!1,f2=function(E){if(Ld){Ld=!1;return}Ld=!0,setTimeout(function(){Ld=!1},300);var F=t.querySelector("#piling-js-context-menu"),V=!!F;V&&t.removeChild(F);var G=Re(E);if(G[0]===_f[0]&&G[1]===_f[1]){var q=v(G),J=Z.search({minX:q[0],minY:q[1],maxX:q[0]+1,maxY:q[1]+1});if(J.length!==0)if(E.shiftKey){var se=s.state.focusedPiles,de=J[0].id;se.includes(de)?h2(de):s.dispatch(Pt.setFocusedPiles([].concat(ct(se),[de])))}else if(E.altKey){var ue=s.state.depileMethod;ue==="originalPos"?kt(J[0].id):ue==="cloestPos"&&s.dispatch(Pt.setDepiledPile([J[0].id])),s.dispatch(Pt.setFocusedPiles([]))}else J.forEach(function(Ee){var Te=ee.get(Ee.id);Te.isHover&&s.dispatch(Pt.setFocusedPiles([Ee.id]))});else{var Ie=s.state,Ae=Ie.focusedPiles,xe=Ie.magnifiedPiles;Ae.length&&s.dispatch(Pt.setFocusedPiles([])),xe.length&&s.dispatch(Pt.setMagnifiedPiles([])),!V&&!Ae.length&&!xe.length&&W.showStartIndicator(_f)}}},h2=function(E){var F=s.state.focusedPiles,V=F.filter(function(G){return G!==E});V.length&&(s.dispatch(Pt.setFocusedPiles([E])),c2(E,V))},d2=function(E){var F=Re(E),V=v(F),G=s.state,q=G.temporaryDepiledPiles,J=G.piles,se=Z.search({minX:V[0],minY:V[1],maxX:V[0]+1,maxY:V[1]+1});if(se.length!==0&&!q.length){var de=se[0].id;if(E.shiftKey)h2(de);else if(J[de].items.length>1){var ue=ct(q);ue.includes(de)?ue=ue.filter(function(Ie){return Ie!==de}):ue=[de],s.dispatch(Pt.setTemporaryDepiledPiles(ct(ue)))}}else s.dispatch(Pt.setTemporaryDepiledPiles([])),s.dispatch(Pt.setFocusedPiles([]))},Nd=function(E){if(E.altKey){var F=Re(E),V=v(F),G=Z.search({minX:V[0],minY:V[1],maxX:V[0]+1,maxY:V[1]+1});if(G.length!==0){var q=ee.get(G[0].id);E.preventDefault(),q.isMagnified?(q.magnifiedByWheel=!0,s.dispatch(Pt.setMagnifiedPiles([q.id]))):(delete q.magnifiedByWheel,s.dispatch(Pt.setMagnifiedPiles([]))),Nt(G[0].id,Bae(E).pixelY)}}else C&&(ie(),ze())},b0=function(){I.y=-r.scrollTop,he()},v2=function(){var E=t.getBoundingClientRect(),F=E.width,V=E.height;w=F,x=V,S.resize(w,x),g&&g.setViewCenter([w/2,x/2]),R.width=F,R.height=V,mi(),o.publish("resize",{width:F,height:V})},Ud=qy(v2,500),h6=function(){var E=Oe.align(ee),F=[];E.filter(function(V){var G=V.id,q=V.x,J=V.y,se=ee.get(G),de=Pl(q,J,se.x,se.y);return de<3?(ys(se,q,J),de>ow&&Me(se.id),!1):!0}).forEach(function(V,G,q){var J=V.id,se=V.x,de=V.y,ue=ee.get(J),Ie=Pl(se,de,ue.x,ue.y);F.push(Ns({duration:Math.max(125,yh(Math.min(Ie,250)/250)*250),interpolator:bh,endValue:[se,de],getter:function(){return[ue.x,ue.y]},setter:function(xe){ys(ue,xe[0],xe[1])},onDone:function(){Me(ue.id),G===q.length-1&&(s.dispatch(Pt.movePiles(E)),we(),Mt(),he())}}))}),ce.addBatch(F)},Vd=function(){var E=t.querySelector("#piling-js-context-menu");E&&t.removeChild(E)},d6=function(){h6(),Vd()},v6=function(E,F){return function(){Nr.enter([F]),kt(F),xf(E)}},p2=function(E){Vd();var F=Re(E),V=v(F);if(!E.altKey){var G=s.state,q=G.pileContextMenuItems,J=G.showGrid;E.preventDefault();var se=Z.search({minX:V[0],minY:V[1],maxX:V[0]+1,maxY:V[1]+1}),de=se.length>0,ue=Yge({customItems:q.filter(function(at){return at.label&&at.callback})});t.appendChild(ue);var Ie=ue.querySelector("#depile-button"),Ae=ue.querySelector("#temp-depile-button"),xe=ue.querySelector("#browse-separately"),Ee=ue.querySelector("#grid-button"),Te=ue.querySelector("#align-button"),$e=ue.querySelector("#magnify-button");if(de){Ee.style.display="none",Te.style.display="none";var Ge;se.forEach(function(at){ee.get(at.id).isHover&&(Ge=ee.get(at.id))}),Ge&&Ge.size===1?(Ie.setAttribute("disabled",""),Ie.setAttribute("class","inactive"),Ae.setAttribute("disabled",""),Ae.setAttribute("class","inactive"),xe.setAttribute("disabled",""),xe.setAttribute("class","inactive")):Ge.isTempDepiled&&(Ie.setAttribute("disabled",""),Ie.setAttribute("class","inactive"),$e.setAttribute("disabled",""),$e.setAttribute("class","inactive"),xe.setAttribute("disabled",""),xe.setAttribute("class","inactive"),Ae.innerHTML="Close Temp. Depile"),Ge.isMagnified&&($e.innerHTML="Unmagnify"),ue.style.display="block";var Ze=ue.getBoundingClientRect(),Ve=Ze.width;F[0]>a.getBoundingClientRect().width-Ve?ue.style.left="".concat(F[0]-Ve,"px"):ue.style.left="".concat(F[0],"px"),ue.style.top="".concat(F[1]+I.y,"px"),Ie.addEventListener("click",l6(ue,Ge.id),Si),Ae.addEventListener("click",u6(ue,Ge.id),Si),xe.addEventListener("click",v6(ue,Ge.id),Si),$e.addEventListener("click",f6(ue,Ge.id),Si),q.forEach(function(at,An){var Le=at.id?ue.querySelector("#".concat(at.id)):ue.querySelector("#piling-js-context-menu-custom-item-".concat(An));Le.addEventListener("click",function(){at.callback(ml({id:Ge.id},s.state.piles[Ge.id])),at.keepOpen||Vd()},{once:!at.keepOpen,passive:!0})})}else{Ie.style.display="none",Ae.style.display="none",xe.style.display="none",$e.style.display="none",J&&(Ee.innerHTML="Hide Grid"),ue.style.display="block";var xt=ue.getBoundingClientRect(),$t=xt.width;F[0]>a.getBoundingClientRect().width-$t?ue.style.left="".concat(F[0]-$t,"px"):ue.style.left="".concat(F[0],"px"),ue.style.top="".concat(F[1]+I.y,"px"),Ee.addEventListener("click",c6(ue),Si),Te.addEventListener("click",d6,Si),q.forEach(function(at,An){var Le=at.id?ue.querySelector("#".concat(at.id)):ue.querySelector("#piling-js-context-menu-custom-item-".concat(An));Le.addEventListener("click",function(){at.callback(),at.keepOpen||Vd()},{once:!at.keepOpen,passive:!0})})}}},p6=function(E){E.setEasing(s.state.easing),ce.add(E)},g6=function(E){ce.cancel(E)},$d,m6=function(){window.addEventListener("resize",Ud,Si),window.addEventListener("orientationchange",Ud,Si),a.addEventListener("contextmenu",p2,VC),a.addEventListener("click",f2,Si),a.addEventListener("dblclick",d2,Si),o.subscribe("pileDragStart",i6),o.subscribe("pileDragMove",a6),o.subscribe("pileDragEnd",n6),o.subscribe("pileEnter",o6),o.subscribe("pileLeave",s6),o.subscribe("startAnimation",p6),o.subscribe("cancelAnimation",g6),o.subscribe("updatePileBounds",it),$d=s.subscribe(U5),t.appendChild(r),t.appendChild(Nr.nav),t.appendChild(ke.element),Ky(t,"pilingjs"),s.state.darkMode&&Ky(t,"pilingjs-darkmode"),t.style.overflow="hidden",r.appendChild(a),r.appendChild(i),r.appendChild(W.startIndicator),r.style.position="absolute",r.style.overflowX="hidden",r.style.top=0,r.style.right=0,r.style.bottom=0,r.style.left=0,a.style.position="sticky",a.style.display="block",a.style.top="0px",a.style.left="0px",v2(),Dn(),Zt(),X();var E=Q(n);return!n.piles&&n.items&&s.dispatch(Pt.initPiles(n.items)),E},y6=function(){for(_=!0,window.removeEventListener("mousedown",kd),window.removeEventListener("mouseup",Bd),window.removeEventListener("mousemove",Rd),window.removeEventListener("resize",Ud),window.removeEventListener("orientationchange",Ud),r.removeEventListener("scroll",b0),a.removeEventListener("contextmenu",p2),a.removeEventListener("click",f2),a.removeEventListener("dblclick",d2),a.removeEventListener("wheel",Nd),s.reset(),B.destroy(!0),B=null,S.destroy(!0),S=null,W.destroy(),l.destroy(),$d&&($d(),$d=void 0);t.firstChild;)t.firstChild.remove();o.clear()},b6=m6();return{get renderer(){return S},get version(){return Ep},arrangeBy:G5,destroy:y6,exportState:$5,get:j,groupBy:pf,halt:Wa,importState:z5,render:he,resume:yi,set:Q,splitAll:O5,splitBy:i2,subscribe:o.subscribe,unsubscribe:o.unsubscribe,whenInit:b6}},ame=function(){var e=On(Ot.mark(function t(n){var r,i,a,o,s,l,u,c,h,f,d,v=arguments;return Ot.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(r=v.length>1&&v[1]!==void 0?v[1]:{},i=r.width,a=i===void 0?128:i,o=r.height,s=o===void 0?128:o,l=r.color,u=l===void 0?"black":l,c=r.background,h=c===void 0?null:c,f=typeof n=="string"||n instanceof String?n:new XMLSerializer().serializeToString(n),f[0]==="<"){p.next=9;break}return p.next=5,fetch(f);case 5:return d=p.sent,p.next=8,d.text();case 8:f=p.sent;case 9:return p.abrupt("return",new Promise(function(y,m){var b=new Image,w=u&&"color: ".concat(u),x=h&&"background: ".concat(h),_=[w,x].filter(function(z){return z}),S='style="'.concat(_.join("; "),'"'),P=a&&'width="'.concat(a,'"'),C=s&&'height="'.concat(s,'"'),D=[P,C].filter(function(z){return z}).join(" ");f=f.slice(f.indexOf("<svg"));var T=f.indexOf(">"),B=f.slice(0,T+1),I=B.indexOf('width="');if(I>=0){var O=B.indexOf('"',I+7);B=B.slice(0,I)+B.slice(O+1)}var L=B.indexOf('height="');if(L>=0){var R=B.indexOf('"',L+8);B=B.slice(0,L)+B.slice(R+1)}var U=B.indexOf('style="');if(U>=0){var $=B.indexOf('"',U+7);B=B.slice(0,U)+B.slice($+1)}f=[[B.slice(0,5),D,S,B.slice(5)].join(" "),f.slice(T+1)].join("");var j="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(f))));b.onload=function(){y(b)},b.onerror=function(z){z.message="SVG Renderer: Could not render SVG as an image.",m(z)},b.src=j}));case 10:case"end":return p.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),ome=function(t){return function(n){return Promise.all(n.map(function(r){return ame(r,t)}))}},sme=function(t,n){var r=ome(n);return function(i){return r(i.map(function(a){var o=t(a);return Yt(o.node)?o.node():o}))}};const xT=0,lme={__name:"PilingView",props:["data"],setup(e){const n=xo(e.data),r=nt(null),i=Array.from(new Set(n.map(s=>s.pathList[xT]))),a=s=>$m(i.indexOf(s)/i.length);Gi(()=>{setTimeout(()=>{o(r.value)},1e3)});function o(s){s.innerHTML="";const l=s.getBoundingClientRect().width,u=s.getBoundingClientRect().height,c=Math.ceil(Math.sqrt(n.length*(l/u))),h=n.map(d=>({id:d.id,src:d})),f=sme(d=>{const v=d.pathList[xT],g=CP("svg").attr("viewBox",[0,0,24,24]);return g.append("path").attr("d",dq).attr("fill",a(v)),g.append("text").attr("x",12).attr("y",Math.ceil(l/c/6)).attr("text-anchor","middle").attr("paint-order","stroke").attr("stroke","white").attr("stroke-width",2).attr("font-size",Math.ceil(l/c/6)).text(d.name),g.node()});ime(s,{items:h,itemRenderer:f,pileItemOffset:[2,2]})}return(s,l)=>(gn(),ua("div",{ref_key:"pilingElement",ref:r,class:"piling-container"},null,512))}},_T=0,ume={__name:"D3View",props:["data"],setup(e){const n=e.data,r=nt();Cc(n,o=>o.pathList.length),Gi(()=>{setTimeout(()=>{i(r.value)},100)});function i(o){const s=mn(o),l=o.getBoundingClientRect().width,u=o.getBoundingClientRect().height;s.selectAll("*").remove();const c=16,h=20,f=16,d=16,v=16,g=16,p=Array.from(new Set(n.map(R=>R.pathList[_T]))),y=n.map(R=>({id:R.path,name:R.name,text:R.text,group:R.pathList[_T],x:a(g,l-d-c),y:a(f,u-v-h),r:Math.max(c,h)})),m=R=>$m(p.indexOf(R)/p.length),b=s.append("g").attr("cursor","grab");b.selectAll("path").data(y).join("path").attr("d",VD).attr("fill",R=>m(R.group)).attr("transform",R=>`translate(${R.x}, ${R.y})`).attr("pointer-events","all").call(OP().on("start",B).on("drag",I).on("end",O)).on("mouseenter",w).on("mousemove",x).on("mouseleave",_).on("click",T),s.call(ED().extent([[0,0],[l,u]]).scaleExtent([.5,8]).on("zoom",L));function w(R,U){U!==null&&mn(".tooltip").style("display","block").style("opacity",1).text(D(U.text))}function x(R,U){U!==null&&C(R.x,R.y)}function _(R,U){U!==null&&mn(".tooltip").style("display","none").style("opacity",0).text("")}const S=8,P=-8;function C(R,U){const $=mn(".tooltip"),j=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),z=$.node().getBoundingClientRect().width+2,Y=$.node().getBoundingClientRect().height+2;let Q=window.scrollX+R-P;Q>=j-z&&(Q=R-z+P);let re=window.scrollY+U-Y-S;re<=0&&(re=0),$.style("left",`${Q}px`).style("top",`${re}px`)}function D(R){return R.trim().replace(/\n\s*\n/g,`
`)}function T(R,U){R.defaultPrevented}function B(){mn(".tooltip").style("display","none").style("opacity",0),mn(this).raise(),b.attr("cursor","grabbing")}function I(R,U){mn(this).attr("transform",$=>`translate(${$.x=R.x}, ${$.y=R.y})`)}function O(){mn(".tooltip").style("display","block").style("opacity",1),b.attr("cursor","grab")}function L({transform:R}){b.attr("transform",R)}}function a(o,s){return Math.random()*(s-o)+o}return(o,s)=>(gn(),ua("svg",{ref_key:"vis",ref:r},null,512))}};const cme=je({...Xt(),...X4({fullHeight:!0}),...vr()},"VApp"),fme=gt()({name:"VApp",props:cme(),setup(e,t){let{slots:n}=t;const r=Rr(e),{layoutClasses:i,getLayoutItem:a,items:o,layoutRef:s}=q4(e),{rtlClasses:l}=Xi();return Bt(()=>{var u;return H("div",{ref:s,class:["v-application",r.themeClasses.value,i.value,l.value,e.class],style:[e.style]},[H("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:a,items:o,theme:r}}});const w5=je({text:String,...Xt(),...nr()},"VToolbarTitle"),x5=gt()({name:"VToolbarTitle",props:w5(),setup(e,t){let{slots:n}=t;return Bt(()=>{const r=!!(n.default||n.text||e.text);return H(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var i;return[r&&H("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(i=n.default)==null?void 0:i.call(n)])]}})}),{}}}),hme=[null,"prominent","default","comfortable","compact"],_5=je({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>hme.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...el(),...Xt(),...vs(),...Ki(),...nr({tag:"header"}),...vr()},"VToolbar"),ST=gt()({name:"VToolbar",props:_5(),setup(e,t){var d;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=ma(ft(e,"color")),{borderClasses:a}=tl(e),{elevationClasses:o}=ps(e),{roundedClasses:s}=qi(e),{themeClasses:l}=Rr(e),{rtlClasses:u}=Xi(),c=ut(!!(e.extended||(d=n.extension)!=null&&d.call(n))),h=ne(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=ne(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ws({VBtn:{variant:"text"}}),Bt(()=>{var y;const v=!!(e.title||n.title),g=!!(n.image||e.image),p=(y=n.extension)==null?void 0:y.call(n);return c.value=!!(e.extended||p),H(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,a.value,o.value,s.value,l.value,u.value,e.class],style:[i.value,e.style]},{default:()=>[g&&H("div",{key:"image",class:"v-toolbar__image"},[n.image?H(or,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):H(Zx,{key:"image-img",cover:!0,src:e.image},null)]),H(or,{defaults:{VTabs:{height:yt(h.value)}}},{default:()=>{var m,b,w;return[H("div",{class:"v-toolbar__content",style:{height:yt(h.value)}},[n.prepend&&H("div",{class:"v-toolbar__prepend"},[(m=n.prepend)==null?void 0:m.call(n)]),v&&H(x5,{key:"title",text:e.title},{text:n.title}),(b=n.default)==null?void 0:b.call(n),n.append&&H("div",{class:"v-toolbar__append"},[(w=n.append)==null?void 0:w.call(n)])])]}}),H(or,{defaults:{VTabs:{height:yt(f.value)}}},{default:()=>[H(Mg,null,{default:()=>[c.value&&H("div",{class:"v-toolbar__extension",style:{height:yt(f.value)}},[p])]})]})]})}),{contentHeight:h,extensionHeight:f}}}),dme=je({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function vme(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0;const i=nt(null),a=ut(0),o=ut(0),s=ut(0),l=ut(!1),u=ut(!1),c=ne(()=>Number(e.scrollThreshold)),h=ne(()=>co((c.value-a.value)/c.value||0)),f=()=>{const d=i.value;!d||n&&!n.value||(r=a.value,a.value="window"in d?d.pageYOffset:d.scrollTop,u.value=a.value<r,s.value=Math.abs(a.value-c.value))};return bt(u,()=>{o.value=o.value||a.value}),bt(l,()=>{o.value=0}),Gi(()=>{bt(()=>e.scrollTarget,d=>{var g;const v=d?document.querySelector(d):window;v&&v!==i.value&&((g=i.value)==null||g.removeEventListener("scroll",f),i.value=v,i.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),fi(()=>{var d;(d=i.value)==null||d.removeEventListener("scroll",f)}),n&&bt(n,f,{immediate:!0}),{scrollThreshold:c,currentScroll:a,currentThreshold:s,isScrollActive:l,scrollRatio:h,isScrollingUp:u,savedScroll:o}}const pme=je({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},..._5(),...YT(),...dme(),height:{type:[Number,String],default:64}},"VAppBar"),gme=gt()({name:"VAppBar",props:pme(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=nt(),i=Gn(e,"modelValue"),a=ne(()=>{var m;const y=new Set(((m=e.scrollBehavior)==null?void 0:m.split(" "))??[]);return{hide:y.has("hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),o=ne(()=>{const y=a.value;return y.hide||y.inverted||y.collapse||y.elevate||y.fadeImage||!i.value}),{currentScroll:s,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=vme(e,{canScroll:o}),h=ne(()=>e.collapse||a.value.collapse&&(a.value.inverted?c.value>0:c.value===0)),f=ne(()=>e.flat||a.value.elevate&&(a.value.inverted?s.value>0:s.value===0)),d=ne(()=>a.value.fadeImage?a.value.inverted?1-c.value:c.value:void 0),v=ne(()=>{var b,w;if(a.value.hide&&a.value.inverted)return 0;const y=((b=r.value)==null?void 0:b.contentHeight)??0,m=((w=r.value)==null?void 0:w.extensionHeight)??0;return y+m});uo(ne(()=>!!e.scrollBehavior),()=>{vo(()=>{a.value.hide?a.value.inverted?i.value=s.value>l.value:i.value=u.value||s.value<l.value:i.value=!0})});const{ssrBootStyles:g}=Zm(),{layoutItemStyles:p}=XT({id:e.name,order:ne(()=>parseInt(e.order,10)),position:ft(e,"location"),layoutSize:v,elementSize:ut(void 0),active:i,absolute:ft(e,"absolute")});return Bt(()=>{const y=ST.filterProps(e);return H(ST,Ct({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...p.value,"--v-toolbar-image-opacity":d.value,height:void 0,...g.value},e.style]},y,{collapse:h.value,flat:f.value}),n)}),{}}}),mme=gt()({name:"VAppBarTitle",props:w5(),setup(e,t){let{slots:n}=t;return Bt(()=>H(x5,Ct(e,{class:"v-app-bar-title"}),n)),{}}});const yme=je({scrollable:Boolean,...Xt(),...nr({tag:"main"})},"VMain"),bme=gt()({name:"VMain",props:yme(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=W4(),{ssrBootStyles:i}=Zm();return Bt(()=>H(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,i.value,e.style]},{default:()=>{var a,o;return[e.scrollable?H("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function wme(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const i=ut(!1),a=ut(0),o=ne(()=>{const u=typeof i.value=="boolean"?"top":i.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[u]:yt(a.value)}:{top:r.value.top}]});Gi(()=>{bt(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),fi(()=>{window.removeEventListener("scroll",l)});let s=0;function l(){const u=s>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),h=parseFloat(r.value.top??0),f=window.scrollY-Math.max(0,a.value-h),d=c.height+Math.max(a.value,h)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-h?(i.value="top",a.value=h):u==="up"&&i.value==="bottom"||u==="down"&&i.value==="top"?(a.value=window.scrollY+c.top-v,i.value=!0):u==="down"&&d<=0?(a.value=0,i.value="bottom"):u==="up"&&f<=0&&(v?i.value!=="top"&&(a.value=-f+v+h,i.value="top"):(a.value=c.top+f,i.value="top")),s=window.scrollY}return{isStuck:i,stickyStyles:o}}const xme=100,_me=20;function ET(e){const t=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*t}function AT(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=ET(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-r)*Math.abs(i),n===e.length-1&&(t*=.5)}return ET(t)*1e3}function Sme(){const e={};function t(i){Array.from(i.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new L4(_me))).push([i.timeStamp,a])})}function n(i){Array.from(i.changedTouches).forEach(a=>{delete e[a.identifier]})}function r(i){var u;const a=(u=e[i])==null?void 0:u.values().reverse();if(!a)throw new Error(`No samples for touch id ${i}`);const o=a[0],s=[],l=[];for(const c of a){if(o[0]-c[0]>xme)break;s.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:AT(s),y:AT(l),get direction(){const{x:c,y:h}=this,[f,d]=[Math.abs(c),Math.abs(h)];return f>d&&c>=0?"right":f>d&&c<=0?"left":d>f&&h>=0?"down":d>f&&h<=0?"up":Eme()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function Eme(){throw new Error}function Ame(e){let{isActive:t,isTemporary:n,width:r,touchless:i,position:a}=e;Gi(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("touchend",b,{passive:!0})}),fi(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",b)});const o=ne(()=>["left","right"].includes(a.value)),{addMovement:s,endTouch:l,getVelocity:u}=Sme();let c=!1;const h=ut(!1),f=ut(0),d=ut(0);let v;function g(x,_){return(a.value==="left"?x:a.value==="right"?document.documentElement.clientWidth-x:a.value==="top"?x:a.value==="bottom"?document.documentElement.clientHeight-x:ec())-(_?r.value:0)}function p(x){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(x-d.value)/r.value:a.value==="right"?(document.documentElement.clientWidth-x-d.value)/r.value:a.value==="top"?(x-d.value)/r.value:a.value==="bottom"?(document.documentElement.clientHeight-x-d.value)/r.value:ec();return _?Math.max(0,Math.min(1,S)):S}function y(x){if(i.value)return;const _=x.changedTouches[0].clientX,S=x.changedTouches[0].clientY,P=25,C=a.value==="left"?_<P:a.value==="right"?_>document.documentElement.clientWidth-P:a.value==="top"?S<P:a.value==="bottom"?S>document.documentElement.clientHeight-P:ec(),D=t.value&&(a.value==="left"?_<r.value:a.value==="right"?_>document.documentElement.clientWidth-r.value:a.value==="top"?S<r.value:a.value==="bottom"?S>document.documentElement.clientHeight-r.value:ec());(C||D||t.value&&n.value)&&(c=!0,v=[_,S],d.value=g(o.value?_:S,t.value),f.value=p(o.value?_:S),l(x),s(x))}function m(x){const _=x.changedTouches[0].clientX,S=x.changedTouches[0].clientY;if(c){if(!x.cancelable){c=!1;return}const C=Math.abs(_-v[0]),D=Math.abs(S-v[1]);(o.value?C>D&&C>3:D>C&&D>3)?(h.value=!0,c=!1):(o.value?D:C)>3&&(c=!1)}if(!h.value)return;x.preventDefault(),s(x);const P=p(o.value?_:S,!1);f.value=Math.max(0,Math.min(1,P)),P>1?d.value=g(o.value?_:S,!0):P<0&&(d.value=g(o.value?_:S,!1))}function b(x){if(c=!1,!h.value)return;s(x),h.value=!1;const _=u(x.changedTouches[0].identifier),S=Math.abs(_.x),P=Math.abs(_.y);(o.value?S>P&&S>400:P>S&&P>3)?t.value=_.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||ec()):t.value=f.value>.5}const w=ne(()=>h.value?{transform:a.value==="left"?`translateX(calc(-100% + ${f.value*r.value}px))`:a.value==="right"?`translateX(calc(100% - ${f.value*r.value}px))`:a.value==="top"?`translateY(calc(-100% + ${f.value*r.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${f.value*r.value}px))`:ec(),transition:"none"}:void 0);return{isDragging:h,dragProgress:f,dragStyles:w}}function ec(){throw new Error}const Cme=["start","end","left","right","top","bottom"],Tme=je({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Cme.includes(e)},sticky:Boolean,...el(),...Xt(),...NT(),...vs(),...YT(),...Ki(),...nr({tag:"nav"}),...vr()},"VNavigationDrawer"),Pme=gt()({name:"VNavigationDrawer",props:Tme(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:i}=t;const{isRtl:a}=Xi(),{themeClasses:o}=Rr(e),{borderClasses:s}=tl(e),{backgroundColorClasses:l,backgroundColorStyles:u}=ma(ft(e,"color")),{elevationClasses:c}=ps(e),{displayClasses:h,mobile:f}=om(e),{roundedClasses:d}=qi(e),v=h3(),g=Gn(e,"modelValue",null,z=>!!z),{ssrBootStyles:p}=Zm(),{scopeId:y}=n0(),m=nt(),b=ut(!1),w=ne(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=ne(()=>h1(e.location,a.value)),_=ne(()=>!e.permanent&&(f.value||e.temporary)),S=ne(()=>e.sticky&&!_.value&&x.value!=="bottom");uo(()=>e.expandOnHover&&e.rail!=null,()=>{bt(b,z=>r("update:rail",!z))}),uo(()=>!e.disableResizeWatcher,()=>{bt(_,z=>!e.permanent&&tr(()=>g.value=!z))}),uo(()=>!e.disableRouteWatcher&&!!v,()=>{bt(v.currentRoute,()=>_.value&&(g.value=!1))}),bt(()=>e.permanent,z=>{z&&(g.value=!0)}),nm(()=>{e.modelValue!=null||_.value||(g.value=e.permanent||!f.value)});const{isDragging:P,dragProgress:C,dragStyles:D}=Ame({isActive:g,isTemporary:_,width:w,touchless:ft(e,"touchless"),position:x}),T=ne(()=>{const z=_.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):w.value;return P.value?z*C.value:z}),{layoutItemStyles:B,layoutItemScrimStyles:I}=XT({id:e.name,order:ne(()=>parseInt(e.order,10)),position:x,layoutSize:T,elementSize:w,active:ne(()=>g.value||P.value),disableTransitions:ne(()=>P.value),absolute:ne(()=>e.absolute||S.value&&typeof O.value!="string")}),{isStuck:O,stickyStyles:L}=wme({rootEl:m,isSticky:S,layoutItemStyles:B}),R=ma(ne(()=>typeof e.scrim=="string"?e.scrim:null)),U=ne(()=>({...P.value?{opacity:C.value*.2,transition:"none"}:void 0,...I.value}));Ws({VList:{bgColor:"transparent"}});function $(){b.value=!0}function j(){b.value=!1}return Bt(()=>{const z=i.image||e.image;return H(fn,null,[H(e.tag,Ct({ref:m,onMouseenter:$,onMouseleave:j,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":S.value},o.value,l.value,s.value,h.value,c.value,d.value,e.class],style:[u.value,B.value,D.value,p.value,L.value,e.style]},y,n),{default:()=>{var Y,Q,re,he;return[z&&H("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(Y=i.image)==null?void 0:Y.call(i,{image:e.image}):H("img",{src:e.image,alt:""},null)]),i.prepend&&H("div",{class:"v-navigation-drawer__prepend"},[(Q=i.prepend)==null?void 0:Q.call(i)]),H("div",{class:"v-navigation-drawer__content"},[(re=i.default)==null?void 0:re.call(i)]),i.append&&H("div",{class:"v-navigation-drawer__append"},[(he=i.append)==null?void 0:he.call(i)])]}}),H(es,{name:"fade-transition"},{default:()=>[_.value&&(P.value||g.value)&&!!e.scrim&&H("div",Ct({class:["v-navigation-drawer__scrim",R.backgroundColorClasses.value],style:[U.value,R.backgroundColorStyles.value],onClick:()=>g.value=!1},y),null)]})])}),{isStuck:O}}}),Ome=Fr("div",{class:"tooltip"},null,-1),Fme={__name:"Page",async setup(e){let t,n;const{baseURL:r}=sr("baseURL"),i=nt("list"),a=nt([]),o=nt([]),s=nt("whole-word"),l=[{title:"List View",value:"list"},{title:"Piling View",value:"piling"},{title:"D3 View",value:"d3"}];try{const h=([t,n]=BT(()=>u()),t=await t,n(),t);a.value=h.data}catch{a.value=[]}Ii("keywords",{keywords:o,updateKeywords:c,keywordSearchPattern:s});async function u(){const h=`${r}/vast2021txt`;return await(await fetch(h,{method:"GET",headers:{Accept:"text/json","Content-Type":"text/json","Access-Control-Allow-Origin":"*"}})).json()}function c(h){o.value=h}return(h,f)=>(gn(),ar(fme,{class:"overflow-hidden"},{default:vt(()=>[H(gme,null,{append:vt(()=>[H(K3,{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=d=>i.value=d),label:"Select view",items:l,density:"compact",variant:"outlined","hide-details":"true"},null,8,["modelValue"])]),default:vt(()=>[H(mme,null,{default:vt(()=>[ca(" VisPile - Interactive Multi-Document Summarization ")]),_:1})]),_:1}),H(Pme,{location:"left",permanent:"",width:"300"},{default:vt(()=>[H(MQ,{data:a.value},null,8,["data"])]),_:1}),H(bme,null,{default:vt(()=>[i.value=="list"?(gn(),ar(CJ,{key:0,data:a.value},null,8,["data"])):to("",!0),i.value=="piling"?(gn(),ar(lme,{key:1,data:a.value},null,8,["data"])):to("",!0),i.value=="d3"?(gn(),ar(ume,{key:2,data:a.value},null,8,["data"])):to("",!0)]),_:1}),Ome]),_:1}))}};export{Fme as default};
